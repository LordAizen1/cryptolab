function kk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Pk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Kb={exports:{}},wh={},Qb={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=Symbol.for("react.element"),Ak=Symbol.for("react.portal"),Rk=Symbol.for("react.fragment"),Nk=Symbol.for("react.strict_mode"),Dk=Symbol.for("react.profiler"),Mk=Symbol.for("react.provider"),jk=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),Lk=Symbol.for("react.suspense"),Vk=Symbol.for("react.memo"),Fk=Symbol.for("react.lazy"),v0=Symbol.iterator;function Uk(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var Yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xb=Object.assign,Jb={};function Io(t,e,n){this.props=t,this.context=e,this.refs=Jb,this.updater=n||Yb}Io.prototype.isReactComponent={};Io.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Io.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zb(){}Zb.prototype=Io.prototype;function Um(t,e,n){this.props=t,this.context=e,this.refs=Jb,this.updater=n||Yb}var zm=Um.prototype=new Zb;zm.constructor=Um;Xb(zm,Io.prototype);zm.isPureReactComponent=!0;var w0=Array.isArray,e1=Object.prototype.hasOwnProperty,Bm={current:null},t1={key:!0,ref:!0,__self:!0,__source:!0};function n1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)e1.call(e,i)&&!t1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ml,type:t,key:s,ref:o,props:r,_owner:Bm.current}}function zk(t,e){return{$$typeof:Ml,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $m(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ml}function Bk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x0=/\/+/g;function Od(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Bk(""+t.key):e.toString(36)}function qc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ml:case Ak:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Od(o,0):i,w0(r)?(n="",t!=null&&(n=t.replace(x0,"$&/")+"/"),qc(r,e,n,"",function(c){return c})):r!=null&&($m(r)&&(r=zk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(x0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",w0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Od(s,a);o+=qc(s,e,n,l,r)}else if(l=Uk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Od(s,a++),o+=qc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yc(t,e,n){if(t==null)return t;var i=[],r=0;return qc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function $k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jt={current:null},Hc={transition:null},qk={ReactCurrentDispatcher:jt,ReactCurrentBatchConfig:Hc,ReactCurrentOwner:Bm};function i1(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:yc,forEach:function(t,e,n){yc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yc(t,function(){e++}),e},toArray:function(t){return yc(t,function(e){return e})||[]},only:function(t){if(!$m(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Io;se.Fragment=Rk;se.Profiler=Dk;se.PureComponent=Um;se.StrictMode=Nk;se.Suspense=Lk;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qk;se.act=i1;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Xb({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Bm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)e1.call(e,l)&&!t1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ml,type:t.type,key:r,ref:s,props:i,_owner:o}};se.createContext=function(t){return t={$$typeof:jk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Mk,_context:t},t.Consumer=t};se.createElement=n1;se.createFactory=function(t){var e=n1.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Ok,render:t}};se.isValidElement=$m;se.lazy=function(t){return{$$typeof:Fk,_payload:{_status:-1,_result:t},_init:$k}};se.memo=function(t,e){return{$$typeof:Vk,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Hc.transition;Hc.transition={};try{t()}finally{Hc.transition=e}};se.unstable_act=i1;se.useCallback=function(t,e){return jt.current.useCallback(t,e)};se.useContext=function(t){return jt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return jt.current.useDeferredValue(t)};se.useEffect=function(t,e){return jt.current.useEffect(t,e)};se.useId=function(){return jt.current.useId()};se.useImperativeHandle=function(t,e,n){return jt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return jt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return jt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return jt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return jt.current.useReducer(t,e,n)};se.useRef=function(t){return jt.current.useRef(t)};se.useState=function(t){return jt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return jt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return jt.current.useTransition()};se.version="18.3.1";Qb.exports=se;var R=Qb.exports;const Xf=Pk(R),Hk=kk({__proto__:null,default:Xf},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wk=R,Gk=Symbol.for("react.element"),Kk=Symbol.for("react.fragment"),Qk=Object.prototype.hasOwnProperty,Yk=Wk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xk={key:!0,ref:!0,__self:!0,__source:!0};function r1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Qk.call(e,i)&&!Xk.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Gk,type:t,key:s,ref:o,props:r,_owner:Yk.current}}wh.Fragment=Kk;wh.jsx=r1;wh.jsxs=r1;Kb.exports=wh;var d=Kb.exports,s1={exports:{}},nn={},o1={exports:{}},a1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var Z=$.length;$.push(Y);e:for(;0<Z;){var Ce=Z-1>>>1,pe=$[Ce];if(0<r(pe,Y))$[Ce]=Y,$[Z]=pe,Z=Ce;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Y=$[0],Z=$.pop();if(Z!==Y){$[0]=Z;e:for(var Ce=0,pe=$.length,Oe=pe>>>1;Ce<Oe;){var Qn=2*(Ce+1)-1,Yn=$[Qn],Xn=Qn+1,Jn=$[Xn];if(0>r(Yn,Z))Xn<pe&&0>r(Jn,Yn)?($[Ce]=Jn,$[Xn]=Z,Ce=Xn):($[Ce]=Yn,$[Qn]=Z,Ce=Qn);else if(Xn<pe&&0>r(Jn,Z))$[Ce]=Jn,$[Xn]=Z,Ce=Xn;else break e}}return Y}function r($,Y){var Z=$.sortIndex-Y.sortIndex;return Z!==0?Z:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,v=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=$)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function P($){if(x=!1,E($),!v)if(n(l)!==null)v=!0,ys(j);else{var Y=n(c);Y!==null&&ve(P,Y.startTime-$)}}function j($,Y){v=!1,x&&(x=!1,w(b),b=-1),m=!0;var Z=p;try{for(E(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||$&&!N());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,p=f.priorityLevel;var pe=Ce(f.expirationTime<=Y);Y=t.unstable_now(),typeof pe=="function"?f.callback=pe:f===n(l)&&i(l),E(Y)}else i(l);f=n(l)}if(f!==null)var Oe=!0;else{var Qn=n(c);Qn!==null&&ve(P,Qn.startTime-Y),Oe=!1}return Oe}finally{f=null,p=Z,m=!1}}var L=!1,C=null,b=-1,I=5,k=-1;function N(){return!(t.unstable_now()-k<I)}function D(){if(C!==null){var $=t.unstable_now();k=$;var Y=!0;try{Y=C(!0,$)}finally{Y?A():(L=!1,C=null)}}else L=!1}var A;if(typeof _=="function")A=function(){_(D)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Ci=It.port2;It.port1.onmessage=D,A=function(){Ci.postMessage(null)}}else A=function(){S(D,0)};function ys($){C=$,L||(L=!0,A())}function ve($,Y){b=S(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ys(j))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Z=p;p=Y;try{return $()}finally{p=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Z=p;p=$;try{return Y()}finally{p=Z}},t.unstable_scheduleCallback=function($,Y,Z){var Ce=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ce+Z:Ce):Z=Ce,$){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Z+pe,$={id:h++,callback:Y,priorityLevel:$,startTime:Z,expirationTime:pe,sortIndex:-1},Z>Ce?($.sortIndex=Z,e(c,$),n(l)===null&&$===n(c)&&(x?(w(b),b=-1):x=!0,ve(P,Z-Ce))):($.sortIndex=pe,e(l,$),v||m||(v=!0,ys(j))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var Y=p;return function(){var Z=p;p=Y;try{return $.apply(this,arguments)}finally{p=Z}}}})(a1);o1.exports=a1;var Jk=o1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zk=R,tn=Jk;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l1=new Set,Qa={};function cs(t,e){ro(t,e),ro(t+"Capture",e)}function ro(t,e){for(Qa[t]=e,t=0;t<e.length;t++)l1.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jf=Object.prototype.hasOwnProperty,eP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_0={},b0={};function tP(t){return Jf.call(b0,t)?!0:Jf.call(_0,t)?!1:eP.test(t)?b0[t]=!0:(_0[t]=!0,!1)}function nP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iP(t,e,n,i){if(e===null||typeof e>"u"||nP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function Hm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qm,Hm);lt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qm,Hm);lt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qm,Hm);lt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Wm(t,e,n,i){var r=lt.hasOwnProperty(e)?lt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iP(e,n,r,i)&&(n=null),i||r===null?tP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ti=Zk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vc=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Ps=Symbol.for("react.fragment"),Gm=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),c1=Symbol.for("react.provider"),u1=Symbol.for("react.context"),Km=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),Mi=Symbol.for("react.lazy"),h1=Symbol.for("react.offscreen"),E0=Symbol.iterator;function aa(t){return t===null||typeof t!="object"?null:(t=E0&&t[E0]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Ld;function ga(t){if(Ld===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ld=e&&e[1]||""}return`
`+Ld+t}var Vd=!1;function Fd(t,e){if(!t||Vd)return"";Vd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ga(t):""}function rP(t){switch(t.tag){case 5:return ga(t.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return t=Fd(t.type,!1),t;case 11:return t=Fd(t.type.render,!1),t;case 1:return t=Fd(t.type,!0),t;default:return""}}function np(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ps:return"Fragment";case ks:return"Portal";case Zf:return"Profiler";case Gm:return"StrictMode";case ep:return"Suspense";case tp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case u1:return(t.displayName||"Context")+".Consumer";case c1:return(t._context.displayName||"Context")+".Provider";case Km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qm:return e=t.displayName||null,e!==null?e:np(t.type)||"Memo";case Mi:e=t._payload,t=t._init;try{return np(t(e))}catch{}}return null}function sP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return np(e);case 8:return e===Gm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function d1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oP(t){var e=d1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=oP(t))}function f1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=d1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function T0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=cr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function p1(t,e){e=e.checked,e!=null&&Wm(t,"checked",e,!1)}function rp(t,e){p1(t,e);var n=cr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sp(t,e.type,n):e.hasOwnProperty("defaultValue")&&sp(t,e.type,cr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function S0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sp(t,e,n){(e!=="number"||yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ya=Array.isArray;function Ks(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+cr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function op(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function C0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ya(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cr(n)}}function m1(t,e){var n=cr(e.value),i=cr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function I0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function g1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?g1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xc,y1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xc=xc||document.createElement("div"),xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aP=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){aP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function v1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function w1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=v1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var lP=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lp(t,e){if(e){if(lP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hp=null,Qs=null,Ys=null;function k0(t){if(t=Ll(t)){if(typeof hp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Th(e),hp(t.stateNode,t.type,e))}}function x1(t){Qs?Ys?Ys.push(t):Ys=[t]:Qs=t}function _1(){if(Qs){var t=Qs,e=Ys;if(Ys=Qs=null,k0(t),e)for(t=0;t<e.length;t++)k0(e[t])}}function b1(t,e){return t(e)}function E1(){}var Ud=!1;function T1(t,e,n){if(Ud)return t(e,n);Ud=!0;try{return b1(t,e,n)}finally{Ud=!1,(Qs!==null||Ys!==null)&&(E1(),_1())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var i=Th(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var dp=!1;if(pi)try{var la={};Object.defineProperty(la,"passive",{get:function(){dp=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{dp=!1}function cP(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Aa=!1,vu=null,wu=!1,fp=null,uP={onError:function(t){Aa=!0,vu=t}};function hP(t,e,n,i,r,s,o,a,l){Aa=!1,vu=null,cP.apply(uP,arguments)}function dP(t,e,n,i,r,s,o,a,l){if(hP.apply(this,arguments),Aa){if(Aa){var c=vu;Aa=!1,vu=null}else throw Error(U(198));wu||(wu=!0,fp=c)}}function us(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P0(t){if(us(t)!==t)throw Error(U(188))}function fP(t){var e=t.alternate;if(!e){if(e=us(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return P0(r),t;if(s===i)return P0(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function C1(t){return t=fP(t),t!==null?I1(t):null}function I1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I1(t);if(e!==null)return e;t=t.sibling}return null}var k1=tn.unstable_scheduleCallback,A0=tn.unstable_cancelCallback,pP=tn.unstable_shouldYield,mP=tn.unstable_requestPaint,Fe=tn.unstable_now,gP=tn.unstable_getCurrentPriorityLevel,Xm=tn.unstable_ImmediatePriority,P1=tn.unstable_UserBlockingPriority,xu=tn.unstable_NormalPriority,yP=tn.unstable_LowPriority,A1=tn.unstable_IdlePriority,xh=null,Vn=null;function vP(t){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(xh,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:_P,wP=Math.log,xP=Math.LN2;function _P(t){return t>>>=0,t===0?32:31-(wP(t)/xP|0)|0}var _c=64,bc=4194304;function va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _u(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=va(a):(s&=o,s!==0&&(i=va(s)))}else o=n&~r,o!==0?i=va(o):s!==0&&(i=va(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-En(e),r=1<<n,i|=t[n],e&=~r;return i}function bP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function EP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-En(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=bP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function R1(){var t=_c;return _c<<=1,!(_c&4194240)&&(_c=64),t}function zd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function TP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-En(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Jm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-En(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var fe=0;function N1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var D1,Zm,M1,j1,O1,mp=!1,Ec=[],Gi=null,Ki=null,Qi=null,Ja=new Map,Za=new Map,Oi=[],SP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function R0(t,e){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":Ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function ca(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ll(e),e!==null&&Zm(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function CP(t,e,n,i,r){switch(e){case"focusin":return Gi=ca(Gi,t,e,n,i,r),!0;case"dragenter":return Ki=ca(Ki,t,e,n,i,r),!0;case"mouseover":return Qi=ca(Qi,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ja.set(s,ca(Ja.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Za.set(s,ca(Za.get(s)||null,t,e,n,i,r)),!0}return!1}function L1(t){var e=zr(t.target);if(e!==null){var n=us(e);if(n!==null){if(e=n.tag,e===13){if(e=S1(n),e!==null){t.blockedOn=e,O1(t.priority,function(){M1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);up=i,n.target.dispatchEvent(i),up=null}else return e=Ll(n),e!==null&&Zm(e),t.blockedOn=n,!1;e.shift()}return!0}function N0(t,e,n){Wc(t)&&n.delete(e)}function IP(){mp=!1,Gi!==null&&Wc(Gi)&&(Gi=null),Ki!==null&&Wc(Ki)&&(Ki=null),Qi!==null&&Wc(Qi)&&(Qi=null),Ja.forEach(N0),Za.forEach(N0)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,mp||(mp=!0,tn.unstable_scheduleCallback(tn.unstable_NormalPriority,IP)))}function el(t){function e(r){return ua(r,t)}if(0<Ec.length){ua(Ec[0],t);for(var n=1;n<Ec.length;n++){var i=Ec[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Gi!==null&&ua(Gi,t),Ki!==null&&ua(Ki,t),Qi!==null&&ua(Qi,t),Ja.forEach(e),Za.forEach(e),n=0;n<Oi.length;n++)i=Oi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Oi.length&&(n=Oi[0],n.blockedOn===null);)L1(n),n.blockedOn===null&&Oi.shift()}var Xs=Ti.ReactCurrentBatchConfig,bu=!0;function kP(t,e,n,i){var r=fe,s=Xs.transition;Xs.transition=null;try{fe=1,eg(t,e,n,i)}finally{fe=r,Xs.transition=s}}function PP(t,e,n,i){var r=fe,s=Xs.transition;Xs.transition=null;try{fe=4,eg(t,e,n,i)}finally{fe=r,Xs.transition=s}}function eg(t,e,n,i){if(bu){var r=gp(t,e,n,i);if(r===null)Xd(t,e,i,Eu,n),R0(t,i);else if(CP(r,t,e,n,i))i.stopPropagation();else if(R0(t,i),e&4&&-1<SP.indexOf(t)){for(;r!==null;){var s=Ll(r);if(s!==null&&D1(s),s=gp(t,e,n,i),s===null&&Xd(t,e,i,Eu,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Xd(t,e,i,null,n)}}var Eu=null;function gp(t,e,n,i){if(Eu=null,t=Ym(i),t=zr(t),t!==null)if(e=us(t),e===null)t=null;else if(n=e.tag,n===13){if(t=S1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eu=t,null}function V1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gP()){case Xm:return 1;case P1:return 4;case xu:case yP:return 16;case A1:return 536870912;default:return 16}default:return 16}}var Bi=null,tg=null,Gc=null;function F1(){if(Gc)return Gc;var t,e=tg,n=e.length,i,r="value"in Bi?Bi.value:Bi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Gc=r.slice(t,1<i?1-i:void 0)}function Kc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tc(){return!0}function D0(){return!1}function rn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Tc:D0,this.isPropagationStopped=D0,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),e}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ng=rn(ko),Ol=Re({},ko,{view:0,detail:0}),AP=rn(Ol),Bd,$d,ha,_h=Re({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(Bd=t.screenX-ha.screenX,$d=t.screenY-ha.screenY):$d=Bd=0,ha=t),Bd)},movementY:function(t){return"movementY"in t?t.movementY:$d}}),M0=rn(_h),RP=Re({},_h,{dataTransfer:0}),NP=rn(RP),DP=Re({},Ol,{relatedTarget:0}),qd=rn(DP),MP=Re({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),jP=rn(MP),OP=Re({},ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LP=rn(OP),VP=Re({},ko,{data:0}),j0=rn(VP),FP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zP[t])?!!e[t]:!1}function ig(){return BP}var $P=Re({},Ol,{key:function(t){if(t.key){var e=FP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(t){return t.type==="keypress"?Kc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qP=rn($P),HP=Re({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),O0=rn(HP),WP=Re({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),GP=rn(WP),KP=Re({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),QP=rn(KP),YP=Re({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XP=rn(YP),JP=[9,13,27,32],rg=pi&&"CompositionEvent"in window,Ra=null;pi&&"documentMode"in document&&(Ra=document.documentMode);var ZP=pi&&"TextEvent"in window&&!Ra,U1=pi&&(!rg||Ra&&8<Ra&&11>=Ra),L0=" ",V0=!1;function z1(t,e){switch(t){case"keyup":return JP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var As=!1;function eA(t,e){switch(t){case"compositionend":return B1(e);case"keypress":return e.which!==32?null:(V0=!0,L0);case"textInput":return t=e.data,t===L0&&V0?null:t;default:return null}}function tA(t,e){if(As)return t==="compositionend"||!rg&&z1(t,e)?(t=F1(),Gc=tg=Bi=null,As=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return U1&&e.locale!=="ko"?null:e.data;default:return null}}var nA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nA[t.type]:e==="textarea"}function $1(t,e,n,i){x1(i),e=Tu(e,"onChange"),0<e.length&&(n=new ng("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Na=null,tl=null;function iA(t){eE(t,0)}function bh(t){var e=Ds(t);if(f1(e))return t}function rA(t,e){if(t==="change")return e}var q1=!1;if(pi){var Hd;if(pi){var Wd="oninput"in document;if(!Wd){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),Wd=typeof U0.oninput=="function"}Hd=Wd}else Hd=!1;q1=Hd&&(!document.documentMode||9<document.documentMode)}function z0(){Na&&(Na.detachEvent("onpropertychange",H1),tl=Na=null)}function H1(t){if(t.propertyName==="value"&&bh(tl)){var e=[];$1(e,tl,t,Ym(t)),T1(iA,e)}}function sA(t,e,n){t==="focusin"?(z0(),Na=e,tl=n,Na.attachEvent("onpropertychange",H1)):t==="focusout"&&z0()}function oA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bh(tl)}function aA(t,e){if(t==="click")return bh(e)}function lA(t,e){if(t==="input"||t==="change")return bh(e)}function cA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:cA;function nl(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Jf.call(e,r)||!Pn(t[r],e[r]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $0(t,e){var n=B0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function W1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?W1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function G1(){for(var t=window,e=yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yu(t.document)}return e}function sg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uA(t){var e=G1(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&W1(n.ownerDocument.documentElement,n)){if(i!==null&&sg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=$0(n,s);var o=$0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hA=pi&&"documentMode"in document&&11>=document.documentMode,Rs=null,yp=null,Da=null,vp=!1;function q0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vp||Rs==null||Rs!==yu(i)||(i=Rs,"selectionStart"in i&&sg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Da&&nl(Da,i)||(Da=i,i=Tu(yp,"onSelect"),0<i.length&&(e=new ng("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Rs)))}function Sc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ns={animationend:Sc("Animation","AnimationEnd"),animationiteration:Sc("Animation","AnimationIteration"),animationstart:Sc("Animation","AnimationStart"),transitionend:Sc("Transition","TransitionEnd")},Gd={},K1={};pi&&(K1=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function Eh(t){if(Gd[t])return Gd[t];if(!Ns[t])return t;var e=Ns[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in K1)return Gd[t]=e[n];return t}var Q1=Eh("animationend"),Y1=Eh("animationiteration"),X1=Eh("animationstart"),J1=Eh("transitionend"),Z1=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(t,e){Z1.set(t,e),cs(e,[t])}for(var Kd=0;Kd<H0.length;Kd++){var Qd=H0[Kd],dA=Qd.toLowerCase(),fA=Qd[0].toUpperCase()+Qd.slice(1);xr(dA,"on"+fA)}xr(Q1,"onAnimationEnd");xr(Y1,"onAnimationIteration");xr(X1,"onAnimationStart");xr("dblclick","onDoubleClick");xr("focusin","onFocus");xr("focusout","onBlur");xr(J1,"onTransitionEnd");ro("onMouseEnter",["mouseout","mouseover"]);ro("onMouseLeave",["mouseout","mouseover"]);ro("onPointerEnter",["pointerout","pointerover"]);ro("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("cancel close invalid load scroll toggle".split(" ").concat(wa));function W0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,dP(i,e,void 0,t),t.currentTarget=null}function eE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;W0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;W0(r,a,c),s=l}}}if(wu)throw t=fp,wu=!1,fp=null,t}function xe(t,e){var n=e[Ep];n===void 0&&(n=e[Ep]=new Set);var i=t+"__bubble";n.has(i)||(tE(e,t,2,!1),n.add(i))}function Yd(t,e,n){var i=0;e&&(i|=4),tE(n,t,i,e)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Cc]){t[Cc]=!0,l1.forEach(function(n){n!=="selectionchange"&&(pA.has(n)||Yd(n,!1,t),Yd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cc]||(e[Cc]=!0,Yd("selectionchange",!1,e))}}function tE(t,e,n,i){switch(V1(e)){case 1:var r=kP;break;case 4:r=PP;break;default:r=eg}n=r.bind(null,e,n,t),r=void 0,!dp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Xd(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=zr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}T1(function(){var c=s,h=Ym(n),f=[];e:{var p=Z1.get(t);if(p!==void 0){var m=ng,v=t;switch(t){case"keypress":if(Kc(n)===0)break e;case"keydown":case"keyup":m=qP;break;case"focusin":v="focus",m=qd;break;case"focusout":v="blur",m=qd;break;case"beforeblur":case"afterblur":m=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=M0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=NP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=GP;break;case Q1:case Y1:case X1:m=jP;break;case J1:m=QP;break;case"scroll":m=AP;break;case"wheel":m=XP;break;case"copy":case"cut":case"paste":m=LP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=O0}var x=(e&4)!==0,S=!x&&t==="scroll",w=x?p!==null?p+"Capture":null:p;x=[];for(var _=c,E;_!==null;){E=_;var P=E.stateNode;if(E.tag===5&&P!==null&&(E=P,w!==null&&(P=Xa(_,w),P!=null&&x.push(rl(_,P,E)))),S)break;_=_.return}0<x.length&&(p=new m(p,v,null,n,h),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==up&&(v=n.relatedTarget||n.fromElement)&&(zr(v)||v[mi]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?zr(v):null,v!==null&&(S=us(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(x=M0,P="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=O0,P="onPointerLeave",w="onPointerEnter",_="pointer"),S=m==null?p:Ds(m),E=v==null?p:Ds(v),p=new x(P,_+"leave",m,n,h),p.target=S,p.relatedTarget=E,P=null,zr(h)===c&&(x=new x(w,_+"enter",v,n,h),x.target=E,x.relatedTarget=S,P=x),S=P,m&&v)t:{for(x=m,w=v,_=0,E=x;E;E=bs(E))_++;for(E=0,P=w;P;P=bs(P))E++;for(;0<_-E;)x=bs(x),_--;for(;0<E-_;)w=bs(w),E--;for(;_--;){if(x===w||w!==null&&x===w.alternate)break t;x=bs(x),w=bs(w)}x=null}else x=null;m!==null&&G0(f,p,m,x,!1),v!==null&&S!==null&&G0(f,S,v,x,!0)}}e:{if(p=c?Ds(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=rA;else if(F0(p))if(q1)j=lA;else{j=oA;var L=sA}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=aA);if(j&&(j=j(t,c))){$1(f,j,n,h);break e}L&&L(t,p,c),t==="focusout"&&(L=p._wrapperState)&&L.controlled&&p.type==="number"&&sp(p,"number",p.value)}switch(L=c?Ds(c):window,t){case"focusin":(F0(L)||L.contentEditable==="true")&&(Rs=L,yp=c,Da=null);break;case"focusout":Da=yp=Rs=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,q0(f,n,h);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":q0(f,n,h)}var C;if(rg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else As?z1(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(U1&&n.locale!=="ko"&&(As||b!=="onCompositionStart"?b==="onCompositionEnd"&&As&&(C=F1()):(Bi=h,tg="value"in Bi?Bi.value:Bi.textContent,As=!0)),L=Tu(c,b),0<L.length&&(b=new j0(b,t,null,n,h),f.push({event:b,listeners:L}),C?b.data=C:(C=B1(n),C!==null&&(b.data=C)))),(C=ZP?eA(t,n):tA(t,n))&&(c=Tu(c,"onBeforeInput"),0<c.length&&(h=new j0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}eE(f,e)})}function rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Xa(t,n),s!=null&&i.unshift(rl(t,s,r)),s=Xa(t,e),s!=null&&i.push(rl(t,s,r))),t=t.return}return i}function bs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Xa(n,s),l!=null&&o.unshift(rl(n,l,a))):r||(l=Xa(n,s),l!=null&&o.push(rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function K0(t){return(typeof t=="string"?t:""+t).replace(mA,`
`).replace(gA,"")}function Ic(t,e,n){if(e=K0(e),K0(t)!==e&&n)throw Error(U(425))}function Su(){}var wp=null,xp=null;function _p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,vA=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(wA)}:bp;function wA(t){setTimeout(function(){throw t})}function Jd(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),el(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);el(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Po,sl="__reactProps$"+Po,mi="__reactContainer$"+Po,Ep="__reactEvents$"+Po,xA="__reactListeners$"+Po,_A="__reactHandles$"+Po;function zr(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y0(t);t!==null;){if(n=t[Ln])return n;t=Y0(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[Ln]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Th(t){return t[sl]||null}var Tp=[],Ms=-1;function _r(t){return{current:t}}function _e(t){0>Ms||(t.current=Tp[Ms],Tp[Ms]=null,Ms--)}function ge(t,e){Ms++,Tp[Ms]=t.current,t.current=e}var ur={},St=_r(ur),Bt=_r(!1),Qr=ur;function so(t,e){var n=t.type.contextTypes;if(!n)return ur;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function $t(t){return t=t.childContextTypes,t!=null}function Cu(){_e(Bt),_e(St)}function X0(t,e,n){if(St.current!==ur)throw Error(U(168));ge(St,e),ge(Bt,n)}function nE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,sP(t)||"Unknown",r));return Re({},n,i)}function Iu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ur,Qr=St.current,ge(St,t),ge(Bt,Bt.current),!0}function J0(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=nE(t,e,Qr),i.__reactInternalMemoizedMergedChildContext=t,_e(Bt),_e(St),ge(St,t)):_e(Bt),ge(Bt,n)}var ni=null,Sh=!1,Zd=!1;function iE(t){ni===null?ni=[t]:ni.push(t)}function bA(t){Sh=!0,iE(t)}function br(){if(!Zd&&ni!==null){Zd=!0;var t=0,e=fe;try{var n=ni;for(fe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ni=null,Sh=!1}catch(r){throw ni!==null&&(ni=ni.slice(t+1)),k1(Xm,br),r}finally{fe=e,Zd=!1}}return null}var js=[],Os=0,ku=null,Pu=0,ln=[],cn=0,Yr=null,ii=1,ri="";function Or(t,e){js[Os++]=Pu,js[Os++]=ku,ku=t,Pu=e}function rE(t,e,n){ln[cn++]=ii,ln[cn++]=ri,ln[cn++]=Yr,Yr=t;var i=ii;t=ri;var r=32-En(i)-1;i&=~(1<<r),n+=1;var s=32-En(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ii=1<<32-En(e)+r|n<<r|i,ri=s+t}else ii=1<<s|n<<r|i,ri=t}function og(t){t.return!==null&&(Or(t,1),rE(t,1,0))}function ag(t){for(;t===ku;)ku=js[--Os],js[Os]=null,Pu=js[--Os],js[Os]=null;for(;t===Yr;)Yr=ln[--cn],ln[cn]=null,ri=ln[--cn],ln[cn]=null,ii=ln[--cn],ln[cn]=null}var Yt=null,Kt=null,Ee=!1,_n=null;function sE(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Z0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yr!==null?{id:ii,overflow:ri}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Kt=null,!0):!1;default:return!1}}function Sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cp(t){if(Ee){var e=Kt;if(e){var n=e;if(!Z0(t,e)){if(Sp(t))throw Error(U(418));e=Yi(n.nextSibling);var i=Yt;e&&Z0(t,e)?sE(i,n):(t.flags=t.flags&-4097|2,Ee=!1,Yt=t)}}else{if(Sp(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ee=!1,Yt=t}}}function ew(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function kc(t){if(t!==Yt)return!1;if(!Ee)return ew(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_p(t.type,t.memoizedProps)),e&&(e=Kt)){if(Sp(t))throw oE(),Error(U(418));for(;e;)sE(t,e),e=Yi(e.nextSibling)}if(ew(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Kt=Yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Kt=null}}else Kt=Yt?Yi(t.stateNode.nextSibling):null;return!0}function oE(){for(var t=Kt;t;)t=Yi(t.nextSibling)}function oo(){Kt=Yt=null,Ee=!1}function lg(t){_n===null?_n=[t]:_n.push(t)}var EA=Ti.ReactCurrentBatchConfig;function da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Pc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tw(t){var e=t._init;return e(t._payload)}function aE(t){function e(w,_){if(t){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function i(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function r(w,_){return w=er(w,_),w.index=0,w.sibling=null,w}function s(w,_,E){return w.index=E,t?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,P){return _===null||_.tag!==6?(_=af(E,w.mode,P),_.return=w,_):(_=r(_,E),_.return=w,_)}function l(w,_,E,P){var j=E.type;return j===Ps?h(w,_,E.props.children,P,E.key):_!==null&&(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mi&&tw(j)===_.type)?(P=r(_,E.props),P.ref=da(w,_,E),P.return=w,P):(P=tu(E.type,E.key,E.props,null,w.mode,P),P.ref=da(w,_,E),P.return=w,P)}function c(w,_,E,P){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=lf(E,w.mode,P),_.return=w,_):(_=r(_,E.children||[]),_.return=w,_)}function h(w,_,E,P,j){return _===null||_.tag!==7?(_=Gr(E,w.mode,P,j),_.return=w,_):(_=r(_,E),_.return=w,_)}function f(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=af(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case vc:return E=tu(_.type,_.key,_.props,null,w.mode,E),E.ref=da(w,null,_),E.return=w,E;case ks:return _=lf(_,w.mode,E),_.return=w,_;case Mi:var P=_._init;return f(w,P(_._payload),E)}if(ya(_)||aa(_))return _=Gr(_,w.mode,E,null),_.return=w,_;Pc(w,_)}return null}function p(w,_,E,P){var j=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:a(w,_,""+E,P);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case vc:return E.key===j?l(w,_,E,P):null;case ks:return E.key===j?c(w,_,E,P):null;case Mi:return j=E._init,p(w,_,j(E._payload),P)}if(ya(E)||aa(E))return j!==null?null:h(w,_,E,P,null);Pc(w,E)}return null}function m(w,_,E,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return w=w.get(E)||null,a(_,w,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case vc:return w=w.get(P.key===null?E:P.key)||null,l(_,w,P,j);case ks:return w=w.get(P.key===null?E:P.key)||null,c(_,w,P,j);case Mi:var L=P._init;return m(w,_,E,L(P._payload),j)}if(ya(P)||aa(P))return w=w.get(E)||null,h(_,w,P,j,null);Pc(_,P)}return null}function v(w,_,E,P){for(var j=null,L=null,C=_,b=_=0,I=null;C!==null&&b<E.length;b++){C.index>b?(I=C,C=null):I=C.sibling;var k=p(w,C,E[b],P);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(w,C),_=s(k,_,b),L===null?j=k:L.sibling=k,L=k,C=I}if(b===E.length)return n(w,C),Ee&&Or(w,b),j;if(C===null){for(;b<E.length;b++)C=f(w,E[b],P),C!==null&&(_=s(C,_,b),L===null?j=C:L.sibling=C,L=C);return Ee&&Or(w,b),j}for(C=i(w,C);b<E.length;b++)I=m(C,w,b,E[b],P),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?b:I.key),_=s(I,_,b),L===null?j=I:L.sibling=I,L=I);return t&&C.forEach(function(N){return e(w,N)}),Ee&&Or(w,b),j}function x(w,_,E,P){var j=aa(E);if(typeof j!="function")throw Error(U(150));if(E=j.call(E),E==null)throw Error(U(151));for(var L=j=null,C=_,b=_=0,I=null,k=E.next();C!==null&&!k.done;b++,k=E.next()){C.index>b?(I=C,C=null):I=C.sibling;var N=p(w,C,k.value,P);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(w,C),_=s(N,_,b),L===null?j=N:L.sibling=N,L=N,C=I}if(k.done)return n(w,C),Ee&&Or(w,b),j;if(C===null){for(;!k.done;b++,k=E.next())k=f(w,k.value,P),k!==null&&(_=s(k,_,b),L===null?j=k:L.sibling=k,L=k);return Ee&&Or(w,b),j}for(C=i(w,C);!k.done;b++,k=E.next())k=m(C,w,b,k.value,P),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?b:k.key),_=s(k,_,b),L===null?j=k:L.sibling=k,L=k);return t&&C.forEach(function(D){return e(w,D)}),Ee&&Or(w,b),j}function S(w,_,E,P){if(typeof E=="object"&&E!==null&&E.type===Ps&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case vc:e:{for(var j=E.key,L=_;L!==null;){if(L.key===j){if(j=E.type,j===Ps){if(L.tag===7){n(w,L.sibling),_=r(L,E.props.children),_.return=w,w=_;break e}}else if(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mi&&tw(j)===L.type){n(w,L.sibling),_=r(L,E.props),_.ref=da(w,L,E),_.return=w,w=_;break e}n(w,L);break}else e(w,L);L=L.sibling}E.type===Ps?(_=Gr(E.props.children,w.mode,P,E.key),_.return=w,w=_):(P=tu(E.type,E.key,E.props,null,w.mode,P),P.ref=da(w,_,E),P.return=w,w=P)}return o(w);case ks:e:{for(L=E.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(w,_.sibling),_=r(_,E.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=lf(E,w.mode,P),_.return=w,w=_}return o(w);case Mi:return L=E._init,S(w,_,L(E._payload),P)}if(ya(E))return v(w,_,E,P);if(aa(E))return x(w,_,E,P);Pc(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(w,_.sibling),_=r(_,E),_.return=w,w=_):(n(w,_),_=af(E,w.mode,P),_.return=w,w=_),o(w)):n(w,_)}return S}var ao=aE(!0),lE=aE(!1),Au=_r(null),Ru=null,Ls=null,cg=null;function ug(){cg=Ls=Ru=null}function hg(t){var e=Au.current;_e(Au),t._currentValue=e}function Ip(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Js(t,e){Ru=t,cg=Ls=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ut=!0),t.firstContext=null)}function fn(t){var e=t._currentValue;if(cg!==t)if(t={context:t,memoizedValue:e,next:null},Ls===null){if(Ru===null)throw Error(U(308));Ls=t,Ru.dependencies={lanes:0,firstContext:t}}else Ls=Ls.next=t;return e}var Br=null;function dg(t){Br===null?Br=[t]:Br.push(t)}function cE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,dg(e)):(n.next=r.next,r.next=n),e.interleaved=n,gi(t,i)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ji=!1;function fg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,gi(t,n)}return r=i.interleaved,r===null?(e.next=e,dg(i)):(e.next=r.next,r.next=e),i.interleaved=e,gi(t,n)}function Qc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Jm(t,n)}}function nw(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nu(t,e,n,i){var r=t.updateQueue;ji=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,h=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(p=e,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Re({},f,p);break e;case 2:ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(h===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Jr|=o,t.lanes=o,t.memoizedState=f}}function iw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var Vl={},Fn=_r(Vl),ol=_r(Vl),al=_r(Vl);function $r(t){if(t===Vl)throw Error(U(174));return t}function pg(t,e){switch(ge(al,e),ge(ol,t),ge(Fn,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ap(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ap(e,t)}_e(Fn),ge(Fn,e)}function lo(){_e(Fn),_e(ol),_e(al)}function hE(t){$r(al.current);var e=$r(Fn.current),n=ap(e,t.type);e!==n&&(ge(ol,t),ge(Fn,n))}function mg(t){ol.current===t&&(_e(Fn),_e(ol))}var ke=_r(0);function Du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ef=[];function gg(){for(var t=0;t<ef.length;t++)ef[t]._workInProgressVersionPrimary=null;ef.length=0}var Yc=Ti.ReactCurrentDispatcher,tf=Ti.ReactCurrentBatchConfig,Xr=0,Ae=null,qe=null,Ye=null,Mu=!1,Ma=!1,ll=0,TA=0;function mt(){throw Error(U(321))}function yg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function vg(t,e,n,i,r,s){if(Xr=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yc.current=t===null||t.memoizedState===null?kA:PA,t=n(i,r),Ma){s=0;do{if(Ma=!1,ll=0,25<=s)throw Error(U(301));s+=1,Ye=qe=null,e.updateQueue=null,Yc.current=AA,t=n(i,r)}while(Ma)}if(Yc.current=ju,e=qe!==null&&qe.next!==null,Xr=0,Ye=qe=Ae=null,Mu=!1,e)throw Error(U(300));return t}function wg(){var t=ll!==0;return ll=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ae.memoizedState=Ye=t:Ye=Ye.next=t,Ye}function pn(){if(qe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var e=Ye===null?Ae.memoizedState:Ye.next;if(e!==null)Ye=e,qe=t;else{if(t===null)throw Error(U(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Ye===null?Ae.memoizedState=Ye=t:Ye=Ye.next=t}return Ye}function cl(t,e){return typeof e=="function"?e(t):e}function nf(t){var e=pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=qe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((Xr&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Ae.lanes|=h,Jr|=h}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Pn(i,e.memoizedState)||(Ut=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ae.lanes|=s,Jr|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function rf(t){var e=pn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Pn(s,e.memoizedState)||(Ut=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function dE(){}function fE(t,e){var n=Ae,i=pn(),r=e(),s=!Pn(i.memoizedState,r);if(s&&(i.memoizedState=r,Ut=!0),i=i.queue,xg(gE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ye!==null&&Ye.memoizedState.tag&1){if(n.flags|=2048,ul(9,mE.bind(null,n,i,r,e),void 0,null),Je===null)throw Error(U(349));Xr&30||pE(n,e,r)}return r}function pE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function mE(t,e,n,i){e.value=n,e.getSnapshot=i,yE(e)&&vE(t)}function gE(t,e,n){return n(function(){yE(e)&&vE(t)})}function yE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function vE(t){var e=gi(t,1);e!==null&&Tn(e,t,1,-1)}function rw(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=IA.bind(null,Ae,t),[e.memoizedState,t]}function ul(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function wE(){return pn().memoizedState}function Xc(t,e,n,i){var r=jn();Ae.flags|=t,r.memoizedState=ul(1|e,n,void 0,i===void 0?null:i)}function Ch(t,e,n,i){var r=pn();i=i===void 0?null:i;var s=void 0;if(qe!==null){var o=qe.memoizedState;if(s=o.destroy,i!==null&&yg(i,o.deps)){r.memoizedState=ul(e,n,s,i);return}}Ae.flags|=t,r.memoizedState=ul(1|e,n,s,i)}function sw(t,e){return Xc(8390656,8,t,e)}function xg(t,e){return Ch(2048,8,t,e)}function xE(t,e){return Ch(4,2,t,e)}function _E(t,e){return Ch(4,4,t,e)}function bE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EE(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4,4,bE.bind(null,e,t),n)}function _g(){}function TE(t,e){var n=pn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&yg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function SE(t,e){var n=pn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&yg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function CE(t,e,n){return Xr&21?(Pn(n,e)||(n=R1(),Ae.lanes|=n,Jr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ut=!0),t.memoizedState=n)}function SA(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var i=tf.transition;tf.transition={};try{t(!1),e()}finally{fe=n,tf.transition=i}}function IE(){return pn().memoizedState}function CA(t,e,n){var i=Zi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},kE(t))PE(e,n);else if(n=cE(t,e,n,i),n!==null){var r=Nt();Tn(n,t,i,r),AE(n,e,i)}}function IA(t,e,n){var i=Zi(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(kE(t))PE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Pn(a,o)){var l=e.interleaved;l===null?(r.next=r,dg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=cE(t,e,r,i),n!==null&&(r=Nt(),Tn(n,t,i,r),AE(n,e,i))}}function kE(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function PE(t,e){Ma=Mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Jm(t,n)}}var ju={readContext:fn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},kA={readContext:fn,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:fn,useEffect:sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xc(4194308,4,bE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xc(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=jn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=CA.bind(null,Ae,t),[i.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:rw,useDebugValue:_g,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=rw(!1),e=t[0];return t=SA.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ae,r=jn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Je===null)throw Error(U(349));Xr&30||pE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,sw(gE.bind(null,i,s,t),[t]),i.flags|=2048,ul(9,mE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=jn(),e=Je.identifierPrefix;if(Ee){var n=ri,i=ii;n=(i&~(1<<32-En(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PA={readContext:fn,useCallback:TE,useContext:fn,useEffect:xg,useImperativeHandle:EE,useInsertionEffect:xE,useLayoutEffect:_E,useMemo:SE,useReducer:nf,useRef:wE,useState:function(){return nf(cl)},useDebugValue:_g,useDeferredValue:function(t){var e=pn();return CE(e,qe.memoizedState,t)},useTransition:function(){var t=nf(cl)[0],e=pn().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:fE,useId:IE,unstable_isNewReconciler:!1},AA={readContext:fn,useCallback:TE,useContext:fn,useEffect:xg,useImperativeHandle:EE,useInsertionEffect:xE,useLayoutEffect:_E,useMemo:SE,useReducer:rf,useRef:wE,useState:function(){return rf(cl)},useDebugValue:_g,useDeferredValue:function(t){var e=pn();return qe===null?e.memoizedState=t:CE(e,qe.memoizedState,t)},useTransition:function(){var t=rf(cl)[0],e=pn().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:fE,useId:IE,unstable_isNewReconciler:!1};function wn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function kp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ih={isMounted:function(t){return(t=t._reactInternals)?us(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Nt(),r=Zi(t),s=li(i,r);s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,r),e!==null&&(Tn(e,t,r,i),Qc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Nt(),r=Zi(t),s=li(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Xi(t,s,r),e!==null&&(Tn(e,t,r,i),Qc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),i=Zi(t),r=li(n,i);r.tag=2,e!=null&&(r.callback=e),e=Xi(t,r,i),e!==null&&(Tn(e,t,i,n),Qc(e,t,i))}};function ow(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!nl(n,i)||!nl(r,s):!0}function RE(t,e,n){var i=!1,r=ur,s=e.contextType;return typeof s=="object"&&s!==null?s=fn(s):(r=$t(e)?Qr:St.current,i=e.contextTypes,s=(i=i!=null)?so(t,r):ur),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ih,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function aw(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ih.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},fg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=fn(s):(s=$t(e)?Qr:St.current,r.context=so(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ih.enqueueReplaceState(r,r.state,null),Nu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function co(t,e){try{var n="",i=e;do n+=rP(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function sf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ap(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RA=typeof WeakMap=="function"?WeakMap:Map;function NE(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Lu||(Lu=!0,Up=i),Ap(t,e)},n}function DE(t,e,n){n=li(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Ap(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ap(t,e),typeof i!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lw(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=HA.bind(null,t,e,n),e.then(t,t))}function cw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uw(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t)}var NA=Ti.ReactCurrentOwner,Ut=!1;function At(t,e,n,i){e.child=t===null?lE(e,null,n,i):ao(e,t.child,n,i)}function hw(t,e,n,i,r){n=n.render;var s=e.ref;return Js(e,r),i=vg(t,e,n,i,s,r),n=wg(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,yi(t,e,r)):(Ee&&n&&og(e),e.flags|=1,At(t,e,i,r),e.child)}function dw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Pg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ME(t,e,s,i,r)):(t=tu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(o,i)&&t.ref===e.ref)return yi(t,e,r)}return e.flags|=1,t=er(s,i),t.ref=e.ref,t.return=e,e.child=t}function ME(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(nl(s,i)&&t.ref===e.ref)if(Ut=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Ut=!0);else return e.lanes=t.lanes,yi(t,e,r)}return Rp(t,e,n,i,r)}function jE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(Fs,Gt),Gt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(Fs,Gt),Gt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ge(Fs,Gt),Gt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ge(Fs,Gt),Gt|=i;return At(t,e,r,n),e.child}function OE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rp(t,e,n,i,r){var s=$t(n)?Qr:St.current;return s=so(e,s),Js(e,r),n=vg(t,e,n,i,s,r),i=wg(),t!==null&&!Ut?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,yi(t,e,r)):(Ee&&i&&og(e),e.flags|=1,At(t,e,n,r),e.child)}function fw(t,e,n,i,r){if($t(n)){var s=!0;Iu(e)}else s=!1;if(Js(e,r),e.stateNode===null)Jc(t,e),RE(e,n,i),Pp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=fn(c):(c=$t(n)?Qr:St.current,c=so(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&aw(e,o,i,c),ji=!1;var p=e.memoizedState;o.state=p,Nu(e,i,o,r),l=e.memoizedState,a!==i||p!==l||Bt.current||ji?(typeof h=="function"&&(kp(e,n,h,i),l=e.memoizedState),(a=ji||ow(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,uE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:wn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=fn(l):(l=$t(n)?Qr:St.current,l=so(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&aw(e,o,i,l),ji=!1,p=e.memoizedState,o.state=p,Nu(e,i,o,r);var v=e.memoizedState;a!==f||p!==v||Bt.current||ji?(typeof m=="function"&&(kp(e,n,m,i),v=e.memoizedState),(c=ji||ow(e,n,c,i,p,v,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Np(t,e,n,i,s,r)}function Np(t,e,n,i,r,s){OE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&J0(e,n,!1),yi(t,e,s);i=e.stateNode,NA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=ao(e,t.child,null,s),e.child=ao(e,null,a,s)):At(t,e,a,s),e.memoizedState=i.state,r&&J0(e,n,!0),e.child}function LE(t){var e=t.stateNode;e.pendingContext?X0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X0(t,e.context,!1),pg(t,e.containerInfo)}function pw(t,e,n,i,r){return oo(),lg(r),e.flags|=256,At(t,e,n,i),e.child}var Dp={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function VE(t,e,n){var i=e.pendingProps,r=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ge(ke,r&1),t===null)return Cp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ah(o,i,0,null),t=Gr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mp(n),e.memoizedState=Dp,t):bg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return DA(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=er(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=er(a,s):(s=Gr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Mp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Dp,i}return s=t.child,t=s.sibling,i=er(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function bg(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ac(t,e,n,i){return i!==null&&lg(i),ao(e,t.child,null,n),t=bg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function DA(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=sf(Error(U(422))),Ac(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ah({mode:"visible",children:i.children},r,0,null),s=Gr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ao(e,t.child,null,o),e.child.memoizedState=Mp(o),e.memoizedState=Dp,s);if(!(e.mode&1))return Ac(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(U(419)),i=sf(s,i,void 0),Ac(t,e,o,i)}if(a=(o&t.childLanes)!==0,Ut||a){if(i=Je,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,gi(t,r),Tn(i,t,r,-1))}return kg(),i=sf(Error(U(421))),Ac(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=WA.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Kt=Yi(r.nextSibling),Yt=e,Ee=!0,_n=null,t!==null&&(ln[cn++]=ii,ln[cn++]=ri,ln[cn++]=Yr,ii=t.id,ri=t.overflow,Yr=e),e=bg(e,i.children),e.flags|=4096,e)}function mw(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Ip(t.return,e,n)}function of(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function FE(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(At(t,e,i.children,n),i=ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mw(t,n,e);else if(t.tag===19)mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ge(ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Du(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),of(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Du(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}of(e,!0,n,null,s);break;case"together":of(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Jr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MA(t,e,n){switch(e.tag){case 3:LE(e),oo();break;case 5:hE(e);break;case 1:$t(e.type)&&Iu(e);break;case 4:pg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ge(Au,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ge(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?VE(t,e,n):(ge(ke,ke.current&1),t=yi(t,e,n),t!==null?t.sibling:null);ge(ke,ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return FE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ge(ke,ke.current),i)break;return null;case 22:case 23:return e.lanes=0,jE(t,e,n)}return yi(t,e,n)}var UE,jp,zE,BE;UE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jp=function(){};zE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,$r(Fn.current);var s=null;switch(n){case"input":r=ip(t,r),i=ip(t,i),s=[];break;case"select":r=Re({},r,{value:void 0}),i=Re({},i,{value:void 0}),s=[];break;case"textarea":r=op(t,r),i=op(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Su)}lp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};BE=function(t,e,n,i){n!==i&&(e.flags|=4)};function fa(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function jA(t,e,n){var i=e.pendingProps;switch(ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return $t(e.type)&&Cu(),gt(e),null;case 3:return i=e.stateNode,lo(),_e(Bt),_e(St),gg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(kc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&($p(_n),_n=null))),jp(t,e),gt(e),null;case 5:mg(e);var r=$r(al.current);if(n=e.type,t!==null&&e.stateNode!=null)zE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return gt(e),null}if(t=$r(Fn.current),kc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Ln]=e,i[sl]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(r=0;r<wa.length;r++)xe(wa[r],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":T0(i,s),xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},xe("invalid",i);break;case"textarea":C0(i,s),xe("invalid",i)}lp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ic(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ic(i.textContent,a,t),r=["children",""+a]):Qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",i)}switch(n){case"input":wc(i),S0(i,s,!0);break;case"textarea":wc(i),I0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Su)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=g1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Ln]=e,t[sl]=i,UE(t,e,!1,!1),e.stateNode=t;e:{switch(o=cp(n,i),n){case"dialog":xe("cancel",t),xe("close",t),r=i;break;case"iframe":case"object":case"embed":xe("load",t),r=i;break;case"video":case"audio":for(r=0;r<wa.length;r++)xe(wa[r],t);r=i;break;case"source":xe("error",t),r=i;break;case"img":case"image":case"link":xe("error",t),xe("load",t),r=i;break;case"details":xe("toggle",t),r=i;break;case"input":T0(t,i),r=ip(t,i),xe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Re({},i,{value:void 0}),xe("invalid",t);break;case"textarea":C0(t,i),r=op(t,i),xe("invalid",t);break;default:r=i}lp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?w1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ya(t,l):typeof l=="number"&&Ya(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xe("scroll",t):l!=null&&Wm(t,s,l,o))}switch(n){case"input":wc(t),S0(t,i,!1);break;case"textarea":wc(t),I0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+cr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Ks(t,!!i.multiple,s,!1):i.defaultValue!=null&&Ks(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Su)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)BE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=$r(al.current),$r(Fn.current),kc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ln]=e,(s=i.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:Ic(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ic(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ln]=e,e.stateNode=i}return gt(e),null;case 13:if(_e(ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Kt!==null&&e.mode&1&&!(e.flags&128))oE(),oo(),e.flags|=98560,s=!1;else if(s=kc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Ln]=e}else oo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),s=!1}else _n!==null&&($p(_n),_n=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?We===0&&(We=3):kg())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return lo(),jp(t,e),t===null&&il(e.stateNode.containerInfo),gt(e),null;case 10:return hg(e.type._context),gt(e),null;case 17:return $t(e.type)&&Cu(),gt(e),null;case 19:if(_e(ke),s=e.memoizedState,s===null)return gt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)fa(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Du(t),o!==null){for(e.flags|=128,fa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>uo&&(e.flags|=128,i=!0,fa(s,!1),e.lanes=4194304)}else{if(!i)if(t=Du(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return gt(e),null}else 2*Fe()-s.renderingStartTime>uo&&n!==1073741824&&(e.flags|=128,i=!0,fa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=ke.current,ge(ke,i?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return Ig(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Gt&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function OA(t,e){switch(ag(e),e.tag){case 1:return $t(e.type)&&Cu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lo(),_e(Bt),_e(St),gg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mg(e),null;case 13:if(_e(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));oo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(ke),null;case 4:return lo(),null;case 10:return hg(e.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var Rc=!1,xt=!1,LA=typeof WeakSet=="function"?WeakSet:Set,H=null;function Vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){je(t,e,i)}else n.current=null}function Op(t,e,n){try{n()}catch(i){je(t,e,i)}}var gw=!1;function VA(t,e){if(wp=bu,t=G1(),sg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++h===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},bu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,S=v.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:wn(e.type,x),S);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(P){je(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=gw,gw=!1,v}function ja(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Op(e,n,s)}r=r.next}while(r!==i)}}function kh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Lp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $E(t){var e=t.alternate;e!==null&&(t.alternate=null,$E(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[sl],delete e[Ep],delete e[xA],delete e[_A])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qE(t){return t.tag===5||t.tag===3||t.tag===4}function yw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Su));else if(i!==4&&(t=t.child,t!==null))for(Vp(t,e,n),t=t.sibling;t!==null;)Vp(t,e,n),t=t.sibling}function Fp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Fp(t,e,n),t=t.sibling;t!==null;)Fp(t,e,n),t=t.sibling}var it=null,xn=!1;function Ai(t,e,n){for(n=n.child;n!==null;)HE(t,e,n),n=n.sibling}function HE(t,e,n){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(xh,n)}catch{}switch(n.tag){case 5:xt||Vs(n,e);case 6:var i=it,r=xn;it=null,Ai(t,e,n),it=i,xn=r,it!==null&&(xn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(xn?(t=it,n=n.stateNode,t.nodeType===8?Jd(t.parentNode,n):t.nodeType===1&&Jd(t,n),el(t)):Jd(it,n.stateNode));break;case 4:i=it,r=xn,it=n.stateNode.containerInfo,xn=!0,Ai(t,e,n),it=i,xn=r;break;case 0:case 11:case 14:case 15:if(!xt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Op(n,e,o),r=r.next}while(r!==i)}Ai(t,e,n);break;case 1:if(!xt&&(Vs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){je(n,e,a)}Ai(t,e,n);break;case 21:Ai(t,e,n);break;case 22:n.mode&1?(xt=(i=xt)||n.memoizedState!==null,Ai(t,e,n),xt=i):Ai(t,e,n);break;default:Ai(t,e,n)}}function vw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LA),e.forEach(function(i){var r=GA.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,xn=!1;break e;case 3:it=a.stateNode.containerInfo,xn=!0;break e;case 4:it=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(it===null)throw Error(U(160));HE(s,o,r),it=null,xn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){je(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WE(e,t),e=e.sibling}function WE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Mn(t),i&4){try{ja(3,t,t.return),kh(3,t)}catch(x){je(t,t.return,x)}try{ja(5,t,t.return)}catch(x){je(t,t.return,x)}}break;case 1:yn(e,t),Mn(t),i&512&&n!==null&&Vs(n,n.return);break;case 5:if(yn(e,t),Mn(t),i&512&&n!==null&&Vs(n,n.return),t.flags&32){var r=t.stateNode;try{Ya(r,"")}catch(x){je(t,t.return,x)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&p1(r,s),cp(a,o);var c=cp(a,s);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?w1(r,f):h==="dangerouslySetInnerHTML"?y1(r,f):h==="children"?Ya(r,f):Wm(r,h,f,c)}switch(a){case"input":rp(r,s);break;case"textarea":m1(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ks(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Ks(r,!!s.multiple,s.defaultValue,!0):Ks(r,!!s.multiple,s.multiple?[]:"",!1))}r[sl]=s}catch(x){je(t,t.return,x)}}break;case 6:if(yn(e,t),Mn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(x){je(t,t.return,x)}}break;case 3:if(yn(e,t),Mn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(x){je(t,t.return,x)}break;case 4:yn(e,t),Mn(t);break;case 13:yn(e,t),Mn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Sg=Fe())),i&4&&vw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(c=xt)||h,yn(e,t),xt=c):yn(e,t),Mn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(H=t,h=t.child;h!==null;){for(f=H=h;H!==null;){switch(p=H,m=p.child,p.tag){case 0:case 11:case 14:case 15:ja(4,p,p.return);break;case 1:Vs(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){je(i,n,x)}}break;case 5:Vs(p,p.return);break;case 22:if(p.memoizedState!==null){xw(f);continue}}m!==null?(m.return=p,H=m):xw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=v1("display",o))}catch(x){je(t,t.return,x)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){je(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yn(e,t),Mn(t),i&4&&vw(t);break;case 21:break;default:yn(e,t),Mn(t)}}function Mn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qE(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ya(r,""),i.flags&=-33);var s=yw(t);Fp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=yw(t);Vp(t,a,o);break;default:throw Error(U(161))}}catch(l){je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function FA(t,e,n){H=t,GE(t)}function GE(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var r=H,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Rc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||xt;a=Rc;var c=xt;if(Rc=o,(xt=l)&&!c)for(H=r;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?_w(r):l!==null?(l.return=o,H=l):_w(r);for(;s!==null;)H=s,GE(s),s=s.sibling;H=r,Rc=a,xt=c}ww(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,H=s):ww(t)}}function ww(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||kh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!xt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:wn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&iw(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}iw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&el(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}xt||e.flags&512&&Lp(e)}catch(p){je(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function xw(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function _w(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{kh(4,e)}catch(l){je(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){je(e,r,l)}}var s=e.return;try{Lp(e)}catch(l){je(e,s,l)}break;case 5:var o=e.return;try{Lp(e)}catch(l){je(e,o,l)}}}catch(l){je(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var UA=Math.ceil,Ou=Ti.ReactCurrentDispatcher,Eg=Ti.ReactCurrentOwner,dn=Ti.ReactCurrentBatchConfig,ue=0,Je=null,$e=null,at=0,Gt=0,Fs=_r(0),We=0,hl=null,Jr=0,Ph=0,Tg=0,Oa=null,Vt=null,Sg=0,uo=1/0,ti=null,Lu=!1,Up=null,Ji=null,Nc=!1,$i=null,Vu=0,La=0,zp=null,Zc=-1,eu=0;function Nt(){return ue&6?Fe():Zc!==-1?Zc:Zc=Fe()}function Zi(t){return t.mode&1?ue&2&&at!==0?at&-at:EA.transition!==null?(eu===0&&(eu=R1()),eu):(t=fe,t!==0||(t=window.event,t=t===void 0?16:V1(t.type)),t):1}function Tn(t,e,n,i){if(50<La)throw La=0,zp=null,Error(U(185));jl(t,n,i),(!(ue&2)||t!==Je)&&(t===Je&&(!(ue&2)&&(Ph|=n),We===4&&Li(t,at)),qt(t,i),n===1&&ue===0&&!(e.mode&1)&&(uo=Fe()+500,Sh&&br()))}function qt(t,e){var n=t.callbackNode;EP(t,e);var i=_u(t,t===Je?at:0);if(i===0)n!==null&&A0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&A0(n),e===1)t.tag===0?bA(bw.bind(null,t)):iE(bw.bind(null,t)),vA(function(){!(ue&6)&&br()}),n=null;else{switch(N1(i)){case 1:n=Xm;break;case 4:n=P1;break;case 16:n=xu;break;case 536870912:n=A1;break;default:n=xu}n=tT(n,KE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function KE(t,e){if(Zc=-1,eu=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Zs()&&t.callbackNode!==n)return null;var i=_u(t,t===Je?at:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Fu(t,i);else{e=i;var r=ue;ue|=2;var s=YE();(Je!==t||at!==e)&&(ti=null,uo=Fe()+500,Wr(t,e));do try{$A();break}catch(a){QE(t,a)}while(!0);ug(),Ou.current=s,ue=r,$e!==null?e=0:(Je=null,at=0,e=We)}if(e!==0){if(e===2&&(r=pp(t),r!==0&&(i=r,e=Bp(t,r))),e===1)throw n=hl,Wr(t,0),Li(t,i),qt(t,Fe()),n;if(e===6)Li(t,i);else{if(r=t.current.alternate,!(i&30)&&!zA(r)&&(e=Fu(t,i),e===2&&(s=pp(t),s!==0&&(i=s,e=Bp(t,s))),e===1))throw n=hl,Wr(t,0),Li(t,i),qt(t,Fe()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:Lr(t,Vt,ti);break;case 3:if(Li(t,i),(i&130023424)===i&&(e=Sg+500-Fe(),10<e)){if(_u(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Nt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=bp(Lr.bind(null,t,Vt,ti),e);break}Lr(t,Vt,ti);break;case 4:if(Li(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-En(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Fe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*UA(i/1960))-i,10<i){t.timeoutHandle=bp(Lr.bind(null,t,Vt,ti),i);break}Lr(t,Vt,ti);break;case 5:Lr(t,Vt,ti);break;default:throw Error(U(329))}}}return qt(t,Fe()),t.callbackNode===n?KE.bind(null,t):null}function Bp(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(Wr(t,e).flags|=256),t=Fu(t,e),t!==2&&(e=Vt,Vt=n,e!==null&&$p(e)),t}function $p(t){Vt===null?Vt=t:Vt.push.apply(Vt,t)}function zA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Pn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~Tg,e&=~Ph,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),i=1<<n;t[n]=-1,e&=~i}}function bw(t){if(ue&6)throw Error(U(327));Zs();var e=_u(t,0);if(!(e&1))return qt(t,Fe()),null;var n=Fu(t,e);if(t.tag!==0&&n===2){var i=pp(t);i!==0&&(e=i,n=Bp(t,i))}if(n===1)throw n=hl,Wr(t,0),Li(t,e),qt(t,Fe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lr(t,Vt,ti),qt(t,Fe()),null}function Cg(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(uo=Fe()+500,Sh&&br())}}function Zr(t){$i!==null&&$i.tag===0&&!(ue&6)&&Zs();var e=ue;ue|=1;var n=dn.transition,i=fe;try{if(dn.transition=null,fe=1,t)return t()}finally{fe=i,dn.transition=n,ue=e,!(ue&6)&&br()}}function Ig(){Gt=Fs.current,_e(Fs)}function Wr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yA(n)),$e!==null)for(n=$e.return;n!==null;){var i=n;switch(ag(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Cu();break;case 3:lo(),_e(Bt),_e(St),gg();break;case 5:mg(i);break;case 4:lo();break;case 13:_e(ke);break;case 19:_e(ke);break;case 10:hg(i.type._context);break;case 22:case 23:Ig()}n=n.return}if(Je=t,$e=t=er(t.current,null),at=Gt=e,We=0,hl=null,Tg=Ph=Jr=0,Vt=Oa=null,Br!==null){for(e=0;e<Br.length;e++)if(n=Br[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Br=null}return t}function QE(t,e){do{var n=$e;try{if(ug(),Yc.current=ju,Mu){for(var i=Ae.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Mu=!1}if(Xr=0,Ye=qe=Ae=null,Ma=!1,ll=0,Eg.current=null,n===null||n.return===null){We=1,hl=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=cw(o);if(m!==null){m.flags&=-257,uw(m,o,a,s,e),m.mode&1&&lw(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){lw(s,c,e),kg();break e}l=Error(U(426))}}else if(Ee&&a.mode&1){var S=cw(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),uw(S,o,a,s,e),lg(co(l,a));break e}}s=l=co(l,a),We!==4&&(We=2),Oa===null?Oa=[s]:Oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=NE(s,l,e);nw(s,w);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ji===null||!Ji.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=DE(s,a,e);nw(s,P);break e}}s=s.return}while(s!==null)}JE(n)}catch(j){e=j,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function YE(){var t=Ou.current;return Ou.current=ju,t===null?ju:t}function kg(){(We===0||We===3||We===2)&&(We=4),Je===null||!(Jr&268435455)&&!(Ph&268435455)||Li(Je,at)}function Fu(t,e){var n=ue;ue|=2;var i=YE();(Je!==t||at!==e)&&(ti=null,Wr(t,e));do try{BA();break}catch(r){QE(t,r)}while(!0);if(ug(),ue=n,Ou.current=i,$e!==null)throw Error(U(261));return Je=null,at=0,We}function BA(){for(;$e!==null;)XE($e)}function $A(){for(;$e!==null&&!pP();)XE($e)}function XE(t){var e=eT(t.alternate,t,Gt);t.memoizedProps=t.pendingProps,e===null?JE(t):$e=e,Eg.current=null}function JE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OA(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,$e=null;return}}else if(n=jA(n,e,Gt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);We===0&&(We=5)}function Lr(t,e,n){var i=fe,r=dn.transition;try{dn.transition=null,fe=1,qA(t,e,n,i)}finally{dn.transition=r,fe=i}return null}function qA(t,e,n,i){do Zs();while($i!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(TP(t,s),t===Je&&($e=Je=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nc||(Nc=!0,tT(xu,function(){return Zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=dn.transition,dn.transition=null;var o=fe;fe=1;var a=ue;ue|=4,Eg.current=null,VA(t,n),WE(n,t),uA(xp),bu=!!wp,xp=wp=null,t.current=n,FA(n),mP(),ue=a,fe=o,dn.transition=s}else t.current=n;if(Nc&&(Nc=!1,$i=t,Vu=r),s=t.pendingLanes,s===0&&(Ji=null),vP(n.stateNode),qt(t,Fe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Lu)throw Lu=!1,t=Up,Up=null,t;return Vu&1&&t.tag!==0&&Zs(),s=t.pendingLanes,s&1?t===zp?La++:(La=0,zp=t):La=0,br(),null}function Zs(){if($i!==null){var t=N1(Vu),e=dn.transition,n=fe;try{if(dn.transition=null,fe=16>t?16:t,$i===null)var i=!1;else{if(t=$i,$i=null,Vu=0,ue&6)throw Error(U(331));var r=ue;for(ue|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var h=H;switch(h.tag){case 0:case 11:case 15:ja(8,h,s)}var f=h.child;if(f!==null)f.return=h,H=f;else for(;H!==null;){h=H;var p=h.sibling,m=h.return;if($E(h),h===c){H=null;break}if(p!==null){p.return=m,H=p;break}H=m}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var S=x.sibling;x.sibling=null,x=S}while(x!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ja(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,H=w;break e}H=s.return}}var _=t.current;for(H=_;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:kh(9,a)}}catch(j){je(a,a.return,j)}if(a===o){H=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,H=P;break e}H=a.return}}if(ue=r,br(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(xh,t)}catch{}i=!0}return i}finally{fe=n,dn.transition=e}}return!1}function Ew(t,e,n){e=co(n,e),e=NE(t,e,1),t=Xi(t,e,1),e=Nt(),t!==null&&(jl(t,1,e),qt(t,e))}function je(t,e,n){if(t.tag===3)Ew(t,t,n);else for(;e!==null;){if(e.tag===3){Ew(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ji===null||!Ji.has(i))){t=co(n,t),t=DE(e,t,1),e=Xi(e,t,1),t=Nt(),e!==null&&(jl(e,1,t),qt(e,t));break}}e=e.return}}function HA(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,Je===t&&(at&n)===n&&(We===4||We===3&&(at&130023424)===at&&500>Fe()-Sg?Wr(t,0):Tg|=n),qt(t,e)}function ZE(t,e){e===0&&(t.mode&1?(e=bc,bc<<=1,!(bc&130023424)&&(bc=4194304)):e=1);var n=Nt();t=gi(t,e),t!==null&&(jl(t,e,n),qt(t,n))}function WA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ZE(t,n)}function GA(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),ZE(t,n)}var eT;eT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Bt.current)Ut=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ut=!1,MA(t,e,n);Ut=!!(t.flags&131072)}else Ut=!1,Ee&&e.flags&1048576&&rE(e,Pu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Jc(t,e),t=e.pendingProps;var r=so(e,St.current);Js(e,n),r=vg(null,e,i,t,r,n);var s=wg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$t(i)?(s=!0,Iu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,fg(e),r.updater=Ih,e.stateNode=r,r._reactInternals=e,Pp(e,i,t,n),e=Np(null,e,i,!0,s,n)):(e.tag=0,Ee&&s&&og(e),At(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Jc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=QA(i),t=wn(i,t),r){case 0:e=Rp(null,e,i,t,n);break e;case 1:e=fw(null,e,i,t,n);break e;case 11:e=hw(null,e,i,t,n);break e;case 14:e=dw(null,e,i,wn(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wn(i,r),Rp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wn(i,r),fw(t,e,i,r,n);case 3:e:{if(LE(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,r=s.element,uE(t,e),Nu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=co(Error(U(423)),e),e=pw(t,e,i,n,r);break e}else if(i!==r){r=co(Error(U(424)),e),e=pw(t,e,i,n,r);break e}else for(Kt=Yi(e.stateNode.containerInfo.firstChild),Yt=e,Ee=!0,_n=null,n=lE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oo(),i===r){e=yi(t,e,n);break e}At(t,e,i,n)}e=e.child}return e;case 5:return hE(e),t===null&&Cp(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,_p(i,r)?o=null:s!==null&&_p(i,s)&&(e.flags|=32),OE(t,e),At(t,e,o,n),e.child;case 6:return t===null&&Cp(e),null;case 13:return VE(t,e,n);case 4:return pg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ao(e,null,i,n):At(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wn(i,r),hw(t,e,i,r,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ge(Au,i._currentValue),i._currentValue=o,s!==null)if(Pn(s.value,o)){if(s.children===r.children&&!Bt.current){e=yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=li(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ip(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ip(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}At(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Js(e,n),r=fn(r),i=i(r),e.flags|=1,At(t,e,i,n),e.child;case 14:return i=e.type,r=wn(i,e.pendingProps),r=wn(i.type,r),dw(t,e,i,r,n);case 15:return ME(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:wn(i,r),Jc(t,e),e.tag=1,$t(i)?(t=!0,Iu(e)):t=!1,Js(e,n),RE(e,i,r),Pp(e,i,r,n),Np(null,e,i,!0,t,n);case 19:return FE(t,e,n);case 22:return jE(t,e,n)}throw Error(U(156,e.tag))};function tT(t,e){return k1(t,e)}function KA(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,i){return new KA(t,e,n,i)}function Pg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function QA(t){if(typeof t=="function")return Pg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Km)return 11;if(t===Qm)return 14}return 2}function er(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Pg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ps:return Gr(n.children,r,s,e);case Gm:o=8,r|=8;break;case Zf:return t=hn(12,n,e,r|2),t.elementType=Zf,t.lanes=s,t;case ep:return t=hn(13,n,e,r),t.elementType=ep,t.lanes=s,t;case tp:return t=hn(19,n,e,r),t.elementType=tp,t.lanes=s,t;case h1:return Ah(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case c1:o=10;break e;case u1:o=9;break e;case Km:o=11;break e;case Qm:o=14;break e;case Mi:o=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=hn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Gr(t,e,n,i){return t=hn(7,t,i,e),t.lanes=n,t}function Ah(t,e,n,i){return t=hn(22,t,i,e),t.elementType=h1,t.lanes=n,t.stateNode={isHidden:!1},t}function af(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function lf(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YA(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zd(0),this.expirationTimes=zd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ag(t,e,n,i,r,s,o,a,l){return t=new YA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=hn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fg(s),t}function XA(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function nT(t){if(!t)return ur;t=t._reactInternals;e:{if(us(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($t(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if($t(n))return nE(t,n,e)}return e}function iT(t,e,n,i,r,s,o,a,l){return t=Ag(n,i,!0,t,r,s,o,a,l),t.context=nT(null),n=t.current,i=Nt(),r=Zi(n),s=li(i,r),s.callback=e??null,Xi(n,s,r),t.current.lanes=r,jl(t,r,i),qt(t,i),t}function Rh(t,e,n,i){var r=e.current,s=Nt(),o=Zi(r);return n=nT(n),e.context===null?e.context=n:e.pendingContext=n,e=li(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Xi(r,e,o),t!==null&&(Tn(t,r,o,s),Qc(t,r,o)),o}function Uu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rg(t,e){Tw(t,e),(t=t.alternate)&&Tw(t,e)}function JA(){return null}var rT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ng(t){this._internalRoot=t}Nh.prototype.render=Ng.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Rh(t,e,null,null)};Nh.prototype.unmount=Ng.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Zr(function(){Rh(null,t,null,null)}),e[mi]=null}};function Nh(t){this._internalRoot=t}Nh.prototype.unstable_scheduleHydration=function(t){if(t){var e=j1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Oi.length&&e!==0&&e<Oi[n].priority;n++);Oi.splice(n,0,t),n===0&&L1(t)}};function Dg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sw(){}function ZA(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Uu(o);s.call(c)}}var o=iT(e,i,t,0,null,!1,!1,"",Sw);return t._reactRootContainer=o,t[mi]=o.current,il(t.nodeType===8?t.parentNode:t),Zr(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Uu(l);a.call(c)}}var l=Ag(t,0,!1,null,null,!1,!1,"",Sw);return t._reactRootContainer=l,t[mi]=l.current,il(t.nodeType===8?t.parentNode:t),Zr(function(){Rh(e,l,n,i)}),l}function Mh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Uu(o);a.call(l)}}Rh(e,o,t,r)}else o=ZA(n,e,t,r,i);return Uu(o)}D1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=va(e.pendingLanes);n!==0&&(Jm(e,n|1),qt(e,Fe()),!(ue&6)&&(uo=Fe()+500,br()))}break;case 13:Zr(function(){var i=gi(t,1);if(i!==null){var r=Nt();Tn(i,t,1,r)}}),Rg(t,1)}};Zm=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Nt();Tn(e,t,134217728,n)}Rg(t,134217728)}};M1=function(t){if(t.tag===13){var e=Zi(t),n=gi(t,e);if(n!==null){var i=Nt();Tn(n,t,e,i)}Rg(t,e)}};j1=function(){return fe};O1=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};hp=function(t,e,n){switch(e){case"input":if(rp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Th(i);if(!r)throw Error(U(90));f1(i),rp(i,r)}}}break;case"textarea":m1(t,n);break;case"select":e=n.value,e!=null&&Ks(t,!!n.multiple,e,!1)}};b1=Cg;E1=Zr;var eR={usingClientEntryPoint:!1,Events:[Ll,Ds,Th,x1,_1,Cg]},pa={findFiberByHostInstance:zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tR={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=C1(t),t===null?null:t.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||JA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{xh=Dc.inject(tR),Vn=Dc}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eR;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dg(e))throw Error(U(200));return XA(t,e,null,n)};nn.createRoot=function(t,e){if(!Dg(t))throw Error(U(299));var n=!1,i="",r=rT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ag(t,1,!1,null,null,n,!1,i,r),t[mi]=e.current,il(t.nodeType===8?t.parentNode:t),new Ng(e)};nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=C1(e),t=t===null?null:t.stateNode,t};nn.flushSync=function(t){return Zr(t)};nn.hydrate=function(t,e,n){if(!Dh(e))throw Error(U(200));return Mh(null,t,e,!0,n)};nn.hydrateRoot=function(t,e,n){if(!Dg(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=rT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=iT(e,null,t,1,n??null,r,!1,s,o),t[mi]=e.current,il(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Nh(e)};nn.render=function(t,e,n){if(!Dh(e))throw Error(U(200));return Mh(null,t,e,!1,n)};nn.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(U(40));return t._reactRootContainer?(Zr(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};nn.unstable_batchedUpdates=Cg;nn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Dh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Mh(t,e,n,!1,i)};nn.version="18.3.1-next-f1338f8080-20240426";function sT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sT)}catch(t){console.error(t)}}sT(),s1.exports=nn;var nR=s1.exports,oT,Cw=nR;oT=Cw.createRoot,Cw.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dl.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const Iw="popstate";function iR(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=hs(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),qp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:zu(s))}function i(r,s){Mg(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return sR(e,n,i,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rR(){return Math.random().toString(36).substr(2,8)}function kw(t,e){return{usr:t.state,key:t.key,idx:e}}function qp(t,e,n,i){return n===void 0&&(n=null),dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hs(e):e,{state:n,key:e&&e.key||i||rR()})}function zu(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function sR(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=qi.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(dl({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=qi.Pop;let S=h(),w=S==null?null:S-c;c=S,l&&l({action:a,location:x.location,delta:w})}function p(S,w){a=qi.Push;let _=qp(x.location,S,w);n&&n(_,S),c=h()+1;let E=kw(_,c),P=x.createHref(_);try{o.pushState(E,"",P)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;r.location.assign(P)}s&&l&&l({action:a,location:x.location,delta:1})}function m(S,w){a=qi.Replace;let _=qp(x.location,S,w);n&&n(_,S),c=h();let E=kw(_,c),P=x.createHref(_);o.replaceState(E,"",P),s&&l&&l({action:a,location:x.location,delta:0})}function v(S){let w=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof S=="string"?S:zu(S);return _=_.replace(/ $/,"%20"),ze(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let x={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Iw,f),l=S,()=>{r.removeEventListener(Iw,f),l=null}},createHref(S){return e(r,S)},createURL:v,encodeLocation(S){let w=v(S);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:m,go(S){return o.go(S)}};return x}var Pw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Pw||(Pw={}));function oR(t,e,n){return n===void 0&&(n="/"),aR(t,e,n,!1)}function aR(t,e,n,i){let r=typeof e=="string"?hs(e):e,s=jg(r.pathname||"/",n);if(s==null)return null;let o=aT(t);lR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=wR(s);a=yR(o[l],c,i)}return a}function aT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=tr([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),aT(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:mR(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of lT(s.path))r(s,o,l)}),e}function lT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=lT(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const cR=/^:[\w-]+$/,uR=3,hR=2,dR=1,fR=10,pR=-2,Aw=t=>t==="*";function mR(t,e){let n=t.split("/"),i=n.length;return n.some(Aw)&&(i+=pR),e&&(i+=hR),n.filter(r=>!Aw(r)).reduce((r,s)=>r+(cR.test(s)?uR:s===""?dR:fR),i)}function gR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function yR(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Rw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Rw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:tr([s,f.pathname]),pathnameBase:ER(tr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=tr([s,f.pathnameBase]))}return o}function Rw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=vR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let x=a[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function vR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function wR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function xR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?hs(t):t;return{pathname:n?n.startsWith("/")?n:_R(n,e):e,search:TR(i),hash:SR(r)}}function _R(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function cf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Og(t,e){let n=bR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Lg(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=hs(t):(r=dl({},t),ze(!r.pathname||!r.pathname.includes("?"),cf("?","pathname","search",r)),ze(!r.pathname||!r.pathname.includes("#"),cf("#","pathname","hash",r)),ze(!r.search||!r.search.includes("#"),cf("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=xR(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const tr=t=>t.join("/").replace(/\/\/+/g,"/"),ER=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cT=["post","put","patch","delete"];new Set(cT);const IR=["get",...cT];new Set(IR);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fl.apply(this,arguments)}const Vg=R.createContext(null),kR=R.createContext(null),Er=R.createContext(null),jh=R.createContext(null),Tr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),uT=R.createContext(null);function PR(t,e){let{relative:n}=e===void 0?{}:e;Ao()||ze(!1);let{basename:i,navigator:r}=R.useContext(Er),{hash:s,pathname:o,search:a}=dT(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:tr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Ao(){return R.useContext(jh)!=null}function ds(){return Ao()||ze(!1),R.useContext(jh).location}function hT(t){R.useContext(Er).static||R.useLayoutEffect(t)}function Dn(){let{isDataRoute:t}=R.useContext(Tr);return t?BR():AR()}function AR(){Ao()||ze(!1);let t=R.useContext(Vg),{basename:e,future:n,navigator:i}=R.useContext(Er),{matches:r}=R.useContext(Tr),{pathname:s}=ds(),o=JSON.stringify(Og(r,n.v7_relativeSplatPath)),a=R.useRef(!1);return hT(()=>{a.current=!0}),R.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=Lg(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:tr([e,f.pathname])),(h.replace?i.replace:i.push)(f,h.state,h)},[e,i,o,s,t])}function dT(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=R.useContext(Er),{matches:r}=R.useContext(Tr),{pathname:s}=ds(),o=JSON.stringify(Og(r,i.v7_relativeSplatPath));return R.useMemo(()=>Lg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function RR(t,e){return NR(t,e)}function NR(t,e,n,i){Ao()||ze(!1);let{navigator:r}=R.useContext(Er),{matches:s}=R.useContext(Tr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ds(),h;if(e){var f;let S=typeof e=="string"?hs(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||ze(!1),h=S}else h=c;let p=h.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=oR(t,{pathname:m}),x=LR(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:tr([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:tr([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,i);return e&&x?R.createElement(jh.Provider,{value:{location:fl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:qi.Pop}},x):x}function DR(){let t=zR(),e=CR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:r},n):null,null)}const MR=R.createElement(DR,null);class jR extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Tr.Provider,{value:this.props.routeContext},R.createElement(uT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function OR(t){let{routeContext:e,match:n,children:i}=t,r=R.useContext(Vg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Tr.Provider,{value:e},i)}function LR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ze(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:m}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,v=!1,x=null,S=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||MR,l&&(c<0&&p===0?(v=!0,S=null):c===p&&(v=!0,S=f.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,p+1)),_=()=>{let E;return m?E=x:v?E=S:f.route.Component?E=R.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,R.createElement(OR,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?R.createElement(jR,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var fT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fT||{}),Bu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bu||{});function VR(t){let e=R.useContext(Vg);return e||ze(!1),e}function FR(t){let e=R.useContext(kR);return e||ze(!1),e}function UR(t){let e=R.useContext(Tr);return e||ze(!1),e}function pT(t){let e=UR(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function zR(){var t;let e=R.useContext(uT),n=FR(Bu.UseRouteError),i=pT(Bu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function BR(){let{router:t}=VR(fT.UseNavigateStable),e=pT(Bu.UseNavigateStable),n=R.useRef(!1);return hT(()=>{n.current=!0}),R.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,fl({fromRouteId:e},s)))},[t,e])}const Nw={};function $R(t,e){Nw[e]||(Nw[e]=!0,console.warn(e))}const Dw=(t,e,n)=>$R(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function qR(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&Dw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&Dw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Ni(t){let{to:e,replace:n,state:i,relative:r}=t;Ao()||ze(!1);let{future:s,static:o}=R.useContext(Er),{matches:a}=R.useContext(Tr),{pathname:l}=ds(),c=Dn(),h=Lg(e,Og(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(h);return R.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:r}),[c,f,r,n,i]),null}function nt(t){ze(!1)}function HR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=qi.Pop,navigator:s,static:o=!1,future:a}=t;Ao()&&ze(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:s,static:o,future:fl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=hs(i));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:v="default"}=i,x=R.useMemo(()=>{let S=jg(h,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:v},navigationType:r}},[l,h,f,p,m,v,r]);return x==null?null:R.createElement(Er.Provider,{value:c},R.createElement(jh.Provider,{children:n,value:x}))}function WR(t){let{children:e,location:n}=t;return RR(Hp(e),n)}new Promise(()=>{});function Hp(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(i,r)=>{if(!R.isValidElement(i))return;let s=[...e,r];if(i.type===R.Fragment){n.push.apply(n,Hp(i.props.children,s));return}i.type!==nt&&ze(!1),!i.props.index||!i.props.children||ze(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Hp(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Wp.apply(this,arguments)}function GR(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function KR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function QR(t,e){return t.button===0&&(!e||e==="_self")&&!KR(t)}const YR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XR="6";try{window.__reactRouterVersion=XR}catch{}const JR="startTransition",Mw=Hk[JR];function ZR(t){let{basename:e,children:n,future:i,window:r}=t,s=R.useRef();s.current==null&&(s.current=iR({window:r,v5Compat:!0}));let o=s.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},h=R.useCallback(f=>{c&&Mw?Mw(()=>l(f)):l(f)},[l,c]);return R.useLayoutEffect(()=>o.listen(h),[o,h]),R.useEffect(()=>qR(i),[i]),R.createElement(HR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const eN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=R.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=GR(e,YR),{basename:m}=R.useContext(Er),v,x=!1;if(typeof c=="string"&&tN.test(c)&&(v=c,eN))try{let E=new URL(window.location.href),P=c.startsWith("//")?new URL(E.protocol+c):new URL(c),j=jg(P.pathname,m);P.origin===E.origin&&j!=null?c=j+P.search+P.hash:x=!0}catch{}let S=PR(c,{relative:r}),w=nN(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:f});function _(E){i&&i(E),E.defaultPrevented||w(E)}return R.createElement("a",Wp({},p,{href:v||S,onClick:x||s?i:_,ref:n,target:l}))});var jw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jw||(jw={}));var Ow;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ow||(Ow={}));function nN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Dn(),c=ds(),h=dT(t,{relative:o});return R.useCallback(f=>{if(QR(f,n)){f.preventDefault();let p=i!==void 0?i:zu(c)===zu(h);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,h,i,r,n,t,s,o,a])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(t,e)=>{const n=R.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},h)=>R.createElement("svg",{ref:h,...iN,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${rN(t)}`,a].join(" "),...c},[...e.map(([f,p])=>R.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=ce("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=ce("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ce("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=ce("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=ce("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=ce("FlaskRound",[["path",{d:"M10 2v7.31",key:"5d1hyh"}],["path",{d:"M14 9.3V1.99",key:"14k4l0"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0",key:"1r8fvy"}],["path",{d:"M5.52 16h12.96",key:"46hh1i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=ce("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=ce("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=ce("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=ce("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ce("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),uf=[{name:"Home",href:"/",icon:dN},{name:"Courses",href:"/courses",icon:ho},{name:"Resources",href:"/resources",icon:mT},{name:"Events",href:"/events",icon:pl},{name:"Members",href:"/members",icon:hr},{name:"Blog",href:"/blog",icon:gN},{name:"Labs",href:"/labs",icon:gT},{name:"About",href:"/about",icon:fN}];function xN({children:t}){const e=ds(),n=Dn(),[i,r]=R.useState(!1),s=R.useRef(null),[o,a]=R.useState({}),l=R.useRef({}),[c,h]=R.useState(!1);R.useEffect(()=>{const m=()=>{window.scrollY>300?h(!0):h(!1)};return window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]);const f=()=>{window.scrollTo({top:0,behavior:"smooth"})},p=()=>{n("/admin-login")};return R.useEffect(()=>{const m=l.current[e.pathname];if(m){const v=m.getBoundingClientRect(),x=m.parentElement.getBoundingClientRect();a({width:`${v.width}px`,transform:`translateX(${v.left-x.left}px)`})}},[e]),R.useEffect(()=>{r(!1)},[e]),d.jsxs("div",{className:"min-h-screen bg-[#13151a]",children:[d.jsx("nav",{className:"bg-[#23262d] border-b border-[rgb(136,58,234)]",children:d.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex h-16 items-center justify-between",children:[d.jsx("div",{className:"flex items-center",children:d.jsx(un,{to:"/",className:"flex items-center",children:d.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"VeilCode Labs"})})}),d.jsxs("div",{className:"hidden md:flex items-center",children:[d.jsxs("div",{className:"flex items-baseline space-x-4 relative",children:[d.jsx("div",{className:"absolute bottom-0 h-1 bg-[rgb(136,58,234)] transition-all duration-300 ease-in-out rounded-full",style:o}),uf.map(m=>{const v=e.pathname===m.href;return d.jsx(un,{ref:x=>l.current[m.href]=x,to:m.href,className:`${v?"text-[rgb(224,204,250)]":"text-white hover:text-[rgb(224,204,250)]"} rounded-md px-3 py-2 text-sm font-medium transition-all duration-300`,children:m.name},m.name)})]}),d.jsx("button",{onClick:p,className:"ml-4 bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center","aria-label":"Admin login",children:d.jsx(Fw,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"md:hidden flex items-center gap-2",children:d.jsxs("div",{className:"relative",ref:s,children:[d.jsx("button",{onClick:()=>r(!i),className:"text-white hover:text-[rgb(224,204,250)] focus:outline-none p-2 rounded-md hover:bg-[rgb(49,10,101)] transition-all duration-300",children:i?d.jsx(Fg,{className:"h-6 w-6"}):d.jsx(pN,{className:"h-6 w-6"})}),i&&d.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-lg shadow-lg bg-[#23262d] ring-1 ring-black ring-opacity-5 border border-[rgb(136,58,234)] z-50",children:d.jsxs("div",{className:"p-2",children:[d.jsx("div",{className:"grid grid-cols-2 gap-1",children:uf.map(m=>{const v=e.pathname===m.href;return d.jsxs(un,{to:m.href,className:`${v?"bg-[rgb(49,10,101)] text-[rgb(224,204,250)]":"text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)]"} flex flex-col items-center justify-center p-3 rounded-md text-sm font-medium transition-all duration-300`,children:[d.jsx(m.icon,{className:"h-5 w-5 mb-1"}),d.jsx("span",{className:"text-xs",children:m.name})]},m.name)})}),d.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center p-3 rounded-md text-sm font-medium text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)] mt-2",children:[d.jsx(Fw,{className:"h-5 w-5 mr-2"}),d.jsx("span",{className:"text-xs",children:"Admin"})]})]})})]})})]})})}),d.jsx("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:t}),c&&d.jsx("button",{onClick:f,className:"fixed bottom-8 right-8 p-3 bg-[rgb(136,58,234)] text-white rounded-full shadow-lg hover:bg-[rgb(49,10,101)] transition-all duration-300",children:d.jsx(sN,{className:"h-6 w-6"})}),d.jsx("footer",{className:"bg-[#23262d] text-white mt-auto",children:d.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"VeilCode Labs"}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:"A comprehensive resource for cryptography students at IIIT Delhi"})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Quick Links"}),d.jsx("ul",{className:"grid grid-cols-2 gap-2",children:uf.map(m=>d.jsx("li",{children:d.jsx(un,{to:m.href,className:"text-white hover:text-[rgb(224,204,250)] hover:bg-[rgb(49,10,101)] px-2 py-1 rounded transition-all duration-300 inline-block",children:m.name})},m.name))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Contact"}),d.jsxs("p",{className:"text-white",children:["IIIT Delhi",d.jsx("br",{}),"Okhla Industrial Estate, Phase III",d.jsx("br",{}),"New Delhi, India"]})]})]})})})]})}const Ug=R.createContext({});function zg(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Oh=R.createContext(null),Bg=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class _N extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function bN({children:t,isPresent:e,anchorX:n}){const i=R.useId(),r=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=R.useContext(Bg);return R.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:h,right:f}=s.current;if(e||!r.current||!a||!l)return;const p=n==="left"?`left: ${h}`:`right: ${f}`;r.current.dataset.motionPopId=i;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),d.jsx(_N,{isPresent:e,childRef:r,sizeRef:s,children:R.cloneElement(t,{ref:r})})}const EN=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=zg(TN),c=R.useId(),h=R.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;i&&i()},[l,i]),f=R.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:h,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),h]:[n,h]);return R.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),R.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=d.jsx(bN,{isPresent:n,anchorX:a,children:t})),d.jsx(Oh.Provider,{value:f,children:t})};function TN(){return new Map}function xT(t=!0){const e=R.useContext(Oh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=R.useId();R.useEffect(()=>{t&&r(s)},[t]);const o=R.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Mc=t=>t.key||"";function zw(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const $g=typeof window<"u",_T=$g?R.useLayoutEffect:R.useEffect,SN=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=xT(o),h=R.useMemo(()=>zw(t),[t]),f=o&&!l?[]:h.map(Mc),p=R.useRef(!0),m=R.useRef(h),v=zg(()=>new Map),[x,S]=R.useState(h),[w,_]=R.useState(h);_T(()=>{p.current=!1,m.current=h;for(let j=0;j<w.length;j++){const L=Mc(w[j]);f.includes(L)?v.delete(L):v.get(L)!==!0&&v.set(L,!1)}},[w,f.length,f.join("-")]);const E=[];if(h!==x){let j=[...h];for(let L=0;L<w.length;L++){const C=w[L],b=Mc(C);f.includes(b)||(j.splice(L,0,C),E.push(C))}return s==="wait"&&E.length&&(j=E),_(zw(j)),S(h),null}const{forceRender:P}=R.useContext(Ug);return d.jsx(d.Fragment,{children:w.map(j=>{const L=Mc(j),C=o&&!l?!1:h===w||f.includes(L),b=()=>{if(v.has(L))v.set(L,!0);else return;let I=!0;v.forEach(k=>{k||(I=!1)}),I&&(P==null||P(),_(m.current),o&&(c==null||c()),i&&i())};return d.jsx(EN,{isPresent:C,initial:!p.current||n?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:C?void 0:b,anchorX:a,children:j},L)})})},Xt=t=>t;let Gp=Xt;function qg(t){let e;return()=>(e===void 0&&(e=t()),e)}const fo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},ci=t=>t*1e3,ui=t=>t/1e3,CN={skipAnimations:!1,useManualTiming:!1};function IN(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,f=!1)=>{const m=f&&i?e:n;return h&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const jc=["read","resolveKeyframes","update","preRender","render","postRender"],kN=40;function bT(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=jc.reduce((w,_)=>(w[_]=IN(s),w),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:f,postRender:p}=o,m=()=>{const w=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(w-r.timestamp,kN),1),r.timestamp=w,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),h.process(r),f.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:jc.reduce((w,_)=>{const E=o[_];return w[_]=(P,j=!1,L=!1)=>(n||v(),E.schedule(P,j,L)),w},{}),cancel:w=>{for(let _=0;_<jc.length;_++)o[jc[_]].cancel(w)},state:r,steps:o}}const{schedule:ye,cancel:dr,state:rt,steps:hf}=bT(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xt,!0),ET=R.createContext({strict:!1}),Bw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},po={};for(const t in Bw)po[t]={isEnabled:e=>Bw[t].some(n=>!!e[n])};function PN(t){for(const e in t)po[e]={...po[e],...t[e]}}const AN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $u(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||AN.has(t)}let TT=t=>!$u(t);function RN(t){t&&(TT=e=>e.startsWith("on")?!$u(e):t(e))}try{RN(require("@emotion/is-prop-valid").default)}catch{}function NN(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(TT(r)||n===!0&&$u(r)||!e&&!$u(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function DN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Lh=R.createContext({});function Vh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gl(t){return typeof t=="string"||Array.isArray(t)}const Hg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wg=["initial",...Hg];function Fh(t){return Vh(t.animate)||Wg.some(e=>gl(t[e]))}function ST(t){return!!(Fh(t)||t.variants)}function MN(t,e){if(Fh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||gl(n)?n:void 0,animate:gl(i)?i:void 0}}return t.inherit!==!1?e:{}}function jN(t){const{initial:e,animate:n}=MN(t,R.useContext(Lh));return R.useMemo(()=>({initial:e,animate:n}),[$w(e),$w(n)])}function $w(t){return Array.isArray(t)?t.join(" "):t}const ON=Symbol.for("motionComponentSymbol");function Us(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LN(t,e,n){return R.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Us(n)&&(n.current=i))},[e])}const Gg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),VN="framerAppearId",CT="data-"+Gg(VN),{schedule:Kg,cancel:z8}=bT(queueMicrotask,!1),IT=R.createContext({});function FN(t,e,n,i,r){var s,o;const{visualElement:a}=R.useContext(Lh),l=R.useContext(ET),c=R.useContext(Oh),h=R.useContext(Bg).reducedMotion,f=R.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,m=R.useContext(IT);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&UN(f.current,n,r,m);const v=R.useRef(!1);R.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const x=n[CT],S=R.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return _T(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Kg.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,x)}),S.current=!1))}),p}function UN(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:kT(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Us(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function kT(t){if(t)return t.options.allowProjection!==!1?t.projection:kT(t.parent)}function zN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&PN(t);function a(c,h){let f;const p={...R.useContext(Bg),...c,layoutId:BN(c)},{isStatic:m}=p,v=jN(c),x=i(c,m);if(!m&&$g){$N();const S=qN(p);f=S.MeasureLayout,v.visualElement=FN(r,x,p,e,S.ProjectionNode)}return d.jsxs(Lh.Provider,{value:v,children:[f&&v.visualElement?d.jsx(f,{visualElement:v.visualElement,...p}):null,n(r,c,LN(x,v.visualElement,h),x,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=R.forwardRef(a);return l[ON]=r,l}function BN({layoutId:t}){const e=R.useContext(Ug).id;return e&&t!==void 0?e+"-"+t:t}function $N(t,e){R.useContext(ET).strict}function qN(t){const{drag:e,layout:n}=po;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const PT=t=>e=>typeof e=="string"&&e.startsWith(t),Qg=PT("--"),HN=PT("var(--"),Yg=t=>HN(t)?WN.test(t.split("/*")[0].trim()):!1,WN=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yl={};function GN(t){for(const e in t)yl[e]=t[e],Qg(e)&&(yl[e].isCSSVariable=!0)}const jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fs=new Set(jo);function AT(t,{layout:e,layoutId:n}){return fs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yl[t]||t==="opacity")}const bt=t=>!!(t&&t.getVelocity),RT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,vi=(t,e,n)=>n>e?e:n<t?t:n,Oo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vl={...Oo,transform:t=>vi(0,1,t)},Oc={...Oo,default:1},Fl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Di=Fl("deg"),Un=Fl("%"),Q=Fl("px"),KN=Fl("vh"),QN=Fl("vw"),qw={...Un,parse:t=>Un.parse(t)/100,transform:t=>Un.transform(t*100)},YN={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q},XN={rotate:Di,rotateX:Di,rotateY:Di,rotateZ:Di,scale:Oc,scaleX:Oc,scaleY:Oc,scaleZ:Oc,skew:Di,skewX:Di,skewY:Di,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:vl,originX:qw,originY:qw,originZ:Q},Hw={...Oo,transform:Math.round},Xg={...YN,...XN,zIndex:Hw,size:Q,fillOpacity:vl,strokeOpacity:vl,numOctaves:Hw},JN={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZN=jo.length;function eD(t,e,n){let i="",r=!0;for(let s=0;s<ZN;s++){const o=jo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=RT(a,Xg[o]);if(!l){r=!1;const h=JN[o]||o;i+=`${h}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function Jg(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(fs.has(l)){o=!0;continue}else if(Qg(l)){r[l]=c;continue}else{const h=RT(c,Xg[l]);l.startsWith("origin")?(a=!0,s[l]=h):i[l]=h}}if(e.transform||(o||n?i.transform=eD(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;i.transformOrigin=`${l} ${c} ${h}`}}const Zg=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NT(t,e,n){for(const i in e)!bt(e[i])&&!AT(i,n)&&(t[i]=e[i])}function tD({transformTemplate:t},e){return R.useMemo(()=>{const n=Zg();return Jg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function nD(t,e){const n=t.style||{},i={};return NT(i,n,t),Object.assign(i,tD(t,e)),i}function iD(t,e){const n={},i=nD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const rD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ey(t){return typeof t!="string"||t.includes("-")?!1:!!(rD.indexOf(t)>-1||/[A-Z]/u.test(t))}const sD={offset:"stroke-dashoffset",array:"stroke-dasharray"},oD={offset:"strokeDashoffset",array:"strokeDasharray"};function aD(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?sD:oD;t[s.offset]=Q.transform(-i);const o=Q.transform(e),a=Q.transform(n);t[s.array]=`${o} ${a}`}function Ww(t,e,n){return typeof t=="string"?t:Q.transform(e+n*t)}function lD(t,e,n){const i=Ww(e,t.x,t.width),r=Ww(n,t.y,t.height);return`${i} ${r}`}function ty(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,f){if(Jg(t,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=lD(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&aD(p,o,a,l,!1)}const DT=()=>({...Zg(),attrs:{}}),ny=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cD(t,e,n,i){const r=R.useMemo(()=>{const s=DT();return ty(s,e,ny(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NT(s,t.style,t),r.style={...s,...r.style}}return r}function uD(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(ey(n)?cD:iD)(i,s,o,n),c=NN(i,typeof n=="string",t),h=n!==R.Fragment?{...c,...l,ref:r}:{},{children:f}=i,p=R.useMemo(()=>bt(f)?f.get():f,[f]);return R.createElement(n,{...h,children:p})}}function Gw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function iy(t,e,n,i){if(typeof e=="function"){const[r,s]=Gw(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=Gw(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const Kp=t=>Array.isArray(t),hD=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),dD=t=>Kp(t)?t[t.length-1]||0:t;function nu(t){const e=bt(t)?t.get():t;return hD(e)?e.toValue():e}function fD({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:pD(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const MT=t=>(e,n)=>{const i=R.useContext(Lh),r=R.useContext(Oh),s=()=>fD(t,e,i,r);return n?s():zg(s)};function pD(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=nu(s[p]);let{initial:o,animate:a}=t;const l=Fh(t),c=ST(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Vh(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const v=iy(t,p[m]);if(v){const{transitionEnd:x,transition:S,...w}=v;for(const _ in w){let E=w[_];if(Array.isArray(E)){const P=h?E.length-1:0;E=E[P]}E!==null&&(r[_]=E)}for(const _ in x)r[_]=x[_]}}}return r}function ry(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(bt(r[o])||e.style&&bt(e.style[o])||AT(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const mD={useVisualState:MT({scrapeMotionValuesFromProps:ry,createRenderState:Zg})};function jT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function OT(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const LT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function VT(t,e,n,i){OT(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(LT.has(r)?r:Gg(r),e.attrs[r])}function FT(t,e,n){const i=ry(t,e,n);for(const r in t)if(bt(t[r])||bt(e[r])){const s=jo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const Kw=["x","y","width","height","cx","cy","r"],gD={useVisualState:MT({scrapeMotionValuesFromProps:FT,createRenderState:DT,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(fs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Kw.length;a++){const l=Kw[a];t[l]!==e[l]&&(o=!0)}o&&ye.read(()=>{jT(n,i),ye.render(()=>{ty(i,r,ny(n.tagName),t.transformTemplate),VT(n,i)})})}})};function yD(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...ey(i)?gD:mD,preloadedFeatures:t,useRender:uD(r),createVisualElement:e,Component:i};return zN(o)}}function Uh(t,e,n){const i=t.getProps();return iy(i,e,n!==void 0?n:i.custom,t)}const vD=qg(()=>window.ScrollTimeline!==void 0);class wD{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(vD()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class xD extends wD{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function sy(t,e){return t?t[e]||t.default||t:void 0}const Qp=2e4;function UT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Qp;)e+=n,i=t.next(e);return e>=Qp?1/0:e}function oy(t){return typeof t=="function"}function Qw(t,e){t.timeline=e,t.onfinish=null}const ay=t=>Array.isArray(t)&&typeof t[0]=="number",_D={linearEasing:void 0};function bD(t,e){const n=qg(t);return()=>{var i;return(i=_D[e])!==null&&i!==void 0?i:n()}}const qu=bD(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zT=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(fo(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function BT(t){return!!(typeof t=="function"&&qu()||!t||typeof t=="string"&&(t in Yp||qu())||ay(t)||Array.isArray(t)&&t.every(BT))}const xa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Yp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:xa([0,.65,.55,1]),circOut:xa([.55,0,1,.45]),backIn:xa([.31,.01,.66,-.59]),backOut:xa([.33,1.53,.69,.99])};function $T(t,e){if(t)return typeof t=="function"&&qu()?zT(t,e):ay(t)?xa(t):Array.isArray(t)?t.map(n=>$T(n,e)||Yp.easeOut):Yp[t]}const vn={x:!1,y:!1};function qT(){return vn.x||vn.y}function ED(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function HT(t,e){const n=ED(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function Yw(t){return!(t.pointerType==="touch"||qT())}function TD(t,e,n={}){const[i,r,s]=HT(t,n),o=a=>{if(!Yw(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=f=>{Yw(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const WT=(t,e)=>e?t===e?!0:WT(t,e.parentElement):!1,ly=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,SD=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function CD(t){return SD.has(t.tagName)||t.tabIndex!==-1}const _a=new WeakSet;function Xw(t){return e=>{e.key==="Enter"&&t(e)}}function df(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ID=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Xw(()=>{if(_a.has(n))return;df(n,"down");const r=Xw(()=>{df(n,"up")}),s=()=>df(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Jw(t){return ly(t)&&!qT()}function kD(t,e,n={}){const[i,r,s]=HT(t,n),o=a=>{const l=a.currentTarget;if(!Jw(a)||_a.has(l))return;_a.add(l);const c=e(l,a),h=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!Jw(m)||!_a.has(l))&&(_a.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{h(m,n.useGlobalTarget||WT(l,m.target))},p=m=>{h(m,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!CD(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>ID(c,r),r)}),s}function PD(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}const GT=new Set(["width","height","top","left","right","bottom",...jo]);let iu;function AD(){iu=void 0}const zn={now:()=>(iu===void 0&&zn.set(rt.isProcessing||CN.useManualTiming?rt.timestamp:performance.now()),iu),set:t=>{iu=t,queueMicrotask(AD)}};function cy(t,e){t.indexOf(e)===-1&&t.push(e)}function uy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class hy{constructor(){this.subscriptions=[]}add(e){return cy(this.subscriptions,e),()=>uy(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function KT(t,e){return e?t*(1e3/e):0}const Zw=30,RD=t=>!isNaN(parseFloat(t));class ND{constructor(e,n={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=zn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=zn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=RD(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new hy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=zn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Zw);return KT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wl(t,e){return new ND(t,e)}function DD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wl(n))}function MD(t,e){const n=Uh(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=dD(s[o]);DD(t,o,a)}}function jD(t){return!!(bt(t)&&t.add)}function Xp(t,e){const n=t.getValue("willChange");if(jD(n))return n.add(e)}function QT(t){return t.props[CT]}const YT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OD=1e-7,LD=12;function VD(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=YT(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>OD&&++a<LD);return o}function Ul(t,e,n,i){if(t===e&&n===i)return Xt;const r=s=>VD(s,0,1,t,n);return s=>s===0||s===1?s:YT(r(s),e,i)}const XT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,JT=t=>e=>1-t(1-e),ZT=Ul(.33,1.53,.69,.99),dy=JT(ZT),e2=XT(dy),t2=t=>(t*=2)<1?.5*dy(t):.5*(2-Math.pow(2,-10*(t-1))),fy=t=>1-Math.sin(Math.acos(t)),n2=JT(fy),i2=XT(fy),r2=t=>/^0[^.\s]+$/u.test(t);function FD(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||r2(t):!0}const Va=t=>Math.round(t*1e5)/1e5,py=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UD(t){return t==null}const zD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,my=(t,e)=>n=>!!(typeof n=="string"&&zD.test(n)&&n.startsWith(t)||e&&!UD(n)&&Object.prototype.hasOwnProperty.call(n,e)),s2=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(py);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},BD=t=>vi(0,255,t),ff={...Oo,transform:t=>Math.round(BD(t))},qr={test:my("rgb","red"),parse:s2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ff.transform(t)+", "+ff.transform(e)+", "+ff.transform(n)+", "+Va(vl.transform(i))+")"};function $D(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Jp={test:my("#"),parse:$D,transform:qr.transform},zs={test:my("hsl","hue"),parse:s2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Un.transform(Va(e))+", "+Un.transform(Va(n))+", "+Va(vl.transform(i))+")"},vt={test:t=>qr.test(t)||Jp.test(t)||zs.test(t),parse:t=>qr.test(t)?qr.parse(t):zs.test(t)?zs.parse(t):Jp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qr.transform(t):zs.transform(t)},qD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function HD(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(py))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qD))===null||n===void 0?void 0:n.length)||0)>0}const o2="number",a2="color",WD="var",GD="var(",ex="${}",KD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function xl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(KD,l=>(vt.test(l)?(i.color.push(s),r.push(a2),n.push(vt.parse(l))):l.startsWith(GD)?(i.var.push(s),r.push(WD),n.push(l)):(i.number.push(s),r.push(o2),n.push(parseFloat(l))),++s,ex)).split(ex);return{values:n,split:a,indexes:i,types:r}}function l2(t){return xl(t).values}function c2(t){const{split:e,types:n}=xl(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===o2?s+=Va(r[o]):a===a2?s+=vt.transform(r[o]):s+=r[o]}return s}}const QD=t=>typeof t=="number"?0:t;function YD(t){const e=l2(t);return c2(t)(e.map(QD))}const fr={test:HD,parse:l2,createTransformer:c2,getAnimatableNone:YD},XD=new Set(["brightness","contrast","saturate","opacity"]);function JD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(py)||[];if(!i)return t;const r=n.replace(i,"");let s=XD.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const ZD=/\b([a-z-]*)\(.*?\)/gu,Zp={...fr,getAnimatableNone:t=>{const e=t.match(ZD);return e?e.map(JD).join(" "):t}},eM={...Xg,color:vt,backgroundColor:vt,outlineColor:vt,fill:vt,stroke:vt,borderColor:vt,borderTopColor:vt,borderRightColor:vt,borderBottomColor:vt,borderLeftColor:vt,filter:Zp,WebkitFilter:Zp},gy=t=>eM[t];function u2(t,e){let n=gy(t);return n!==Zp&&(n=fr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const tM=new Set(["auto","none","0"]);function nM(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!tM.has(s)&&xl(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=u2(n,r)}const tx=t=>t===Oo||t===Q,nx=(t,e)=>parseFloat(t.split(", ")[e]),ix=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return nx(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?nx(s[1],t):0}},iM=new Set(["x","y","z"]),rM=jo.filter(t=>!iM.has(t));function sM(t){const e=[];return rM.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ix(4,13),y:ix(5,14)};mo.translateX=mo.x;mo.translateY=mo.y;const Kr=new Set;let em=!1,tm=!1;function h2(){if(tm){const t=Array.from(Kr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=sM(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}tm=!1,em=!1,Kr.forEach(t=>t.complete()),Kr.clear()}function d2(){Kr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tm=!0)})}function oM(){d2(),h2()}class yy{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kr.add(this),em||(em=!0,ye.read(d2),ye.resolveKeyframes(h2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const f2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),aM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function lM(t){const e=aM.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function p2(t,e,n=1){const[i,r]=lM(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return f2(o)?parseFloat(o):o}return Yg(r)?p2(r,e,n+1):r}const m2=t=>e=>e.test(t),cM={test:t=>t==="auto",parse:t=>t},g2=[Oo,Q,Un,Di,QN,KN,cM],rx=t=>g2.find(m2(t));class y2 extends yy{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),Yg(c))){const h=p2(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!GT.has(i)||e.length!==2)return;const[r,s]=e,o=rx(r),a=rx(s);if(o!==a)if(tx(o)&&tx(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)FD(e[r])&&i.push(r);i.length&&nM(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=mo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=mo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const sx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fr.test(t)||t==="0")&&!t.startsWith("url("));function uM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function hM(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=sx(r,e),a=sx(s,e);return!o||!a?!1:uM(t)||(n==="spring"||oy(n))&&i}const dM=t=>t!==null;function zh(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(dM),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const fM=40;class v2{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=zn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>fM?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&oM(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=zn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!hM(e,i,r,s))if(o)this.options.duration=0;else{l&&l(zh(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pe=(t,e,n)=>t+(e-t)*n;function pf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pM({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=pf(l,a,t+1/3),s=pf(l,a,t),o=pf(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Hu(t,e){return n=>n>0?e:t}const mf=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},mM=[Jp,qr,zs],gM=t=>mM.find(e=>e.test(t));function ox(t){const e=gM(t);if(!e)return!1;let n=e.parse(t);return e===zs&&(n=pM(n)),n}const ax=(t,e)=>{const n=ox(t),i=ox(e);if(!n||!i)return Hu(t,e);const r={...n};return s=>(r.red=mf(n.red,i.red,s),r.green=mf(n.green,i.green,s),r.blue=mf(n.blue,i.blue,s),r.alpha=Pe(n.alpha,i.alpha,s),qr.transform(r))},yM=(t,e)=>n=>e(t(n)),zl=(...t)=>t.reduce(yM),nm=new Set(["none","hidden"]);function vM(t,e){return nm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wM(t,e){return n=>Pe(t,e,n)}function vy(t){return typeof t=="number"?wM:typeof t=="string"?Yg(t)?Hu:vt.test(t)?ax:bM:Array.isArray(t)?w2:typeof t=="object"?vt.test(t)?ax:xM:Hu}function w2(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>vy(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function xM(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=vy(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function _M(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const bM=(t,e)=>{const n=fr.createTransformer(e),i=xl(t),r=xl(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?nm.has(t)&&!r.values.length||nm.has(e)&&!i.values.length?vM(t,e):zl(w2(_M(i,r),r.values),n):Hu(t,e)};function x2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pe(t,e,n):vy(t)(t,e)}const EM=5;function _2(t,e,n){const i=Math.max(e-EM,0);return KT(n-t(i),e-i)}const Me={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gf=.001;function TM({duration:t=Me.duration,bounce:e=Me.bounce,velocity:n=Me.velocity,mass:i=Me.mass}){let r,s,o=1-e;o=vi(Me.minDamping,Me.maxDamping,o),t=vi(Me.minDuration,Me.maxDuration,ui(t)),o<1?(r=c=>{const h=c*o,f=h*t,p=h-n,m=im(c,o),v=Math.exp(-f);return gf-p/m*v},s=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),x=im(Math.pow(c,2),o);return(-r(c)+gf>0?-1:1)*((p-m)*v)/x}):(r=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-gf+h*f},s=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=CM(r,s,a);if(t=ci(t),isNaN(l))return{stiffness:Me.stiffness,damping:Me.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const SM=12;function CM(t,e,n){let i=n;for(let r=1;r<SM;r++)i=i-t(i)/e(i);return i}function im(t,e){return t*Math.sqrt(1-e*e)}const IM=["duration","bounce"],kM=["stiffness","damping","mass"];function lx(t,e){return e.some(n=>t[n]!==void 0)}function PM(t){let e={velocity:Me.velocity,stiffness:Me.stiffness,damping:Me.damping,mass:Me.mass,isResolvedFromDuration:!1,...t};if(!lx(t,kM)&&lx(t,IM))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*vi(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Me.mass,stiffness:r,damping:s}}else{const n=TM(t);e={...e,...n,mass:Me.mass},e.isResolvedFromDuration=!0}return e}function b2(t=Me.visualDuration,e=Me.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:m}=PM({...n,velocity:-ui(n.velocity||0)}),v=p||0,x=c/(2*Math.sqrt(l*h)),S=o-s,w=ui(Math.sqrt(l/h)),_=Math.abs(S)<5;i||(i=_?Me.restSpeed.granular:Me.restSpeed.default),r||(r=_?Me.restDelta.granular:Me.restDelta.default);let E;if(x<1){const j=im(w,x);E=L=>{const C=Math.exp(-x*w*L);return o-C*((v+x*w*S)/j*Math.sin(j*L)+S*Math.cos(j*L))}}else if(x===1)E=j=>o-Math.exp(-w*j)*(S+(v+w*S)*j);else{const j=w*Math.sqrt(x*x-1);E=L=>{const C=Math.exp(-x*w*L),b=Math.min(j*L,300);return o-C*((v+x*w*S)*Math.sinh(b)+j*S*Math.cosh(b))/j}}const P={calculatedDuration:m&&f||null,next:j=>{const L=E(j);if(m)a.done=j>=f;else{let C=0;x<1&&(C=j===0?ci(v):_2(E,j,L));const b=Math.abs(C)<=i,I=Math.abs(o-L)<=r;a.done=b&&I}return a.value=a.done?o:L,a},toString:()=>{const j=Math.min(UT(P),Qp),L=zT(C=>P.next(j*C).value,j,30);return j+"ms "+L}};return P}function cx({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,v=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let x=n*e;const S=f+x,w=o===void 0?S:o(S);w!==S&&(x=w-f);const _=b=>-x*Math.exp(-b/i),E=b=>w+_(b),P=b=>{const I=_(b),k=E(b);p.done=Math.abs(I)<=c,p.value=p.done?w:k};let j,L;const C=b=>{m(p.value)&&(j=b,L=b2({keyframes:[p.value,v(p.value)],velocity:_2(E,b,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:b=>{let I=!1;return!L&&j===void 0&&(I=!0,P(b),C(b)),j!==void 0&&b>=j?L.next(b-j):(!I&&P(b),p)}}}const AM=Ul(.42,0,1,1),RM=Ul(0,0,.58,1),E2=Ul(.42,0,.58,1),NM=t=>Array.isArray(t)&&typeof t[0]!="number",ux={linear:Xt,easeIn:AM,easeInOut:E2,easeOut:RM,circIn:fy,circInOut:i2,circOut:n2,backIn:dy,backInOut:e2,backOut:ZT,anticipate:t2},hx=t=>{if(ay(t)){Gp(t.length===4);const[e,n,i,r]=t;return Ul(e,n,i,r)}else if(typeof t=="string")return Gp(ux[t]!==void 0),ux[t];return t};function DM(t,e,n){const i=[],r=n||x2,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Xt:e;a=zl(l,a)}i.push(a)}return i}function MM(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(Gp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=DM(e,i,r),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=fo(t[f],t[f+1],h);return a[f](p)};return n?h=>c(vi(t[0],t[s-1],h)):c}function jM(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=fo(0,e,i);t.push(Pe(n,1,r))}}function OM(t){const e=[0];return jM(e,t.length-1),e}function LM(t,e){return t.map(n=>n*e)}function VM(t,e){return t.map(()=>e||E2).splice(0,t.length-1)}function Wu({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=NM(i)?i.map(hx):hx(i),s={done:!1,value:e[0]},o=LM(n&&n.length===e.length?n:OM(e),t),a=MM(o,e,{ease:Array.isArray(r)?r:VM(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const FM=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ye.update(e,!0),stop:()=>dr(e),now:()=>rt.isProcessing?rt.timestamp:zn.now()}},UM={decay:cx,inertia:cx,tween:Wu,keyframes:Wu,spring:b2},zM=t=>t/100;class wy extends v2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||yy,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=oy(n)?n:UM[n]||Wu;let l,c;a!==Wu&&typeof e[0]!="number"&&(l=zl(zM,x2(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=UT(h));const{calculatedDuration:f}=h,p=f+r,m=p*(i+1)-r;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:f}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:x,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let E=this.currentTime,P=s;if(m){const b=Math.min(this.currentTime,h)/f;let I=Math.floor(b),k=b%1;!k&&b>=1&&(k=1),k===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(v==="reverse"?(k=1-k,x&&(k-=x/f)):v==="mirror"&&(P=o)),E=vi(0,1,k)*f}const j=_?{done:!1,value:l[0]}:P.next(E);a&&(j.value=a(j.value));let{done:L}=j;!_&&c!==null&&(L=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return C&&r!==void 0&&(j.value=zh(l,this.options,r)),S&&S(j.value),C&&this.finish(),j}get duration(){const{resolved:e}=this;return e?ui(e.calculatedDuration):0}get time(){return ui(this.currentTime)}set time(e){e=ci(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ui(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=FM,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const BM=new Set(["opacity","clipPath","filter","transform"]);function $M(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=$T(a,r);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:i,duration:r,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const qM=qg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Gu=10,HM=2e4;function WM(t){return oy(t.type)||t.type==="spring"||!BT(t.ease)}function GM(t,e){const n=new wy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<HM;)i=n.sample(s),r.push(i.value),s+=Gu;return{times:void 0,keyframes:r,duration:s-Gu,ease:"linear"}}const T2={anticipate:t2,backInOut:e2,circInOut:i2};function KM(t){return t in T2}class dx extends v2{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new y2(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&qu()&&KM(s)&&(s=T2[s]),WM(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:v,...x}=this.options,S=GM(e,x);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,o="keyframes"}const h=$M(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(Qw(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(zh(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ui(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ui(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=ci(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Xt;const{animation:i}=n;Qw(i,e)}return Xt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:f,element:p,...m}=this.options,v=new wy({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),x=ci(this.time);c.setWithVelocity(v.sample(x-Gu).value,v.sample(x).value,Gu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return qM()&&i&&BM.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const QM={type:"spring",stiffness:500,damping:25,restSpeed:10},YM=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),XM={type:"keyframes",duration:.8},JM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZM=(t,{keyframes:e})=>e.length>2?XM:fs.has(t)?t.startsWith("scale")?YM(e[1]):QM:JM;function e4({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const xy=(t,e,n,i={},r,s)=>o=>{const a=sy(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-ci(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};e4(a)||(h={...h,...ZM(t,h)}),h.duration&&(h.duration=ci(h.duration)),h.repeatDelay&&(h.repeatDelay=ci(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=zh(h.keyframes,a);if(p!==void 0)return ye.update(()=>{h.onUpdate(p),h.onComplete()}),new xD([])}return!s&&dx.supports(h)?new dx(h):new wy(h)};function t4({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function S2(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||h&&t4(h,f))continue;const v={delay:n,...sy(o||{},f)};let x=!1;if(window.MotionHandoffAnimation){const w=QT(t);if(w){const _=window.MotionHandoffAnimation(w,f,ye);_!==null&&(v.startTime=_,x=!0)}}Xp(t,f),p.start(xy(f,p,m,t.shouldReduceMotion&&GT.has(f)?{type:!1}:v,t,x));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{ye.update(()=>{a&&MD(t,a)})}),c}function rm(t,e,n={}){var i;const r=Uh(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(S2(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=s;return n4(t,e,h+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function n4(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(i4).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(rm(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function i4(t,e){return t.sortNodePosition(e)}function r4(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>rm(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=rm(t,e,n);else{const r=typeof e=="function"?Uh(t,e,n.custom):e;i=Promise.all(S2(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function C2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const s4=Wg.length;function I2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?I2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<s4;n++){const i=Wg[n],r=t.props[i];(gl(r)||r===!1)&&(e[i]=r)}return e}const o4=[...Hg].reverse(),a4=Hg.length;function l4(t){return e=>Promise.all(e.map(({animation:n,options:i})=>r4(t,n,i)))}function c4(t){let e=l4(t),n=fx(),i=!0;const r=l=>(c,h)=>{var f;const p=Uh(t,h,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:v,...x}=p;c={...c,...x,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=I2(t.parent)||{},f=[],p=new Set;let m={},v=1/0;for(let S=0;S<a4;S++){const w=o4[S],_=n[w],E=c[w]!==void 0?c[w]:h[w],P=gl(E),j=w===l?_.isActive:null;j===!1&&(v=S);let L=E===h[w]&&E!==c[w]&&P;if(L&&i&&t.manuallyAnimateOnMount&&(L=!1),_.protectedKeys={...m},!_.isActive&&j===null||!E&&!_.prevProp||Vh(E)||typeof E=="boolean")continue;const C=u4(_.prevProp,E);let b=C||w===l&&_.isActive&&!L&&P||S>v&&P,I=!1;const k=Array.isArray(E)?E:[E];let N=k.reduce(r(w),{});j===!1&&(N={});const{prevResolvedValues:D={}}=_,A={...D,...N},It=ve=>{b=!0,p.has(ve)&&(I=!0,p.delete(ve)),_.needsAnimating[ve]=!0;const $=t.getValue(ve);$&&($.liveStyle=!1)};for(const ve in A){const $=N[ve],Y=D[ve];if(m.hasOwnProperty(ve))continue;let Z=!1;Kp($)&&Kp(Y)?Z=!C2($,Y):Z=$!==Y,Z?$!=null?It(ve):p.add(ve):$!==void 0&&p.has(ve)?It(ve):_.protectedKeys[ve]=!0}_.prevProp=E,_.prevResolvedValues=N,_.isActive&&(m={...m,...N}),i&&t.blockInitialAnimation&&(b=!1),b&&(!(L&&C)||I)&&f.push(...k.map(ve=>({animation:ve,options:{type:w}})))}if(p.size){const S={};p.forEach(w=>{const _=t.getBaseTarget(w),E=t.getValue(w);E&&(E.liveStyle=!0),S[w]=_??null}),f.push({animation:S})}let x=!!f.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),i=!1,x?e(f):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=fx(),i=!0}}}function u4(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!C2(e,t):!1}function jr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fx(){return{animate:jr(!0),whileInView:jr(),whileHover:jr(),whileTap:jr(),whileDrag:jr(),whileFocus:jr(),exit:jr()}}class Sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class h4 extends Sr{constructor(e){super(e),e.animationState||(e.animationState=c4(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Vh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let d4=0;class f4 extends Sr{constructor(){super(...arguments),this.id=d4++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p4={animation:{Feature:h4},exit:{Feature:f4}};function _l(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Bl(t){return{point:{x:t.pageX,y:t.pageY}}}const m4=t=>e=>ly(e)&&t(e,Bl(e));function Fa(t,e,n,i){return _l(t,e,m4(n),i)}const px=(t,e)=>Math.abs(t-e);function g4(t,e){const n=px(t.x,e.x),i=px(t.y,e.y);return Math.sqrt(n**2+i**2)}class k2{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=vf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=g4(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:x}=rt;this.history.push({...v,timestamp:x});const{onStart:S,onMove:w}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=yf(p,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=vf(f.type==="pointercancel"?this.lastMoveEventInfo:yf(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),v&&v(f,S)},!ly(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Bl(e),a=yf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=rt;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,vf(a,this.history)),this.removeListeners=zl(Fa(this.contextWindow,"pointermove",this.handlePointerMove),Fa(this.contextWindow,"pointerup",this.handlePointerUp),Fa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),dr(this.updatePoint)}}function yf(t,e){return e?{point:e(t.point)}:t}function mx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vf({point:t},e){return{point:t,delta:mx(t,P2(e)),offset:mx(t,y4(e)),velocity:v4(e,.1)}}function y4(t){return t[0]}function P2(t){return t[t.length-1]}function v4(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=P2(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>ci(e)));)n--;if(!i)return{x:0,y:0};const s=ui(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const A2=1e-4,w4=1-A2,x4=1+A2,R2=.01,_4=0-R2,b4=0+R2;function Rt(t){return t.max-t.min}function E4(t,e,n){return Math.abs(t-e)<=n}function gx(t,e,n,i=.5){t.origin=i,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Rt(n)/Rt(e),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=w4&&t.scale<=x4||isNaN(t.scale))&&(t.scale=1),(t.translate>=_4&&t.translate<=b4||isNaN(t.translate))&&(t.translate=0)}function Ua(t,e,n,i){gx(t.x,e.x,n.x,i?i.originX:void 0),gx(t.y,e.y,n.y,i?i.originY:void 0)}function yx(t,e,n){t.min=n.min+e.min,t.max=t.min+Rt(e)}function T4(t,e,n){yx(t.x,e.x,n.x),yx(t.y,e.y,n.y)}function vx(t,e,n){t.min=e.min-n.min,t.max=t.min+Rt(e)}function za(t,e,n){vx(t.x,e.x,n.x),vx(t.y,e.y,n.y)}function S4(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Pe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Pe(n,t,i.max):Math.min(t,n)),t}function wx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function C4(t,{top:e,left:n,bottom:i,right:r}){return{x:wx(t.x,n,r),y:wx(t.y,e,i)}}function xx(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function I4(t,e){return{x:xx(t.x,e.x),y:xx(t.y,e.y)}}function k4(t,e){let n=.5;const i=Rt(t),r=Rt(e);return r>i?n=fo(e.min,e.max-i,t.min):i>r&&(n=fo(t.min,t.max-r,e.min)),vi(0,1,n)}function P4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sm=.35;function A4(t=sm){return t===!1?t=0:t===!0&&(t=sm),{x:_x(t,"left","right"),y:_x(t,"top","bottom")}}function _x(t,e,n){return{min:bx(t,e),max:bx(t,n)}}function bx(t,e){return typeof t=="number"?t:t[e]||0}const Ex=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bs=()=>({x:Ex(),y:Ex()}),Tx=()=>({min:0,max:0}),Le=()=>({x:Tx(),y:Tx()});function an(t){return[t("x"),t("y")]}function N2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function R4({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function N4(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function wf(t){return t===void 0||t===1}function om({scale:t,scaleX:e,scaleY:n}){return!wf(t)||!wf(e)||!wf(n)}function Vr(t){return om(t)||D2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function D2(t){return Sx(t.x)||Sx(t.y)}function Sx(t){return t&&t!=="0%"}function Ku(t,e,n){const i=t-n,r=e*i;return n+r}function Cx(t,e,n,i,r){return r!==void 0&&(t=Ku(t,r,i)),Ku(t,n,i)+e}function am(t,e=0,n=1,i,r){t.min=Cx(t.min,e,n,i,r),t.max=Cx(t.max,e,n,i,r)}function M2(t,{x:e,y:n}){am(t.x,e.translate,e.scale,e.originPoint),am(t.y,n.translate,n.scale,n.originPoint)}const Ix=.999999999999,kx=1.0000000000001;function D4(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&qs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,M2(t,o)),i&&Vr(s.latestValues)&&qs(t,s.latestValues))}e.x<kx&&e.x>Ix&&(e.x=1),e.y<kx&&e.y>Ix&&(e.y=1)}function $s(t,e){t.min=t.min+e,t.max=t.max+e}function Px(t,e,n,i,r=.5){const s=Pe(t.min,t.max,r);am(t,e,n,s,i)}function qs(t,e){Px(t.x,e.x,e.scaleX,e.scale,e.originX),Px(t.y,e.y,e.scaleY,e.scale,e.originY)}function j2(t,e){return N2(N4(t.getBoundingClientRect(),e))}function M4(t,e,n){const i=j2(t,n),{scroll:r}=e;return r&&($s(i.x,r.offset.x),$s(i.y,r.offset.y)),i}const O2=({current:t})=>t?t.ownerDocument.defaultView:null,j4=new WeakMap;class O4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bl(h).point)},s=(h,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PD(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),an(S=>{let w=this.getAxisMotionValue(S).get()||0;if(Un.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[S];E&&(w=Rt(E)*(parseFloat(w)/100))}}this.originPoint[S]=w}),v&&ye.postRender(()=>v(h,f)),Xp(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=L4(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),x&&x(h,f)},a=(h,f)=>this.stop(h,f),l=()=>an(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new k2(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:O2(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ye.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Lc(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=S4(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Us(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=C4(r.layoutBox,n):this.constraints=!1,this.elastic=A4(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&an(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=P4(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Us(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=M4(i,r.root,this.visualElement.getTransformPagePoint());let o=I4(r.layout.layoutBox,s);if(n){const a=n(R4(o));this.hasMutatedConstraints=!!a,a&&(o=N2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=an(h=>{if(!Lc(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Xp(this.visualElement,e),i.start(xy(e,i,0,n,this.visualElement,!1))}stopAnimation(){an(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){an(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){an(n=>{const{drag:i}=this.getProps();if(!Lc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Us(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};an(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=k4({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),an(o=>{if(!Lc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pe(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;j4.set(this.visualElement,this);const e=this.visualElement.current,n=Fa(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Us(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ye.read(i);const o=_l(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(an(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=sm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Lc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function L4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class V4 extends Sr{constructor(e){super(e),this.removeGroupControls=Xt,this.removeListeners=Xt,this.controls=new O4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ax=t=>(e,n)=>{t&&ye.postRender(()=>t(e,n))};class F4 extends Sr{constructor(){super(...arguments),this.removePointerDownListener=Xt}onPointerDown(e){this.session=new k2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:O2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Ax(e),onStart:Ax(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ye.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Fa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ru={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Rx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ma={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const n=Rx(t,e.target.x),i=Rx(t,e.target.y);return`${n}% ${i}%`}},U4={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=fr.parse(t);if(r.length>5)return i;const s=fr.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Pe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class z4 extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;GN(B4),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ru.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L2(t){const[e,n]=xT(),i=R.useContext(Ug);return d.jsx(z4,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(IT),isPresent:e,safeToRemove:n})}const B4={borderRadius:{...ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ma,borderTopRightRadius:ma,borderBottomLeftRadius:ma,borderBottomRightRadius:ma,boxShadow:U4};function $4(t,e,n){const i=bt(t)?t:wl(t);return i.start(xy("",i,e,n)),i.animation}function q4(t){return t instanceof SVGElement&&t.tagName!=="svg"}const H4=(t,e)=>t.depth-e.depth;class W4{constructor(){this.children=[],this.isDirty=!1}add(e){cy(this.children,e),this.isDirty=!0}remove(e){uy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(H4),this.isDirty=!1,this.children.forEach(e)}}function G4(t,e){const n=zn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(dr(i),t(s-e))};return ye.read(i,!0),()=>dr(i)}const V2=["TopLeft","TopRight","BottomLeft","BottomRight"],K4=V2.length,Nx=t=>typeof t=="string"?parseFloat(t):t,Dx=t=>typeof t=="number"||Q.test(t);function Q4(t,e,n,i,r,s){r?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,Y4(i)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,X4(i))):s&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<K4;o++){const a=`border${V2[o]}Radius`;let l=Mx(e,a),c=Mx(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Dx(l)===Dx(c)?(t[a]=Math.max(Pe(Nx(l),Nx(c),i),0),(Un.test(c)||Un.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,i))}function Mx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Y4=F2(0,.5,n2),X4=F2(.5,.95,Xt);function F2(t,e,n){return i=>i<t?0:i>e?1:n(fo(t,e,i))}function jx(t,e){t.min=e.min,t.max=e.max}function sn(t,e){jx(t.x,e.x),jx(t.y,e.y)}function Ox(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Lx(t,e,n,i,r){return t-=e,t=Ku(t,1/n,i),r!==void 0&&(t=Ku(t,1/r,i)),t}function J4(t,e=0,n=1,i=.5,r,s=t,o=t){if(Un.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(s.min,s.max,i);t===s&&(a-=e),t.min=Lx(t.min,e,n,a,r),t.max=Lx(t.max,e,n,a,r)}function Vx(t,e,[n,i,r],s,o){J4(t,e[n],e[i],e[r],e.scale,s,o)}const Z4=["x","scaleX","originX"],ej=["y","scaleY","originY"];function Fx(t,e,n,i){Vx(t.x,e,Z4,n?n.x:void 0,i?i.x:void 0),Vx(t.y,e,ej,n?n.y:void 0,i?i.y:void 0)}function Ux(t){return t.translate===0&&t.scale===1}function U2(t){return Ux(t.x)&&Ux(t.y)}function zx(t,e){return t.min===e.min&&t.max===e.max}function tj(t,e){return zx(t.x,e.x)&&zx(t.y,e.y)}function Bx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function z2(t,e){return Bx(t.x,e.x)&&Bx(t.y,e.y)}function $x(t){return Rt(t.x)/Rt(t.y)}function qx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nj{constructor(){this.members=[]}add(e){cy(this.members,e),e.scheduleRender()}remove(e){if(uy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ij(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),h&&(i+=`rotate(${h}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Fr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ba=typeof window<"u"&&window.MotionDebug!==void 0,xf=["","X","Y","Z"],rj={visibility:"hidden"},Hx=1e3;let sj=0;function _f(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function B2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=QT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&B2(i)}function $2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=sj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ba&&(Fr.totalNodes=Fr.resolvedTargetDeltas=Fr.recalculatedProjection=0),this.nodes.forEach(lj),this.nodes.forEach(fj),this.nodes.forEach(pj),this.nodes.forEach(cj),ba&&window.MotionDebug.record(Fr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new W4)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new hy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=q4(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=G4(p,250),ru.hasAnimatedSinceResize&&(ru.hasAnimatedSinceResize=!1,this.nodes.forEach(Gx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||h.getDefaultTransition()||wj,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=h.getProps(),_=!this.targetLayout||!z2(this.targetLayout,v),E=!p&&m;if(this.options.layoutRoot||this.resumeFrom||E||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const P={...sy(x,"layout"),onPlay:S,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P)}else p||Gx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,dr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&B2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Wx);return}this.isUpdating||this.nodes.forEach(hj),this.isUpdating=!1,this.nodes.forEach(dj),this.nodes.forEach(oj),this.nodes.forEach(aj),this.clearAllSnapshots();const a=zn.now();rt.delta=vi(0,1e3/60,a-rt.timestamp),rt.timestamp=a,rt.isProcessing=!0,hf.update.process(rt),hf.preRender.process(rt),hf.render.process(rt),rt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uj),this.sharedNodes.forEach(gj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rt(this.snapshot.measuredBox.x)&&!Rt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!U2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Vr(this.latestValues)||h)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Le();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_j))){const{scroll:h}=this.root;h&&($s(l.x,h.offset.x),$s(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Le();if(sn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&sn(l,o),$s(l.x,f.offset.x),$s(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Le();sn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&qs(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Vr(h.latestValues)&&qs(l,h.latestValues)}return Vr(this.latestValues)&&qs(l,this.latestValues),l}removeTransform(o){const a=Le();sn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Vr(c.latestValues))continue;om(c.latestValues)&&c.updateSnapshot();const h=Le(),f=c.measurePageBox();sn(h,f),Fx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Vr(this.latestValues)&&Fx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=rt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),za(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T4(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):sn(this.target,this.layout.layoutBox),M2(this.target,this.targetDelta)):sn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),za(this.relativeTargetOrigin,this.target,m.target),sn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba&&Fr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||om(this.parent.latestValues)||D2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===rt.timestamp&&(c=!1),c)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;sn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;D4(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Le());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ox(this.prevProjectionDelta.x,this.projectionDelta.x),Ox(this.prevProjectionDelta.y,this.projectionDelta.y)),Ua(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!qx(this.projectionDelta.x,this.prevProjectionDelta.x)||!qx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),ba&&Fr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bs(),this.projectionDelta=Bs(),this.projectionDeltaWithTransform=Bs()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=Bs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Le(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,S=this.getStack(),w=!S||S.members.length<=1,_=!!(x&&!w&&this.options.crossfade===!0&&!this.path.some(vj));this.animationProgress=0;let E;this.mixTargetDelta=P=>{const j=P/1e3;Kx(f.x,o.x,j),Kx(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(za(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),yj(this.relativeTarget,this.relativeTargetOrigin,p,j),E&&tj(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Le()),sn(E,this.relativeTarget)),x&&(this.animationValues=h,Q4(h,c,this.latestValues,j,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(dr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{ru.hasAnimatedSinceResize=!0,this.currentAnimation=$4(0,Hx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&q2(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Le();const f=Rt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Rt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}sn(a,l),qs(a,h),Ua(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nj),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&_f("z",o,c,this.animationValues);for(let h=0;h<xf.length;h++)_f(`rotate${xf[h]}`,o,c,this.animationValues),_f(`skew${xf[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return rj;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=nu(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=nu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Vr(this.latestValues)&&(x.transform=h?h({},""):"none",this.hasProjected=!1),x}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=ij(this.projectionDeltaWithTransform,this.treeScale,p),h&&(c.transform=h(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const x in yl){if(p[x]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:_}=yl[x],E=c.transform==="none"?p[x]:S(p[x],f);if(w){const P=w.length;for(let j=0;j<P;j++)c[w[j]]=E}else _?this.options.visualElement.renderState.vars[x]=E:c[x]=E}return this.options.layoutId&&(c.pointerEvents=f===this?nu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Wx),this.root.sharedNodes.clear()}}}function oj(t){t.updateLayout()}function aj(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?an(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Rt(p);p.min=i[f].min,p.max=p.min+m}):q2(s,n.layoutBox,i)&&an(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Rt(i[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Bs();Ua(a,i,n.layoutBox);const l=Bs();o?Ua(l,t.applyTransform(r,!0),n.measuredBox):Ua(l,i,n.layoutBox);const c=!U2(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=Le();za(v,n.layoutBox,p.layoutBox);const x=Le();za(x,i,m.layoutBox),z2(v,x)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function lj(t){ba&&Fr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cj(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uj(t){t.clearSnapshot()}function Wx(t){t.clearMeasurements()}function hj(t){t.isLayoutDirty=!1}function dj(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Gx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fj(t){t.resolveTargetDelta()}function pj(t){t.calcProjection()}function mj(t){t.resetSkewAndRotation()}function gj(t){t.removeLeadSnapshot()}function Kx(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qx(t,e,n,i){t.min=Pe(e.min,n.min,i),t.max=Pe(e.max,n.max,i)}function yj(t,e,n,i){Qx(t.x,e.x,n.x,i),Qx(t.y,e.y,n.y,i)}function vj(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const wj={duration:.45,ease:[.4,0,.1,1]},Yx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Xx=Yx("applewebkit/")&&!Yx("chrome/")?Math.round:Xt;function Jx(t){t.min=Xx(t.min),t.max=Xx(t.max)}function xj(t){Jx(t.x),Jx(t.y)}function q2(t,e,n){return t==="position"||t==="preserve-aspect"&&!E4($x(e),$x(n),.2)}function _j(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const bj=$2({attachResizeListener:(t,e)=>_l(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bf={current:void 0},H2=$2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bf.current){const t=new bj({});t.mount(window),t.setOptions({layoutScroll:!0}),bf.current=t}return bf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ej={pan:{Feature:F4},drag:{Feature:V4,ProjectionNode:H2,MeasureLayout:L2}};function Zx(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ye.postRender(()=>s(e,Bl(e)))}class Tj extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=TD(e,(n,i)=>(Zx(this.node,i,"Start"),r=>Zx(this.node,r,"End"))))}unmount(){}}class Sj extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(_l(this.node.current,"focus",()=>this.onFocus()),_l(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function e_(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ye.postRender(()=>s(e,Bl(e)))}class Cj extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=kD(e,(n,i)=>(e_(this.node,i,"Start"),(r,{success:s})=>e_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lm=new WeakMap,Ef=new WeakMap,Ij=t=>{const e=lm.get(t.target);e&&e(t)},kj=t=>{t.forEach(Ij)};function Pj({root:t,...e}){const n=t||document;Ef.has(n)||Ef.set(n,{});const i=Ef.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(kj,{root:t,...e})),i[r]}function Aj(t,e,n){const i=Pj(e);return lm.set(t,n),i.observe(t),()=>{lm.delete(t),i.unobserve(t)}}const Rj={some:0,all:1};class Nj extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:Rj[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(l)};return Aj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dj(e,n))&&this.startObserver()}unmount(){}}function Dj({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Mj={inView:{Feature:Nj},tap:{Feature:Cj},focus:{Feature:Sj},hover:{Feature:Tj}},jj={layout:{ProjectionNode:H2,MeasureLayout:L2}},cm={current:null},W2={current:!1};function Oj(){if(W2.current=!0,!!$g)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cm.current=t.matches;t.addListener(e),e()}else cm.current=!1}const Lj=[...g2,vt,fr],Vj=t=>Lj.find(m2(t)),Fj=new WeakMap;function Uj(t,e,n){for(const i in e){const r=e[i],s=n[i];if(bt(r))t.addValue(i,r);else if(bt(s))t.addValue(i,wl(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,wl(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const t_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zj{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=zn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ye.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Fh(n),this.isVariantNode=ST(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&bt(v)&&v.set(l[m],!1)}}mount(e){this.current=e,Fj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),W2.current||Oj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),dr(this.notifyUpdate),dr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=fs.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in po){const n=po[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<t_.length;i++){const r=t_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=Uj(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=wl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(f2(r)||r2(r))?r=parseFloat(r):!Vj(r)&&fr.test(n)&&(r=u2(e,n)),this.setBaseTarget(e,bt(r)?r.get():r)),bt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=iy(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new hy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class G2 extends zj{constructor(){super(...arguments),this.KeyframeResolver=y2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Bj(t){return window.getComputedStyle(t)}class $j extends G2{constructor(){super(...arguments),this.type="html",this.renderInstance=OT}readValueFromInstance(e,n){if(fs.has(n)){const i=gy(n);return i&&i.default||0}else{const i=Bj(e),r=(Qg(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return j2(e,n)}build(e,n,i){Jg(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return ry(e,n,i)}}class qj extends G2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&jT(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fs.has(n)){const i=gy(n);return i&&i.default||0}return n=LT.has(n)?n:Gg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return FT(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ye.postRender(this.updateDimensions)}build(e,n,i){ty(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){VT(e,n,i,r)}mount(e){this.isSVGTag=ny(e.tagName),super.mount(e)}}const Hj=(t,e)=>ey(t)?new qj(e):new $j(e,{allowProjection:t!==R.Fragment}),Wj=yD({...p4,...Mj,...Ej,...jj},Hj),z=DN(Wj),Ba="generated",Gj="pointerdown",Kj="pointerup",um="pointerleave",Qj="pointerout",ts="pointermove",Yj="touchstart",n_="touchend",Xj="touchmove",Jj="touchcancel",Zj="resize",eO="visibilitychange",mn="tsParticles - Error";class Wt{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Cn(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${mn} Vector3d not initialized correctly`)}static get origin(){return Wt.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Wt.create(e.x,e.y,e.z)}static create(e,n,i){return new Wt(e,n,i)}add(e){return Wt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Wt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Wt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Wt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Wt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return Wt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class Ze extends Wt{constructor(e,n){super(e,n,0)}static get origin(){return Ze.create(0,0)}static clone(e){return Ze.create(e.x,e.y)}static create(e,n){return new Ze(e,n)}}let tO=Math.random;const hm=new Map;function Tf(t,e){hm.get(t)||hm.set(t,e)}function K2(t){return hm.get(t)||(e=>e)}function be(){return An(tO(),0,1-1e-16)}function An(t,e,n){return Math.min(Math.max(t,e),n)}function Sf(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function zt(t){const e=Hi(t);let n=_y(t);return e===n&&(n=0),be()*(e-n)+n}function K(t){return Cn(t)?t:zt(t)}function _y(t){return Cn(t)?t:t.min}function Hi(t){return Cn(t)?t:t.max}function ne(t,e){if(t===e||e===void 0&&Cn(t))return t;const n=_y(t),i=Hi(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:ne(n,i)}function ns(t){const e=t.random,{enable:n,minimumValue:i}=nr(e)?{enable:e,minimumValue:0}:e;return K(n?ne(t.value,i):t.value)}function Dt(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function Jt(t,e){return Dt(t,e).distance}function nO(t,e,n){if(Cn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return be()*Math.PI*2}}function iO(t){const e=Ze.origin;return e.length=1,e.angle=t,e}function i_(t,e,n,i){return Ze.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function rO(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??be()*t.size.width,y:((n=t.position)==null?void 0:n.y)??be()*t.size.height}}function Q2(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const sO={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function is(){return sO}function r_(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)/2&&o>0||n.min<=r.max&&n.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function oO(t,e){const n=et(e,i=>t.matches(i));return Zt(n)?n.some(i=>i):n}function go(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function aO(){return!go()&&typeof matchMedia<"u"}function Y2(t){if(aO())return matchMedia(t)}function lO(t){if(!(go()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Ue(t,e){return t===e||Zt(e)&&e.indexOf(t)>-1}async function cO(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function uO(t){return Math.floor(be()*t.length)}function Bh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:uO(t)]}function by(t,e,n,i,r){return hO($l(t,i??0),e,n,r)}function hO(t,e,n,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height+n.x),r&&(!i||i==="left")&&(r=t.right>n.x),r&&(!i||i==="right")&&(r=t.left<e.width+n.y),r&&(!i||i==="top")&&(r=t.bottom>n.y),r}function $l(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Et(t,...e){for(const n of e){if(n==null)continue;if(!Hs(n)){t=n;continue}const i=Array.isArray(n);i&&(Hs(t)||!t||!Array.isArray(t))?t=[]:!i&&(Hs(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=Hs(o)&&Array.isArray(o)?o.map(l=>Et(a[r],l)):Et(a[r],o)}}return t}function Ey(t,e){return!!Z2(e,n=>n.enable&&Ue(t,n.mode))}function Ty(t,e,n){et(e,i=>{const r=i.mode;i.enable&&Ue(t,r)&&dO(i,n)})}function dO(t,e){const n=t.selectors;et(n,i=>{e(i,t)})}function X2(t,e){if(!(!e||!t))return Z2(t,n=>oO(e,n.selectors))}function dm(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Ze.create(ns(t.options.bounce.horizontal),ns(t.options.bounce.vertical))}}function J2(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=Dt(s,r);if(n*o+i*a<0)return;const l=-Math.atan2(a,o),c=t.mass,h=e.mass,f=t.velocity.rotate(l),p=e.velocity.rotate(l),m=i_(f,p,c,h),v=i_(p,f,c,h),x=m.rotate(-l),S=v.rotate(-l);t.velocity.x=x.x*t.factor.x,t.velocity.y=x.y*t.factor.y,e.velocity.x=S.x*e.factor.x,e.velocity.y=S.y*e.factor.y}function fO(t,e){const n=t.getPosition(),i=t.getRadius(),r=$l(n,i),s=r_({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ns(t.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const o=r_({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ns(t.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}function et(t,e){return Zt(t)?t.map((n,i)=>e(n,i)):e(t,0)}function hi(t,e,n){return Zt(t)?Bh(t,e,n):t}function Z2(t,e){return Zt(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function eS(t,e){const n=t.value,i=t.animation,r={delayTime:K(i.delay)*1e3,enable:i.enable,value:K(t.value)*e,max:Hi(n)*e,min:_y(n)*e,loops:0,maxLoops:K(i.count),time:0};if(i.enable){switch(r.decay=1-K(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=be()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=zt(r),s&&(r.status=be()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function pO(t,e){if(!(t.mode==="percent")){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function tS(t,e){return pO(t,e)}function nr(t){return typeof t=="boolean"}function Sn(t){return typeof t=="string"}function Cn(t){return typeof t=="number"}function nS(t){return typeof t=="function"}function Hs(t){return typeof t=="object"&&t!==null}function Zt(t){return Array.isArray(t)}const Qu="random",su="mid",$h=new Map;function s_(t){$h.set(t.key,t)}function Cf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mO(t){for(const[,s]of $h)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function In(t,e,n=!0){if(!t)return;const i=Sn(t)?{value:t}:t;if(Sn(i.value))return iS(i.value,e,n);if(Zt(i.value))return In({value:Bh(i.value,e,n)});for(const[,r]of $h){const s=r.handleRangeColor(i);if(s)return s}}function iS(t,e,n=!0){if(!t)return;const i=Sn(t)?{value:t}:t;if(Sn(i.value))return i.value===Qu?sS():gO(i.value);if(Zt(i.value))return iS({value:Bh(i.value,e,n)});for(const[,r]of $h){const s=r.handleColor(i);if(s)return s}}function bl(t,e,n=!0){const i=In(t,e,n);return i?rS(i):void 0}function rS(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function gO(t){return mO(t)}function yo(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-i;e.r=Cf(r,i,n.h+1/3),e.g=Cf(r,i,n.h),e.b=Cf(r,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function yO(t){const e=yo(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function sS(t){return{b:Math.floor(zt(ne(0,256))),g:Math.floor(zt(ne(0,256))),r:Math.floor(zt(ne(0,256)))}}function di(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function El(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Sy(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=yo(t)),s.r===void 0&&(s=yo(e)),{b:Sf(r.b,s.b,n,i),g:Sf(r.g,s.g,n,i),r:Sf(r.r,s.r,n,i)}}function fm(t,e,n){if(n===Qu)return sS();if(n===su){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return Sy(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return yo(s)}}else return n}function oS(t,e,n){const i=Sn(t)?t:t.value;return i===Qu?n?In({value:i}):e?Qu:su:i===su?su:In({value:i})}function o_(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function aS(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(If(i.h,e.h,n),If(i.s,e.s,n),If(i.l,e.l,n)),i}function If(t,e,n){t.enable=e.enable,t.enable?(t.velocity=K(e.speed)/100*n,t.decay=1-K(e.decay),t.status="increasing",t.loops=0,t.maxLoops=K(e.count),t.time=0,t.delayTime=K(e.delay)*1e3,e.sync||(t.velocity*=be(),t.value*=be()),t.initialValue=t.value):t.velocity=0}function $a(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function vO(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function wO(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function xO(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function kf(t,e){t.clearRect(0,0,e.width,e.height)}function _O(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:h,transform:f}=t,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},x={a:v.cos*(f.a??1),b:v.sin*(f.b??1),c:-v.sin*(f.c??1),d:v.cos*(f.d??1)};n.setTransform(x.a,x.b,x.c,x.d,p.x,p.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const S=i.shadowColor;h.enable&&S&&(n.shadowBlur=h.blur,n.shadowColor=di(S),n.shadowOffsetX=h.offset.x,n.shadowOffsetY=h.offset.y),s.fill&&(n.fillStyle=s.fill);const w=i.strokeWidth??0;n.lineWidth=w,s.stroke&&(n.strokeStyle=s.stroke),bO(e,n,i,l,c,r),w>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),EO(e,n,i,l,c,r),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function bO(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,i,r,s,t.retina.pixelRatio)}function EO(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,i,r,s,t.retina.pixelRatio)}function TO(t,e,n){e.draw&&e.draw(t,n)}function SO(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function CO(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function IO(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class kO{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:h}=l.getColorStyles(i,n,r,s);c&&(o.fill=c),h&&(o.stroke=h)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const h in c)IO(a,c,h)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=bl(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=bl(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color,s=In(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=di(o,o.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Et({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=In(r.color);if(!s)return;const o=n.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=n=>{this.draw(i=>wO(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>xO(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const r=n.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",r=n.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(di(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{kf(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var E;const c=this.container,h=c.actualOptions,f=e.options.zIndex,p=(1-e.zIndexFactor)**f.opacityRate,m=e.bubble.opacity??((E=e.opacity)==null?void 0:E.value)??1,v=e.strokeOpacity??m,x=m*p,S=v*p,w={},_={fill:o?El(o,x):void 0};_.stroke=a?El(a,S):_.fill,this._applyPreDrawUpdaters(l,e,i,x,_,w),_O({container:c,context:l,particle:e,delta:n,colorStyles:_,backgroundMask:h.backgroundMask.enable,composite:h.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**f.sizeRate,opacity:x,shadow:e.options.shadow,transform:w}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>SO(r,e,n,i))}drawPlugin(e,n){this.draw(i=>TO(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=lO(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){is().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=In(n.color);r.backgroundColor=s?di(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ba in e.dataset?e.dataset[Ba]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Et({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(kf(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>kf(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function on(t,e,n,i,r){if(i){let s={passive:!0};nr(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class PO{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;et(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(on(a,ts,r.mouseMove,i),on(a,Yj,r.touchStart,i),on(a,Xj,r.touchMove,i),o.interactivity.events.onClick.enable?(on(a,n_,r.touchEndClick,i),on(a,Kj,r.mouseUp,i),on(a,Gj,r.mouseDown,i)):on(a,n_,r.touchEnd,i),on(a,n,r.mouseLeave,i),on(a,Jj,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=um;o==="window"?(r.interactivity.element=window,l=Qj):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&on(document,eO,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=Y2("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){on(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){on(window,Zj,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=um,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const h=o.getBoundingClientRect();a={x:c.clientX-h.left,y:c.clientY-h.top}}}else if(r.interactivity.detectsOn==="parent"){const h=c.target,f=c.currentTarget;if(h&&f&&o){const p=h.getBoundingClientRect(),m=f.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+v.left),y:c.offsetY+2*p.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,h=c.touches[c.touches.length-1],f=o.getBoundingClientRect();a={x:h.clientX-(f.left??0),y:h.clientY-(f.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=ts},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class ct{constructor(){this.value=""}static create(e,n){const i=new ct;return i.load(e),n!==void 0&&(Sn(n)||Zt(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class AO{constructor(){this.color=new ct,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ct.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class RO{constructor(){this.color=new ct,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ct.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class NO{constructor(){this.composite="destination-out",this.cover=new RO,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Sn(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class DO{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class MO{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class a_{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return et(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=et(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class jO{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class OO{constructor(){this.enable=!1,this.mode=[],this.parallax=new jO}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class LO{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}let VO=class{constructor(){this.onClick=new MO,this.onDiv=new a_,this.onHover=new OO,this.resize=new LO}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=et(n,i=>{const r=new a_;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),nr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}};class FO{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class lS{constructor(e,n){this.detectsOn="window",this.events=new VO,this.modes=new FO(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class UO{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Et({},e.options)))}}class zO{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Et({},e.options)))}}class BO{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class $O{constructor(){this.name="",this.default=new BO}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Et({},e.options)))}}class Pf{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=ne(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=ne(e.offset)),e.speed!==void 0&&(this.speed=ne(e.speed)),e.decay!==void 0&&(this.decay=ne(e.decay)),e.delay!==void 0&&(this.delay=ne(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class qO{constructor(){this.h=new Pf,this.s=new Pf,this.l=new Pf}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Tl extends ct{constructor(){super(),this.animation=new qO}static create(e,n){const i=new Tl;return i.load(e),n!==void 0&&(Sn(n)||Zt(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class HO{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class WO{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class GO{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=ne(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ne(e.speed)),e.decay!==void 0&&(this.decay=ne(e.decay)),e.delay!==void 0&&(this.delay=ne(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class cS extends GO{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class KO{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Cr{constructor(){this.random=new KO,this.value=0}load(e){e&&(nr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=ne(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class l_ extends Cr{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class uS{constructor(){this.horizontal=new l_,this.vertical=new l_}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class QO{constructor(){this.absorb=new HO,this.bounce=new uS,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new WO}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ne(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class YO{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=ne(e.offset)),e.value!==void 0&&(this.value=ne(e.value)))}}class XO{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=ne(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((r=e.rotate)==null?void 0:r.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class JO{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class ZO{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ne(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ne(e.maxSpeed)))}}class eL{constructor(){this.clamp=!0,this.delay=new Cr,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Et(this.options,e.options)))}}class tL{load(e){e&&(e.color!==void 0&&(this.color=ct.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class nL{constructor(){this.enable=!1,this.length=10,this.fill=new tL}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class iL{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class rL{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ne(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Et({},e.position)))}}class sL{constructor(){this.angle=new YO,this.attract=new XO,this.center=new JO,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new ZO,this.path=new eL,this.outModes=new iL,this.random=!1,this.size=!1,this.speed=2,this.spin=new rL,this.straight=!1,this.trail=new nL,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Cn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ne(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Cn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ne(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Hs(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ne(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class oL extends cS{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class aL extends Cr{constructor(){super(),this.animation=new oL,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ne(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class lL{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class cL{constructor(){this.density=new lL,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class uL{constructor(){this.blur=0,this.color=new ct,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ct.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Af="character",Rf="char",Nf="image",Df="images",Mf="polygon",jf="star";class hL{constructor(){this.loadShape=(e,n,i,r)=>{if(!e)return;const s=Zt(e),o=s?[]:{},a=s!==Zt(this.options[n]),l=s!==Zt(this.options[i]);a&&(this.options[n]=o),l&&r&&(this.options[i]=o),this.options[n]=Et(this.options[n]??o,e),(!this.options[i]||r)&&(this.options[i]=Et(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Af]??this.options[Rf]}set character(e){this.options[Rf]=this.options[Af]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Nf]??this.options[Df]}set image(e){this.options[Df]=this.options[Nf]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Mf]??this.options[jf]}set polygon(e){this.options[jf]=this.options[Mf]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=Et(this.options[i]??{},r))}this.loadShape(e.character,Af,Rf,!0),this.loadShape(e.polygon,Mf,jf,!1),this.loadShape(e.image??e.images,Nf,Df,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class dL extends cS{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class fL extends Cr{constructor(){super(),this.animation=new dL,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ne(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class c_{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Tl.create(this.color,e.color)),e.width!==void 0&&(this.width=ne(e.width)),e.opacity!==void 0&&(this.opacity=ne(e.opacity)))}}class pL extends Cr{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class mL{constructor(e,n){this._engine=e,this._container=n,this.bounce=new uS,this.collisions=new QO,this.color=new Tl,this.color.value="#fff",this.groups={},this.move=new sL,this.number=new cL,this.opacity=new aL,this.reduceDuplicates=!1,this.shadow=new uL,this.shape=new hL,this.size=new fL,this.stroke=new c_,this.zIndex=new pL}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Tl.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Et(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Et({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=et(i,a=>{const l=new c_;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function hS(t,...e){for(const n of e)t.load(n)}function dS(t,e,...n){const i=new mL(t,e);return hS(i,...n),i}class gL{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new AO,this.backgroundMask=new NO,this.defaultThemes={},this.delay=0,this.fullScreen=new DO,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new lS(e,n),this.manualParticles=[],this.particles=dS(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&et(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=ne(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=ne(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;nr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new UO;return c.load(l),c})),this.particles.load(e.particles),this.style=Et(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new zO;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(h=>h.name===l.name);if(c)c.load(l);else{const h=new $O;h.load(l),this.themes.push(h)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=Y2("(prefers-color-scheme: dark)"),i=n&&n.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class yL{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const u_=t=>{if(!Ue(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class vL{constructor(e,n,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,h=0)=>{for(const[,_]of a.plugins){const E=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(E)return Wt.create(E.x,E.y,c)}const f=a.canvas.size,p=rO({size:f,position:l}),m=Wt.create(p.x,p.y,c),v=this.getRadius(),x=this.options.move.outModes,S=_=>{u_({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:E=>m.x+=E,radius:v})},w=_=>{u_({outMode:_,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:E=>m.y+=E,radius:v})};return S(x.left??x.default),S(x.right??x.default),w(x.top??x.default),w(x.bottom??x.default),this._checkOverlap(m,h)?this._calcPosition(a,void 0,c,h+1):m},this._calculateVelocity=()=>{const a=iO(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const h=Math.PI/180*K(c.angle.value),f=Math.PI/180*K(c.angle.offset),p={left:f-h/2,right:f+h/2};return c.straight||(l.angle+=zt(ne(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=be()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,h=this.getRadius();if(!c.enable)return!1;const f=c.overlap;if(f.enable)return!1;const p=f.retries;if(p>=0&&l>p)throw new Error(`${mn} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>Jt(a,m.position)<h+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?CO(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=K(this.options.zIndex.value);this.position=this._calcPosition(l,a,An(c,0,l.zLayers)),this.initialPosition=this.position.copy();const h=l.canvas.size;switch(this.moveCenter={...tS(this.options.move.center,h),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=nO(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=Ze.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Et({close:a.close,fill:a.fill},hi(c,this.id,l))},this._engine=e,this.init(n,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,r]of n.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of n.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??o_(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??o_(this.strokeColor))}init(e,n,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=dS(this._engine,s,l.particles),h=c.shape.type,{reduceDuplicates:f}=c;this.shape=hi(h,this.id,f);const p=c.shape;if(i&&i.shape&&i.shape.type){const E=i.shape.type,P=hi(E,this.id,f);P&&(this.shape=P,p.load(i.shape))}this.shapeData=this._loadShapeData(p,f),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const v=new lS(o,s);v.load(s.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const x=this.options.move.path;this.pathDelay=ns(x.delay)*1e3,x.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(x.generator),this.pathGenerator&&s.addPath(x.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=eS(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-K(this.options.move.decay);const S=s.particles;S.needsSort=S.needsSort||S.lastZIndex<this.position.z,S.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let w=s.drawers.get(this.shape);w||(w=this._engine.plugins.getShapeDrawer(this.shape),w&&s.drawers.set(this.shape,w)),w&&w.loadShape&&w.loadShape(this);const _=w==null?void 0:w.getSidesCount;_&&(this.sides=_(this)),this.spawning=!1,this.shadowColor=In(this.options.shadow.color);for(const E of s.particles.updaters)E.init(this);for(const E of s.particles.movers)E.init&&E.init(this);w&&w.particleInit&&w.particleInit(s,this);for(const[,E]of s.plugins)E.particleCreated&&E.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class wL{constructor(e,n){this.position=e,this.particle=n}}class fS{constructor(e,n){this.position={x:e,y:n}}}class Rn extends fS{constructor(e,n,i,r){super(e,n),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Tt&&e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Rn?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Tt extends fS{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return Jt(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof Tt){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Rn){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class Yu{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new Yu(new Rn(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&Jt(e.position,s.position)>s.particle.getRadius()&&(!n||n(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,n,r);return r}queryCircle(e,n,i){return this.query(new Tt(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Rn(e.x,e.y,n.width,n.height),i)}}const h_=4,d_=t=>new Rn(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let xL=class{constructor(e,n){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,h=a.limit>0?a.limit:c,f=Math.min(c,h)*l+s,p=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,p<f?this.push(Math.abs(f-p),void 0,r,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new vL(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){is().warning(`${mn} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new yL(e,n);const i=n.canvas.size;this.quadTree=new Yu(d_(i),h_),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?tS(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in n.particles.groups){const o=n.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<n.particles.number.value;s++)this.addParticle()}}push(e,n,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new Yu(d_(n.canvas.size),h_);for(const[,r]of n.pathGenerators)r.update();for(const[,r]of n.plugins)r.update&&r.update(e);for(const r of this._array){const s=n.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new wL(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete n.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class _L{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||go()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=n.particles,s=r.move;this.attractDistance=K(s.attract.distance)*i,this.maxSpeed=K(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=K(r.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.attractDistance=K(r.attract.distance)*i,o.moveDrift=K(r.drift)*i,o.moveSpeed=K(r.speed)*i,o.sizeAnimationSpeed=K(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=K(r.gravity.maxSpeed)*i}}function Ie(t){return t&&!t.destroyed}function bL(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Es(t,e,...n){const i=new gL(t,e);return hS(i,...n),i}const EL="default",f_={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class TL{constructor(e,n,i){this.id=n,this._intersectionManager=r=>{if(!(!Ie(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=bL(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){is().error(`${mn} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new _L(this),this.canvas=new kO(this),this.particles=new xL(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Es(this._engine,this),this.actualOptions=Es(this._engine,this),this._eventListeners=new PO(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ie(this))return;const n=this.interactivity.element;if(!n)return;const i=(f,p,m)=>{if(!Ie(this))return;const v=this.retina.pixelRatio,x={x:p.x*v,y:p.y*v},S=this.particles.quadTree.queryCircle(x,m*v);e(f,S)},r=f=>{if(!Ie(this))return;const p=f,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(f,m,1)},s=()=>{Ie(this)&&(c=!0,h=!1)},o=()=>{Ie(this)&&(h=!0)},a=f=>{if(Ie(this)){if(c&&!h){const p=f;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const v=this.canvas.element,x=v?v.getBoundingClientRect():void 0,S={x:m.clientX-(x?x.left:0),y:m.clientY-(x?x.top:0)};i(f,S,Math.max(m.radiusX,m.radiusY))}c=!1,h=!1}},l=()=>{Ie(this)&&(c=!1,h=!1)};let c=!1,h=!1;n.addEventListener("click",r),n.addEventListener("touchstart",s),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!Ie(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??f_),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Ie(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Ie(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}is().error(`${mn} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Ie(this)}handleClickMode(e){if(Ie(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!Ie(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Es(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Es(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of n)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=K(this.actualOptions.duration)*1e3,this._delay=K(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Ie(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Ie(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Ie(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(Ie(this))return this.stop(),this.start()}async reset(){if(Ie(this))return this._initialSourceOptions=void 0,this._options=Es(this._engine,this),this.actualOptions=Es(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){Ie(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!Ie(this))return;const r={...f_};if(nS(e))r.generate=e,n&&(r.init=n),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(EL,r,!0)}async start(){!Ie(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Ie(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class SL{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function Of(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=[...n.values()].map(s=>s(t)),e.set(t,r)),r}class CL{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){et(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return Of(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Of(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Of(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(n,...i)}}async function IL(t){const e=hi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(is().error(`${mn} ${n.status} while retrieving config file`),t.fallback)}function kL(t){return!t.id&&!t.element&&!t.url&&!t.options}function PL(t){return!kL(t)}class AL{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new SL,this._initialized=!1,this.plugins=new CL(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){Sn(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){this.plugins.addPreset(e,n,i),await this.refresh(r)}async addShape(e,n,i,r,s,o=!0){let a,l=o,c,h,f;nr(i)?(l=i,c=void 0):c=i,nr(r)?(l=r,h=void 0):h=r,nr(s)?(l=s,f=void 0):f=s,nS(n)?a={afterEffect:h,destroy:f,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let r;return PL(e)?r=e:(r={},Sn(e)?r.id=e:r.options=e,Cn(n)?r.index=n:r.options=n??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,n,i){let r,s;return Cn(n)||n===void 0?r=e:(s=e,r=n),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,r){const s={index:r};return Sn(e)?s.id=e:s.element=e,n instanceof HTMLElement?s.element=n:s.options=n,Cn(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,n,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=n,s.index=i):(s.id=e,s.element=n,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${mn} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(be()*1e4)}`,{index:i,url:r}=e,s=r?await IL({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=hi(s,i),l=this.dom(),c=l.findIndex(p=>p.id===n);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let h;if(o.tagName.toLowerCase()==="canvas")h=o,h.dataset[Ba]="false";else{const p=o.getElementsByTagName("canvas");p.length?(h=p[0],h.dataset[Ba]="false"):(h=document.createElement("canvas"),h.dataset[Ba]="true",o.appendChild(h))}h.style.width||(h.style.width="100%"),h.style.height||(h.style.height="100%");const f=new TL(this,n,a);return c>=0?l.splice(c,0,f):l.push(f),f.canvas.loadCanvas(h),await f.start(),f}}class RL{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return yo(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return yo({h:K(i.h),l:K(i.l),s:K(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?yO({a:i.length>4?Q2(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class NL{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:K(i.r),g:K(i.g),b:K(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?Q2(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function DL(){const t=new NL,e=new RL;s_(t),s_(e);const n=new AL;return n.init(),n}class Kn{constructor(e){this.container=e,this.type="external"}}class Cy{constructor(e){this.container=e,this.type="particles"}}const Xu=DL();go()||(window.tsParticles=Xu);const Ws=t=>typeof t=="object"&&t!==null;function Ju(t,e,n=()=>!1){if(!Ws(t)||!Ws(e))return t===e;const i=Object.keys(t).filter(s=>!n(s)),r=Object.keys(e).filter(s=>!n(s));if(i.length!==r.length)return!1;for(const s of i){console.log("key");const o=t[s],a=e[s];if(Ws(o)&&Ws(a)){if(o===e&&a===t)continue;if(!Ju(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!pS(o,a,n))return!1}else if(o!==a)return!1}return!0}function pS(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const r=t[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!pS(r,s,n))return!1}else if(Ws(r)&&Ws(s)){if(!Ju(r,s,n))return!1}else if(r!==s)return!1}return!0}const mS="tsparticles";let gS=class yS extends R.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return console.log("should update"),e.url!==this.props.url&&e.id!==this.props.id&&e.canvasClassName!==this.props.canvasClassName&&e.className!==this.props.className&&e.height!==this.props.height&&e.width!==this.props.width&&!Ju(e.style,this.props.style)&&e.init!==this.props.init&&e.loaded!==this.props.loaded&&!Ju(e.options??e.params,this.props.options&&this.props.params)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Xu),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:r,id:s}=this.props;return Xf.createElement("div",{className:i,id:s},Xf.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??yS.defaultProps.id??mS,n=await Xu.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};gS.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:mS};class Zu{static init(e){var s;const n=new Zu,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Xu.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,h,f;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(h=o.options)==null?void 0:h.speed},size:{value:(f=o.options)==null?void 0:f.sizeVariations}}}}})}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const ML=t=>{const e=(i,r)=>t.load(i,r);e.load=(i,r,s)=>{t.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},jL=t=>{const{particlesJS:e,pJSDom:n}=ML(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=Zu,{particlesJS:e,pJSDom:n,Particles:Zu}};function OL(t){const e=t.initialPosition,{dx:n,dy:i}=Dt(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),l&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const c=t.position,h=t.velocity;a&&(c.x<e.x&&h.x<0||c.x>e.x&&h.x>0)&&(h.x*=-be()),l&&(c.y<e.y&&h.y<0||c.y>e.y&&h.y>0)&&(h.y*=-be())}}}function LL(t,e,n,i,r,s){FL(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&n&&(t.velocity.x+=r*s.factor/(60*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(60*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,n&&(t.velocity.y=c.y/n));const h=t.options.zIndex,f=(1-t.zIndexFactor)**h.velocityRate;c.multTo(f);const{position:p}=t;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function VL(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function FL(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=An(t.velocity.x,-1,1),t.velocity.y=An(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function UL(t){return t.slow.inRange?t.slow.factor:1}const zL=2;class BL{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*n.canvas.size.width,y:s.y/100*n.canvas.size.height},a=e.getPosition(),l=Jt(a,o),c=K(r.acceleration);e.retina.spinAcceleration=c*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:K(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var v,x;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=UL(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=K(r.speed)*o))*s.retina.reduceFactor,c=(x=e.retina).moveDrift??(x.moveDrift=K(e.options.move.drift)*o),h=Hi(i.size.value)*o,f=r.size?e.getRadius()/h:1,p=l*f*a*(n.factor||1)/zL,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?VL(e,p):LL(e,r,p,m,c,n),OL(e)}}async function $L(t,e=!0){await t.addMover("base",()=>new BL,e)}class qL{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const r=n.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=Hs(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function HL(t,e=!0){await t.addShape("circle",new qL,e)}function Lf(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=zt(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function WL(t,e){const{h:n,s:i,l:r}=t.options.color.animation,{color:s}=t;if(!s)return;const{h:o,s:a,l}=s;o&&Lf(e,o,n,360,!1),a&&Lf(e,a,i,100,!0),l&&Lf(e,l,r,100,!0)}class GL{constructor(e){this.container=e}init(e){const n=bl(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=aS(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){WL(e,n)}}async function KL(t,e=!0){await t.addParticleUpdater("color",n=>new GL(n),e)}function QL(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function YL(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,r=n.max,s=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=s),QL(t,n.value,i,r),t.destroyed||(n.value=An(n.value,i,r))}}class XL{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=eS(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=K(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=be()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&YL(e,n)}}async function JL(t,e=!0){await t.addParticleUpdater("opacity",n=>new XL(n),e)}function ZL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=ns(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function eV(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=ns(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class tV{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),h=$l(a,c),f=s.canvas.size;ZL({particle:e,outMode:r,direction:n,bounds:h,canvasSize:f,offset:l,size:c}),eV({particle:e,outMode:r,direction:n,bounds:h,canvasSize:f,offset:l,size:c})}}class nV{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(by(e.position,s.canvas.size,Ze.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:a}=Dt(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class iV{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n==="bottom"||s.inverse&&c.y<-l&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;by(e.position,o.canvas.size,Ze.origin,l,n)||o.particles.remove(e)}}}class rV{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=Ze.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(Ze.create(e.moveCenter));const{dx:c,dy:h}=Dt(e.position,l);if(o<=0&&c>=0||a<=0&&h>=0||o>=0&&c<=0||a>=0&&h<=0)return;e.position.x=Math.floor(zt({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(zt({min:0,max:s.canvas.size.height}));const{dx:f,dy:p}=Dt(e.position,e.moveCenter);e.direction=Math.atan2(-p,-f),e.velocity.angle=e.direction;break}default:{if(by(e.position,s.canvas.size,Ze.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor(zt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(zt({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Dt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),h=$l(e.position,c);n==="right"&&h.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=be()*a.height,e.initialPosition.y=e.position.y)):n==="left"&&h.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=be()*a.height,e.initialPosition.y=e.position.y)),n==="bottom"&&h.top>a.height+e.offset.y?(o||(e.position.x=be()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n==="top"&&h.bottom<-e.offset.y&&(o||(e.position.x=be()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class sV{constructor(e){this.container=e,this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters)o.update(n,s,i,r)},this.updaters=[new tV(e),new nV(e),new rV(e),new iV(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function oV(t,e=!0){await t.addParticleUpdater("outModes",n=>new sV(n),e)}function aV(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function lV(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,r=n.min,s=n.max,o=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=r?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&o!==1&&(n.velocity*=o),aV(t,n.value,r,s),t.destroyed||(n.value=An(n.value,r,s))}}class cV{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,r.sync||(e.size.velocity*=be()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&lV(e,n)}}async function uV(t,e=!0){await t.addParticleUpdater("size",()=>new cV,e)}async function hV(t,e=!0){await $L(t,!1),await HL(t,!1),await KL(t,!1),await JL(t,!1),await oV(t,!1),await uV(t,!1),await t.refresh(e)}async function dV(){Tf("ease-in-quad",t=>t**2),Tf("ease-out-quad",t=>1-(1-t)**2),Tf("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class fV{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let pV=class extends Kn{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new Tt(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new Tt(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:h,dy:f,distance:p}=Dt(c.position,i),m=a.speed*a.factor,v=An(K2(a.easing)(1-p/r)*m,0,a.maxSpeed),x=Ze.create(p===0?m:h/p*v,p===0?m:f/p*v);c.position.subFrom(x)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ts,r=n.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Ue("attract",o)?this._hoverAttract():a&&Ue("attract",l)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Ue("attract",o)||Ue("attract",a)}loadModeOptions(e,...n){e.attract||(e.attract=new fV);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function mV(t,e=!0){await t.addInteractor("externalAttract",n=>new pV(t,n),e)}class gV{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class yV extends Kn{constructor(e){super(e),this._processBounce=(n,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof Tt?J2(dm(o),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:Ze.origin,factor:Ze.origin}):r instanceof Rn&&fO(o,$l(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,r=10*i,s=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new Tt(s.x,s.y,o+r))},this._singleSelectorBounce=(n,i)=>{const r=this.container,s=document.querySelectorAll(n);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},h=a.offsetWidth/2*l,f=10*l,p=i.type==="circle"?new Tt(c.x,c.y,h+f):new Rn(a.offsetLeft*l-f,a.offsetTop*l-f,a.offsetWidth*l+f*2,a.offsetHeight*l+f*2);this._processBounce(c,h,p)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===ts,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Ue("bounce",o)?this._processMouseBounce():Ty("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Ue("bounce",s.onHover.mode)||Ey("bounce",o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new gV);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function vV(t,e=!0){await t.addInteractor("externalBounce",n=>new yV(n),e)}class vS{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Zt(this.color)?void 0:this.color;this.color=et(e.color,i=>ct.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class wV extends vS{constructor(){super(),this.selectors=[]}get ids(){return et(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=et(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class xV extends vS{load(e){super.load(e),e&&(this.divs=et(e.divs,n=>{const i=new wV;return i.load(n),i}))}}function p_(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return An(r,t,e)}else if(e<n){const r=t-(n-e)*i;return An(r,e,t)}}class _V extends Kn{constructor(e){super(e),this._clickBubble=()=>{var c;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<0)return;const a=n.particles.quadTree.queryCircle(r,o,h=>this.isEnabled(h)),{bubble:l}=n;for(const h of a){if(!l.clicking)continue;h.bubble.inRange=!l.durationEnd;const f=h.getPosition(),p=Jt(f,r),m=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const v={bubbleObj:{optValue:n.retina.bubbleModeSize,value:h.bubble.radius},particlesObj:{optValue:Hi(h.options.size.value)*n.retina.pixelRatio,value:h.size.value},type:"size"};this._process(h,p,m,v);const x={bubbleObj:{optValue:s.opacity,value:h.bubble.opacity},particlesObj:{optValue:Hi(h.options.opacity.value),value:((c=h.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(h,p,m,x),!l.durationEnd&&p<=o?this._hoverBubbleColor(h,p):delete h.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=n.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=Jt(a,i),c=1-l/r;l<=r?c>=0&&n.interactivity.status===ts&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===um&&this.reset(o)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const a=o.color;if(!a)return;const l=hi(a);n.bubble.finalColor=bl(l)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const a=n.getFillColor();n.bubble.color=a?rS(Sy(a,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var f,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=n.options.opacity.value,c=((p=n.opacity)==null?void 0:p.value)??1,h=p_(c,a,Hi(l),i);h!==void 0&&(n.bubble.opacity=h)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=Hi(n.options.size.value)*s.retina.pixelRatio,l=n.size.value,c=p_(l,o,a,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const h=c.duration,f=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,v=s.particlesObj.value||0,x=s.type;if(!(!f||f<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(x==="size"&&delete n.bubble.radius,x==="opacity"&&delete n.bubble.opacity);else if(i<=f){if((m??v)!==a){const w=v-r*(v-a)/h;x==="size"&&(n.bubble.radius=w),x==="opacity"&&(n.bubble.opacity=w)}}else x==="size"&&delete n.bubble.radius,x==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,h=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*h,y:(c.offsetTop+c.offsetHeight/2)*h},p=c.offsetWidth/2*h,m=r.type==="circle"?new Tt(f.x,f.y,p):new Rn(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),v=s.particles.quadTree.query(m,x=>this.isEnabled(x));for(const x of v){if(!m.contains(x.getPosition()))continue;x.bubble.inRange=!0;const S=a.divs,w=X2(S,c);(!x.bubble.div||x.bubble.div!==c)&&(this.clear(x,n,!0),x.bubble.div=c),this._hoverBubbleSize(x,1,w),this._hoverBubbleOpacity(x,1,w),this._hoverBubbleColor(x,1,w)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,h=i.onDiv;o&&Ue("bubble",a)?this._hoverBubble():l&&Ue("bubble",c)?this._clickBubble():Ty("bubble",h,(f,p)=>this._singleSelectorHover(e,f,p))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=Ey("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Ue("bubble",l.mode)||Ue("bubble",o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new xV);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function bV(t,e=!0){await t.addInteractor("externalBubble",n=>new _V(n),e)}class EV{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class TV{constructor(){this.distance=80,this.links=new EV,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function SV(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=Sy(s,o,e.getRadius(),n.getRadius()),h=t.createLinearGradient(a.x,a.y,l.x,l.y);return h.addColorStop(0,El(s,i)),h.addColorStop(r>1?1:r,di(c,i)),h.addColorStop(1,El(o,i)),h}function CV(t,e,n,i,r){$a(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function IV(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return SV(e,n,i,s.links.opacity)}function kV(t,e,n){t.canvas.draw(i=>{const r=IV(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();CV(i,e.retina.linksWidth??0,r,s,o)})}class PV extends Kn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const h=c.getPosition(),f=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-h.x),m=Math.abs(l.y-h.y);p<f&&m<f&&kV(e,a,c)}++o}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Ue("connect",r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new TV);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function AV(t,e=!0){await t.addInteractor("externalConnect",n=>new PV(n),e)}class RV{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ct.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class NV{constructor(){this.distance=100,this.links=new RV}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function DV(t,e,n,i,r,s){$a(t,n,i),t.strokeStyle=di(r,s),t.lineWidth=e,t.stroke()}function MV(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();DV(s,e.retina.linksWidth??0,o,r,n,i)})}class jV extends Kn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ts)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),h=Jt(c,r);if(h>s)continue;const f=i.modes.grab.links,p=f.opacity,m=p-h*p/s;if(m<=0)continue;const v=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const S=i.modes.grab.links;e.particles.grabLineColor=oS(v,S.blink,S.consent)}const x=fm(l,void 0,e.particles.grabLineColor);x&&MV(e,l,x,m,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ue("grab",r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new NV);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function OV(t,e=!0){await t.addInteractor("externalGrab",n=>new jV(n),e)}class LV extends Kn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function VV(t,e=!0){await t.addInteractor("externalPause",n=>new LV(n),e)}class FV{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ne(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ne(n))}}class UV extends Kn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=K(s.quantity);if(o<=0)return;const a=Bh([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new FV);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function zV(t,e=!0){await t.addInteractor("externalPush",n=>new UV(n),e)}class BV{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ne(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ne(n))}}class $V extends Kn{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!=="remove")return;const s=K(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new BV);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function qV(t,e=!0){await t.addInteractor("externalRemove",n=>new $V(n),e)}class wS{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class HV extends wS{constructor(){super(),this.selectors=[]}get ids(){return et(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=et(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class WV extends wS{load(e){super.load(e),e&&(this.divs=et(e.divs,n=>{const i=new HV;return i.load(n),i}))}}class GV extends Kn{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Tt(l.x,l.y,a),h=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of h){const{dx:p,dy:m,distance:v}=Dt(l,f.position),x=v**2,S=r.speed,w=-a*S/x;if(x<=a){s.particles.push(f);const _=Ze.create(p,m);_.length=w,f.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new Tt(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,h=>this.isEnabled(h)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const h of l){const{dx:f,dy:p,distance:m}=Dt(h.position,i),v=((o==null?void 0:o.speed)??c.speed)*c.factor,x=An(K2(c.easing)(1-m/r)*v,0,c.maxSpeed),S=Ze.create(m===0?v:f/m*x,m===0?v:p/m*x);h.position.addTo(S)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,h=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*h,y:(c.offsetTop+c.offsetHeight/2)*h},p=c.offsetWidth/2*h,m=r.type==="circle"?new Tt(f.x,f.y,p):new Rn(c.offsetLeft*h,c.offsetTop*h,c.offsetWidth*h,c.offsetHeight*h),v=o.divs,x=X2(v,c);this._processRepulse(f,p,m,x)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ts,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,h=l.mode,f=r.onDiv;i&&o&&Ue("repulse",a)?this._hoverRepulse():c&&Ue("repulse",h)?this._clickRepulse():Ty("repulse",f,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=Ey("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const h=a.mode,f=l.mode;return Ue("repulse",h)||Ue("repulse",f)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new WV);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function KV(t,e=!0){await t.addInteractor("externalRepulse",n=>new GV(t,n),e)}class QV{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class YV extends Kn{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ue("slow",r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new QV);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=Jt(r,a),c=l/s,h=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/h)}}async function XV(t,e=!0){await t.addInteractor("externalSlow",n=>new YV(n),e)}const Vf=[0,4,2,1],m_=[8,8,4,2];class JV{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)n+=e;const i=new Uint8Array(n);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function xS(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function ZV(t,e,n,i){switch(t.nextByte()){case 249:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case 255:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function e3(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const h=1<<(a&7)+1;l&&(o.localColorTable=xS(t,h));const f=w=>{const{r:_,g:E,b:P}=(l?o.localColorTable:e.globalColorTable)[w];return{r:_,g:E,b:P,a:w===r(null)?n?~~((_+E+P)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(w){if(w instanceof DOMException&&w.name==="IndexSizeError")return null;throw w}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=t.nextByte(),v=t.readSubBlocksBin(),x=1<<m,S=(w,_)=>{const E=w>>>3,P=w&7;return(v[E]+(v[E+1]<<8)+(v[E+2]<<16)&(1<<_)-1<<P)>>>P};if(c){for(let w=0,_=m+1,E=0,P=[[0]],j=0;j<4;j++)if(Vf[j]<o.height)for(let L=0,C=0;;){const b=w;if(w=S(E,_),E+=_+1,w===x){_=m+1,P.length=x+2;for(let I=0;I<P.length;I++)P[I]=I<x?[I]:[]}else{w>=P.length?P.push(P[b].concat(P[b][0])):b!==x&&P.push(P[b].concat(P[w][0]));for(let I=0;I<P[w].length;I++){const{r:k,g:N,b:D,a:A}=f(P[w][I]);p.data.set([k,N,D,A],Vf[j]*o.width+m_[j]*C+L%(o.width*4)),L+=4}P.length===1<<_&&_<12&&_++}if(L===o.width*4*(C+1)&&(C++,Vf[j]+m_[j]*C>=o.height))break}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let w=0,_=m+1,E=0,P=[[0]],j=-4;;){const L=w;if(w=S(E,_),E+=_,w===x){_=m+1,P.length=x+2;for(let C=0;C<P.length;C++)P[C]=C<x?[C]:[]}else{if(w===x+1)break;w>=P.length?P.push(P[L].concat(P[L][0])):L!==x&&P.push(P[L].concat(P[w][0]));for(let C=0;C<P[w].length;C++){const{r:b,g:I,b:k,a:N}=f(P[w][C]);p.data.set([b,I,k,N],j+=4)}P.length>=1<<_&&_<12&&_++}}o.image=p,o.bitmap=await createImageBitmap(p)}}async function t3(t,e,n,i,r,s){switch(t.nextByte()){case 59:return!0;case 44:await e3(t,e,n,i,r);break;case 33:await ZV(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function n3(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function i3(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new JV(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,h=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=xS(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(P){if(P instanceof DOMException&&P.name==="IndexSizeError")return null;throw P}})();if(f==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:v}=s.globalColorTable[h];f.data.set(l?[p,m,v,255]:[0,0,0,0]);for(let P=4;P<f.data.length;P*=2)f.data.copyWithin(P,0,P);s.backgroundImage=f;let x=-1,S=!0,w=-1;const _=P=>(P&&(S=!0),x),E=P=>(P!=null&&(w=P),w);try{do S&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),x++,w=-1,S=!1);while(!await t3(o,s,n,_,E,e));s.frames.length--;for(const P of s.frames){if(P.userInputDelayFlag&&P.delayTime===0){s.totalTime=1/0;break}s.totalTime+=P.delayTime}return s}catch(P){throw P instanceof EvalError?new Error(`error while parsing frame ${x} "${P.message}"`):P}}const r3=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function s3(t,e,n){const{svgData:i}=t;if(!i)return"";const r=El(e,n);if(i.includes("fill"))return i.replace(r3,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function qh(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,is().error(`${mn} loading image: ${t.source}`),e()}),n.src=t.source})}async function o3(t){if(t.type!=="gif"){await qh(t);return}t.loading=!0;try{t.gifData=await i3(t.source),t.gifLoopCount=n3(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function a3(t){if(t.type!=="svg"){await qh(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(is().error(`${mn} Image not found`),t.error=!0),t.loading=!1}function l3(t,e,n,i){var o;const r=s3(t,n,((o=i.opacity)==null?void 0:o.value)??1),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,h=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(h)}),f.addEventListener("error",async()=>{c.revokeObjectURL(h);const p={...t,error:!1,loading:!0};await qh(p),s.loaded=!0,s.element=p.element,a(s)}),f.src=h})}class c3{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${mn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,r,s){const o=n.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),n.gifLoopCount===void 0&&(n.gifLoopCount=o.gifLoopCount??0);let h=n.gifFrame??0;const f={x:-o.gifData.width*.5,y:-o.gifData.height*.5},p=o.gifData.frames[h];if(n.gifTime===void 0&&(n.gifTime=0),!p.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,f.x+p.left,f.y+p.top):c.putImageData(o.gifData.backgroundImage,f.x,f.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(n.gifTime+=s.value,n.gifTime>p.delayTime){if(n.gifTime-=p.delayTime,++h>=o.gifData.frames.length){if(--n.gifLoopCount<=0)return;h=0,c.clearRect(0,0,l.width,l.height)}n.gifFrame=h}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData,s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await l3(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.fill,h=r.close??n.close,f={image:l,fill:c,close:h};n.image=f.image,n.fill=f.fill,n.close=f.close})()}}class u3{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class h3{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new u3;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function d3(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${mn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?o3:e.replaceColor?a3:qh)(n)}catch{throw new Error(`${mn} ${e.name??e.src} not found`)}})}async function f3(t,e=!0){d3(t);const n=new h3(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new c3(t),e)}class p3 extends Cr{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class m3 extends Cr{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class g3{constructor(){this.count=0,this.delay=new p3,this.duration=new m3}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class y3{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?K(r.delay.value)*(r.delay.sync?1:be())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?K(r.duration.value)*(r.duration.sync?1:be())/n.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new g3);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=ne(0,s.width),a=ne(0,s.width);e.position.x=zt(o),e.position.y=zt(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=K(l.delay.value)*1e3,i.duration=K(l.duration.value)*1e3)}}async function v3(t,e=!0){await t.addParticleUpdater("life",n=>new y3(n),e)}class w3{draw(e,n,i){const r=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function x3(t,e=!0){await t.addShape("line",new w3,e)}class _3{init(){}isEnabled(e){return!go()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(go()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,h=e.getRadius()/s,f={x:(o.x-l.x)*h,y:(o.y-l.y)*h},{offset:p}=e;p.x+=(f.x-p.x)/c,p.y+=(f.y-p.y)/c}}async function b3(t,e=!0){await t.addMover("parallax",()=>new _3,e)}class E3 extends Cy{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Dt(r,a),h=e.options.move.attract.rotate,f=l/(h.x*1e3),p=c/(h.y*1e3),m=o.size.value/e.size.value,v=1/m;e.velocity.x-=f*m,e.velocity.y-=p*m,o.velocity.x+=f*v,o.velocity.y+=p*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function T3(t,e=!0){await t.addInteractor("particlesAttract",n=>new E3(n),e)}function g_(t,e,n,i,r,s){const o=An(t.options.collisions.absorb.speed*r.factor/10,0,i);t.size.value+=o/2,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function S3(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?g_(t,r,e,s,n,i):g_(e,s,t,r,n,i))}const y_=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=K(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function _S(t,e){J2(dm(t),dm(e)),y_(t),y_(e)}function C3(t,e){!t.unbreakable&&!e.unbreakable&&_S(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function I3(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{S3(t,e,n,i);break}case"bounce":{_S(t,e);break}case"destroy":{C3(t,e);break}}}class k3 extends Cy{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const h=Jt(r,l),f=s+c;h>f||I3(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function P3(t,e=!0){await t.addInteractor("particlesCollisions",n=>new k3(n),e)}class A3 extends Tt{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Tt(r.x,r.y,i.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new Rn(r.x,r.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class R3{constructor(){this.blur=5,this.color=new ct,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ct.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class N3{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=ct.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class D3{constructor(){this.blink=!1,this.color=new ct,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new R3,this.triangles=new N3,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ct.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function M3(t,e,n,i,r){const{dx:s,dy:o,distance:a}=Dt(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class j3 extends Cy{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=oS(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<0||n.y<0||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new A3(n.x,n.y,a,r):new Tt(n.x,n.y,a),h=i.particles.quadTree.query(c);for(const f of h){const p=f.options.links;if(e===f||!(p!=null&&p.enable)||s.id!==p.id||f.spawning||f.destroyed||!f.links||e.links.some(S=>S.destination===f)||f.links.some(S=>S.destination===e))continue;const m=f.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const v=M3(n,m,a,r,l&&p.warp);if(v>a)continue;const x=(1-v/a)*o;this._setColor(e),e.links.push({destination:f,opacity:x})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new D3);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function O3(t,e=!0){await t.addInteractor("particlesLinks",n=>new j3(n),e)}function L3(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:h,links:f}=t;if(Jt(n,i)<=r)$a(s,n,i),e=!0;else if(f.warp){let m,v;const x={x:i.x-o.width,y:i.y},S=Dt(n,x);if(S.distance<=r){const w=n.y-S.dy/S.dx*n.x;m={x:0,y:w},v={x:o.width,y:w}}else{const w={x:i.x,y:i.y-o.height},_=Dt(n,w);if(_.distance<=r){const P=-(n.y-_.dy/_.dx*n.x)/(_.dy/_.dx);m={x:P,y:0},v={x:P,y:o.height}}else{const E={x:i.x-o.width,y:i.y-o.height},P=Dt(n,E);if(P.distance<=r){const j=n.y-P.dy/P.dx*n.x;m={x:-j/(P.dy/P.dx),y:j},v={x:m.x+o.width,y:m.y+o.height}}}}m&&v&&($a(s,n,m),$a(s,i,v),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=di(c,h);const{shadow:p}=f;if(p.enable){const m=In(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=di(m))}s.stroke()}function V3(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;vO(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=di(o,a),e.fill()}function F3(t){return t.sort((e,n)=>e-n),t.join("_")}function v_(t,e){const n=F3(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=be(),e.set(n,i)),i}class U3{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=n.getPosition(),c=a.getPosition();let h=i.opacity;s.canvas.draw(f=>{var w;let p;const m=(w=n.options.twinkle)==null?void 0:w.lines;if(m!=null&&m.enable){const _=m.frequency,E=In(m.color);be()<_&&E&&(p=E,h=K(m.opacity))}if(!p){const _=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=fm(n,a,_)}if(!p)return;const v=n.retina.linksWidth??0,x=n.retina.linksDistance??0,{backgroundMask:S}=o;L3({context:f,width:v,begin:l,end:c,maxDistance:x,canvasSize:s.canvas.size,links:r,backgroundMask:S,colorLine:p,opacity:h})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,h=r.destination,f=o.opacity??(i.opacity+r.opacity)/2;f<=0||a.canvas.draw(p=>{const m=n.getPosition(),v=c.getPosition(),x=h.getPosition(),S=n.retina.linksDistance??0;if(Jt(m,v)>S||Jt(x,v)>S||Jt(x,m)>S)return;let w=In(o.color);if(!w){const _=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;w=fm(n,c,_)}w&&V3({context:p,pos1:m,pos2:v,pos3:x,backgroundMask:l.backgroundMask,colorTriangle:w,opacityTriangle:f})})},this._drawTriangles=(n,i,r,s)=>{var l,c,h;const o=r.destination;if(!((l=n.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(h=o.links)==null?void 0:h.filter(f=>{const p=this._getLinkFrequency(o,f.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const p=f.destination;this._getTriangleFrequency(i,o,p)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(n,i)=>v_([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>v_([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(n,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class z3{constructor(){this.id="links"}getPlugin(e){return new U3(e)}loadOptions(){}needsPlugin(){return!0}}async function B3(t,e=!0){const n=new z3;await t.addPlugin(n,e)}async function $3(t,e=!0){await O3(t,e),await B3(t,e)}class bS{draw(e,n,i){const r=this.getCenter(n,i),s=this.getSidesData(n,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let h=0;h<o;h++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const n=e.shapeData;return Math.round(K((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class q3 extends bS{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class H3 extends bS{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function W3(t,e=!0){await t.addShape("polygon",new q3,e)}async function G3(t,e=!0){await t.addShape("triangle",new H3,e)}async function K3(t,e=!0){await W3(t,e),await G3(t,e)}class Q3{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ne(e.speed)),e.decay!==void 0&&(this.decay=ne(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Y3 extends Cr{constructor(){super(),this.animation=new Q3,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function X3(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const r=i.animation,s=(n.velocity??0)*e.factor,o=2*Math.PI,a=n.decay??1;if(r.enable){switch(n.status){case"increasing":n.value+=s,n.value>o&&(n.value-=o);break;case"decreasing":default:n.value-=s,n.value<0&&(n.value+=o);break}n.velocity&&a!==1&&(n.velocity*=a)}}class J3{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:K(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(be()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=n.animation;r.enable&&(e.rotate.decay=1-K(r.decay),e.rotate.velocity=K(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=be())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new Y3);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&(X3(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function Z3(t,e=!0){await t.addParticleUpdater("rotate",n=>new J3(n),e)}const e5=Math.sqrt(2);class t5{draw(e,n,i){const r=i/e5,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function n5(t,e=!0){await t.addShape(["edge","square"],new t5,e)}class i5{draw(e,n,i){const r=n.sides,s=n.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(K((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,r=K((i==null?void 0:i.inset)??2);n.starInset=r}}async function r5(t,e=!0){await t.addShape("star",new i5,e)}function Ff(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=zt(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function s5(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:r}=t.strokeColor,{h:s,s:o,l:a}=t.strokeAnimation;n&&Ff(e,n,s,360,!1),i&&Ff(e,i,o,100,!0),r&&Ff(e,r,a,100,!0)}class o5{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,r=hi(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=K(r.width)*n.retina.pixelRatio,e.strokeOpacity=K(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=bl(r.color)??e.getFillColor();s&&(e.strokeColor=aS(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&s5(e,n)}}async function a5(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new o5(n),e)}const ou=["text","character","char"];class l5{draw(e,n,i,r){const s=n.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;n.text===void 0&&(n.text=hi(o,n.randomIndexData));const a=n.text,l=s.style??"",c=s.weight??"400",h=Math.round(i)*2,f=s.font??"Verdana",p=n.fill,m=a.length*i/2;e.font=`${l} ${c} ${h}px "${f}"`;const v={x:-m,y:i/2};e.globalAlpha=r,p?e.fillText(a,v.x,v.y):e.strokeText(a,v.x,v.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(ou.find(i=>Ue(i,n.particles.shape.type))){const i=ou.map(s=>n.particles.shape.options[s]).find(s=>!!s),r=[];et(i,s=>{r.push(cO(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,n){if(!n.shape||!ou.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(n.text=hi(r,n.randomIndexData))}}async function c5(t,e=!0){await t.addShape(ou,new l5,e)}async function u5(t,e=!0){jL(t),await b3(t,!1),await mV(t,!1),await vV(t,!1),await bV(t,!1),await AV(t,!1),await OV(t,!1),await VV(t,!1),await zV(t,!1),await qV(t,!1),await KV(t,!1),await XV(t,!1),await T3(t,!1),await P3(t,!1),await $3(t,!1),await dV(),await f3(t,!1),await x3(t,!1),await K3(t,!1),await n5(t,!1),await r5(t,!1),await c5(t,!1),await v3(t,!1),await Z3(t,!1),await a5(t,!1),await hV(t,e)}const h5=()=>{const t=R.useCallback(async n=>{await u5(n)},[]),e=R.useCallback(async n=>{n?console.log("Particles container loaded successfully",n):console.log("Particles failed to load")},[]);return d.jsx(gS,{id:"tsparticles",init:t,loaded:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0},options:{background:{color:{value:"transparent"}},fullScreen:{enable:!1,zIndex:-1},particles:{color:{value:"#883AEA"},links:{color:"#E0CCFA",distance:150,enable:!0,opacity:.3,width:1},move:{enable:!0,speed:1.5},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},size:{value:{min:1,max:3}}},detectRetina:!0,interactivity:{events:{onHover:{enable:!0,mode:"grab"}},modes:{grab:{distance:140,links:{opacity:.5}}}}}})},d5=[{name:"Course Information",description:"Access detailed course materials, syllabi, and learning objectives.",icon:ho,href:"/courses"},{name:"Resource Database",description:"Explore our curated collection of textbooks, papers, and tutorials.",icon:mT,href:"/resources"},{name:"Events",description:"Stay updated with upcoming conferences, seminars, and workshops.",icon:pl,href:"/events"},{name:"Members",description:"Connect with peers, discuss topics, and share knowledge.",icon:hr,href:"/members"}],w_=[{title:"New Research Papers Added",description:"Check out the latest additions to our resource database."},{title:"Upcoming Workshop",description:"Join us for a hands-on workshop on practical cryptography next week."},{title:"Course Materials Updated",description:"New lecture notes and practice problems have been added to the courses section."}];function f5(){return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"relative min-h-screen bg-transparent",children:[d.jsx(h5,{}),d.jsxs("div",{className:"relative z-10 space-y-12",children:[d.jsxs(z.div,{className:"text-center",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.2},children:[d.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl",children:"Welcome to VeilCode Labs"}),d.jsx("p",{className:"mt-6 text-lg leading-8 text-[rgb(224,204,250)]",children:"Your comprehensive resource for Applied Cryptography and Topics in Cryptanalysis at IIIT Delhi."}),d.jsxs(z.div,{className:"mt-10 flex items-center justify-center gap-x-6",whileHover:{scale:1.05},children:[d.jsx(un,{to:"/courses",className:"rounded-md bg-[rgb(136,58,234)] px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-[rgb(49,10,101)] transition-all duration-300",children:"Explore Courses"}),d.jsx(un,{to:"/about",className:"text-sm font-semibold leading-6 text-[rgb(224,204,250)] hover:text-white transition-colors duration-300",children:"Learn more "})]})]}),d.jsxs(z.div,{className:"mx-auto max-w-7xl px-6 lg:px-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},children:[d.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[d.jsx("h2",{className:"text-base font-semibold text-[rgb(224,204,250)]",children:"Everything you need"}),d.jsx("p",{className:"mt-2 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Comprehensive Learning Resources"})]}),d.jsx("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none",children:d.jsx("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-2",children:d5.map((t,e)=>d.jsxs(z.div,{className:"group relative flex flex-col rounded-lg border border-[rgb(136,58,234)] p-6 hover:bg-[rgba(136,58,234,0.1)] transition",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.2,delay:e*.1},whileHover:{scale:1.05},children:[d.jsxs("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-white",children:[d.jsx(t.icon,{className:"h-5 w-5 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"}),t.name]}),d.jsx("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-[rgb(224,204,250)] group-hover:text-white transition-colors duration-300",children:d.jsx("p",{className:"flex-auto",children:t.description})})]},t.name))})})]}),d.jsx("h3",{class:"text-2xl font-bold text-white mb-2",children:"Latest Updates"}),d.jsx("div",{className:"relative h-40 overflow-hidden",children:d.jsx(z.div,{className:"space-y-4 absolute top-0",animate:{y:["0%","-100%"]},transition:{duration:10,repeat:1/0,ease:"linear"},children:w_.concat(w_).map((t,e)=>d.jsxs("div",{className:"border-l-4 border-[rgb(136,58,234)] pl-4",children:[d.jsx("h3",{className:"font-semibold text-[rgb(224,204,250)]",children:t.title}),d.jsx("p",{className:"text-white",children:t.description})]},e))})})]})]})})}const p5=()=>{};var x_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},m5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},TS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),i.push(n[h],n[f],n[p],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ES(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):m5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new g5;const p=s<<2|a>>4;if(i.push(p),c!==64){const m=a<<4&240|c>>2;if(i.push(m),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class g5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const y5=function(t){const e=ES(t);return TS.encodeByteArray(e,!0)},eh=function(t){return y5(t).replace(/\./g,"")},SS=function(t){try{return TS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=()=>v5().__FIREBASE_DEFAULTS__,x5=()=>{if(typeof process>"u"||typeof x_>"u")return;const t=x_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SS(t[1]);return e&&JSON.parse(e)},Hh=()=>{try{return p5()||w5()||x5()||_5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CS=t=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},b5=t=>{const e=CS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},IS=()=>{var t;return(t=Hh())===null||t===void 0?void 0:t.config},kS=t=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eh(JSON.stringify(n)),eh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function S5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function C5(){var t;const e=(t=Hh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function P5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A5(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function R5(){return!C5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N5(){try{return typeof indexedDB=="object"}catch{return!1}}function D5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5="FirebaseError";class Si extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=M5,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?j5(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Si(r,a,i)}}function j5(t,e){return t.replace(O5,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const O5=/\{\$([^}]+)}/g;function L5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(__(s)&&__(o)){if(!rs(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function __(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function V5(t,e){const n=new F5(t,e);return n.subscribe.bind(n)}class F5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");U5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Uf),r.error===void 0&&(r.error=Uf),r.complete===void 0&&(r.complete=Uf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Uf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class ss{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new E5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($5(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:B5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B5(t){return t===Ur?void 0:t}function $5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new z5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const H5={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},W5=oe.INFO,G5={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},K5=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=G5[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=W5,this._logHandler=K5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const Q5=(t,e)=>e.some(n=>t instanceof n);let b_,E_;function Y5(){return b_||(b_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X5(){return E_||(E_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PS=new WeakMap,pm=new WeakMap,AS=new WeakMap,zf=new WeakMap,ky=new WeakMap;function J5(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ir(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PS.set(n,t)}).catch(()=>{}),ky.set(e,t),e}function Z5(t){if(pm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pm.set(t,e)}let mm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function eF(t){mm=t(mm)}function tF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Bf(this),e,...n);return AS.set(i,e.sort?e.sort():[e]),ir(i)}:X5().includes(t)?function(...e){return t.apply(Bf(this),e),ir(PS.get(this))}:function(...e){return ir(t.apply(Bf(this),e))}}function nF(t){return typeof t=="function"?tF(t):(t instanceof IDBTransaction&&Z5(t),Q5(t,Y5())?new Proxy(t,mm):t)}function ir(t){if(t instanceof IDBRequest)return J5(t);if(zf.has(t))return zf.get(t);const e=nF(t);return e!==t&&(zf.set(t,e),ky.set(e,t)),e}const Bf=t=>ky.get(t);function iF(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ir(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ir(o.result),l.oldVersion,l.newVersion,ir(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const rF=["get","getKey","getAll","getAllKeys","count"],sF=["put","add","delete","clear"],$f=new Map;function T_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($f.get(e))return $f.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=sF.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||rF.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return $f.set(e,s),s}eF(t=>({...t,get:(e,n,i)=>T_(e,n)||t.get(e,n,i),has:(e,n)=>!!T_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aF(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function aF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gm="@firebase/app",S_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new Iy("@firebase/app"),lF="@firebase/app-compat",cF="@firebase/analytics-compat",uF="@firebase/analytics",hF="@firebase/app-check-compat",dF="@firebase/app-check",fF="@firebase/auth",pF="@firebase/auth-compat",mF="@firebase/database",gF="@firebase/data-connect",yF="@firebase/database-compat",vF="@firebase/functions",wF="@firebase/functions-compat",xF="@firebase/installations",_F="@firebase/installations-compat",bF="@firebase/messaging",EF="@firebase/messaging-compat",TF="@firebase/performance",SF="@firebase/performance-compat",CF="@firebase/remote-config",IF="@firebase/remote-config-compat",kF="@firebase/storage",PF="@firebase/storage-compat",AF="@firebase/firestore",RF="@firebase/vertexai",NF="@firebase/firestore-compat",DF="firebase",MF="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",jF={[gm]:"fire-core",[lF]:"fire-core-compat",[uF]:"fire-analytics",[cF]:"fire-analytics-compat",[dF]:"fire-app-check",[hF]:"fire-app-check-compat",[fF]:"fire-auth",[pF]:"fire-auth-compat",[mF]:"fire-rtdb",[gF]:"fire-data-connect",[yF]:"fire-rtdb-compat",[vF]:"fire-fn",[wF]:"fire-fn-compat",[xF]:"fire-iid",[_F]:"fire-iid-compat",[bF]:"fire-fcm",[EF]:"fire-fcm-compat",[TF]:"fire-perf",[SF]:"fire-perf-compat",[CF]:"fire-rc",[IF]:"fire-rc-compat",[kF]:"fire-gcs",[PF]:"fire-gcs-compat",[AF]:"fire-fst",[NF]:"fire-fst-compat",[RF]:"fire-vertex","fire-js":"fire-js",[DF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,OF=new Map,vm=new Map;function C_(t,e){try{t.container.addComponent(e)}catch(n){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vo(t){const e=t.name;if(vm.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,t);for(const n of th.values())C_(n,t);for(const n of OF.values())C_(n,t);return!0}function Py(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rr=new ql("app","Firebase",LF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=MF;function RS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ym,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw rr.create("bad-app-name",{appName:String(r)});if(n||(n=IS()),!n)throw rr.create("no-options");const s=th.get(r);if(s){if(rs(n,s.options)&&rs(i,s.config))return s;throw rr.create("duplicate-app",{appName:r})}const o=new q5(r);for(const l of vm.values())o.addComponent(l);const a=new VF(n,i,o);return th.set(r,a),a}function NS(t=ym){const e=th.get(t);if(!e&&t===ym&&IS())return RS();if(!e)throw rr.create("no-app",{appName:t});return e}function sr(t,e,n){var i;let r=(i=jF[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}vo(new ss(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="firebase-heartbeat-database",UF=1,Sl="firebase-heartbeat-store";let qf=null;function DS(){return qf||(qf=iF(FF,UF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),qf}async function zF(t){try{const n=(await DS()).transaction(Sl),i=await n.objectStore(Sl).get(MS(t));return await n.done,i}catch(e){if(e instanceof Si)wi.warn(e.message);else{const n=rr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(n.message)}}}async function I_(t,e){try{const i=(await DS()).transaction(Sl,"readwrite");await i.objectStore(Sl).put(e,MS(t)),await i.done}catch(n){if(n instanceof Si)wi.warn(n.message);else{const i=rr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});wi.warn(i.message)}}}function MS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=1024,$F=30;class qF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WF(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=k_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>$F){const o=GF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){wi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=k_(),{heartbeatsToSend:i,unsentEntries:r}=HF(this._heartbeatsCache.heartbeats),s=eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return wi.warn(n),""}}}function k_(){return new Date().toISOString().substring(0,10)}function HF(t,e=BF){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),P_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),P_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class WF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N5()?D5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await zF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return I_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function P_(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}function GF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){vo(new ss("platform-logger",e=>new oF(e),"PRIVATE")),vo(new ss("heartbeat",e=>new qF(e),"PRIVATE")),sr(gm,S_,t),sr(gm,S_,"esm2017"),sr("fire-js","")}KF("");var QF="firebase",YF="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sr(QF,YF,"app");function Ay(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function jS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XF=jS,OS=new ql("auth","Firebase",jS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Iy("@firebase/auth");function JF(t,...e){nh.logLevel<=oe.WARN&&nh.warn(`Auth (${Lo}): ${t}`,...e)}function au(t,...e){nh.logLevel<=oe.ERROR&&nh.error(`Auth (${Lo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw Ry(t,...e)}function Bn(t,...e){return Ry(t,...e)}function LS(t,e,n){const i=Object.assign(Object.assign({},XF()),{[e]:n});return new ql("auth","Firebase",i).create(e,{appName:t.name})}function or(t){return LS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return OS.create(t,...e)}function X(t,e,...n){if(!t)throw Ry(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw au(e),new Error(e)}function xi(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZF(){return A_()==="http:"||A_()==="https:"}function A_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZF()||k5()||"connection"in navigator)?navigator.onLine:!0}function t6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=S5()||P5()}get(){return e6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new Wl(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ir(t,e,n,i,r={}){return FS(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return I5()||(c.referrerPolicy="no-referrer"),VS.fetch()(US(t,t.config.apiHost,n,a),c)})}async function FS(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},n6),e);try{const r=new s6(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Vc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vc(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LS(t,h,c);Nn(t,h)}}catch(r){if(r instanceof Si)throw r;Nn(t,"network-request-failed",{message:String(r)})}}async function Wh(t,e,n,i,r={}){const s=await Ir(t,e,n,i,r);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function US(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Ny(t.config,r):`${t.config.apiScheme}://${r}`}function r6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bn(this.auth,"network-request-failed")),i6.get())})}}function Vc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Bn(t,e,i);return r.customData._tokenResponse=n,r}function R_(t){return t!==void 0&&t.enterprise!==void 0}class o6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function a6(t,e){return Ir(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(t,e){return Ir(t,"POST","/v1/accounts:delete",e)}async function zS(t,e){return Ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function c6(t,e=!1){const n=ut(t),i=await n.getIdToken(e),r=Dy(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:qa(Hf(r.auth_time)),issuedAtTime:qa(Hf(r.iat)),expirationTime:qa(Hf(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hf(t){return Number(t)*1e3}function Dy(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const r=SS(n);return r?JSON.parse(r):(au("Failed to decode base64 JWT payload"),null)}catch(r){return au("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function N_(t){const e=Dy(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Si&&u6(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function u6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qa(this.lastLoginAt),this.creationTime=qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Cl(t,zS(n,{idToken:i}));X(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BS(s.providerUserInfo):[],a=f6(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new xm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function d6(t){const e=ut(t);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function f6(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function BS(t){return t.map(e=>{var{providerId:n}=e,i=Ay(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(t,e){const n=await FS(t,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=US(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VS.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function m6(t,e){return Ir(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):N_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=N_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await p6(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new eo;return i&&(X(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class oi{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new xm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return c6(this,e)}reload(){return d6(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await Cl(this,l6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,h;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:P,isAnonymous:j,providerData:L,stsTokenManager:C}=n;X(E&&C,e,"internal-error");const b=eo.fromJSON(this.name,C);X(typeof E=="string",e,"internal-error"),Ri(f,e.name),Ri(p,e.name),X(typeof P=="boolean",e,"internal-error"),X(typeof j=="boolean",e,"internal-error"),Ri(m,e.name),Ri(v,e.name),Ri(x,e.name),Ri(S,e.name),Ri(w,e.name),Ri(_,e.name);const I=new oi({uid:E,auth:e,email:p,emailVerified:P,displayName:f,isAnonymous:j,photoURL:v,phoneNumber:m,tenantId:x,stsTokenManager:b,createdAt:w,lastLoginAt:_});return L&&Array.isArray(L)&&(I.providerData=L.map(k=>Object.assign({},k))),S&&(I._redirectEventId=S),I}static async _fromIdTokenResponse(e,n,i=!1){const r=new eo;r.updateFromServerResponse(n);const s=new oi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await ih(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];X(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?BS(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new eo;a.updateFromIdToken(i);const l=new oi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new xm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;function ai(t){xi(t instanceof Function,"Expected a class definition");let e=D_.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,D_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$S.type="NONE";const M_=$S;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e,n){return`firebase:${t}:${e}:${n}`}class to{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=lu(this.userKey,r.apiKey,s),this.fullPersistenceKey=lu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?oi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new to(ai(M_),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||ai(M_);const o=lu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=oi._fromJSON(e,h);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new to(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new to(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QS(e))return"Blackberry";if(YS(e))return"Webos";if(HS(e))return"Safari";if((e.includes("chrome/")||WS(e))&&!e.includes("edge/"))return"Chrome";if(KS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function qS(t=Ct()){return/firefox\//i.test(t)}function HS(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WS(t=Ct()){return/crios\//i.test(t)}function GS(t=Ct()){return/iemobile/i.test(t)}function KS(t=Ct()){return/android/i.test(t)}function QS(t=Ct()){return/blackberry/i.test(t)}function YS(t=Ct()){return/webos/i.test(t)}function My(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function g6(t=Ct()){var e;return My(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y6(){return A5()&&document.documentMode===10}function XS(t=Ct()){return My(t)||KS(t)||YS(t)||QS(t)||/windows phone/i.test(t)||GS(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e=[]){let n;switch(t){case"Browser":n=j_(Ct());break;case"Worker":n=`${j_(Ct())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(t,e={}){return Ir(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=6;class _6{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O_(this),this.idTokenSubscription=new O_(this),this.beforeStateQueue=new v6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=OS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zS(this,{idToken:e}),i=await oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(bn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(or(this));const n=e?ut(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w6(this),n=new _6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await m6(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ai(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&JF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Vo(t){return ut(t)}class O_{constructor(e){this.auth=e,this.observer=null,this.addObserver=V5(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function E6(t){Gh=t}function ZS(t){return Gh.loadJS(t)}function T6(){return Gh.recaptchaEnterpriseScript}function S6(){return Gh.gapiScript}function C6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class I6{constructor(){this.enterprise=new k6}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class k6{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const P6="recaptcha-enterprise",eC="NO_RECAPTCHA";class A6{constructor(e){this.type=P6,this.auth=Vo(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{a6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new o6(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;R_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(eC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new I6().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&R_(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=T6();l.length!==0&&(l+=a),ZS(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function L_(t,e,n,i=!1,r=!1){const s=new A6(t);let o;if(r)o=eC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function V_(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await L_(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await L_(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t,e){const n=Py(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(rs(s,e??{}))return r;Nn(r,"already-initialized")}return n.initialize({options:e})}function N6(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ai);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function D6(t,e,n){const i=Vo(t);X(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=tC(e),{host:o,port:a}=M6(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){X(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),X(rs(c,i.config.emulator)&&rs(h,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=h,i.settings.appVerificationDisabledForTesting=!0,j6()}function tC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M6(t){const e=tC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:F_(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:F_(o)}}}function F_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function O6(t,e){return Ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L6(t,e){return Wh(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V6(t,e){return Wh(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function F6(t,e){return Wh(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends jy{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Il(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V_(e,n,"signInWithPassword",L6);case"emailLink":return V6(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V_(e,i,"signUpPassword",O6);case"emailLink":return F6(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(t,e){return Wh(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="http://localhost";class os extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Ay(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new os(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,no(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:U6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B6(t){const e=Ea(Ta(t)).link,n=e?Ea(Ta(e)).deep_link_id:null,i=Ea(Ta(t)).deep_link_id;return(i?Ea(Ta(i)).link:null)||i||n||e||t}class Oy{constructor(e){var n,i,r,s,o,a;const l=Ea(Ta(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,f=z6((r=l.mode)!==null&&r!==void 0?r:null);X(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=B6(e);try{return new Oy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return Il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Oy.parseLink(n);return X(i,"argument-error"),Il._fromEmailAndCode(e,i.code,i.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends nC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Gl{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return os._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Fi.credential(n,i)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Gl{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Gl{constructor(){super("twitter.com")}static credential(e,n){return os._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return zi.credential(n,i)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await oi._fromIdTokenResponse(e,i,r),o=U_(i);return new wo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=U_(i);return new wo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function U_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Si{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new rh(e,n,i,r)}}function iC(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(t,s,e,i):s})}async function $6(t,e,n=!1){const i=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return wo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e,n=!1){const{auth:i}=t;if(bn(i.app))return Promise.reject(or(i));const r="reauthenticate";try{const s=await Cl(t,iC(i,r,e,t),n);X(s.idToken,i,"internal-error");const o=Dy(s.idToken);X(o,i,"internal-error");const{sub:a}=o;return X(t.uid===a,i,"user-mismatch"),wo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Nn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,e,n=!1){if(bn(t.app))return Promise.reject(or(t));const i="signIn",r=await iC(t,i,e),s=await wo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function H6(t,e){return rC(Vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t){const e=Vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function G6(t,e,n){return bn(t.app)?Promise.reject(or(t)):H6(ut(t),Fo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&W6(t),i})}function K6(t,e,n,i){return ut(t).onIdTokenChanged(e,n,i)}function Q6(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function Y6(t,e,n,i){return ut(t).onAuthStateChanged(e,n,i)}function X6(t){return ut(t).signOut()}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6=1e3,Z6=10;class oC extends sC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);y6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Z6):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},J6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oC.type="LOCAL";const eU=oC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends sC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aC.type="SESSION";const lC=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Kh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await tU(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Ly("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function iU(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function rU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oU(){return cC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebaseLocalStorageDb",aU=1,oh="firebaseLocalStorage",hC="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(t,e){return t.transaction([oh],e?"readwrite":"readonly").objectStore(oh)}function lU(){const t=indexedDB.deleteDatabase(uC);return new Kl(t).toPromise()}function _m(){const t=indexedDB.open(uC,aU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(oh,{keyPath:hC})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(oh)?e(i):(i.close(),await lU(),e(await _m()))})})}async function z_(t,e,n){const i=Qh(t,!0).put({[hC]:e,value:n});return new Kl(i).toPromise()}async function cU(t,e){const n=Qh(t,!1).get(e),i=await new Kl(n).toPromise();return i===void 0?null:i.value}function B_(t,e){const n=Qh(t,!0).delete(e);return new Kl(n).toPromise()}const uU=800,hU=3;class dC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>hU)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(oU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rU(),!this.activeServiceWorker)return;this.sender=new nU(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _m();return await z_(e,sh,"1"),await B_(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>z_(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>cU(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>B_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Qh(r,!1).getAll();return new Kl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dC.type="LOCAL";const dU=dC;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(t,e){return e?ai(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pU(t){return rC(t.auth,new Vy(t),t.bypassAuthState)}function mU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),q6(n,new Vy(t),t.bypassAuthState)}async function gU(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),$6(n,new Vy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pU;case"linkViaPopup":case"linkViaRedirect":return gU;case"reauthViaPopup":case"reauthViaRedirect":return mU;default:Nn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=new Wl(2e3,1e4);class Gs extends fC{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Bn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yU.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU="pendingRedirect",cu=new Map;class wU extends fC{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=cu.get(this.auth._key());if(!e){try{const i=await xU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}cu.set(this.auth._key(),e)}return this.bypassAuthState||cu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xU(t,e){const n=EU(e),i=bU(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function _U(t,e){cu.set(t._key(),e)}function bU(t){return ai(t._redirectPersistence)}function EU(t){return lu(vU,t.config.apiKey,t.name)}async function TU(t,e,n=!1){if(bn(t.app))return Promise.reject(or(t));const i=Vo(t),r=fU(i,e),o=await new wU(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU=10*60*1e3;class CU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!pC(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Bn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=SU&&this.cachedEventUids.clear(),this.cachedEventUids.has($_(e))}saveEventToCache(e){this.cachedEventUids.add($_(e)),this.lastProcessedEventTime=Date.now()}}function $_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e={}){return Ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AU=/^https?/;async function RU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kU(t);for(const n of e)try{if(NU(n))return}catch{}Nn(t,"unauthorized-domain")}function NU(t){const e=wm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!AU.test(n))return!1;if(PU.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new Wl(3e4,6e4);function q_(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MU(t){return new Promise((e,n)=>{var i,r,s;function o(){q_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q_(),n(Bn(t,"network-request-failed"))},timeout:DU.get()})}if(!((r=(i=$n().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)o();else{const a=C6("iframefcb");return $n()[a]=()=>{gapi.load?o():n(Bn(t,"network-request-failed"))},ZS(`${S6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw uu=null,e})}let uu=null;function jU(t){return uu=uu||MU(t),uu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=new Wl(5e3,15e3),LU="__/auth/iframe",VU="emulator/auth/iframe",FU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zU(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ny(e,VU):`https://${t.config.authDomain}/${LU}`,i={apiKey:e.apiKey,appName:t.name,v:Lo},r=UU.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Hl(i).slice(1)}`}async function BU(t){const e=await jU(t),n=$n().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:zU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FU,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Bn(t,"network-request-failed"),a=$n().setTimeout(()=>{s(o)},OU.get());function l(){$n().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qU=500,HU=600,WU="_blank",GU="http://localhost";class H_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KU(t,e,n,i=qU,r=HU){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$U),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Ct().toLowerCase();n&&(a=WS(c)?WU:n),qS(c)&&(e=e||GU,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(g6(c)&&a!=="_self")return QU(e||"",a),new H_(null);const f=window.open(e||"",a,h);X(f,t,"popup-blocked");try{f.focus()}catch{}return new H_(f)}function QU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU="__/auth/handler",XU="emulator/auth/handler",JU=encodeURIComponent("fac");async function W_(t,e,n,i,r,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Lo,eventId:r};if(e instanceof nC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",L5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Gl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${JU}=${encodeURIComponent(l)}`:"";return`${ZU(t)}?${Hl(a).slice(1)}${c}`}function ZU({config:t}){return t.emulator?Ny(t,XU):`https://${t.authDomain}/${YU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="webStorageSupport";class ez{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lC,this._completeRedirectFn=TU,this._overrideRedirectResult=_U}async _openPopup(e,n,i,r){var s;xi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await W_(e,n,i,wm(),r);return KU(e,o,Ly())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await W_(e,n,i,wm(),r);return iU(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(xi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await BU(e),i=new CU(e);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wf,{type:Wf},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Wf];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=RU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XS()||HS()||My()}}const tz=ez;var G_="@firebase/auth",K_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rz(t){vo(new ss("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(t)},c=new b6(i,r,s,l);return N6(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),vo(new ss("auth-internal",e=>{const n=Vo(e.getProvider("auth").getImmediate());return(i=>new nz(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sr(G_,K_,iz(t)),sr(G_,K_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=5*60,oz=kS("authIdTokenMaxAge")||sz;let Q_=null;const az=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>oz)return;const r=n==null?void 0:n.token;Q_!==r&&(Q_=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function lz(t=NS()){const e=Py(t,"auth");if(e.isInitialized())return e.getImmediate();const n=R6(t,{popupRedirectResolver:tz,persistence:[dU,eU,lC]}),i=kS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=az(s.toString());Q6(n,o,()=>o(n.currentUser)),K6(n,a=>o(a))}}const r=CS("auth");return r&&D6(n,`http://${r}`),n}function cz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}E6({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Bn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",cz().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rz("Browser");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ar,mC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function I(){}I.prototype=b.prototype,C.D=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(k,N,D){for(var A=Array(arguments.length-2),It=2;It<arguments.length;It++)A[It-2]=arguments[It];return b.prototype[N].apply(k,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,b,I){I||(I=0);var k=Array(16);if(typeof b=="string")for(var N=0;16>N;++N)k[N]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(N=0;16>N;++N)k[N]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],N=C.g[2];var D=C.g[3],A=b+(D^I&(N^D))+k[0]+3614090360&4294967295;b=I+(A<<7&4294967295|A>>>25),A=D+(N^b&(I^N))+k[1]+3905402710&4294967295,D=b+(A<<12&4294967295|A>>>20),A=N+(I^D&(b^I))+k[2]+606105819&4294967295,N=D+(A<<17&4294967295|A>>>15),A=I+(b^N&(D^b))+k[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=b+(D^I&(N^D))+k[4]+4118548399&4294967295,b=I+(A<<7&4294967295|A>>>25),A=D+(N^b&(I^N))+k[5]+1200080426&4294967295,D=b+(A<<12&4294967295|A>>>20),A=N+(I^D&(b^I))+k[6]+2821735955&4294967295,N=D+(A<<17&4294967295|A>>>15),A=I+(b^N&(D^b))+k[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=b+(D^I&(N^D))+k[8]+1770035416&4294967295,b=I+(A<<7&4294967295|A>>>25),A=D+(N^b&(I^N))+k[9]+2336552879&4294967295,D=b+(A<<12&4294967295|A>>>20),A=N+(I^D&(b^I))+k[10]+4294925233&4294967295,N=D+(A<<17&4294967295|A>>>15),A=I+(b^N&(D^b))+k[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=b+(D^I&(N^D))+k[12]+1804603682&4294967295,b=I+(A<<7&4294967295|A>>>25),A=D+(N^b&(I^N))+k[13]+4254626195&4294967295,D=b+(A<<12&4294967295|A>>>20),A=N+(I^D&(b^I))+k[14]+2792965006&4294967295,N=D+(A<<17&4294967295|A>>>15),A=I+(b^N&(D^b))+k[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=b+(N^D&(I^N))+k[1]+4129170786&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^N&(b^I))+k[6]+3225465664&4294967295,D=b+(A<<9&4294967295|A>>>23),A=N+(b^I&(D^b))+k[11]+643717713&4294967295,N=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(N^D))+k[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=b+(N^D&(I^N))+k[5]+3593408605&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^N&(b^I))+k[10]+38016083&4294967295,D=b+(A<<9&4294967295|A>>>23),A=N+(b^I&(D^b))+k[15]+3634488961&4294967295,N=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(N^D))+k[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=b+(N^D&(I^N))+k[9]+568446438&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^N&(b^I))+k[14]+3275163606&4294967295,D=b+(A<<9&4294967295|A>>>23),A=N+(b^I&(D^b))+k[3]+4107603335&4294967295,N=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(N^D))+k[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=b+(N^D&(I^N))+k[13]+2850285829&4294967295,b=I+(A<<5&4294967295|A>>>27),A=D+(I^N&(b^I))+k[2]+4243563512&4294967295,D=b+(A<<9&4294967295|A>>>23),A=N+(b^I&(D^b))+k[7]+1735328473&4294967295,N=D+(A<<14&4294967295|A>>>18),A=I+(D^b&(N^D))+k[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=b+(I^N^D)+k[5]+4294588738&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^N)+k[8]+2272392833&4294967295,D=b+(A<<11&4294967295|A>>>21),A=N+(D^b^I)+k[11]+1839030562&4294967295,N=D+(A<<16&4294967295|A>>>16),A=I+(N^D^b)+k[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=b+(I^N^D)+k[1]+2763975236&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^N)+k[4]+1272893353&4294967295,D=b+(A<<11&4294967295|A>>>21),A=N+(D^b^I)+k[7]+4139469664&4294967295,N=D+(A<<16&4294967295|A>>>16),A=I+(N^D^b)+k[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=b+(I^N^D)+k[13]+681279174&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^N)+k[0]+3936430074&4294967295,D=b+(A<<11&4294967295|A>>>21),A=N+(D^b^I)+k[3]+3572445317&4294967295,N=D+(A<<16&4294967295|A>>>16),A=I+(N^D^b)+k[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=b+(I^N^D)+k[9]+3654602809&4294967295,b=I+(A<<4&4294967295|A>>>28),A=D+(b^I^N)+k[12]+3873151461&4294967295,D=b+(A<<11&4294967295|A>>>21),A=N+(D^b^I)+k[15]+530742520&4294967295,N=D+(A<<16&4294967295|A>>>16),A=I+(N^D^b)+k[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=b+(N^(I|~D))+k[0]+4096336452&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~N))+k[7]+1126891415&4294967295,D=b+(A<<10&4294967295|A>>>22),A=N+(b^(D|~I))+k[14]+2878612391&4294967295,N=D+(A<<15&4294967295|A>>>17),A=I+(D^(N|~b))+k[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=b+(N^(I|~D))+k[12]+1700485571&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~N))+k[3]+2399980690&4294967295,D=b+(A<<10&4294967295|A>>>22),A=N+(b^(D|~I))+k[10]+4293915773&4294967295,N=D+(A<<15&4294967295|A>>>17),A=I+(D^(N|~b))+k[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=b+(N^(I|~D))+k[8]+1873313359&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~N))+k[15]+4264355552&4294967295,D=b+(A<<10&4294967295|A>>>22),A=N+(b^(D|~I))+k[6]+2734768916&4294967295,N=D+(A<<15&4294967295|A>>>17),A=I+(D^(N|~b))+k[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=b+(N^(I|~D))+k[4]+4149444226&4294967295,b=I+(A<<6&4294967295|A>>>26),A=D+(I^(b|~N))+k[11]+3174756917&4294967295,D=b+(A<<10&4294967295|A>>>22),A=N+(b^(D|~I))+k[2]+718787259&4294967295,N=D+(A<<15&4294967295|A>>>17),A=I+(D^(N|~b))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+D&4294967295}i.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var I=b-this.blockSize,k=this.B,N=this.h,D=0;D<b;){if(N==0)for(;D<=I;)r(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<b;)if(k[N++]=C.charCodeAt(D++),N==this.blockSize){r(this,k),N=0;break}}else for(;D<b;)if(k[N++]=C[D++],N==this.blockSize){r(this,k),N=0;break}}this.h=N,this.o+=b},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var I=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=I&255,I/=256;for(this.u(C),C=Array(16),b=I=0;4>b;++b)for(var k=0;32>k;k+=8)C[I++]=this.g[b]>>>k&255;return C};function s(C,b){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function o(C,b){this.h=b;for(var I=[],k=!0,N=C.length-1;0<=N;N--){var D=C[N]|0;k&&D==b||(I[N]=D,k=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return S(c(-C));for(var b=[],I=1,k=0;C>=I;k++)b[k]=C/I|0,I*=4294967296;return new o(b,0)}function h(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return S(h(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(b,8)),k=f,N=0;N<C.length;N+=8){var D=Math.min(8,C.length-N),A=parseInt(C.substring(N,N+D),b);8>D?(D=c(Math.pow(b,D)),k=k.j(D).add(c(A))):(k=k.j(I),k=k.add(c(A)))}return k}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-S(this).m();for(var C=0,b=1,I=0;I<this.g.length;I++){var k=this.i(I);C+=(0<=k?k:4294967296+k)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(x(this))return"-"+S(this).toString(C);for(var b=c(Math.pow(C,6)),I=this,k="";;){var N=P(I,b).g;I=w(I,N.j(b));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=N,v(I))return D+k;for(;6>D.length;)D="0"+D;k=D+k}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function x(C){return C.h==-1}t.l=function(C){return C=w(this,C),x(C)?-1:v(C)?0:1};function S(C){for(var b=C.g.length,I=[],k=0;k<b;k++)I[k]=~C.g[k];return new o(I,~C.h).add(p)}t.abs=function(){return x(this)?S(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],k=0,N=0;N<=b;N++){var D=k+(this.i(N)&65535)+(C.i(N)&65535),A=(D>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);k=A>>>16,D&=65535,A&=65535,I[N]=A<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(C,b){return C.add(S(b))}t.j=function(C){if(v(this)||v(C))return f;if(x(this))return x(C)?S(this).j(S(C)):S(S(this).j(C));if(x(C))return S(this.j(S(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,I=[],k=0;k<2*b;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<C.g.length;N++){var D=this.i(k)>>>16,A=this.i(k)&65535,It=C.i(N)>>>16,Ci=C.i(N)&65535;I[2*k+2*N]+=A*Ci,_(I,2*k+2*N),I[2*k+2*N+1]+=D*Ci,_(I,2*k+2*N+1),I[2*k+2*N+1]+=A*It,_(I,2*k+2*N+1),I[2*k+2*N+2]+=D*It,_(I,2*k+2*N+2)}for(k=0;k<b;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=b;k<2*b;k++)I[k]=0;return new o(I,0)};function _(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function E(C,b){this.g=C,this.h=b}function P(C,b){if(v(b))throw Error("division by zero");if(v(C))return new E(f,f);if(x(C))return b=P(S(C),b),new E(S(b.g),S(b.h));if(x(b))return b=P(C,S(b)),new E(S(b.g),b.h);if(30<C.g.length){if(x(C)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var I=p,k=b;0>=k.l(C);)I=j(I),k=j(k);var N=L(I,1),D=L(k,1);for(k=L(k,2),I=L(I,2);!v(k);){var A=D.add(k);0>=A.l(C)&&(N=N.add(I),D=A),k=L(k,1),I=L(I,1)}return b=w(C,N.j(b)),new E(N,b)}for(N=f;0<=C.l(b);){for(I=Math.max(1,Math.floor(C.m()/b.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),D=c(I),A=D.j(b);x(A)||0<A.l(C);)I-=k,D=c(I),A=D.j(b);v(D)&&(D=p),N=N.add(D),C=w(C,A)}return new E(N,C)}t.A=function(C){return P(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],k=0;k<b;k++)I[k]=this.i(k)&C.i(k);return new o(I,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],k=0;k<b;k++)I[k]=this.i(k)|C.i(k);return new o(I,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),I=[],k=0;k<b;k++)I[k]=this.i(k)^C.i(k);return new o(I,this.h^C.h)};function j(C){for(var b=C.g.length+1,I=[],k=0;k<b;k++)I[k]=C.i(k)<<1|C.i(k-1)>>>31;return new o(I,C.h)}function L(C,b){var I=b>>5;b%=32;for(var k=C.g.length-I,N=[],D=0;D<k;D++)N[D]=0<b?C.i(D+I)>>>b|C.i(D+I+1)<<32-b:C.i(D+I);return new o(N,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,mC=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ar=o}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gC,Sa,yC,hu,bm,vC,wC,xC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,y){return u==Array.prototype||u==Object.prototype||(u[g]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<u.length;++g){var y=u[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(u,g){if(g)e:{var y=i;u=u.split(".");for(var T=0;T<u.length-1;T++){var M=u[T];if(!(M in y))break e;y=y[M]}u=u[u.length-1],T=y[u],g=g(T),g!=T&&g!=null&&e(y,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var y=0,T=!1,M={next:function(){if(!T&&y<u.length){var O=y++;return{value:g(O,u[O]),done:!1}}return T=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,y){return u.call.apply(u.bind,arguments)}function f(u,g,y){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,T),u.apply(g,M)}}return function(){return u.apply(g,arguments)}}function p(u,g,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function m(u,g){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function v(u,g){function y(){}y.prototype=g.prototype,u.aa=g.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(T,M,O){for(var B=Array(arguments.length-2),me=2;me<arguments.length;me++)B[me-2]=arguments[me];return g.prototype[M].apply(T,B)}}function x(u){const g=u.length;if(0<g){const y=Array(g);for(let T=0;T<g;T++)y[T]=u[T];return y}return[]}function S(u,g){for(let y=1;y<arguments.length;y++){const T=arguments[y];if(l(T)){const M=u.length||0,O=T.length||0;u.length=M+O;for(let B=0;B<O;B++)u[M+B]=T[B]}else u.push(T)}}class w{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function P(u){return P[" "](u),u}P[" "]=function(){};var j=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(u,g,y){for(const T in u)g.call(y,u[T],T,u)}function C(u,g){for(const y in u)g.call(void 0,u[y],y,u)}function b(u){const g={};for(const y in u)g[y]=u[y];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,g){let y,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(y in T)u[y]=T[y];for(let O=0;O<I.length;O++)y=I[O],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function N(u){var g=1;u=u.split(":");const y=[];for(;0<g&&u.length;)y.push(u.shift()),g--;return u.length&&y.push(u.join(":")),y}function D(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Y;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class It{constructor(){this.h=this.g=null}add(g,y){const T=Ci.get();T.set(g,y),this.h?this.h.next=T:this.g=T,this.h=T}}var Ci=new w(()=>new ys,u=>u.reset());class ys{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,$=!1,Y=new It,Z=()=>{const u=a.Promise.resolve(void 0);ve=()=>{u.then(Ce)}};var Ce=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){D(y)}var g=Ci;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}$=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var Qn=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return u}();function Yn(u,g){if(Oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(j){e:{try{P(g.nodeName);var M=!0;break e}catch{}M=!1}M||(g=null)}}else y=="mouseover"?g=u.fromElement:y=="mouseout"&&(g=u.toElement);this.relatedTarget=g,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Xn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Yn.aa.h.call(this)}}v(Yn,Oe);var Xn={2:"touch",3:"pen",4:"mouse"};Yn.prototype.h=function(){Yn.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Jn="closure_listenable_"+(1e6*Math.random()|0),XI=0;function JI(u,g,y,T,M){this.listener=u,this.proxy=null,this.src=g,this.type=y,this.capture=!!T,this.ha=M,this.key=++XI,this.da=this.fa=!1}function Zl(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ec(u){this.src=u,this.g={},this.h=0}ec.prototype.add=function(u,g,y,T,M){var O=u.toString();u=this.g[O],u||(u=this.g[O]=[],this.h++);var B=pd(u,g,T,M);return-1<B?(g=u[B],y||(g.fa=!1)):(g=new JI(g,this.src,O,!!T,M),g.fa=y,u.push(g)),g};function fd(u,g){var y=g.type;if(y in u.g){var T=u.g[y],M=Array.prototype.indexOf.call(T,g,void 0),O;(O=0<=M)&&Array.prototype.splice.call(T,M,1),O&&(Zl(g),u.g[y].length==0&&(delete u.g[y],u.h--))}}function pd(u,g,y,T){for(var M=0;M<u.length;++M){var O=u[M];if(!O.da&&O.listener==g&&O.capture==!!y&&O.ha==T)return M}return-1}var md="closure_lm_"+(1e6*Math.random()|0),gd={};function wv(u,g,y,T,M){if(Array.isArray(g)){for(var O=0;O<g.length;O++)wv(u,g[O],y,T,M);return null}return y=bv(y),u&&u[Jn]?u.K(g,y,c(T)?!!T.capture:!!T,M):ZI(u,g,y,!1,T,M)}function ZI(u,g,y,T,M,O){if(!g)throw Error("Invalid event type");var B=c(M)?!!M.capture:!!M,me=vd(u);if(me||(u[md]=me=new ec(u)),y=me.add(g,y,T,B,O),y.proxy)return y;if(T=ek(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)Qn||(M=B),M===void 0&&(M=!1),u.addEventListener(g.toString(),T,M);else if(u.attachEvent)u.attachEvent(_v(g.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ek(){function u(y){return g.call(u.src,u.listener,y)}const g=tk;return u}function xv(u,g,y,T,M){if(Array.isArray(g))for(var O=0;O<g.length;O++)xv(u,g[O],y,T,M);else T=c(T)?!!T.capture:!!T,y=bv(y),u&&u[Jn]?(u=u.i,g=String(g).toString(),g in u.g&&(O=u.g[g],y=pd(O,y,T,M),-1<y&&(Zl(O[y]),Array.prototype.splice.call(O,y,1),O.length==0&&(delete u.g[g],u.h--)))):u&&(u=vd(u))&&(g=u.g[g.toString()],u=-1,g&&(u=pd(g,y,T,M)),(y=-1<u?g[u]:null)&&yd(y))}function yd(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Jn])fd(g.i,u);else{var y=u.type,T=u.proxy;g.removeEventListener?g.removeEventListener(y,T,u.capture):g.detachEvent?g.detachEvent(_v(y),T):g.addListener&&g.removeListener&&g.removeListener(T),(y=vd(g))?(fd(y,u),y.h==0&&(y.src=null,g[md]=null)):Zl(u)}}}function _v(u){return u in gd?gd[u]:gd[u]="on"+u}function tk(u,g){if(u.da)u=!0;else{g=new Yn(g,this);var y=u.listener,T=u.ha||u.src;u.fa&&yd(u),u=y.call(T,g)}return u}function vd(u){return u=u[md],u instanceof ec?u:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function bv(u){return typeof u=="function"?u:(u[wd]||(u[wd]=function(g){return u.handleEvent(g)}),u[wd])}function dt(){pe.call(this),this.i=new ec(this),this.M=this,this.F=null}v(dt,pe),dt.prototype[Jn]=!0,dt.prototype.removeEventListener=function(u,g,y,T){xv(this,u,g,y,T)};function kt(u,g){var y,T=u.F;if(T)for(y=[];T;T=T.F)y.push(T);if(u=u.M,T=g.type||g,typeof g=="string")g=new Oe(g,u);else if(g instanceof Oe)g.target=g.target||u;else{var M=g;g=new Oe(T,u),k(g,M)}if(M=!0,y)for(var O=y.length-1;0<=O;O--){var B=g.g=y[O];M=tc(B,T,!0,g)&&M}if(B=g.g=u,M=tc(B,T,!0,g)&&M,M=tc(B,T,!1,g)&&M,y)for(O=0;O<y.length;O++)B=g.g=y[O],M=tc(B,T,!1,g)&&M}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var y=u.g[g],T=0;T<y.length;T++)Zl(y[T]);delete u.g[g],u.h--}}this.F=null},dt.prototype.K=function(u,g,y,T){return this.i.add(String(u),g,!1,y,T)},dt.prototype.L=function(u,g,y,T){return this.i.add(String(u),g,!0,y,T)};function tc(u,g,y,T){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var M=!0,O=0;O<g.length;++O){var B=g[O];if(B&&!B.da&&B.capture==y){var me=B.listener,tt=B.ha||B.src;B.fa&&fd(u.i,B),M=me.call(tt,T)!==!1&&M}}return M&&!T.defaultPrevented}function Ev(u,g,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function Tv(u){u.g=Ev(()=>{u.g=null,u.i&&(u.i=!1,Tv(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class nk extends pe{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Tv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ko(u){pe.call(this),this.h=u,this.g={}}v(Ko,pe);var Sv=[];function Cv(u){L(u.g,function(g,y){this.g.hasOwnProperty(y)&&yd(g)},u),u.g={}}Ko.prototype.N=function(){Ko.aa.N.call(this),Cv(this)},Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xd=a.JSON.stringify,ik=a.JSON.parse,rk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function _d(){}_d.prototype.h=null;function Iv(u){return u.h||(u.h=u.i())}function kv(){}var Qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bd(){Oe.call(this,"d")}v(bd,Oe);function Ed(){Oe.call(this,"c")}v(Ed,Oe);var Rr={},Pv=null;function nc(){return Pv=Pv||new dt}Rr.La="serverreachability";function Av(u){Oe.call(this,Rr.La,u)}v(Av,Oe);function Yo(u){const g=nc();kt(g,new Av(g))}Rr.STAT_EVENT="statevent";function Rv(u,g){Oe.call(this,Rr.STAT_EVENT,u),this.stat=g}v(Rv,Oe);function Pt(u){const g=nc();kt(g,new Rv(g,u))}Rr.Ma="timingevent";function Nv(u,g){Oe.call(this,Rr.Ma,u),this.size=g}v(Nv,Oe);function Xo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function Jo(){this.g=!0}Jo.prototype.xa=function(){this.g=!1};function sk(u,g,y,T,M,O){u.info(function(){if(u.g)if(O)for(var B="",me=O.split("&"),tt=0;tt<me.length;tt++){var he=me[tt].split("=");if(1<he.length){var ft=he[0];he=he[1];var pt=ft.split("_");B=2<=pt.length&&pt[1]=="type"?B+(ft+"="+he+"&"):B+(ft+"=redacted&")}}else B=null;else B=O;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+g+`
`+y+`
`+B})}function ok(u,g,y,T,M,O,B){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+g+`
`+y+`
`+O+" "+B})}function vs(u,g,y,T){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+lk(u,y)+(T?" "+T:"")})}function ak(u,g){u.info(function(){return"TIMEOUT: "+g})}Jo.prototype.info=function(){};function lk(u,g){if(!u.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var T=y[u];if(!(2>T.length)){var M=T[1];if(Array.isArray(M)&&!(1>M.length)){var O=M[0];if(O!="noop"&&O!="stop"&&O!="close")for(var B=1;B<M.length;B++)M[B]=""}}}}return xd(y)}catch{return g}}var ic={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Td;function rc(){}v(rc,_d),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},Td=new rc;function Ii(u,g,y,T){this.j=u,this.i=g,this.l=y,this.R=T||1,this.U=new Ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mv}function Mv(){this.i=null,this.g="",this.h=!1}var jv={},Sd={};function Cd(u,g,y){u.L=1,u.v=lc(Zn(g)),u.m=y,u.P=!0,Ov(u,null)}function Ov(u,g){u.F=Date.now(),sc(u),u.A=Zn(u.v);var y=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Yv(y.i,"t",T),u.C=0,y=u.j.J,u.h=new Mv,u.g=p0(u.j,y?g:null,!u.m),0<u.O&&(u.M=new nk(p(u.Y,u,u.g),u.O)),g=u.U,y=u.g,T=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(Sv[0]=M.toString()),M=Sv);for(var O=0;O<M.length;O++){var B=wv(y,M[O],T||g.handleEvent,!1,g.h||g);if(!B)break;g.g[B.key]=B}g=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Yo(),sk(u.i,u.u,u.A,u.l,u.R,u.m)}Ii.prototype.ca=function(u){u=u.target;const g=this.M;g&&ei(u)==3?g.j():this.Y(u)},Ii.prototype.Y=function(u){try{if(u==this.g)e:{const pt=ei(this.g);var g=this.g.Ba();const _s=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||i0(this.g)))){this.J||pt!=4||g==7||(g==8||0>=_s?Yo(3):Yo(2)),Id(this);var y=this.g.Z();this.X=y;t:if(Lv(this)){var T=i0(this.g);u="";var M=T.length,O=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nr(this),Zo(this);var B="";break t}this.h.i=new a.TextDecoder}for(g=0;g<M;g++)this.h.h=!0,u+=this.h.i.decode(T[g],{stream:!(O&&g==M-1)});T.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=y==200,ok(this.i,this.u,this.A,this.l,this.R,pt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var me,tt=this.g;if((me=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(me)){var he=me;break t}}he=null}if(y=he)vs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kd(this,y);else{this.o=!1,this.s=3,Pt(12),Nr(this),Zo(this);break e}}if(this.P){y=!0;let gn;for(;!this.J&&this.C<B.length;)if(gn=ck(this,B),gn==Sd){pt==4&&(this.s=4,Pt(14),y=!1),vs(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==jv){this.s=4,Pt(15),vs(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else vs(this.i,this.l,gn,null),kd(this,gn);if(Lv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||B.length!=0||this.h.h||(this.s=1,Pt(16),y=!1),this.o=this.o&&y,!y)vs(this.i,this.l,B,"[Invalid Chunked Response]"),Nr(this),Zo(this);else if(0<B.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Md(ft),ft.M=!0,Pt(11))}}else vs(this.i,this.l,B,null),kd(this,B);pt==4&&Nr(this),this.o&&!this.J&&(pt==4?u0(this.j,this):(this.o=!1,sc(this)))}else Ck(this.g),y==400&&0<B.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Nr(this),Zo(this)}}}catch{}finally{}};function Lv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ck(u,g){var y=u.C,T=g.indexOf(`
`,y);return T==-1?Sd:(y=Number(g.substring(y,T)),isNaN(y)?jv:(T+=1,T+y>g.length?Sd:(g=g.slice(T,T+y),u.C=T+y,g)))}Ii.prototype.cancel=function(){this.J=!0,Nr(this)};function sc(u){u.S=Date.now()+u.I,Vv(u,u.I)}function Vv(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xo(p(u.ba,u),g)}function Id(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ii.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ak(this.i,this.A),this.L!=2&&(Yo(),Pt(17)),Nr(this),this.s=2,Zo(this)):Vv(this,this.S-u)};function Zo(u){u.j.G==0||u.J||u0(u.j,u)}function Nr(u){Id(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Cv(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function kd(u,g){try{var y=u.j;if(y.G!=0&&(y.g==u||Pd(y.h,u))){if(!u.K&&Pd(y.h,u)&&y.G==3){try{var T=y.Da.g.parse(g)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)pc(y),dc(y);else break e;Dd(y),Pt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Xo(p(y.Za,y),6e3));if(1>=zv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Mr(y,11)}else if((u.K||y.g==u)&&pc(y),!_(g))for(M=y.Da.g.parse(g),g=0;g<M.length;g++){let he=M[g];if(y.T=he[0],he=he[1],y.G==2)if(he[0]=="c"){y.K=he[1],y.ia=he[2];const ft=he[3];ft!=null&&(y.la=ft,y.j.info("VER="+y.la));const pt=he[4];pt!=null&&(y.Aa=pt,y.j.info("SVER="+y.Aa));const _s=he[5];_s!=null&&typeof _s=="number"&&0<_s&&(T=1.5*_s,y.L=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const gn=u.g;if(gn){const gc=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var O=T.h;O.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Ad(O,O.h),O.h=null))}if(T.D){const jd=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;jd&&(T.ya=jd,we(T.I,T.D,jd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),T=y;var B=u;if(T.qa=f0(T,T.J?T.ia:null,T.W),B.K){Bv(T.h,B);var me=B,tt=T.L;tt&&(me.I=tt),me.B&&(Id(me),sc(me)),T.g=B}else l0(T);0<y.i.length&&fc(y)}else he[0]!="stop"&&he[0]!="close"||Mr(y,7);else y.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Mr(y,7):Nd(y):he[0]!="noop"&&y.l&&y.l.ta(he),y.v=0)}}Yo(4)}catch{}}var uk=class{constructor(u,g){this.g=u,this.map=g}};function Fv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zv(u){return u.h?1:u.g?u.g.size:0}function Pd(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Ad(u,g){u.g?u.g.add(g):u.h=g}function Bv(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Fv.prototype.cancel=function(){if(this.i=$v(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $v(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const y of u.g.values())g=g.concat(y.D);return g}return x(u.i)}function hk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],y=u.length,T=0;T<y;T++)g.push(u[T]);return g}g=[],y=0;for(T in u)g[y++]=u[T];return g}function dk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var y=0;y<u;y++)g.push(y);return g}g=[],y=0;for(const T in u)g[y++]=T;return g}}}function qv(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var y=dk(u),T=hk(u),M=T.length,O=0;O<M;O++)g.call(void 0,T[O],y&&y[O],u)}var Hv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fk(u,g){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var T=u[y].indexOf("="),M=null;if(0<=T){var O=u[y].substring(0,T);M=u[y].substring(T+1)}else O=u[y];g(O,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Dr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Dr){this.h=u.h,oc(this,u.j),this.o=u.o,this.g=u.g,ac(this,u.s),this.l=u.l;var g=u.i,y=new na;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Wv(this,y),this.m=u.m}else u&&(g=String(u).match(Hv))?(this.h=!1,oc(this,g[1]||"",!0),this.o=ea(g[2]||""),this.g=ea(g[3]||"",!0),ac(this,g[4]),this.l=ea(g[5]||"",!0),Wv(this,g[6]||"",!0),this.m=ea(g[7]||"")):(this.h=!1,this.i=new na(null,this.h))}Dr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ta(g,Gv,!0),":");var y=this.g;return(y||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ta(g,Gv,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ta(y,y.charAt(0)=="/"?gk:mk,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ta(y,vk)),u.join("")};function Zn(u){return new Dr(u)}function oc(u,g,y){u.j=y?ea(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ac(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Wv(u,g,y){g instanceof na?(u.i=g,wk(u.i,u.h)):(y||(g=ta(g,yk)),u.i=new na(g,u.h))}function we(u,g,y){u.i.set(g,y)}function lc(u){return we(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ea(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ta(u,g,y){return typeof u=="string"?(u=encodeURI(u).replace(g,pk),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gv=/[#\/\?@]/g,mk=/[#\?:]/g,gk=/[#\?]/g,yk=/[#\?@]/g,vk=/#/g;function na(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function ki(u){u.g||(u.g=new Map,u.h=0,u.i&&fk(u.i,function(g,y){u.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=na.prototype,t.add=function(u,g){ki(this),this.i=null,u=ws(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(g),this.h+=1,this};function Kv(u,g){ki(u),g=ws(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Qv(u,g){return ki(u),g=ws(u,g),u.g.has(g)}t.forEach=function(u,g){ki(this),this.g.forEach(function(y,T){y.forEach(function(M){u.call(g,M,T,this)},this)},this)},t.na=function(){ki(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let T=0;T<g.length;T++){const M=u[T];for(let O=0;O<M.length;O++)y.push(g[T])}return y},t.V=function(u){ki(this);let g=[];if(typeof u=="string")Qv(this,u)&&(g=g.concat(this.g.get(ws(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)g=g.concat(u[y])}return g},t.set=function(u,g){return ki(this),this.i=null,u=ws(this,u),Qv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Yv(u,g,y){Kv(u,g),0<y.length&&(u.i=null,u.g.set(ws(u,g),x(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var T=g[y];const O=encodeURIComponent(String(T)),B=this.V(T);for(T=0;T<B.length;T++){var M=O;B[T]!==""&&(M+="="+encodeURIComponent(String(B[T]))),u.push(M)}}return this.i=u.join("&")};function ws(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function wk(u,g){g&&!u.j&&(ki(u),u.i=null,u.g.forEach(function(y,T){var M=T.toLowerCase();T!=M&&(Kv(this,T),Yv(this,M,y))},u)),u.j=g}function xk(u,g){const y=new Jo;if(a.Image){const T=new Image;T.onload=m(Pi,y,"TestLoadImage: loaded",!0,g,T),T.onerror=m(Pi,y,"TestLoadImage: error",!1,g,T),T.onabort=m(Pi,y,"TestLoadImage: abort",!1,g,T),T.ontimeout=m(Pi,y,"TestLoadImage: timeout",!1,g,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else g(!1)}function _k(u,g){const y=new Jo,T=new AbortController,M=setTimeout(()=>{T.abort(),Pi(y,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:T.signal}).then(O=>{clearTimeout(M),O.ok?Pi(y,"TestPingServer: ok",!0,g):Pi(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),Pi(y,"TestPingServer: error",!1,g)})}function Pi(u,g,y,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(y)}catch{}}function bk(){this.g=new rk}function Ek(u,g,y){const T=y||"";try{qv(u,function(M,O){let B=M;c(M)&&(B=xd(M)),g.push(T+O+"="+encodeURIComponent(B))})}catch(M){throw g.push(T+"type="+encodeURIComponent("_badmap")),M}}function cc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(cc,_d),cc.prototype.g=function(){return new uc(this.l,this.j)},cc.prototype.i=function(u){return function(){return u}}({});function uc(u,g){dt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(uc,dt),t=uc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ra(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ia(this):ra(this),this.readyState==3&&Xv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ia(this))},t.Qa=function(u){this.g&&(this.response=u,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ra(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=g.next();return u.join(`\r
`)};function ra(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(uc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Jv(u){let g="";return L(u,function(y,T){g+=T,g+=":",g+=y,g+=`\r
`}),g}function Rd(u,g,y){e:{for(T in y){var T=!1;break e}T=!0}T||(y=Jv(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):we(u,g,y))}function De(u){dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(De,dt);var Tk=/^https?$/i,Sk=["POST","PUT"];t=De.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Td.g(),this.v=this.o?Iv(this.o):Iv(Td),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(O){Zv(this,O);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)y.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const O of T.keys())y.set(O,T.get(O));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(O=>O.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Sk,g,void 0))||T||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,B]of y)this.g.setRequestHeader(O,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{n0(this),this.u=!0,this.g.send(u),this.u=!1}catch(O){Zv(this,O)}};function Zv(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,e0(u),hc(u)}function e0(u){u.A||(u.A=!0,kt(u,"complete"),kt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,kt(this,"complete"),kt(this,"abort"),hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hc(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?t0(this):this.bb())},t.bb=function(){t0(this)};function t0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ei(u)!=4||u.Z()!=2)){if(u.u&&ei(u)==4)Ev(u.Ea,0,u);else if(kt(u,"readystatechange"),ei(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var T;if(T=B===0){var M=String(u.D).match(Hv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),T=!Tk.test(M?M.toLowerCase():"")}y=T}if(y)kt(u,"complete"),kt(u,"success");else{u.m=6;try{var O=2<ei(u)?u.g.statusText:""}catch{O=""}u.l=O+" ["+u.Z()+"]",e0(u)}}finally{hc(u)}}}}function hc(u,g){if(u.g){n0(u);const y=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||kt(u,"ready");try{y.onreadystatechange=T}catch{}}}function n0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ei(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),ik(g)}};function i0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ck(u){const g={};u=(u.g&&2<=ei(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(_(u[T]))continue;var y=N(u[T]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const O=g[M]||[];g[M]=O,O.push(y)}C(g,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(u,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||g}function r0(u){this.Aa=0,this.i=[],this.j=new Jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,u),this.cb=sa("retryDelaySeedMs",1e4,u),this.Wa=sa("forwardChannelMaxRetries",2,u),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Fv(u&&u.concurrentRequestLimit),this.Da=new bk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=r0.prototype,t.la=8,t.G=1,t.connect=function(u,g,y,T){Pt(0),this.W=u,this.H=g||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.I=f0(this,null,this.W),fc(this)};function Nd(u){if(s0(u),u.G==3){var g=u.U++,y=Zn(u.I);if(we(y,"SID",u.K),we(y,"RID",g),we(y,"TYPE","terminate"),oa(u,y),g=new Ii(u,u.j,g),g.L=2,g.v=lc(Zn(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=p0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),sc(g)}d0(u)}function dc(u){u.g&&(Md(u),u.g.cancel(),u.g=null)}function s0(u){dc(u),u.u&&(a.clearTimeout(u.u),u.u=null),pc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function fc(u){if(!Uv(u.h)&&!u.s){u.s=!0;var g=u.Ga;ve||Z(),$||(ve(),$=!0),Y.add(g,u),u.B=0}}function Ik(u,g){return zv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xo(p(u.Ga,u,g),h0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Ii(this,this.j,u);let O=this.o;if(this.S&&(O?(O=b(O),k(O,this.S)):O=this.S),this.m!==null||this.O||(M.H=O,O=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(g+=T,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=a0(this,M,g),y=Zn(this.I),we(y,"RID",u),we(y,"CVER",22),this.D&&we(y,"X-HTTP-Session-Id",this.D),oa(this,y),O&&(this.O?g="headers="+encodeURIComponent(String(Jv(O)))+"&"+g:this.m&&Rd(y,this.m,O)),Ad(this.h,M),this.Ua&&we(y,"TYPE","init"),this.P?(we(y,"$req",g),we(y,"SID","null"),M.T=!0,Cd(M,y,null)):Cd(M,y,g),this.G=2}}else this.G==3&&(u?o0(this,u):this.i.length==0||Uv(this.h)||o0(this))};function o0(u,g){var y;g?y=g.l:y=u.U++;const T=Zn(u.I);we(T,"SID",u.K),we(T,"RID",y),we(T,"AID",u.T),oa(u,T),u.m&&u.o&&Rd(T,u.m,u.o),y=new Ii(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),g&&(u.i=g.D.concat(u.i)),g=a0(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ad(u.h,y),Cd(y,T,g)}function oa(u,g){u.H&&L(u.H,function(y,T){we(g,T,y)}),u.l&&qv({},function(y,T){we(g,T,y)})}function a0(u,g,y){y=Math.min(u.i.length,y);var T=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let O=-1;for(;;){const B=["count="+y];O==-1?0<y?(O=M[0].g,B.push("ofs="+O)):O=0:B.push("ofs="+O);let me=!0;for(let tt=0;tt<y;tt++){let he=M[tt].g;const ft=M[tt].map;if(he-=O,0>he)O=Math.max(0,M[tt].g-100),me=!1;else try{Ek(ft,B,"req"+he+"_")}catch{T&&T(ft)}}if(me){T=B.join("&");break e}}}return u=u.i.splice(0,y),g.D=u,T}function l0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ve||Z(),$||(ve(),$=!0),Y.add(g,u),u.v=0}}function Dd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xo(p(u.Fa,u),h0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,c0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),dc(this),c0(this))};function Md(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function c0(u){u.g=new Ii(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Zn(u.qa);we(g,"RID","rpc"),we(g,"SID",u.K),we(g,"AID",u.T),we(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&we(g,"TO",u.ja),we(g,"TYPE","xmlhttp"),oa(u,g),u.m&&u.o&&Rd(g,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=lc(Zn(g)),y.m=null,y.P=!0,Ov(y,u)}t.Za=function(){this.C!=null&&(this.C=null,dc(this),Dd(this),Pt(19))};function pc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function u0(u,g){var y=null;if(u.g==g){pc(u),Md(u),u.g=null;var T=2}else if(Pd(u.h,g))y=g.D,Bv(u.h,g),T=1;else return;if(u.G!=0){if(g.o)if(T==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var M=u.B;T=nc(),kt(T,new Nv(T,y)),fc(u)}else l0(u);else if(M=g.s,M==3||M==0&&0<g.X||!(T==1&&Ik(u,g)||T==2&&Dd(u)))switch(y&&0<y.length&&(g=u.h,g.i=g.i.concat(y)),M){case 1:Mr(u,5);break;case 4:Mr(u,10);break;case 3:Mr(u,6);break;default:Mr(u,2)}}}function h0(u,g){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*g}function Mr(u,g){if(u.j.info("Error code "+g),g==2){var y=p(u.fb,u),T=u.Xa;const M=!T;T=new Dr(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oc(T,"https"),lc(T),M?xk(T.toString(),y):_k(T.toString(),y)}else Pt(2);u.G=0,u.l&&u.l.sa(g),d0(u),s0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function d0(u){if(u.G=0,u.ka=[],u.l){const g=$v(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ka,g),S(u.ka,u.i),u.h.i.length=0,x(u.i),u.i.length=0),u.l.ra()}}function f0(u,g,y){var T=y instanceof Dr?Zn(y):new Dr(y);if(T.g!="")g&&(T.g=g+"."+T.g),ac(T,T.s);else{var M=a.location;T=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;var O=new Dr(null);T&&oc(O,T),g&&(O.g=g),M&&ac(O,M),y&&(O.l=y),T=O}return y=u.D,g=u.ya,y&&g&&we(T,y,g),we(T,"VER",u.la),oa(u,T),T}function p0(u,g,y){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new De(new cc({eb:y})):new De(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function m0(){}t=m0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mc(){}mc.prototype.g=function(u,g){return new Ht(u,g)};function Ht(u,g){dt.call(this),this.g=new r0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!_(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new xs(this)}v(Ht,dt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Nd(this.g)},Ht.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=xd(u),u=y);g.i.push(new uk(g.Ya++,u)),g.G==3&&fc(g)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Nd(this.g),delete this.g,Ht.aa.N.call(this)};function g0(u){bd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const y in g){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}v(g0,bd);function y0(){Ed.call(this),this.status=1}v(y0,Ed);function xs(u){this.g=u}v(xs,m0),xs.prototype.ua=function(){kt(this.g,"a")},xs.prototype.ta=function(u){kt(this.g,new g0(u))},xs.prototype.sa=function(u){kt(this.g,new y0)},xs.prototype.ra=function(){kt(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,xC=function(){return new mc},wC=function(){return nc()},vC=Rr,bm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ic.NO_ERROR=0,ic.TIMEOUT=8,ic.HTTP_ERROR=6,hu=ic,Dv.COMPLETE="complete",yC=Dv,kv.EventType=Qo,Qo.OPEN="a",Qo.CLOSE="b",Qo.ERROR="c",Qo.MESSAGE="d",dt.prototype.listen=dt.prototype.K,Sa=kv,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,gC=De}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const X_="@firebase/firestore",J_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Iy("@firebase/firestore");function Ts(){return as.logLevel}function q(t,...e){if(as.logLevel<=oe.DEBUG){const n=e.map(Fy);as.debug(`Firestore (${Uo}): ${t}`,...n)}}function _i(t,...e){if(as.logLevel<=oe.ERROR){const n=e.map(Fy);as.error(`Firestore (${Uo}): ${t}`,...n)}}function xo(t,...e){if(as.logLevel<=oe.WARN){const n=e.map(Fy);as.warn(`Firestore (${Uo}): ${t}`,...n)}}function Fy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${Uo}) INTERNAL ASSERTION FAILED: `+t;throw _i(e),new Error(e)}function de(t,e){t||J()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class hz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dz{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string"),new _C(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new wt(e)}}class fz{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class pz{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new fz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mz{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,bn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){de(this.o===void 0);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Z_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new Z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=gz(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function ie(t,e){return t<e?-1:t>e?1:0}function Em(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return ie(i,r);{const s=bC(),o=yz(s.encode(eb(t,n)),s.encode(eb(e,n)));return o!==0?o:ie(i,r)}}n+=i>65535?2:1}return ie(t.length,e.length)}function eb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function yz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ie(t[n],e[n]);return ie(t.length,e.length)}function _o(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb=-62135596800,nb=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*nb);return new Ge(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<tb)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nb}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-tb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Ge(0,0))}static max(){return new ee(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="__name__";class On{constructor(e,n,i){n===void 0?n=0:n>e.length&&J(),i===void 0?i=e.length-n:i>e.length-n&&J(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return On.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof On?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=On.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return ie(e.length,n.length)}static compareSegments(e,n){const i=On.isNumericId(e),r=On.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?On.extractNumericId(e).compare(On.extractNumericId(n)):Em(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}}class Te extends On{construct(e,n,i){return new Te(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Te(n)}static emptyPath(){return new Te([])}}const vz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends On{construct(e,n,i){return new ot(e,n,i)}static isValidIdentifier(e){return vz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ib}static keyField(){return new ot([ib])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Te.fromString(e))}static fromName(e){return new G(Te.fromString(e).popFirst(5))}static empty(){return new G(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Te.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function wz(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(i===1e9?new Ge(n+1,0):new Ge(n,i));return new pr(r,G.empty(),e)}function xz(t){return new pr(t.readTime,t.key,kl)}class pr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new pr(ee.min(),G.empty(),kl)}static max(){return new pr(ee.max(),G.empty(),kl)}}function _z(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ez{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==bz)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,i)=>{n(e)})}static reject(e){return new V((n,i)=>{i(e)})}static waitFor(e){return new V((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=V.resolve(!1);for(const i of e)n=n.next(r=>r?V.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new V((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new V((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function Tz(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Yh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function Xh(t){return t==null}function ah(t){return t===0&&1/t==-1/0}function Sz(t){return typeof t=="number"&&Number.isInteger(t)&&!ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="";function Cz(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rb(e)),e=Iz(t.get(n),e);return rb(e)}function Iz(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case TC:n+="";break;default:n+=s}}return n}function rb(t){return t+TC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function kr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||st.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,st.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,st.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class st{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??st.RED,this.left=r??st.EMPTY,this.right=s??st.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new st(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return st.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return st.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,st.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,st.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}st.EMPTY=null,st.RED=!0,st.BLACK=!1;st.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,i,r,s){return this}insert(e,n,i){return new st(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ob(this.data.getIterator())}getIteratorFrom(e){return new ob(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class ob{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Qt([])}unionWith(e){let n=new Ke(ot.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CC("Invalid base64 string: "+s):s}}(e);return new ht(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const kz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(de(!!t),typeof t=="string"){let e=0;const n=kz.exec(t);if(de(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function gr(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="server_timestamp",kC="__type__",PC="__previous_value__",AC="__local_write_time__";function zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[kC])===null||n===void 0?void 0:n.stringValue)===IC}function Jh(t){const e=t.mapValue.fields[PC];return zy(e)?Jh(e):e}function Pl(t){const e=mr(t.mapValue.fields[AC].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const lh="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="__type__",NC="__max__",zc={mapValue:{fields:{__type__:{stringValue:NC}}}},DC="__vector__",ch="value";function yr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zy(t)?4:Rz(t)?9007199254740991:Az(t)?10:11:J()}function Wn(t,e){if(t===e)return!0;const n=yr(t);if(n!==yr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=mr(r.timestampValue),a=mr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return gr(r.bytesValue).isEqual(gr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ve(r.doubleValue),a=Ve(s.doubleValue);return o===a?ah(o)===ah(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return _o(t.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(sb(o)!==sb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Wn(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function Rl(t,e){return(t.values||[]).find(n=>Wn(n,e))!==void 0}function bo(t,e){if(t===e)return 0;const n=yr(t),i=yr(e);if(n!==i)return ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ve(s.integerValue||s.doubleValue),l=Ve(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ab(t.timestampValue,e.timestampValue);case 4:return ab(Pl(t),Pl(e));case 5:return Em(t.stringValue,e.stringValue);case 6:return function(s,o){const a=gr(s),l=gr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ie(a[c],l[c]);if(h!==0)return h}return ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(Ve(s.latitude),Ve(o.latitude));return a!==0?a:ie(Ve(s.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,h;const f=s.fields||{},p=o.fields||{},m=(a=f[ch])===null||a===void 0?void 0:a.arrayValue,v=(l=p[ch])===null||l===void 0?void 0:l.arrayValue,x=ie(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((h=v==null?void 0:v.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:lb(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zc.mapValue&&o===zc.mapValue)return 0;if(s===zc.mapValue)return 1;if(o===zc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Em(l[f],h[f]);if(p!==0)return p;const m=bo(a[l[f]],c[h[f]]);if(m!==0)return m}return ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw J()}}function ab(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=mr(t),i=mr(e),r=ie(n.seconds,i.seconds);return r!==0?r:ie(n.nanos,i.nanos)}function lb(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=bo(n[r],i[r]);if(s)return s}return ie(n.length,i.length)}function Eo(t){return Tm(t)}function Tm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=mr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return gr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Tm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Tm(n.fields[o])}`;return r+"}"}(t.mapValue):J()}function du(t){switch(yr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(t);return e?16+du(e):16;case 5:return 2*t.stringValue.length;case 6:return gr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+du(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return kr(i.fields,(s,o)=>{r+=s.length+du(o)}),r}(t.mapValue);default:throw J()}}function Sm(t){return!!t&&"integerValue"in t}function By(t){return!!t&&"arrayValue"in t}function cb(t){return!!t&&"nullValue"in t}function ub(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fu(t){return!!t&&"mapValue"in t}function Az(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[RC])===null||n===void 0?void 0:n.stringValue)===DC}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return kr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ha(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Rz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===NC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!fu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=ot.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ha(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());fu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];fu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){kr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Ft(Ha(this.value))}}function MC(t){const e=[];return kr(t.fields,(n,i)=>{const r=new ot([n]);if(fu(i)){const s=MC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Qt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,ee.min(),ee.min(),ee.min(),Ft.empty(),0)}static newFoundDocument(e,n,i,r){return new _t(e,1,n,ee.min(),i,r,0)}static newNoDocument(e,n){return new _t(e,2,n,ee.min(),ee.min(),Ft.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,ee.min(),ee.min(),Ft.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.position=e,this.inclusive=n}}function hb(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(o.referenceValue),n.key):i=bo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function db(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function Nz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{}class He extends jC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new Mz(e,n,i):n==="array-contains"?new Lz(e,i):n==="in"?new Vz(e,i):n==="not-in"?new Fz(e,i):n==="array-contains-any"?new Uz(e,i):new He(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new jz(e,i):new Oz(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(bo(n,this.value)):n!==null&&yr(this.value)===yr(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends jC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Gn(e,n)}matches(e){return OC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function OC(t){return t.op==="and"}function LC(t){return Dz(t)&&OC(t)}function Dz(t){for(const e of t.filters)if(e instanceof Gn)return!1;return!0}function Cm(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+Eo(t.value);if(LC(t))return t.filters.map(e=>Cm(e)).join(",");{const e=t.filters.map(n=>Cm(n)).join(",");return`${t.op}(${e})`}}function VC(t,e){return t instanceof He?function(i,r){return r instanceof He&&i.op===r.op&&i.field.isEqual(r.field)&&Wn(i.value,r.value)}(t,e):t instanceof Gn?function(i,r){return r instanceof Gn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&VC(o,r.filters[a]),!0):!1}(t,e):void J()}function FC(t){return t instanceof He?function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`}(t):t instanceof Gn?function(n){return n.op.toString()+" {"+n.getFilters().map(FC).join(" ,")+"}"}(t):"Filter"}class Mz extends He{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class jz extends He{constructor(e,n){super(e,"in",n),this.keys=UC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Oz extends He{constructor(e,n){super(e,"not-in",n),this.keys=UC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class Lz extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return By(n)&&Rl(n.arrayValue,this.value)}}class Vz extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class Fz extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class Uz extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function fb(t,e=null,n=[],i=[],r=null,s=null,o=null){return new zz(t,e,n,i,r,s,o)}function $y(t){const e=te(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Cm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Eo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Eo(i)).join(",")),e.le=n}return e.le}function qy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Nz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!db(t.startAt,e.startAt)&&db(t.endAt,e.endAt)}function Im(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Bz(t,e,n,i,r,s,o,a){return new Zh(t,e,n,i,r,s,o,a)}function Hy(t){return new Zh(t)}function pb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $z(t){return t.collectionGroup!==null}function Wa(t){const e=te(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ke(ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new hh(s,i))}),n.has(ot.keyField().canonicalString())||e.he.push(new hh(ot.keyField(),i))}return e.he}function qn(t){const e=te(t);return e.Pe||(e.Pe=qz(e,Wa(t))),e.Pe}function qz(t,e){if(t.limitType==="F")return fb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new hh(r.field,s)});const n=t.endAt?new uh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new uh(t.startAt.position,t.startAt.inclusive):null;return fb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function km(t,e,n){return new Zh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ed(t,e){return qy(qn(t),qn(e))&&t.limitType===e.limitType}function zC(t){return`${$y(qn(t))}|lt:${t.limitType}`}function Ss(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>FC(r)).join(", ")}]`),Xh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Eo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Eo(r)).join(",")),`Target(${i})`}(qn(t))}; limitType=${t.limitType})`}function td(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Wa(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=hb(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Wa(i),r)||i.endAt&&!function(o,a,l){const c=hb(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Wa(i),r))}(t,e)}function Hz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BC(t){return(e,n)=>{let i=!1;for(const r of Wa(t)){const s=Wz(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function Wz(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?bo(l,c):J()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){kr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return SC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=new Ne(G.comparator);function bi(){return Gz}const $C=new Ne(G.comparator);function Ca(...t){let e=$C;for(const n of t)e=e.insert(n.key,n);return e}function qC(t){let e=$C;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Hr(){return Ga()}function HC(){return Ga()}function Ga(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kz=new Ne(G.comparator),Qz=new Ke(G.comparator);function ae(...t){let e=Qz;for(const n of t)e=e.add(n);return e}const Yz=new Ke(ie);function Xz(){return Yz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function WC(t){return{integerValue:""+t}}function Jz(t,e){return Sz(e)?WC(e):Wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function Zz(t,e,n){return t instanceof dh?function(r,s){const o={fields:{[kC]:{stringValue:IC},[AC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&zy(s)&&(s=Jh(s)),s&&(o.fields[PC]=s),{mapValue:o}}(n,e):t instanceof Nl?KC(t,e):t instanceof Dl?QC(t,e):function(r,s){const o=GC(r,s),a=mb(o)+mb(r.Ie);return Sm(o)&&Sm(r.Ie)?WC(a):Wy(r.serializer,a)}(t,e)}function eB(t,e,n){return t instanceof Nl?KC(t,e):t instanceof Dl?QC(t,e):n}function GC(t,e){return t instanceof fh?function(i){return Sm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class dh extends nd{}class Nl extends nd{constructor(e){super(),this.elements=e}}function KC(t,e){const n=YC(e);for(const i of t.elements)n.some(r=>Wn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Dl extends nd{constructor(e){super(),this.elements=e}}function QC(t,e){let n=YC(e);for(const i of t.elements)n=n.filter(r=>!Wn(r,i));return{arrayValue:{values:n}}}class fh extends nd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function mb(t){return Ve(t.integerValue||t.doubleValue)}function YC(t){return By(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tB(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Nl&&r instanceof Nl||i instanceof Dl&&r instanceof Dl?_o(i.elements,r.elements,Wn):i instanceof fh&&r instanceof fh?Wn(i.Ie,r.Ie):i instanceof dh&&r instanceof dh}(t.transform,e.transform)}class nB{constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function XC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,kn.none()):new Ql(t.key,t.data,kn.none());{const n=t.data,i=Ft.empty();let r=new Ke(ot.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Pr(t.key,i,new Qt(r.toArray()),kn.none())}}function iB(t,e,n){t instanceof Ql?function(r,s,o){const a=r.value.clone(),l=yb(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pr?function(r,s,o){if(!pu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=yb(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(JC(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,i){return t instanceof Ql?function(s,o,a,l){if(!pu(s.precondition,o))return a;const c=s.value.clone(),h=vb(s.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Pr?function(s,o,a,l){if(!pu(s.precondition,o))return a;const c=vb(s.fieldTransforms,l,o),h=o.data;return h.setAll(JC(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return pu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rB(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=GC(i.transform,r||null);s!=null&&(n===null&&(n=Ft.empty()),n.set(i.field,s))}return n||null}function gb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&_o(i,r,(s,o)=>tB(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends id{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pr extends id{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function yb(t,e,n){const i=new Map;de(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,eB(o,a,n[r]))}return i}function vb(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,Zz(s,o,e))}return i}class Gy extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sB extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&iB(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ka(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ka(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=HC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=XC(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,i)=>gb(n,i))&&_o(this.baseMutations,e.baseMutations,(n,i)=>gb(n,i))}}class Ky{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){de(e.mutations.length===i.length);let r=function(){return Kz}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Ky(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,le;function cB(t){switch(t){case F.OK:return J();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return J()}}function ZC(t){if(t===void 0)return _i("GRPC error has no .code"),F.UNKNOWN;switch(t){case Be.OK:return F.OK;case Be.CANCELLED:return F.CANCELLED;case Be.UNKNOWN:return F.UNKNOWN;case Be.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Be.INTERNAL:return F.INTERNAL;case Be.UNAVAILABLE:return F.UNAVAILABLE;case Be.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Be.NOT_FOUND:return F.NOT_FOUND;case Be.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Be.ABORTED:return F.ABORTED;case Be.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Be.DATA_LOSS:return F.DATA_LOSS;default:return J()}}(le=Be||(Be={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB=new ar([4294967295,4294967295],0);function wb(t){const e=bC().encode(t),n=new mC;return n.update(e),new Uint8Array(n.digest())}function xb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ar([n,i],0),new ar([r,s],0)]}class Qy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ia(`Invalid padding: ${n}`);if(i<0)throw new Ia(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ar.fromNumber(this.Ee)}Ae(e,n,i){let r=e.add(n.multiply(ar.fromNumber(i)));return r.compare(uB)===1&&(r=new ar([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=wb(e),[i,r]=xb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);if(!this.Re(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Qy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=wb(e),[i,r]=xb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new rd(ee.min(),r,new Ne(ie),bi(),ae())}}class Yl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Yl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n,i,r){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=r}}class eI{constructor(e,n){this.targetId=e,this.ge=n}}class tI{constructor(e,n,i=ht.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class _b{constructor(){this.pe=0,this.ye=bb(),this.we=ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ae(),n=ae(),i=ae();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:J()}}),new Yl(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=bb()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,de(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class hB{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bi(),this.$e=Bc(),this.Ue=Bc(),this.Ke=new Ne(ie)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,i=e.ge.count,r=this.Xe(n);if(r){const s=r.target;if(Im(s))if(i===0){const o=new G(s.path);this.ze(n,o,_t.newNoDocument(o,ee.min()))}else de(i===1);else{const o=this.et(n);if(o!==i){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=gr(i).toUint8Array()}catch(l){if(l instanceof CC)return xo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qy(o,r,s)}catch(l){return xo(l instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Im(a.target)){const l=new G(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,_t.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let i=ae();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const r=new rd(e,n,this.Ke,this.Qe,i);return this.Qe=bi(),this.$e=Bc(),this.Ue=Bc(),this.Ke=new Ne(ie),r}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new _b,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ke(ie),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ke(ie),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _b),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new Ne(G.comparator)}function bb(){return new Ne(G.comparator)}const dB={asc:"ASCENDING",desc:"DESCENDING"},fB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pB={and:"AND",or:"OR"};class mB{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pm(t,e){return t.useProto3Json||Xh(e)?e:{value:e}}function ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gB(t,e){return ph(t,e.toTimestamp())}function Hn(t){return de(!!t),ee.fromTimestamp(function(n){const i=mr(n);return new Ge(i.seconds,i.nanos)}(t))}function Yy(t,e){return Am(t,e).canonicalString()}function Am(t,e){const n=function(r){return new Te(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iI(t){const e=Te.fromString(t);return de(lI(e)),e}function Rm(t,e){return Yy(t.databaseId,e.path)}function Gf(t,e){const n=iI(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(sI(n))}function rI(t,e){return Yy(t.databaseId,e)}function yB(t){const e=iI(t);return e.length===4?Te.emptyPath():sI(e)}function Nm(t){return new Te(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sI(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Eb(t,e,n){return{name:Rm(t,e),fields:n.value.mapValue.fields}}function vB(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(de(h===void 0||typeof h=="string"),ht.fromBase64String(h||"")):(de(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ht.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?F.UNKNOWN:ZC(c.code);return new W(h,c.message||"")}(o);n=new tI(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Gf(t,i.document.name),s=Hn(i.document.updateTime),o=i.document.createTime?Hn(i.document.createTime):ee.min(),a=new Ft({mapValue:{fields:i.document.fields}}),l=_t.newFoundDocument(r,s,o,a),c=i.targetIds||[],h=i.removedTargetIds||[];n=new mu(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Gf(t,i.document),s=i.readTime?Hn(i.readTime):ee.min(),o=_t.newNoDocument(r,s),a=i.removedTargetIds||[];n=new mu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Gf(t,i.document),s=i.removedTargetIds||[];n=new mu([],s,r,null)}else{if(!("filter"in e))return J();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new lB(r,s),a=i.targetId;n=new eI(a,o)}}return n}function wB(t,e){let n;if(e instanceof Ql)n={update:Eb(t,e.key,e.value)};else if(e instanceof Gy)n={delete:Rm(t,e.key)};else if(e instanceof Pr)n={update:Eb(t,e.key,e.data),updateMask:kB(e.fieldMask)};else{if(!(e instanceof sB))return J();n={verify:Rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof dh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw J()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:gB(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function xB(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Hn(r.updateTime):Hn(s);return o.isEqual(ee.min())&&(o=Hn(s)),new nB(o,r.transformResults||[])}(n,e))):[]}function _B(t,e){return{documents:[rI(t,e.path)]}}function bB(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=rI(t,r);const s=function(c){if(c.length!==0)return aI(Gn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Cs(p.field),direction:SB(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Pm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:r}}function EB(t){let e=yB(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){de(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const p=oI(f);return p instanceof Gn&&LC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new hh(Is(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Xh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new uh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new uh(m,p)}(n.endAt)),Bz(e,r,o,s,a,"F",l,c)}function TB(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Is(n.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Is(n.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Is(n.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Is(n.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return He.create(Is(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Gn.create(n.compositeFilter.filters.map(i=>oI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function SB(t){return dB[t]}function CB(t){return fB[t]}function IB(t){return pB[t]}function Cs(t){return{fieldPath:t.canonicalString()}}function Is(t){return ot.fromServerFormat(t.fieldPath)}function aI(t){return t instanceof He?function(n){if(n.op==="=="){if(ub(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NAN"}};if(cb(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ub(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NAN"}};if(cb(n.value))return{unaryFilter:{field:Cs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(n.field),op:CB(n.op),value:n.value}}}(t):t instanceof Gn?function(n){const i=n.getFilters().map(r=>aI(r));return i.length===1?i[0]:{compositeFilter:{op:IB(n.op),filters:i}}}(t):J()}function kB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function lI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,i,r,s=ee.min(),o=ee.min(),a=ht.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e){this.Tt=e}}function AB(t){const e=EB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this.Tn=new NB}addToCollectionParentIndex(e,n){return this.Tn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(pr.min())}updateCollectionGroup(e,n,i){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class NB{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Ke(Te.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Ke(Te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cI=41943040;class Lt{static withCacheSize(e){return new Lt(e,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lt.DEFAULT_COLLECTION_PERCENTILE=10,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lt.DEFAULT=new Lt(cI,Lt.DEFAULT_COLLECTION_PERCENTILE,Lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lt.DISABLED=new Lt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new To(0)}static Kn(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="LruGarbageCollector",DB=1048576;function Cb([t,e],[n,i]){const r=ie(t,n);return r===0?ie(e,i):r}class MB{constructor(e){this.Hn=e,this.buffer=new Ke(Cb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Cb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jB{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(Sb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?q(Sb,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.er(3e5)})}}class OB{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Yh.ae);const i=new MB(n);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(Tb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tb):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,r,s,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),Ts()<=oe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function LB(t,e){return new OB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ka(i.mutation,r,Qt.empty(),Ge.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Ca();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=bi();const o=Ga(),a=function(){return Ga()}();return n.forEach((l,c)=>{const h=i.get(c.key);r.has(c.key)&&(h===void 0||h.mutation instanceof Pr)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Ka(h.mutation,c,h.mutation.getFieldMask(),Ge.now())):o.set(c.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new FB(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Ga();let r=new Ne((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=i.get(l)||Qt.empty();h=a.applyToLocalView(c,h),i.set(l,h);const f=(r.get(a.batchId)||ae()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=HC();h.forEach(p=>{if(!s.has(p)){const m=XC(n.get(p),i.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return V.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$z(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):V.resolve(Hr());let a=kl,l=s;return o.next(c=>V.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?V.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ae())).next(h=>({batchId:a,changes:qC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=Ca();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Ca();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const c=function(f,p){return new Zh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,_t.newInvalidDocument(h)))});let a=Ca();return o.forEach((l,c)=>{const h=s.get(l);h!==void 0&&Ka(h.mutation,c,Qt.empty(),Ge.now()),td(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return V.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Hn(r.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:AB(r.bundledQuery),readTime:Hn(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(){this.overlays=new Ne(G.comparator),this.Rr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Hr();return V.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.Et(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),V.resolve()}getOverlaysForCollection(e,n,i){const r=Hr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let h=s.get(c.largestBatchId);h===null&&(h=Hr(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Hr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=r)););return V.resolve(a)}Et(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new aB(n,i));let s=this.Rr.get(n);s===void 0&&(s=ae(),this.Rr.set(n,s)),this.Rr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Vr=new Ke(Qe.mr),this.gr=new Ke(Qe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Qe(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Qe(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new G(new Te([])),i=new Qe(n,e),r=new Qe(n,e+1),s=[];return this.gr.forEachInRange([i,r],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new G(new Te([])),i=new Qe(n,e),r=new Qe(n,e+1);let s=ae();return this.gr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Qe(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Qe{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return G.comparator(e.key,n.key)||ie(e.Cr,n.Cr)}static pr(e,n){return ie(e.Cr,n.Cr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ke(Qe.mr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oB(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new Qe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Nr(i),s=r<0?0:r;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Uy:this.Fr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Qe(n,0),r=new Qe(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],o=>{const a=this.Or(o.Cr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ke(ie);return n.forEach(r=>{const s=new Qe(r,0),o=new Qe(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{i=i.add(a.Cr)})}),V.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const o=new Qe(new G(s),0);let a=new Ke(ie);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Cr)),!0)},o),V.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){de(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return V.forEach(n.mutations,r=>{const s=new Qe(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Qe(n,0),r=this.Mr.firstAfterOrEqual(i);return V.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.kr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let i=bi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():_t.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=bi();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||_z(xz(h),i)<=0||(r.has(h.key)||td(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,i,r){J()}qr(e,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new WB(this)}getSize(e){return V.resolve(this.size)}}class WB extends VB{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),V.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.persistence=e,this.Qr=new ms(n=>$y(n),qy),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xy,this.targetCount=0,this.Kr=To.Un()}forEachTarget(e,n){return this.Qr.forEach((i,r)=>n(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),V.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new To(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.zn(n),V.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),V.waitFor(s).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return V.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),V.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),V.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return V.resolve(i)}containsKey(e,n){return V.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Yh(0),this.zr=!1,this.zr=!0,this.jr=new $B,this.referenceDelegate=e(this),this.Hr=new GB(this),this.indexManager=new RB,this.remoteDocumentCache=function(r){return new HB(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new PB(n),this.Yr=new zB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BB,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new qB(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new KB(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,n){return V.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class KB extends Ez{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.ti=new Xy,this.ni=null}static ri(e){return new Jy(e)}get ii(){if(this.ni)return this.ni;throw J()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),V.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),V.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.ii,i=>{const r=G.fromPath(i);return this.si(e,r).next(s=>{s||n.removeEntry(r,ee.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return V.or([()=>V.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.oi=new ms(i=>Cz(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=LB(this,n)}static ri(e,n){return new mh(e,n)}Zr(){}Xr(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return V.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?V.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,n).next(a=>{a||(i++,s.removeEntry(o,ee.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),V.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),V.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=du(e.data.value)),n}ar(e,n,i){return V.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return V.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Zy(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return R5()?8:Tz(Ct())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new QB;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,i,r){return i.documentReadCount<this.es?(Ts()<=oe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ss(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),V.resolve()):(Ts()<=oe.DEBUG&&q("QueryEngine","Query:",Ss(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Ts()<=oe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ss(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):V.resolve())}rs(e,n){if(pb(n))return V.resolve(null);let i=qn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=km(n,null,"F"),i=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ae(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,km(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,i,r){return pb(n)||r.isEqual(ee.min())?V.resolve(null):this.ns.getDocuments(e,i).next(s=>{const o=this.cs(n,s);return this.ls(n,o,i,r)?V.resolve(null):(Ts()<=oe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ss(n)),this.hs(e,o,n,wz(r,kl)).next(a=>a))})}cs(e,n){let i=new Ke(BC(e));return n.forEach((r,s)=>{td(e,s)&&(i=i.add(s))}),i}ls(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,n,i){return Ts()<=oe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ss(n)),this.ns.getDocumentsMatchingQuery(e,n,pr.min(),i)}hs(e,n,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LocalStore",XB=3e8;class JB{constructor(e,n,i,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new Ne(ie),this.Is=new ms(s=>$y(s),qy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UB(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function ZB(t,e,n,i){return new JB(t,e,n,i)}async function hI(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ae();for(const c of r){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function e9(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let m=V.resolve();return p.forEach(v=>{m=m.next(()=>h.getEntry(l,v)).next(x=>{const S=c.docVersions.get(v);de(S!==null),x.version.compareTo(S)<0&&(f.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),h.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function dI(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function t9(t,e){const n=te(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const a=[];e.targetChanges.forEach((h,f)=>{const p=r.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,h.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(ht.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,i)),r=r.insert(f,m),function(x,S,w){return x.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=XB?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,m,h)&&a.push(n.Hr.updateTargetData(s,m))});let l=bi(),c=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(n9(s,o,e.documentUpdates).next(h=>{l=h.Vs,c=h.fs})),!i.isEqual(ee.min())){const h=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=r,s))}function n9(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=bi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(ev,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:r}})}function i9(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Uy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function r9(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,e).next(s=>s?(r=s,V.resolve(r)):n.Hr.allocateTargetId(i).next(o=>(r=new Wi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Dm(t,e,n){const i=te(t),r=i.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Bo(o))throw o;q(ev,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function Ib(t,e,n){const i=te(t);let r=ee.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=te(l),p=f.Is.get(h);return p!==void 0?V.resolve(f.Ts.get(p)):f.Hr.getTargetData(c,h)}(i,o,qn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,n?r:ee.min(),n?s:ae())).next(a=>(s9(i,Hz(e),a),{documents:a,gs:s})))}function s9(t,e,n){let i=t.Es.get(e)||ee.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Es.set(e,i)}class kb{constructor(){this.activeTargetIds=Xz()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class o9{constructor(){this.ho=new kb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="ConnectivityMonitor";class Ab{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(Pb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(Pb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Mm(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="RestConnection",l9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c9{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===lh?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,n,i,r,s){const o=Mm(),a=this.bo(e,n.toUriEncodedString());q(Kf,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,r,s),this.vo(e,a,l,i).then(c=>(q(Kf,`Received RPC '${e}' ${o}: `,c),c),c=>{throw xo(Kf,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}Co(e,n,i,r,s,o){return this.So(e,n,i,r,s)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}bo(e,n){const i=l9[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class h9 extends c9{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,r){const s=Mm();return new Promise((o,a)=>{const l=new gC;l.setWithCredentials(!0),l.listenOnce(yC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hu.NO_ERROR:const h=l.getResponseJson();q(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case hu.TIMEOUT:q(yt,`RPC '${e}' ${s} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case hu.HTTP_ERROR:const f=l.getStatus();if(q(yt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(S){const w=S.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(w)>=0?w:F.UNKNOWN}(m.status);a(new W(v,m.message))}else a(new W(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{q(yt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);q(yt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Wo(e,n,i){const r=Mm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xC(),a=wC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");q(yt,`Creating RPC '${e}' stream ${r}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,m=!1;const v=new u9({Fo:S=>{m?q(yt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(p||(q(yt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),q(yt,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},Mo:()=>f.close()}),x=(S,w,_)=>{S.listen(w,E=>{try{_(E)}catch(P){setTimeout(()=>{throw P},0)}})};return x(f,Sa.EventType.OPEN,()=>{m||(q(yt,`RPC '${e}' stream ${r} transport opened.`),v.Qo())}),x(f,Sa.EventType.CLOSE,()=>{m||(m=!0,q(yt,`RPC '${e}' stream ${r} transport closed`),v.Uo())}),x(f,Sa.EventType.ERROR,S=>{m||(m=!0,xo(yt,`RPC '${e}' stream ${r} transport errored:`,S),v.Uo(new W(F.UNAVAILABLE,"The operation could not be completed")))}),x(f,Sa.EventType.MESSAGE,S=>{var w;if(!m){const _=S.data[0];de(!!_);const E=_,P=(E==null?void 0:E.error)||((w=E[0])===null||w===void 0?void 0:w.error);if(P){q(yt,`RPC '${e}' stream ${r} received error:`,P);const j=P.status;let L=function(I){const k=Be[I];if(k!==void 0)return ZC(k)}(j),C=P.message;L===void 0&&(L=F.INTERNAL,C="Unknown error status: "+j+" with message "+P.message),m=!0,v.Uo(new W(L,C)),f.close()}else q(yt,`RPC '${e}' stream ${r} received:`,_),v.Ko(_)}}),x(a,vC.STAT_EVENT,S=>{S.stat===bm.PROXY?q(yt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===bm.NOPROXY&&q(yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return new mB(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="PersistentStream";class pI{constructor(e,n,i,r,s,o,a,l){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new fI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{e(()=>{const r=new W(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(Rb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(Rb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d9 extends pI{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=vB(this.serializer,e),i=function(s){if(!("targetChange"in s))return ee.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ee.min():o.readTime?Hn(o.readTime):ee.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Nm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Im(l)?{documents:_B(s,l)}:{query:bB(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=nI(s,o.resumeToken);const c=Pm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ee.min())>0){a.readTime=ph(s,o.snapshotVersion.toTimestamp());const c=Pm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=TB(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Nm(this.serializer),n.removeTarget=e,this.I_(n)}}class f9 extends pI{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=xB(e.writeResults,e.commitTime),i=Hn(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Nm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>wB(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{}class m9 extends p9{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Am(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}Co(e,n,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Am(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class g9{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_i(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="RemoteStore";class y9{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{i.enqueueAndForget(async()=>{gs(this)&&(q(ls,"Restarting streams for network reachability change."),await async function(l){const c=te(l);c.W_.add(4),await Xl(c),c.j_.set("Unknown"),c.W_.delete(4),await od(c)}(this))})}),this.j_=new g9(i,r)}}async function od(t){if(gs(t))for(const e of t.G_)await e(!0)}async function Xl(t){for(const e of t.G_)await e(!1)}function mI(t,e){const n=te(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),rv(n)?iv(n):$o(n).c_()&&nv(n,e))}function tv(t,e){const n=te(t),i=$o(n);n.K_.delete(e),i.c_()&&gI(n,e),n.K_.size===0&&(i.c_()?i.P_():gs(n)&&n.j_.set("Unknown"))}function nv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(t).y_(e)}function gI(t,e){t.H_.Ne(e),$o(t).w_(e)}function iv(t){t.H_=new hB({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),$o(t).start(),t.j_.B_()}function rv(t){return gs(t)&&!$o(t).u_()&&t.K_.size>0}function gs(t){return te(t).W_.size===0}function yI(t){t.H_=void 0}async function v9(t){t.j_.set("Online")}async function w9(t){t.K_.forEach((e,n)=>{nv(t,e)})}async function x9(t,e){yI(t),rv(t)?(t.j_.q_(e),iv(t)):t.j_.set("Unknown")}async function _9(t,e,n){if(t.j_.set("Online"),e instanceof tI&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.K_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.K_.delete(a),r.H_.removeTarget(a))}(t,e)}catch(i){q(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await gh(t,i)}else if(e instanceof mu?t.H_.We(e):e instanceof eI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ee.min()))try{const i=await dI(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.K_.get(c);h&&s.K_.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=s.K_.get(l);if(!h)return;s.K_.set(l,h.withResumeToken(ht.EMPTY_BYTE_STRING,h.snapshotVersion)),gI(s,l);const f=new Wi(h.target,l,c,h.sequenceNumber);nv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){q(ls,"Failed to raise snapshot:",i),await gh(t,i)}}async function gh(t,e,n){if(!Bo(e))throw e;t.W_.add(1),await Xl(t),t.j_.set("Offline"),n||(n=()=>dI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ls,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await od(t)})}function vI(t,e){return e().catch(n=>gh(t,n,e))}async function ad(t){const e=te(t),n=vr(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Uy;for(;b9(e);)try{const r=await i9(e.localStore,i);if(r===null){e.U_.length===0&&n.P_();break}i=r.batchId,E9(e,r)}catch(r){await gh(e,r)}wI(e)&&xI(e)}function b9(t){return gs(t)&&t.U_.length<10}function E9(t,e){t.U_.push(e);const n=vr(t);n.c_()&&n.S_&&n.b_(e.mutations)}function wI(t){return gs(t)&&!vr(t).u_()&&t.U_.length>0}function xI(t){vr(t).start()}async function T9(t){vr(t).C_()}async function S9(t){const e=vr(t);for(const n of t.U_)e.b_(n.mutations)}async function C9(t,e,n){const i=t.U_.shift(),r=Ky.from(i,e,n);await vI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ad(t)}async function I9(t,e){e&&vr(t).S_&&await async function(i,r){if(function(o){return cB(o)&&o!==F.ABORTED}(r.code)){const s=i.U_.shift();vr(i).h_(),await vI(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ad(i)}}(t,e),wI(t)&&xI(t)}async function Nb(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),q(ls,"RemoteStore received new credentials");const i=gs(n);n.W_.add(3),await Xl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await od(n)}async function k9(t,e){const n=te(t);e?(n.W_.delete(2),await od(n)):e||(n.W_.add(2),await Xl(n),n.j_.set("Unknown"))}function $o(t){return t.J_||(t.J_=function(n,i,r){const s=te(n);return s.M_(),new d9(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:v9.bind(null,t),No:w9.bind(null,t),Lo:x9.bind(null,t),p_:_9.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),rv(t)?iv(t):t.j_.set("Unknown")):(await t.J_.stop(),yI(t))})),t.J_}function vr(t){return t.Y_||(t.Y_=function(n,i,r){const s=te(n);return s.M_(),new f9(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:T9.bind(null,t),Lo:I9.bind(null,t),D_:S9.bind(null,t),v_:C9.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await ad(t)):(await t.Y_.stop(),t.U_.length>0&&(q(ls,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new sv(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(t,e){if(_i("AsyncQueue",`${e}: ${t}`),Bo(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=Ca(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new io;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Z_=new Ne(G.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):J():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class So{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new So(e,n,io.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class A9{constructor(){this.queries=Mb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=te(n),s=r.queries;r.queries=Mb(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(i)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function Mb(){return new ms(t=>zC(t),ed)}async function _I(t,e){const n=te(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new P9,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(r,!0);break;case 1:s.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=ov(o,`Initialization of query '${Ss(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&av(n)}async function bI(t,e){const n=te(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function R9(t,e){const n=te(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(r)&&(i=!0);o.ea=r}}i&&av(n)}function N9(t,e,n){const i=te(t),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(n);i.queries.delete(e)}function av(t){t.ia.forEach(e=>{e.next()})}var jm,jb;(jb=jm||(jm={}))._a="default",jb.Cache="cache";class EI{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new So(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class D9{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ae(),this.mutatedKeys=ae(),this.ya=BC(e),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new Db,r=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{const p=r.get(h),m=td(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?v!==x&&(i.track({type:3,doc:m}),S=!0):this.va(p,m)||(i.track({type:2,doc:m}),S=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),S=!0):p&&!m&&(i.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),s=x?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{wa:o,Da:i,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((h,f)=>function(m,v){const x=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return x(m)-x(v)}(h.type,f.type)||this.ya(h.doc,f.doc)),this.Ca(i),r=r!=null&&r;const a=n&&!r?this.Fa():[],l=this.pa.size===0&&this.current&&!r?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new So(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Db,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ae(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new SI(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new TI(i))}),n}Oa(e){this.fa=e.gs,this.pa=ae();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return So.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lv="SyncEngine";class M9{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class j9{constructor(e){this.key=e,this.Ba=!1}}class O9{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new ms(a=>zC(a),ed),this.qa=new Map,this.Qa=new Set,this.$a=new Ne(G.comparator),this.Ua=new Map,this.Ka=new Xy,this.Wa={},this.Ga=new Map,this.za=To.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function L9(t,e,n=!0){const i=RI(t);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await CI(i,e,n,!0),r}async function V9(t,e){const n=RI(t);await CI(n,e,!0,!1)}async function CI(t,e,n,i){const r=await r9(t.localStore,qn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await F9(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&mI(t.remoteStore,r),a}async function F9(t,e,n,i,r){t.Ha=(f,p,m)=>async function(x,S,w,_){let E=S.view.ba(w);E.ls&&(E=await Ib(x.localStore,S.query,!1).then(({documents:C})=>S.view.ba(C,E)));const P=_&&_.targetChanges.get(S.targetId),j=_&&_.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(E,x.isPrimaryClient,P,j);return Lb(x,S.targetId,L.Ma),L.snapshot}(t,f,p,m);const s=await Ib(t.localStore,e,!0),o=new D9(e,s.gs),a=o.ba(s.documents),l=Yl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Lb(t,n,c.Ma);const h=new M9(e,n,o);return t.ka.set(e,h),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function U9(t,e,n){const i=te(t),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(o=>!ed(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Dm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&tv(i.remoteStore,r.targetId),Om(i,r.targetId)}).catch(zo)):(Om(i,r.targetId),await Dm(i.localStore,r.targetId,!0))}async function z9(t,e){const n=te(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tv(n.remoteStore,i.targetId))}async function B9(t,e,n){const i=Q9(t);try{const r=await function(o,a){const l=te(o),c=Ge.now(),h=a.reduce((m,v)=>m.add(v.key),ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=bi(),x=ae();return l.ds.getEntries(m,h).next(S=>{v=S,v.forEach((w,_)=>{_.isValidDocument()||(x=x.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(S=>{f=S;const w=[];for(const _ of a){const E=rB(_,f.get(_.key).overlayedDocument);E!=null&&w.push(new Pr(_.key,E,MC(E.value.mapValue),kn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,w,a)}).next(S=>{p=S;const w=S.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(m,S.batchId,w)})}).then(()=>({batchId:p.batchId,changes:qC(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Ne(ie)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(i,r.batchId,n),await Jl(i,r.changes),await ad(i.remoteStore)}catch(r){const s=ov(r,"Failed to persist write");n.reject(s)}}async function II(t,e){const n=te(t);try{const i=await t9(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Ua.get(s);o&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?de(o.Ba):r.removedDocuments.size>0&&(de(o.Ba),o.Ba=!1))}),await Jl(n,i,e)}catch(i){await zo(i)}}function Ob(t,e,n){const i=te(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.ta)p.sa(a)&&(c=!0)}),c&&av(l)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function $9(t,e,n){const i=te(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ua.get(e),s=r&&r.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,_t.newNoDocument(s,ee.min()));const a=ae().add(s),l=new rd(ee.min(),new Map,new Ne(ie),o,a);await II(i,l),i.$a=i.$a.remove(s),i.Ua.delete(e),cv(i)}else await Dm(i.localStore,e,!1).then(()=>Om(i,e,n)).catch(zo)}async function q9(t,e){const n=te(t),i=e.batch.batchId;try{const r=await e9(n.localStore,e);PI(n,i,null),kI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Jl(n,r)}catch(r){await zo(r)}}async function H9(t,e,n){const i=te(t);try{const r=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(de(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(i.localStore,e);PI(i,e,n),kI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Jl(i,r)}catch(r){await zo(r)}}function kI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function PI(t,e,n){const i=te(t);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function Om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||AI(t,i)})}function AI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(tv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),cv(t))}function Lb(t,e,n){for(const i of n)i instanceof TI?(t.Ka.addReference(i.key,e),W9(t,i)):i instanceof SI?(q(lv,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||AI(t,i.key)):J()}function W9(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(q(lv,"New document in limbo: "+n),t.Qa.add(i),cv(t))}function cv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new G(Te.fromString(e)),i=t.za.next();t.Ua.set(i,new j9(n)),t.$a=t.$a.insert(n,i),mI(t.remoteStore,new Wi(qn(Hy(n.path)),i,"TargetPurposeLimboResolution",Yh.ae))}}async function Jl(t,e,n){const i=te(t),r=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach((a,l)=>{o.push(i.Ha(l,e,n).then(c=>{var h;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Zy.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),i.La.p_(r),await async function(l,c){const h=te(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(c,p=>V.forEach(p.Hi,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>V.forEach(p.Ji,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Bo(f))throw f;q(ev,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=h.Ts.get(p),v=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(v);h.Ts=h.Ts.insert(p,x)}}}(i.localStore,s))}async function G9(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){q(lv,"User change. New user:",e.toKey());const i=await hI(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new W(F.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jl(n,i.Rs)}}function K9(t,e){const n=te(t),i=n.Ua.get(e);if(i&&i.Ba)return ae().add(i.key);{let r=ae();const s=n.qa.get(e);if(!s)return r;for(const o of s){const a=n.ka.get(o);r=r.unionWith(a.view.Sa)}return r}}function RI(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=II.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=K9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$9.bind(null,e),e.La.p_=R9.bind(null,e.eventManager),e.La.Ja=N9.bind(null,e.eventManager),e}function Q9(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=q9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H9.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return ZB(this.persistence,new YB,e.initialUser,this.serializer)}Xa(e){return new uI(Jy.ri,this.serializer)}Za(e){return new o9}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class Y9 extends yh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){de(this.persistence.referenceDelegate instanceof mh);const i=this.persistence.referenceDelegate.garbageCollector;return new jB(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Lt.withCacheSize(this.cacheSizeBytes):Lt.DEFAULT;return new uI(i=>mh.ri(i,n),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ob(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=G9.bind(null,this.syncEngine),await k9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new A9}()}createDatastore(e){const n=sd(e.databaseInfo.databaseId),i=function(s){return new h9(s)}(e.databaseInfo);return function(s,o,a,l){return new m9(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new y9(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ob(this.syncEngine,n,0),function(){return Ab.D()?new Ab:new a9}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,h){const f=new O9(r,s,o,a,l,c);return h&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=te(r);q(ls,"RemoteStore shutting down."),s.W_.add(5),await Xl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="FirestoreClient";class X9{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=wt.UNAUTHENTICATED,this.clientId=EC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{q(wr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(q(wr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ov(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Yf(t,e){t.asyncQueue.verifyOperationInProgress(),q(wr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await hI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await J9(t);q(wr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Nb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Nb(e.remoteStore,r)),t._onlineComponents=e}async function J9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(wr,"Using user provided OfflineComponentProvider");try{await Yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===F.FAILED_PRECONDITION||r.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Yf(t,new yh)}}else q(wr,"Using default OfflineComponentProvider"),await Yf(t,new Y9(void 0));return t._offlineComponents}async function DI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(wr,"Using user provided OnlineComponentProvider"),await Vb(t,t._uninitializedComponentsProvider._online)):(q(wr,"Using default OnlineComponentProvider"),await Vb(t,new Lm))),t._onlineComponents}function Z9(t){return DI(t).then(e=>e.syncEngine)}async function MI(t){const e=await DI(t),n=e.eventManager;return n.onListen=L9.bind(null,e.syncEngine),n.onUnlisten=U9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=V9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z9.bind(null,e.syncEngine),n}function e8(t,e,n={}){const i=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new NI({next:p=>{h.su(),o.enqueueAndForget(()=>bI(s,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new EI(Hy(a.path),h,{includeMetadataChanges:!0,Ta:!0});return _I(s,f)}(await MI(t),t.asyncQueue,e,n,i)),i.promise}function t8(t,e,n={}){const i=new fi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const h=new NI({next:p=>{h.su(),o.enqueueAndForget(()=>bI(s,f)),p.fromCache&&l.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new EI(a,h,{includeMetadataChanges:!0,Ta:!0});return _I(s,f)}(await MI(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n8(t,e,n,i){if(e===!0&&i===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ub(t){if(!G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zb(t){if(G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uv(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="firestore.googleapis.com",Bb=!0;class $b{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LI,this.ssl=Bb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Bb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DB)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new uz;switch(i.type){case"firstParty":return new pz(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Fb.get(n);i&&(q("ComponentProvider","Removing Datastore"),Fb.delete(n),i.terminate())}(this),Promise.resolve()}}function i8(t,e,n,i={}){var r;const s=(t=Ei(t,ld))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==LI&&s.host!==a&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:i});if(!rs(l,o)&&(t._setSettings(l),i.mockUserToken)){let c,h;if(typeof i.mockUserToken=="string")c=i.mockUserToken,h=wt.MOCK_USER;else{c=T5(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new wt(f)}t._authCredentials=new hz(new _C(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cd(this.firestore,e,this._query)}}class en{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}}class lr extends cd{constructor(e,n,i){super(e,n,Hy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new G(e))}withConverter(e){return new lr(this.firestore,e,this._path)}}function Se(t,e,...n){if(t=ut(t),OI("collection","path",e),t instanceof ld){const i=Te.fromString(e,...n);return zb(i),new lr(t,null,i)}{if(!(t instanceof en||t instanceof lr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return zb(i),new lr(t.firestore,null,i)}}function Mt(t,e,...n){if(t=ut(t),arguments.length===1&&(e=EC.newId()),OI("doc","path",e),t instanceof ld){const i=Te.fromString(e,...n);return Ub(i),new en(t,null,new G(i))}{if(!(t instanceof en||t instanceof lr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Te.fromString(e,...n));return Ub(i),new en(t.firestore,t instanceof lr?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="AsyncQueue";class Hb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new fI(this,"async_queue_retry"),this.Su=()=>{const i=Qf();i&&q(qb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=Qf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bo(e))throw e;q(qb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw _i("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=sv.createAndSchedule(this,e,n,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&J()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class qo extends ld{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Hb,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Hb(e),this._firestoreClient=void 0,await e}}}function r8(t,e){const n=typeof t=="object"?t:NS(),i=typeof t=="string"?t:lh,r=Py(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=b5("firestore");s&&i8(r,...s)}return r}function hv(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||s8(t),t._firestoreClient}function s8(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,h){return new Pz(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,jI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new X9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(ht.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Co(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=/^__.*__$/;class a8{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class VI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class mv{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new mv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return vh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(FI(this.Lu)&&o8.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class l8{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||sd(e)}ju(e,n,i,r=!1){return new mv({Lu:e,methodName:n,zu:i,path:ot.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UI(t){const e=t._freezeSettings(),n=sd(t._databaseId);return new l8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function c8(t,e,n,i,r,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,r);gv("Data must be an object, but it was:",o,i);const a=zI(i,o);let l,c;if(s.merge)l=new Qt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const p=Vm(e,f,n);if(!o.contains(p))throw new W(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);$I(h,p)||h.push(p)}l=new Qt(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new a8(new Ft(a),l,c)}class hd extends dv{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}function u8(t,e,n,i){const r=t.ju(1,e,n);gv("Data must be an object, but it was:",r,i);const s=[],o=Ft.empty();kr(i,(l,c)=>{const h=yv(e,l,n);c=ut(c);const f=r.Uu(h);if(c instanceof hd)s.push(h);else{const p=dd(c,f);p!=null&&(s.push(h),o.set(h,p))}});const a=new Qt(s);return new VI(o,a,r.fieldTransforms)}function h8(t,e,n,i,r,s){const o=t.ju(1,e,n),a=[Vm(e,i,n)],l=[r];if(s.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Vm(e,s[p])),l.push(s[p+1]);const c=[],h=Ft.empty();for(let p=a.length-1;p>=0;--p)if(!$I(c,a[p])){const m=a[p];let v=l[p];v=ut(v);const x=o.Uu(m);if(v instanceof hd)c.push(m);else{const S=dd(v,x);S!=null&&(c.push(m),h.set(m,S))}}const f=new Qt(c);return new VI(h,f,o.fieldTransforms)}function dd(t,e){if(BI(t=ut(t)))return gv("Unsupported field value:",e,t),zI(t,e);if(t instanceof dv)return function(i,r){if(!FI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=dd(a,r.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Jz(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ge.fromDate(i);return{timestampValue:ph(r.serializer,s)}}if(i instanceof Ge){const s=new Ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ph(r.serializer,s)}}if(i instanceof fv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Co)return{bytesValue:nI(r.serializer,i._byteString)};if(i instanceof en){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof pv)return function(o,a){return{mapValue:{fields:{[RC]:{stringValue:DC},[ch]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Wy(a.serializer,c)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${uv(i)}`)}(t,e)}function zI(t,e){const n={};return SC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kr(t,(i,r)=>{const s=dd(r,e.qu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function BI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ge||t instanceof fv||t instanceof Co||t instanceof en||t instanceof dv||t instanceof pv)}function gv(t,e,n){if(!BI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=uv(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Vm(t,e,n){if((e=ut(e))instanceof ud)return e._internalPath;if(typeof e=="string")return yv(t,e);throw vh("Field path arguments must be of type string or ",t,!1,void 0,n)}const d8=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(d8)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vh(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new W(F.INVALID_ARGUMENT,a+t+l)}function $I(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(HI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f8 extends qI{data(){return super.data()}}function HI(t,e){return typeof e=="string"?yv(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m8{convertValue(e,n="none"){switch(yr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return kr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[ch].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ve(o.doubleValue));return new pv(s)}convertGeoPoint(e){return new fv(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Jh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=mr(e);return new Ge(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Te.fromString(e);de(lI(i));const r=new Al(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||_i(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g8(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WI extends qI{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(HI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class gu extends WI{data(e={}){return super.data(e)}}class y8{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ka(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new gu(this._firestore,this._userDataWriter,i.key,i,new ka(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new gu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ka(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new gu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ka(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:v8(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t){t=Ei(t,en);const e=Ei(t.firestore,qo);return e8(hv(e),t._key).then(n=>w8(e,t,n))}class KI extends m8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,n)}}function Xe(t){t=Ei(t,cd);const e=Ei(t.firestore,qo),n=hv(e),i=new KI(e);return p8(t._query),t8(n,t._query).then(r=>new y8(e,i,t,r))}function Ho(t,e,n,...i){t=Ei(t,en);const r=Ei(t.firestore,qo),s=UI(r);let o;return o=typeof(e=ut(e))=="string"||e instanceof ud?h8(s,"updateDoc",t._key,e,n,i):u8(s,"updateDoc",t._key,e),vv(r,[o.toMutation(t._key,kn.exists(!0))])}function Wo(t){return vv(Ei(t.firestore,qo),[new Gy(t._key,kn.none())])}function Go(t,e){const n=Ei(t.firestore,qo),i=Mt(t),r=g8(t.converter,e);return vv(n,[c8(UI(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,kn.exists(!1))]).then(()=>i)}function vv(t,e){return function(i,r){const s=new fi;return i.asyncQueue.enqueueAndForget(async()=>B9(await Z9(i),r,s)),s.promise}(hv(t),e)}function w8(t,e,n){const i=n.docs.get(e._key),r=new KI(t);return new WI(t,r,e._key,i,new ka(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Uo=r})(Lo),vo(new ss("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new qo(new dz(i.getProvider("auth-internal")),new mz(o,i.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(c.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),sr(X_,J_,e),sr(X_,J_,"esm2017")})();const x8={apiKey:"AIzaSyDyC18B907-b1H6dlgJNQHiLrsJN6g-k0Q",authDomain:"veilcode-labs.firebaseapp.com",projectId:"veilcode-labs",storageBucket:"veilcode-labs.firebasestorage.app",messagingSenderId:"875894459406",appId:"1:875894459406:web:fc712e6c33866e39fe005f"},QI=RS(x8),Fm=lz(QI),re=r8(QI);function _8(){var s,o,a,l;const[t,e]=R.useState([]),[n,i]=R.useState(null);Dn(),R.useEffect(()=>{(async()=>{const f=(await Xe(Se(re,"courses"))).docs.map(p=>({id:p.id,...p.data()}));e(f)})()},[]);const r=async c=>{const h=Mt(re,"courses",c),f=await GI(h);f.exists()?i({id:f.id,...f.data()}):console.log("No such course!")};return n?d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[d.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:d.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[d.jsx(ml,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Courses"]})}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"md:col-span-2 space-y-6",children:[d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[d.jsx("div",{className:"h-64",children:d.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx(z.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-2",children:n.title}),d.jsxs("div",{className:"text-[rgb(224,204,250)] space-y-1",children:[d.jsxs("p",{children:["Course Code: ",n.courseCode]}),d.jsxs("p",{children:["Credits: ",n.credits]}),d.jsxs("p",{children:["Offered to: ",n.offeredTo]})]})]}),d.jsx(z.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:n.description}),d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(hr,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[n.students," Students"]})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(es,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:n.duration})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(ho,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:n.instructor})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(Uw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[n.rating,"/5.0"]})]})]})]})]}),((s=n.courseOutcomes)==null?void 0:s.length)>0&&d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Course Outcomes"}),d.jsx("div",{className:"grid gap-3",children:n.courseOutcomes.map((c,h)=>d.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:h*.1},className:"flex items-start text-[rgb(224,204,250)] p-3 rounded-lg hover:bg-[rgba(49,10,101,0.2)] transition-colors duration-300",children:d.jsxs("span",{children:["CO",h+1,": ",c]})},h))})]})]}),d.jsxs("div",{className:"space-y-6",children:[n.prerequisites&&d.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prerequisites"}),Object.entries(n.prerequisites).map(([c,h])=>h.length>0&&d.jsxs("div",{className:"mb-4 last:mb-0",children:[d.jsxs("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2 capitalize",children:[c.replace(/([A-Z])/g," $1").trim(),":"]}),d.jsx("ul",{className:"space-y-2",children:h.map((f,p)=>d.jsx(z.li,{className:"flex items-center text-white",children:f},p))})]},c))]}),((o=n.assessment)==null?void 0:o.length)>0&&d.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Assessment Plan"}),d.jsx("div",{className:"space-y-3",children:n.assessment.map(({type:c,contribution:h})=>d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-[rgb(224,204,250)]",children:c}),d.jsxs("span",{className:"text-white",children:[h,"%"]})]},c))})]}),((l=(a=n.resources)==null?void 0:a.textbooks)==null?void 0:l.length)>0&&d.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Resource Material"}),d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2",children:"Textbooks"}),d.jsx("ul",{className:"space-y-2",children:n.resources.textbooks.map((c,h)=>d.jsx(z.li,{className:"text-white",children:c},h))})]})})]}),d.jsx(z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Enroll Now"})]})]})]}):d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"text-center",children:d.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Courses"})}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.length>0?t.map((c,h)=>d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:h*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:[d.jsx("div",{className:"h-48",children:d.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:c.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:c.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center text-white text-sm",children:[d.jsx(hr,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[c.students," Students"]})]}),d.jsxs("div",{className:"flex items-center text-white text-sm",children:[d.jsx(es,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:c.duration})]}),d.jsxs("div",{className:"flex items-center text-white text-sm",children:[d.jsx(ho,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:c.instructor})]}),d.jsxs("div",{className:"flex items-center text-white text-sm",children:[d.jsx(Uw,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[c.rating,"/5.0"]})]})]}),d.jsxs("button",{onClick:()=>r(c.id),className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View Course Details",d.jsx(ml,{className:"ml-2 h-4 w-4"})]})]})]},c.id)):d.jsx("p",{className:"text-white text-center col-span-2",children:"No courses available"})})]})}function b8(){var p;const[t,e]=R.useState([]),[n,i]=R.useState(!0),[r,s]=R.useState(null),[o,a]=R.useState(null),l=R.useRef();R.useEffect(()=>{(async()=>{const x=(await Xe(Se(re,"events"))).docs.map(S=>({id:S.id,...S.data(),gallery:S.data().gallery||[]}));e(x),i(!1)})()},[]),R.useEffect(()=>{const m=v=>{o&&l.current&&!l.current.contains(v.target)&&f()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[o]);const c=async m=>{const v=Mt(re,"events",m),x=await GI(v);x.exists()?s({id:x.id,...x.data(),gallery:x.data().gallery||[]}):console.log("No such event!")},h=m=>{a(m),document.body.style.overflow="hidden"},f=()=>{a(null),document.body.style.overflow="auto"};return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"text-white",children:"Loading events..."})}):r?d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[d.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:d.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[d.jsx(ml,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Events"]})}),o&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",ref:l,children:[d.jsx("button",{onClick:f,className:"absolute -top-10 right-0 text-white hover:text-[rgb(136,58,234)] transition-colors duration-300 z-10",children:d.jsx(Fg,{className:"h-8 w-8"})}),d.jsx("div",{className:"flex justify-center items-center h-full",children:d.jsx("img",{src:o,alt:"Enlarged gallery view",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})})]})}),d.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[d.jsx("div",{className:"md:col-span-2 space-y-6",children:d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[d.jsx("div",{className:"h-64",children:d.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})}),d.jsxs("div",{className:"p-6",children:[d.jsx(z.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-4",children:r.title}),d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(pl,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:r.date})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(es,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:r.time})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(Vw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:r.location})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(hr,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[r.registered||0,"/",r.capacity||0," Registered"]})]})]}),d.jsx(z.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:r.description})]})]})}),d.jsxs("div",{className:"space-y-6",children:[r.eventLink&&d.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Link"}),d.jsxs(z.a,{href:r.eventLink,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["Visit Event Site",d.jsx(uN,{className:"ml-2 h-4 w-4"})]})]}),((p=r.gallery)==null?void 0:p.length)>0&&d.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Gallery"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.gallery.map((m,v)=>d.jsx(z.div,{whileHover:{scale:1.05},className:"h-48 cursor-pointer",onClick:()=>h(m),children:d.jsx("img",{src:m,alt:`Event gallery ${v+1}`,className:"w-full h-full object-cover rounded-md hover:ring-2 hover:ring-[rgb(136,58,234)] transition-all duration-300"})},v))})]})]})]})]}):d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Past Events"}),d.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Stay updated with the latest cryptography events, workshops, and conferences."})]}),d.jsx("div",{className:"grid gap-8",children:t.map((m,v)=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:v*.2},whileHover:{scale:1.05},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"p-6 md:w-2/3",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:m.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(pl,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:m.date})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(es,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:m.time})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(Vw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:m.location})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(hr,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[m.registered||0,"/",m.capacity||0," Registered"]})]})]}),d.jsxs(z.button,{onClick:()=>c(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View More Details",d.jsx(ml,{className:"ml-2 h-4 w-4"})]})]})]})},m.id))})]})}const E8=({isOpen:t,onClose:e,videoUrl:n})=>{const i=r=>{if(!r)return"";const s=r.match(/[?&]v=([^&]+)/);return s?s[1]:""};return d.jsx(SN,{children:t&&d.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:d.jsxs(z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl bg-[#23262d] rounded-lg overflow-hidden",children:[d.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Fg,{className:"h-6 w-6"})}),d.jsx("div",{className:"relative pt-[56.25%]",children:d.jsx("iframe",{src:`https://www.youtube.com/embed/${i(n)}?autoplay=1`,title:"YouTube video player",className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})})};function T8(){const[t,e]=R.useState("lectures"),[n,i]=R.useState(null),[r,s]=R.useState({lectures:{},books:{},videos:{},researchPapers:{}}),o=[{id:"lectures",label:"Lectures",icon:hN},{id:"books",label:"Books",icon:aN},{id:"videos",label:"Videos",icon:wN},{id:"researchPapers",label:"Research Papers",icon:Lw}],a=c=>{const h={};return c.forEach(f=>{const p=f.data().year||"Uncategorized";h[p]||(h[p]=[]),h[p].push({id:f.id,...f.data()})}),h};R.useEffect(()=>{(async()=>{const h=await Xe(Se(re,"lectures")),f=await Xe(Se(re,"books")),p=await Xe(Se(re,"videos")),m=await Xe(Se(re,"researchPapers"));s({lectures:a(h),books:a(f),videos:a(p),researchPapers:a(m)})})()},[]);const l=c=>Object.keys(c).sort((f,p)=>p.localeCompare(f)).map(f=>d.jsxs("div",{className:"mb-12",children:[d.jsx("h3",{className:"text-2xl font-bold text-white mb-6 border-b border-[rgb(136,58,234)] pb-2",children:f==="Uncategorized"?"Other Resources":f}),t==="lectures"&&d.jsx("div",{className:"space-y-6",children:c[f].map((p,m)=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:p.title}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:p.description}),d.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(es,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),p.duration]}),d.jsx("div",{children:p.instructor})]})]}),d.jsxs(z.a,{href:p.pdfUrl,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-[rgb(136,58,234)] text-white px-4 py-2 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:[d.jsx(cN,{className:"h-4 w-4"}),d.jsx("span",{children:"Download PDF"})]})]})},p.id))}),t==="books"&&d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:p.title}),d.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:["by ",p.authors]}),d.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[d.jsxs("div",{children:[p.edition,"  ",p.year]}),d.jsxs(z.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[d.jsx(Lw,{className:"h-4 w-4"}),d.jsx("span",{children:"Access Book"})]})]})]},p.id))}),t==="videos"&&d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[d.jsxs("div",{className:"relative h-48",children:[d.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover"}),d.jsx(z.button,{onClick:()=>i(p.videoUrl),className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 hover:bg-opacity-40 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:d.jsx(yN,{className:"h-12 w-12 text-white"})})]}),d.jsxs("div",{className:"p-4",children:[d.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:p.title}),d.jsxs("div",{className:"flex justify-between items-center text-sm text-[rgb(224,204,250)]",children:[d.jsx("div",{children:p.instructor}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(es,{className:"h-4 w-4 mr-2"}),p.duration]})]})]})]},p.id))}),t==="researchPapers"&&d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>d.jsx(z.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"group bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:p.title}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:p.description})]}),d.jsx(ml,{className:"h-6 w-6 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"})]})},p.id))})]},f));return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Course Resources"}),d.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Access all course materials, recommended readings, and additional resources."})]}),d.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)]",children:o.map(c=>d.jsxs(z.button,{onClick:()=>e(c.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${t===c.id?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:[d.jsx(c.icon,{className:"h-5 w-5"}),d.jsx("span",{children:c.label})]},c.id))}),d.jsx("div",{className:"min-h-[400px]",children:l(r[t])}),d.jsx(E8,{isOpen:!!n,onClose:()=>i(null),videoUrl:n})]})}const Wb=({member:t,index:e,isHead:n})=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:e*.1},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${n?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:`flex ${n?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[d.jsx(z.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:e*.1+.2},src:t.image,alt:t.name,className:`${n?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),d.jsxs("div",{className:`${n?"text-center md:text-left mt-4 md:mt-0":""}`,children:[d.jsx("h3",{className:`${n?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:e*.1+.4},className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&d.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(wT,{className:"h-5 w-5"})}),t.github&&d.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(yT,{className:"h-5 w-5"})}),t.linkedin&&d.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(vT,{className:"h-5 w-5"})})]})]})});function S8(){const[t,e]=R.useState([]),[n,i]=R.useState(!0);if(R.useEffect(()=>{(async()=>{const l=(await Xe(Se(re,"members"))).docs.map(c=>({id:c.id,...c.data()}));e(l),i(!1)})()},[]),n)return d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"text-white",children:"Loading members..."})});const r=t.find(o=>o.isHead),s=t.filter(o=>!o.isHead);return d.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8",children:d.jsxs("div",{className:"space-y-12",children:[d.jsxs(z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},className:"text-center",children:[d.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Our Members"}),d.jsx("p",{className:"text-[rgb(224,204,250)] text-lg",children:"Meet our distinguished faculty members and researchers in cryptography."})]}),r&&d.jsx("div",{className:"px-4",children:d.jsx(Wb,{member:r,index:0,isHead:!0})}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2 px-4",children:s.map((o,a)=>d.jsx(Wb,{member:o,index:a+1,isHead:!1},o.id))}),d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6 mt-8",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Join Our Community"}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:"Interested in joining our research group? We're always looking for passionate researchers and students."}),d.jsx(z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"View Opportunities"})]})]})})}const C8=[{name:"Active Students",value:"500+",icon:hr},{name:"Research Papers",value:"150+",icon:ho},{name:"Awards",value:"25+",icon:oN},{name:"Partner Institutions",value:"10+",icon:lN}];function I8(){return d.jsxs(z.div,{className:"space-y-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[d.jsxs(z.div,{className:"text-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},children:[d.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"About VeilCode Labs"}),d.jsx("p",{className:"text-[rgb(224,204,250)] text-lg max-w-3xl mx-auto",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:C8.map((t,e)=>d.jsxs(z.div,{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 text-center",whileHover:{scale:1.05},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:e*.2},children:[d.jsx(t.icon,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),d.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:t.value}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.name})]},t.name))}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:["Our Mission","Our Vision"].map((t,e)=>d.jsxs(z.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{x:e%2===0?-50:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:e*.2},children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:t}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:t==="Our Mission"?"To provide world-class education and research opportunities in cryptography, fostering innovation and excellence in information security.":"To be a leading center of excellence in cryptography research and education, contributing to secure communication technologies."})]},t))}),d.jsxs(z.div,{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)]",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Research Areas"}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:["Applied Cryptography","Cryptanalysis"].map((t,e)=>d.jsxs(z.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:e*.3},children:[d.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:t}),d.jsx("ul",{className:"list-disc list-inside text-white space-y-2",children:t==="Applied Cryptography"?d.jsxs(d.Fragment,{children:[d.jsx("li",{children:"Public Key Infrastructure"}),d.jsx("li",{children:"Secure Communication Protocols"}),d.jsx("li",{children:"Blockchain Technology"}),d.jsx("li",{children:"Zero-Knowledge Proofs"})]}):d.jsxs(d.Fragment,{children:[d.jsx("li",{children:"Side-Channel Attacks"}),d.jsx("li",{children:"Quantum Cryptanalysis"}),d.jsx("li",{children:"Mathematical Cryptanalysis"}),d.jsx("li",{children:"Hardware Security"})]})})]},t))})]}),d.jsxs(z.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Us"}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{title:"Location",details:"Cryptography Research Lab, IIIT Delhi, Okhla Industrial Estate, Phase III, New Delhi, India"},{title:"Get in Touch",details:`Email: Under-Development
Phone: Under-Development
Office Hours: Under-Development`}].map((t,e)=>d.jsxs(z.div,{initial:{x:e%2===0?-50:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2,delay:e*.2},children:[d.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:t.title}),d.jsx("p",{className:"text-white whitespace-pre-line",children:t.details})]},t.title))})]})]})}function k8(){const[t,e]=R.useState([]),[n,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{const o=(await Xe(Se(re,"blogs"))).docs.map(a=>({id:a.id,...a.data()}));e(o),i(!1)})()},[]),n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"text-white",children:"Loading blogs..."})}):d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Blog"}),d.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Latest insights, research, and developments in cryptography."})]}),d.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},whileHover:{scale:1.05},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:r.image,alt:r.title,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"p-6 md:w-2/3",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:r.content}),r.tags&&d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map((o,a)=>d.jsx(z.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:o},a))}),d.jsxs("div",{className:"flex items-center justify-between text-[rgb(224,204,250)]",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vN,{className:"h-4 w-4 mr-2"}),r.author]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(pl,{className:"h-4 w-4 mr-2"}),r.date]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(mN,{className:"h-4 w-4 mr-2"}),r.comments||0," Comments"]})]})]})]})},r.id))})]})}function P8(){const[t,e]=R.useState([]),[n,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{const o=(await Xe(Se(re,"labs"))).docs.map(a=>({id:a.id,...a.data()}));e(o),i(!1)})()},[]),n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"text-white",children:"Loading labs..."})}):d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsxs("div",{className:"text-center",children:[d.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Labs"}),d.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Hands-on laboratory sessions for practical cryptography implementation."})]}),d.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>{var o;return d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:r.image,alt:r.title,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"p-6 md:w-2/3",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:r.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(es,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:r.duration})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(hr,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsxs("span",{children:[r.enrolled||0,"/",r.capacity||0," Enrolled"]})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(ho,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:r.instructor})]}),d.jsxs("div",{className:"flex items-center text-white",children:[d.jsx(gT,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),d.jsx("span",{children:((o=r.tools)==null?void 0:o.join(", "))||""})]})]}),r.prerequisites&&d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),d.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:r.prerequisites.map((a,l)=>d.jsx("li",{children:a},l))})]})]})]})},r.id)})})]})}const A8=()=>{const{pathname:t}=ds();return R.useEffect(()=>{window.scrollTo(0,0)},[t]),null},R8=()=>{const[t,e]=R.useState(""),[n,i]=R.useState(""),[r,s]=R.useState(""),o=Dn(),a=async l=>{l.preventDefault(),s("");try{await G6(Fm,t,n),o("/admin")}catch(c){console.error("Login error:",c.code,c.message),s(c.message)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#13151a]",children:d.jsxs("div",{className:"bg-[#23262d] p-8 rounded-lg border border-[rgb(136,58,234)] w-96",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login"}),r&&d.jsx("p",{className:"text-red-500 mb-4",children:r}),d.jsxs("form",{onSubmit:a,className:"space-y-4",children:[d.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:l=>e(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>i(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("button",{type:"submit",className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Login"})]})]})})},YI=R.createContext(),N8=({children:t})=>{const[e,n]=R.useState(null);R.useEffect(()=>{const r=Y6(Fm,s=>{n(s)});return()=>r()},[]);const i=async()=>{try{return await X6(Fm),!0}catch(r){return console.error("Logout error:",r),!1}};return d.jsx(YI.Provider,{value:{user:e,logout:i},children:t})},Ar=()=>R.useContext(YI),D8=()=>{const{user:t,logout:e}=Ar(),[n,i]=R.useState(!1),[r,s]=R.useState(!1);if(!t)return d.jsx(Ni,{to:"/admin-login"});const o=async()=>{i(!0);try{await e()}catch(a){console.error("Logout failed:",a)}finally{i(!1),s(!1)}};return d.jsxs("div",{className:"p-8 relative",children:[r&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] max-w-md w-full",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-6",children:"Are you sure you want to log out of the admin panel?"}),d.jsxs("div",{className:"flex justify-end space-x-3",children:[d.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded-md bg-gray-600 text-white hover:bg-gray-700 transition-colors duration-300",disabled:n,children:"Cancel"}),d.jsx("button",{onClick:o,className:`px-4 py-2 rounded-md ${n?"bg-red-700 cursor-not-allowed":"bg-red-500 hover:bg-red-600"} text-white transition-colors duration-300`,disabled:n,children:n?"Logging Out...":"Logout"})]})]})}),d.jsx("div",{className:"flex justify-between items-center",children:d.jsx("button",{onClick:()=>s(!0),className:`bg-red-500 text-white px-4 py-2 rounded-md ${n?"cursor-not-allowed opacity-75":"hover:bg-red-600"} transition-colors duration-300`,disabled:n,children:"Logout"})}),d.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Admin Panel"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[d.jsx(un,{to:"/admin/courses",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:d.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Courses"})}),d.jsx(un,{to:"/admin/blogs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:d.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Blogs"})}),d.jsx(un,{to:"/admin/events",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:d.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Events"})}),d.jsx(un,{to:"/admin/labs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:d.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Labs"})}),d.jsx(un,{to:"/admin/resources",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:d.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Resources"})}),d.jsx(un,{to:"/admin/members",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:d.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Members"})})]})]})};function M8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""}),{user:o}=Ar(),a=Dn();R.useEffect(()=>{(async()=>{const x=(await Xe(Se(re,"courses"))).docs.map(S=>({id:S.id,...S.data()}));e(x)})()},[]);const l=m=>{const{name:v,value:x}=m.target;if(v.includes("resources.")){const[S,w]=v.split(".");s(_=>({..._,resources:{..._.resources,[w]:x.split(",").map(E=>E.trim()).filter(E=>E!=="")}}))}else if(v.includes("prerequisites.")){const[S,w]=v.split(".");s(_=>({..._,prerequisites:{..._.prerequisites,[w]:x.split(",").map(E=>E.trim())}}))}else s({...r,[v]:x})},c=(m,v)=>{const{value:x}=m.target;s(S=>({...S,[v]:x.split(",").map(w=>w.trim())}))},h=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Ho(Mt(re,"courses",n.id),r),e(v=>v.map(x=>x.id===n.id?{...x,...r}:x));else{const v=await Go(Se(re,"courses"),r);e(x=>[...x,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving course:",v)}},f=()=>{s({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""})},p=async m=>{await Wo(Mt(re,"courses",m)),e(t.filter(v=>v.id!==m))};return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[d.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Courses"}),o&&d.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[d.jsx(No,{className:"h-4 w-4 mr-2"}),"Add Course"]}),d.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map(m=>d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:m.description}),d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Course Code:"})," ",m.courseCode]}),d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Instructor:"})," ",m.instructor]}),d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Duration:"})," ",m.duration]}),d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Students:"})," ",m.students]}),d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Rating:"})," ",m.rating]}),m.image&&d.jsx("img",{src:m.image,alt:m.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&d.jsxs("div",{className:"flex space-x-2 mt-4",children:[d.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Do,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:d.jsx(Mo,{className:"h-5 w-5"})})]})]},m.id))}),n&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Course":"Add Course"}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"courseCode",placeholder:"Course Code",value:r.courseCode,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"credits",placeholder:"Credits",type:"number",value:r.credits,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"offeredTo",placeholder:"Offered To",value:r.offeredTo,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"}),d.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"students",placeholder:"Number of Students",type:"number",value:r.students,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"rating",placeholder:"Rating (1-5)",type:"number",step:"0.1",min:"1",max:"5",value:r.rating,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"nextStart",placeholder:"Next Start Date (YYYY-MM-DD)",value:r.nextStart,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-white font-semibold",children:"Prerequisites"}),d.jsx("input",{name:"prerequisites.mandatory",placeholder:"Mandatory (comma separated)",value:r.prerequisites.mandatory.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"prerequisites.desirable",placeholder:"Desirable (comma separated)",value:r.prerequisites.desirable.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"prerequisites.other",placeholder:"Other (comma separated)",value:r.prerequisites.other.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-white font-semibold",children:"Course Outcomes (comma separated)"}),d.jsx("textarea",{name:"courseOutcomes",placeholder:"CO1: Outcome 1, CO2: Outcome 2, ...",value:r.courseOutcomes.join(", "),onChange:m=>c(m,"courseOutcomes"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-white font-semibold",children:"Assessment Plan (format: Type:Contribution, ...)"}),d.jsx("textarea",{name:"assessment",placeholder:"Mid-sem:25, End-sem:35, ...",value:r.assessment.map(m=>`${m.type}:${m.contribution}`).join(", "),onChange:m=>{const x=m.target.value.split(",").map(S=>{const[w,_]=S.split(":").map(E=>E.trim());return{type:w,contribution:parseInt(_)||0}});s({...r,assessment:x})},className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("h3",{className:"text-white font-semibold",children:"Resources"}),d.jsx("textarea",{name:"resources.textbooks",placeholder:"Textbooks (comma separated)",value:r.resources.textbooks.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function j8(){const[t,e]=R.useState({lectures:{},books:{},videos:{},researchPapers:{}}),[n,i]=R.useState(null),[r,s]=R.useState({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:""}),{user:o}=Ar(),a=Dn(),l=v=>{const x={};return v.forEach(S=>{const w=S.data().year||"Uncategorized";x[w]||(x[w]=[]),x[w].push({id:S.id,...S.data()})}),x};R.useEffect(()=>{(async()=>{const x=await Xe(Se(re,"lectures")),S=await Xe(Se(re,"books")),w=await Xe(Se(re,"videos")),_=await Xe(Se(re,"researchPapers"));e({lectures:l(x),books:l(S),videos:l(w),researchPapers:l(_)})})()},[]);const c=v=>{s({...r,[v.target.name]:v.target.value})},h=async v=>{v.preventDefault();try{const x={...r,year:r.year||new Date().getFullYear().toString()};if(n!=null&&n.id)await Ho(Mt(re,r.type,n.id),x),e(S=>{var _,E;const w={...S};return n.year&&n.year!==x.year&&(w[r.type][n.year]=((_=w[r.type][n.year])==null?void 0:_.filter(P=>P.id!==n.id))||[]),w[r.type][x.year]||(w[r.type][x.year]=[]),w[r.type][x.year]=[...((E=w[r.type][x.year])==null?void 0:E.filter(P=>P.id!==n.id))??[],{id:n.id,...x}],w});else{const S=await Go(Se(re,r.type),x);e(w=>{const _={...w},E=x.year;return _[r.type][E]||(_[r.type][E]=[]),_[r.type][E]=[..._[r.type][E],{id:S.id,...x}],_})}i(null),s({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:""})}catch(x){console.error("Error saving resource:",x)}},f=async(v,x,S)=>{await Wo(Mt(re,x,v)),e(w=>{const _={...w};return _[x][S]=_[x][S].filter(E=>E.id!==v),_[x][S].length===0&&delete _[x][S],_})},p=()=>{switch(r.type){case"lectures":return d.jsxs(d.Fragment,{children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"pdfUrl",placeholder:"PDF URL",value:r.pdfUrl,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"books":return d.jsxs(d.Fragment,{children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"authors",placeholder:"Authors",value:r.authors,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"edition",placeholder:"Edition",value:r.edition,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"url",placeholder:"Link",value:r.url,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"videos":return d.jsxs(d.Fragment,{children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"thumbnail",placeholder:"Thumbnail URL",value:r.thumbnail,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"videoUrl",placeholder:"Video URL",value:r.videoUrl,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"researchPapers":return d.jsxs(d.Fragment,{children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"url",placeholder:"URL",value:r.url,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});default:return null}},m=v=>Object.keys(t[v]).sort((S,w)=>w.localeCompare(S)).map(S=>d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-[rgb(136,58,234)] pb-2",children:S==="Uncategorized"?"Uncategorized":`Year: ${S}`}),d.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t[v][S].map(w=>d.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:w.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:w.description}),w.instructor&&d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Instructor:"})," ",w.instructor]}),w.duration&&d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Duration:"})," ",w.duration]}),w.authors&&d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Authors:"})," ",w.authors]}),w.edition&&d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Edition:"})," ",w.edition]}),w.year&&d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Year:"})," ",w.year]}),w.url&&d.jsxs("p",{className:"text-white",children:[d.jsx("strong",{children:"Link:"}),d.jsx("a",{href:w.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] ml-2",children:w.url})]}),w.thumbnail&&d.jsx("img",{src:w.thumbnail,alt:w.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&d.jsxs("div",{className:"flex space-x-2 mt-4",children:[d.jsx("button",{onClick:()=>{i(w),s({...w,type:v})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Do,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>f(w.id,v,S),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:d.jsx(Mo,{className:"h-5 w-5"})})]})]},w.id))})]},S));return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[d.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Resources"}),o&&d.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[d.jsx(No,{className:"h-4 w-4 mr-2"}),"Add Resource"]}),d.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)]",children:["lectures","books","videos","researchPapers"].map(v=>d.jsx(z.button,{onClick:()=>s(x=>({...x,type:v})),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${r.type===v?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:d.jsx("span",{children:v.charAt(0).toUpperCase()+v.slice(1)})},v))}),d.jsx("div",{className:"space-y-8",children:m(r.type)}),n&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Resource":"Add Resource"}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsxs("select",{name:"type",value:r.type,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",children:[d.jsx("option",{value:"lectures",children:"Lectures"}),d.jsx("option",{value:"books",children:"Books"}),d.jsx("option",{value:"videos",children:"Videos"}),d.jsx("option",{value:"researchPapers",children:"Research Papers"})]}),p(),d.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function O8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]}),{user:o}=Ar(),a=Dn();R.useEffect(()=>{(async()=>{const x=(await Xe(Se(re,"labs"))).docs.map(S=>({id:S.id,...S.data()}));e(x)})()},[]);const l=m=>{const{name:v,value:x}=m.target;s({...r,[v]:x})},c=(m,v)=>{const{value:x}=m.target;s({...r,[v]:x.split(",").map(S=>S.trim())})},h=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Ho(Mt(re,"labs",n.id),r),e(t.map(v=>v.id===n.id?{...v,...r}:v));else{const v=await Go(Se(re,"labs"),r);e([...t,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving lab:",v)}},f=()=>{s({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]})},p=async m=>{await Wo(Mt(re,"labs",m)),e(t.filter(v=>v.id!==m))};return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[d.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Labs"}),o&&d.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[d.jsx(No,{className:"h-4 w-4 mr-2"}),"Add Lab"]}),d.jsx("div",{className:"grid gap-8",children:t.map(m=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"p-6 md:w-2/3",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsx("div",{className:"flex items-center text-white",children:d.jsx("span",{children:m.duration})}),d.jsx("div",{className:"flex items-center text-white",children:d.jsxs("span",{children:[m.enrolled,"/",m.capacity," Enrolled"]})}),d.jsx("div",{className:"flex items-center text-white",children:d.jsx("span",{children:m.instructor})}),d.jsx("div",{className:"flex items-center text-white",children:d.jsx("span",{children:m.tools.join(", ")})})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),d.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:m.prerequisites.map((v,x)=>d.jsx("li",{children:v},x))})]}),o&&d.jsxs("div",{className:"flex space-x-2 mt-4",children:[d.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Do,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:d.jsx(Mo,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Lab":"Add Lab"}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx("input",{name:"enrolled",type:"number",placeholder:"Enrolled",value:r.enrolled,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsx("input",{name:"prerequisites",placeholder:"Prerequisites (comma separated)",value:r.prerequisites.join(", "),onChange:m=>c(m,"prerequisites"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"tools",placeholder:"Tools (comma separated)",value:r.tools.join(", "),onChange:m=>c(m,"tools"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function L8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]}),{user:o}=Ar(),a=Dn();R.useEffect(()=>{(async()=>{const x=(await Xe(Se(re,"events"))).docs.map(S=>({id:S.id,...S.data()}));e(x)})()},[]);const l=m=>{const{name:v,value:x}=m.target;s({...r,[v]:x})},c=m=>{const{value:v}=m.target;s({...r,gallery:v.split(",").map(x=>x.trim())})},h=async m=>{m.preventDefault();try{const v={...r,date:r.startDate===r.endDate||!r.endDate?r.startDate:`${r.startDate} to ${r.endDate}`};if(n!=null&&n.id)await Ho(Mt(re,"events",n.id),v),e(t.map(x=>x.id===n.id?{...x,...v}:x));else{const x=await Go(Se(re,"events"),v);e([...t,{id:x.id,...v}])}i(null),f()}catch(v){console.error("Error saving event:",v)}},f=()=>{s({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]})},p=async m=>{await Wo(Mt(re,"events",m)),e(t.filter(v=>v.id!==m))};return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[d.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Events"}),o&&d.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[d.jsx(No,{className:"h-4 w-4 mr-2"}),"Add Event"]}),d.jsx("div",{className:"grid gap-8",children:t.map(m=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"p-6 md:w-2/3",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsx("div",{className:"flex items-center text-white",children:d.jsx("span",{children:m.date})}),m.time&&d.jsx("div",{className:"flex items-center text-white",children:d.jsx("span",{children:m.time})}),d.jsx("div",{className:"flex items-center text-white",children:d.jsx("span",{children:m.location})}),d.jsx("div",{className:"flex items-center text-white",children:d.jsxs("span",{children:[m.registered,"/",m.capacity," Registered"]})})]}),o&&d.jsxs("div",{className:"flex space-x-2 mt-4",children:[d.jsx("button",{onClick:()=>{var x;i(m);const v=(x=m.date)!=null&&x.includes(" to ")?m.date.split(" to "):[m.date,m.date];s({...m,startDate:v[0],endDate:v[1]})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Do,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:d.jsx(Mo,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Event":"Add Event"}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-white block mb-1",children:"Start Date"}),d.jsx("input",{name:"startDate",type:"date",value:r.startDate,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white block mb-1",children:"End Date (optional)"}),d.jsx("input",{name:"endDate",type:"date",value:r.endDate,onChange:l,min:r.startDate,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),d.jsx("input",{name:"time",placeholder:"Time (optional, e.g., 10:00 AM - 4:00 PM)",value:r.time,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"location",placeholder:"Location",value:r.location,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"eventLink",placeholder:"Event Website URL",value:r.eventLink,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-white block mb-1",children:"Capacity"}),d.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,min:"0",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white block mb-1",children:"Registered"}),d.jsx("input",{name:"registered",type:"number",placeholder:"Registered",value:r.registered,onChange:l,min:"0",max:r.capacity,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-white block mb-1",children:"Gallery Image URLs (comma separated)"}),d.jsx("textarea",{name:"gallery",placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",value:(r.gallery||[]).join(", "),onChange:c,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function V8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1}),{user:o}=Ar(),a=Dn();R.useEffect(()=>{(async()=>{const v=(await Xe(Se(re,"members"))).docs.map(x=>({id:x.id,...x.data()}));e(v)})()},[]);const l=p=>{const{name:m,value:v,type:x,checked:S}=p.target;s({...r,[m]:x==="checkbox"?S:v})},c=async p=>{p.preventDefault();try{if(n!=null&&n.id)await Ho(Mt(re,"members",n.id),r),e(t.map(m=>m.id===n.id?{...m,...r}:m));else{const m=await Go(Se(re,"members"),r);e([...t,{id:m.id,...r}])}i(null),h()}catch(m){console.error("Error saving member:",m)}},h=()=>{s({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1})},f=async p=>{await Wo(Mt(re,"members",p)),e(t.filter(m=>m.id!==p))};return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[d.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Members"}),o&&d.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[d.jsx(No,{className:"h-4 w-4 mr-2"}),"Add Member"]}),d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Head Faculty"}),t.filter(p=>p.isHead).map(p=>d.jsx(Gb,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!0},p.id))]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Team Members"}),d.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.filter(p=>!p.isHead).map(p=>d.jsx(Gb,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!1},p.id))})]})]}),n&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Member":"Add Member"}),d.jsxs("form",{onSubmit:c,className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Name"}),d.jsx("input",{name:"name",value:r.name,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Role"}),d.jsx("input",{name:"role",value:r.role,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Specialization"}),d.jsx("input",{name:"specialization",value:r.specialization,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Email"}),d.jsx("input",{name:"email",type:"email",value:r.email,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"GitHub Username"}),d.jsx("input",{name:"github",value:r.github,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"LinkedIn Username"}),d.jsx("input",{name:"linkedin",value:r.linkedin,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Image URL"}),d.jsx("input",{name:"image",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{name:"isHead",type:"checkbox",checked:r.isHead,onChange:l,className:"h-4 w-4 text-[rgb(136,58,234)] rounded border-gray-300 focus:ring-[rgb(136,58,234)]"}),d.jsx("label",{className:"ml-2 text-[rgb(224,204,250)]",children:"Is Head Faculty Member"})]}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),h()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}const Gb=({member:t,onEdit:e,onDelete:n,isAdmin:i,isHead:r})=>d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${r?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:`flex ${r?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[d.jsx("img",{src:t.image,alt:t.name,className:`${r?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),d.jsxs("div",{className:`${r?"text-center md:text-left mt-4 md:mt-0":""}`,children:[d.jsx("h3",{className:`${r?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),d.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),d.jsxs("div",{className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&d.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(wT,{className:"h-5 w-5"})}),t.github&&d.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(yT,{className:"h-5 w-5"})}),t.linkedin&&d.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(vT,{className:"h-5 w-5"})})]}),i&&d.jsxs("div",{className:"flex space-x-2 mt-4 justify-center md:justify-start",children:[d.jsx("button",{onClick:e,className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Do,{className:"h-5 w-5"})}),d.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:d.jsx(Mo,{className:"h-5 w-5"})})]})]})});function F8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",content:"",author:"",date:"",image:"",tags:[],comments:0}),{user:o}=Ar(),a=Dn();R.useEffect(()=>{(async()=>{const x=(await Xe(Se(re,"blogs"))).docs.map(S=>({id:S.id,...S.data()}));e(x)})()},[]);const l=m=>{const{name:v,value:x}=m.target;s({...r,[v]:x})},c=(m,v)=>{const{value:x}=m.target;s({...r,[v]:x.split(",").map(S=>S.trim())})},h=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Ho(Mt(re,"blogs",n.id),r),e(t.map(v=>v.id===n.id?{...v,...r}:v));else{const v=await Go(Se(re,"blogs"),{...r,date:new Date().toISOString().split("T")[0]});e([...t,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving blog:",v)}},f=()=>{s({title:"",content:"",author:"",date:"",image:"",tags:[],comments:0})},p=async m=>{await Wo(Mt(re,"blogs",m)),e(t.filter(v=>v.id!==m))};return d.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[d.jsx(Ro,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Blogs"}),o&&d.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[d.jsx(No,{className:"h-4 w-4 mr-2"}),"Add Blog Post"]}),d.jsx("div",{className:"grid gap-8",children:t.map(m=>{var v;return d.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:d.jsxs("div",{className:"md:flex",children:[d.jsx("div",{className:"md:w-1/3",children:d.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),d.jsxs("div",{className:"p-6 md:w-2/3",children:[d.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),d.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 line-clamp-2",children:m.content}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(v=m.tags)==null?void 0:v.map((x,S)=>d.jsx("span",{className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:x},S))}),d.jsx("div",{className:"flex items-center justify-between text-[rgb(224,204,250)]",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("span",{children:m.author})}),d.jsx("div",{className:"flex items-center",children:d.jsx("span",{children:m.date})})]})}),o&&d.jsxs("div",{className:"flex space-x-2 mt-4",children:[d.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:d.jsx(Do,{className:"h-5 w-5"})}),d.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:d.jsx(Mo,{className:"h-5 w-5"})})]})]})]})},m.id)})}),n&&d.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:d.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Blog":"Add Blog"}),d.jsxs("form",{onSubmit:h,className:"space-y-4",children:[d.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("textarea",{name:"content",placeholder:"Content",value:r.content,onChange:l,required:!0,rows:"6",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"author",placeholder:"Author",value:r.author,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"date",type:"date",value:r.date,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"tags",placeholder:"Tags (comma separated)",value:r.tags.join(", "),onChange:m=>c(m,"tags"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsx("input",{name:"comments",type:"number",placeholder:"Comments count",value:r.comments,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),d.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),d.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function U8(){const{user:t}=Ar();return d.jsxs(ZR,{children:[d.jsx(A8,{}),d.jsx(xN,{children:d.jsxs(WR,{children:[d.jsx(nt,{path:"/",element:d.jsx(f5,{})}),d.jsx(nt,{path:"/courses",element:d.jsx(_8,{})}),d.jsx(nt,{path:"/resources",element:d.jsx(T8,{})}),d.jsx(nt,{path:"/events",element:d.jsx(b8,{})}),d.jsx(nt,{path:"/members",element:d.jsx(S8,{})}),d.jsx(nt,{path:"/about",element:d.jsx(I8,{})}),d.jsx(nt,{path:"/blog",element:d.jsx(k8,{})}),d.jsx(nt,{path:"/labs",element:d.jsx(P8,{})}),d.jsx(nt,{path:"/admin-login",element:d.jsx(R8,{})}),d.jsx(nt,{path:"/admin",element:t?d.jsx(D8,{}):d.jsx(Ni,{to:"/admin-login"})}),d.jsx(nt,{path:"/admin/courses",element:t?d.jsx(M8,{}):d.jsx(Ni,{to:"/admin-login"})}),d.jsx(nt,{path:"/admin/resources",element:t?d.jsx(j8,{}):d.jsx(Ni,{to:"/admin-login"})}),d.jsx(nt,{path:"/admin/labs",element:t?d.jsx(O8,{}):d.jsx(Ni,{to:"/admin-login"})}),d.jsx(nt,{path:"/admin/events",element:t?d.jsx(L8,{}):d.jsx(Ni,{to:"/admin-login"})}),d.jsx(nt,{path:"/admin/members",element:t?d.jsx(V8,{}):d.jsx(Ni,{to:"/admin-login"})}),d.jsx(nt,{path:"/admin/blogs",element:t?d.jsx(F8,{}):d.jsx(Ni,{to:"/admin-login"})})]})})]})}oT(document.getElementById("root")).render(d.jsx(N8,{children:d.jsx(R.StrictMode,{children:d.jsx(U8,{})})}));

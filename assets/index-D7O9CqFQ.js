function cP(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function uP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I1={exports:{}},Rh={},k1={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zl=Symbol.for("react.element"),hP=Symbol.for("react.portal"),dP=Symbol.for("react.fragment"),fP=Symbol.for("react.strict_mode"),pP=Symbol.for("react.profiler"),mP=Symbol.for("react.provider"),gP=Symbol.for("react.context"),yP=Symbol.for("react.forward_ref"),vP=Symbol.for("react.suspense"),xP=Symbol.for("react.memo"),wP=Symbol.for("react.lazy"),H0=Symbol.iterator;function _P(t){return t===null||typeof t!="object"?null:(t=H0&&t[H0]||t["@@iterator"],typeof t=="function"?t:null)}var P1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A1=Object.assign,N1={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=N1,this.updater=n||P1}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function R1(){}R1.prototype=Uo.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=N1,this.updater=n||P1}var lg=ag.prototype=new R1;lg.constructor=ag;A1(lg,Uo.prototype);lg.isPureReactComponent=!0;var W0=Array.isArray,j1=Object.prototype.hasOwnProperty,cg={current:null},D1={key:!0,ref:!0,__self:!0,__source:!0};function M1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)j1.call(e,i)&&!D1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:zl,type:t,key:s,ref:o,props:r,_owner:cg.current}}function bP(t,e){return{$$typeof:zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===zl}function EP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var G0=/\/+/g;function ef(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EP(""+t.key):e.toString(36)}function Zc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case zl:case hP:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+ef(o,0):i,W0(r)?(n="",t!=null&&(n=t.replace(G0,"$&/")+"/"),Zc(r,e,n,"",function(c){return c})):r!=null&&(ug(r)&&(r=bP(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(G0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",W0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+ef(s,a);o+=Zc(s,e,n,l,r)}else if(l=_P(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+ef(s,a++),o+=Zc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cc(t,e,n){if(t==null)return t;var i=[],r=0;return Zc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function TP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},eu={transition:null},SP={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:eu,ReactCurrentOwner:cg};function O1(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Cc,forEach:function(t,e,n){Cc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Cc(t,function(){e++}),e},toArray:function(t){return Cc(t,function(e){return e})||[]},only:function(t){if(!ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=Uo;oe.Fragment=dP;oe.Profiler=pP;oe.PureComponent=ag;oe.StrictMode=fP;oe.Suspense=vP;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SP;oe.act=O1;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=A1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=cg.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)j1.call(e,l)&&!D1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:zl,type:t.type,key:r,ref:s,props:i,_owner:o}};oe.createContext=function(t){return t={$$typeof:gP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mP,_context:t},t.Consumer=t};oe.createElement=M1;oe.createFactory=function(t){var e=M1.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:yP,render:t}};oe.isValidElement=ug;oe.lazy=function(t){return{$$typeof:wP,_payload:{_status:-1,_result:t},_init:TP}};oe.memo=function(t,e){return{$$typeof:xP,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=eu.transition;eu.transition={};try{t()}finally{eu.transition=e}};oe.unstable_act=O1;oe.useCallback=function(t,e){return Ot.current.useCallback(t,e)};oe.useContext=function(t){return Ot.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ot.current.useEffect(t,e)};oe.useId=function(){return Ot.current.useId()};oe.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ot.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};oe.useRef=function(t){return Ot.current.useRef(t)};oe.useState=function(t){return Ot.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ot.current.useTransition()};oe.version="18.3.1";k1.exports=oe;var N=k1.exports;const Iu=uP(N),CP=cP({__proto__:null,default:Iu},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=N,kP=Symbol.for("react.element"),PP=Symbol.for("react.fragment"),AP=Object.prototype.hasOwnProperty,NP=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RP={key:!0,ref:!0,__self:!0,__source:!0};function L1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)AP.call(e,i)&&!RP.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:kP,type:t,key:s,ref:o,props:r,_owner:NP.current}}Rh.Fragment=PP;Rh.jsx=L1;Rh.jsxs=L1;I1.exports=Rh;var u=I1.exports,V1={exports:{}},on={},F1={exports:{}},U1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,X){var ee=$.length;$.push(X);e:for(;0<ee;){var Ie=ee-1>>>1,me=$[Ie];if(0<r(me,X))$[Ie]=X,$[ee]=me,ee=Ie;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var X=$[0],ee=$.pop();if(ee!==X){$[0]=ee;e:for(var Ie=0,me=$.length,Ve=me>>>1;Ie<Ve;){var ni=2*(Ie+1)-1,ii=$[ni],ri=ni+1,si=$[ri];if(0>r(ii,ee))ri<me&&0>r(si,ii)?($[Ie]=si,$[ri]=ee,Ie=ri):($[Ie]=ii,$[ni]=ee,Ie=ni);else if(ri<me&&0>r(si,ee))$[Ie]=si,$[ri]=ee,Ie=ri;else break e}}return X}function r($,X){var ee=$.sortIndex-X.sortIndex;return ee!==0?ee:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b($){for(var X=n(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=$)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function I($){if(_=!1,b($),!v)if(n(l)!==null)v=!0,Rs(R);else{var X=n(c);X!==null&&xe(I,X.startTime-$)}}function R($,X){v=!1,_&&(_=!1,x(T),T=-1),m=!0;var ee=p;try{for(b(X),f=n(l);f!==null&&(!(f.expirationTime>X)||$&&!j());){var Ie=f.callback;if(typeof Ie=="function"){f.callback=null,p=f.priorityLevel;var me=Ie(f.expirationTime<=X);X=t.unstable_now(),typeof me=="function"?f.callback=me:f===n(l)&&i(l),b(X)}else i(l);f=n(l)}if(f!==null)var Ve=!0;else{var ni=n(c);ni!==null&&xe(I,ni.startTime-X),Ve=!1}return Ve}finally{f=null,p=ee,m=!1}}var M=!1,E=null,T=-1,k=5,P=-1;function j(){return!(t.unstable_now()-P<k)}function D(){if(E!==null){var $=t.unstable_now();P=$;var X=!0;try{X=E(!0,$)}finally{X?A():(M=!1,E=null)}}else M=!1}var A;if(typeof w=="function")A=function(){w(D)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,cn=Ce.port2;Ce.port1.onmessage=D,A=function(){cn.postMessage(null)}}else A=function(){S(D,0)};function Rs($){E=$,M||(M=!0,A())}function xe($,X){T=S(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Rs(R))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ee=p;p=X;try{return $()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=p;p=$;try{return X()}finally{p=ee}},t.unstable_scheduleCallback=function($,X,ee){var Ie=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ie+ee:Ie):ee=Ie,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,$={id:d++,callback:X,priorityLevel:$,startTime:ee,expirationTime:me,sortIndex:-1},ee>Ie?($.sortIndex=ee,e(c,$),n(l)===null&&$===n(c)&&(_?(x(T),T=-1):_=!0,xe(I,ee-Ie))):($.sortIndex=me,e(l,$),v||m||(v=!0,Rs(R))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var X=p;return function(){var ee=p;p=X;try{return $.apply(this,arguments)}finally{p=ee}}}})(U1);F1.exports=U1;var jP=F1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DP=N,sn=jP;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z1=new Set,nl={};function bs(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(nl[t]=e,t=0;t<e.length;t++)z1.add(e[t])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gp=Object.prototype.hasOwnProperty,MP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K0={},Q0={};function OP(t){return gp.call(Q0,t)?!0:gp.call(K0,t)?!1:MP.test(t)?Q0[t]=!0:(K0[t]=!0,!1)}function LP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VP(t,e,n,i){if(e===null||typeof e>"u"||LP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hg=/[\-:]([a-z])/g;function dg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hg,dg);ht[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hg,dg);ht[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hg,dg);ht[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fg(t,e,n,i){var r=ht.hasOwnProperty(e)?ht[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VP(e,n,r,i)&&(n=null),i||r===null?OP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Di=DP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),$s=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),pg=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),B1=Symbol.for("react.provider"),$1=Symbol.for("react.context"),mg=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),xp=Symbol.for("react.suspense_list"),gg=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),q1=Symbol.for("react.offscreen"),Y0=Symbol.iterator;function da(t){return t===null||typeof t!="object"?null:(t=Y0&&t[Y0]||t["@@iterator"],typeof t=="function"?t:null)}var je=Object.assign,tf;function _a(t){if(tf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tf=e&&e[1]||""}return`
`+tf+t}var nf=!1;function rf(t,e){if(!t||nf)return"";nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_a(t):""}function FP(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=rf(t.type,!1),t;case 11:return t=rf(t.type.render,!1),t;case 1:return t=rf(t.type,!0),t;default:return""}}function wp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qs:return"Fragment";case $s:return"Portal";case yp:return"Profiler";case pg:return"StrictMode";case vp:return"Suspense";case xp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $1:return(t.displayName||"Context")+".Consumer";case B1:return(t._context.displayName||"Context")+".Provider";case mg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gg:return e=t.displayName||null,e!==null?e:wp(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return wp(t(e))}catch{}}return null}function UP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wp(e);case 8:return e===pg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function H1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zP(t){var e=H1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=zP(t))}function W1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=H1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function ku(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _p(t,e){var n=e.checked;return je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function X0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function G1(t,e){e=e.checked,e!=null&&fg(t,"checked",e,!1)}function bp(t,e){G1(t,e);var n=vr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ep(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ep(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ep(t,e,n){(e!=="number"||ku(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ba=Array.isArray;function lo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Tp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Z0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ba(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function K1(t,e){var n=vr(e.value),i=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function ex(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pc,Y1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pc=Pc||document.createElement("div"),Pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BP=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(t){BP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ma[e]=Ma[t]})});function X1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ma.hasOwnProperty(t)&&Ma[t]?(""+e).trim():e+"px"}function J1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=X1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var $P=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if($P[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=null;function yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pp=null,co=null,uo=null;function tx(t){if(t=ql(t)){if(typeof Pp!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Lh(e),Pp(t.stateNode,t.type,e))}}function Z1(t){co?uo?uo.push(t):uo=[t]:co=t}function e2(){if(co){var t=co,e=uo;if(uo=co=null,tx(t),e)for(t=0;t<e.length;t++)tx(e[t])}}function t2(t,e){return t(e)}function n2(){}var sf=!1;function i2(t,e,n){if(sf)return t(e,n);sf=!0;try{return t2(t,e,n)}finally{sf=!1,(co!==null||uo!==null)&&(n2(),e2())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var i=Lh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Ap=!1;if(Ei)try{var fa={};Object.defineProperty(fa,"passive",{get:function(){Ap=!0}}),window.addEventListener("test",fa,fa),window.removeEventListener("test",fa,fa)}catch{Ap=!1}function qP(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Oa=!1,Pu=null,Au=!1,Np=null,HP={onError:function(t){Oa=!0,Pu=t}};function WP(t,e,n,i,r,s,o,a,l){Oa=!1,Pu=null,qP.apply(HP,arguments)}function GP(t,e,n,i,r,s,o,a,l){if(WP.apply(this,arguments),Oa){if(Oa){var c=Pu;Oa=!1,Pu=null}else throw Error(z(198));Au||(Au=!0,Np=c)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function nx(t){if(Es(t)!==t)throw Error(z(188))}function KP(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return nx(r),t;if(s===i)return nx(r),e;s=s.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function s2(t){return t=KP(t),t!==null?o2(t):null}function o2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=o2(t);if(e!==null)return e;t=t.sibling}return null}var a2=sn.unstable_scheduleCallback,ix=sn.unstable_cancelCallback,QP=sn.unstable_shouldYield,YP=sn.unstable_requestPaint,ze=sn.unstable_now,XP=sn.unstable_getCurrentPriorityLevel,vg=sn.unstable_ImmediatePriority,l2=sn.unstable_UserBlockingPriority,Nu=sn.unstable_NormalPriority,JP=sn.unstable_LowPriority,c2=sn.unstable_IdlePriority,jh=null,Hn=null;function ZP(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(jh,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:nA,eA=Math.log,tA=Math.LN2;function nA(t){return t>>>=0,t===0?32:31-(eA(t)/tA|0)|0}var Ac=64,Nc=4194304;function Ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Ea(a):(s&=o,s!==0&&(i=Ea(s)))}else o=n&~r,o!==0?i=Ea(o):s!==0&&(i=Ea(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-An(e),r=1<<n,i|=t[n],e&=~r;return i}function iA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-An(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=iA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Rp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function u2(){var t=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),t}function of(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=n}function sA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-An(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-An(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var pe=0;function h2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d2,wg,f2,p2,m2,jp=!1,Rc=[],tr=null,nr=null,ir=null,sl=new Map,ol=new Map,Hi=[],oA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rx(t,e){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(e.pointerId)}}function pa(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ql(e),e!==null&&wg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function aA(t,e,n,i,r){switch(e){case"focusin":return tr=pa(tr,t,e,n,i,r),!0;case"dragenter":return nr=pa(nr,t,e,n,i,r),!0;case"mouseover":return ir=pa(ir,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return sl.set(s,pa(sl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ol.set(s,pa(ol.get(s)||null,t,e,n,i,r)),!0}return!1}function g2(t){var e=Jr(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=r2(n),e!==null){t.blockedOn=e,m2(t.priority,function(){f2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function tu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);kp=i,n.target.dispatchEvent(i),kp=null}else return e=ql(n),e!==null&&wg(e),t.blockedOn=n,!1;e.shift()}return!0}function sx(t,e,n){tu(t)&&n.delete(e)}function lA(){jp=!1,tr!==null&&tu(tr)&&(tr=null),nr!==null&&tu(nr)&&(nr=null),ir!==null&&tu(ir)&&(ir=null),sl.forEach(sx),ol.forEach(sx)}function ma(t,e){t.blockedOn===e&&(t.blockedOn=null,jp||(jp=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,lA)))}function al(t){function e(r){return ma(r,t)}if(0<Rc.length){ma(Rc[0],t);for(var n=1;n<Rc.length;n++){var i=Rc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(tr!==null&&ma(tr,t),nr!==null&&ma(nr,t),ir!==null&&ma(ir,t),sl.forEach(e),ol.forEach(e),n=0;n<Hi.length;n++)i=Hi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)g2(n),n.blockedOn===null&&Hi.shift()}var ho=Di.ReactCurrentBatchConfig,ju=!0;function cA(t,e,n,i){var r=pe,s=ho.transition;ho.transition=null;try{pe=1,_g(t,e,n,i)}finally{pe=r,ho.transition=s}}function uA(t,e,n,i){var r=pe,s=ho.transition;ho.transition=null;try{pe=4,_g(t,e,n,i)}finally{pe=r,ho.transition=s}}function _g(t,e,n,i){if(ju){var r=Dp(t,e,n,i);if(r===null)gf(t,e,i,Du,n),rx(t,i);else if(aA(r,t,e,n,i))i.stopPropagation();else if(rx(t,i),e&4&&-1<oA.indexOf(t)){for(;r!==null;){var s=ql(r);if(s!==null&&d2(s),s=Dp(t,e,n,i),s===null&&gf(t,e,i,Du,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else gf(t,e,i,null,n)}}var Du=null;function Dp(t,e,n,i){if(Du=null,t=yg(i),t=Jr(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=r2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Du=t,null}function y2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XP()){case vg:return 1;case l2:return 4;case Nu:case JP:return 16;case c2:return 536870912;default:return 16}default:return 16}}var Yi=null,bg=null,nu=null;function v2(){if(nu)return nu;var t,e=bg,n=e.length,i,r="value"in Yi?Yi.value:Yi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return nu=r.slice(t,1<i?1-i:void 0)}function iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jc(){return!0}function ox(){return!1}function an(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jc:ox,this.isPropagationStopped=ox,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),e}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=an(zo),$l=je({},zo,{view:0,detail:0}),hA=an($l),af,lf,ga,Dh=je({},$l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ga&&(ga&&t.type==="mousemove"?(af=t.screenX-ga.screenX,lf=t.screenY-ga.screenY):lf=af=0,ga=t),af)},movementY:function(t){return"movementY"in t?t.movementY:lf}}),ax=an(Dh),dA=je({},Dh,{dataTransfer:0}),fA=an(dA),pA=je({},$l,{relatedTarget:0}),cf=an(pA),mA=je({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),gA=an(mA),yA=je({},zo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vA=an(yA),xA=je({},zo,{data:0}),lx=an(xA),wA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_A={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bA[t])?!!e[t]:!1}function Tg(){return EA}var TA=je({},$l,{key:function(t){if(t.key){var e=wA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_A[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tg,charCode:function(t){return t.type==="keypress"?iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),SA=an(TA),CA=je({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cx=an(CA),IA=je({},$l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tg}),kA=an(IA),PA=je({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),AA=an(PA),NA=je({},Dh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RA=an(NA),jA=[9,13,27,32],Sg=Ei&&"CompositionEvent"in window,La=null;Ei&&"documentMode"in document&&(La=document.documentMode);var DA=Ei&&"TextEvent"in window&&!La,x2=Ei&&(!Sg||La&&8<La&&11>=La),ux=" ",hx=!1;function w2(t,e){switch(t){case"keyup":return jA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function MA(t,e){switch(t){case"compositionend":return _2(e);case"keypress":return e.which!==32?null:(hx=!0,ux);case"textInput":return t=e.data,t===ux&&hx?null:t;default:return null}}function OA(t,e){if(Hs)return t==="compositionend"||!Sg&&w2(t,e)?(t=v2(),nu=bg=Yi=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x2&&e.locale!=="ko"?null:e.data;default:return null}}var LA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LA[t.type]:e==="textarea"}function b2(t,e,n,i){Z1(i),e=Mu(e,"onChange"),0<e.length&&(n=new Eg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Va=null,ll=null;function VA(t){j2(t,0)}function Mh(t){var e=Ks(t);if(W1(e))return t}function FA(t,e){if(t==="change")return e}var E2=!1;if(Ei){var uf;if(Ei){var hf="oninput"in document;if(!hf){var fx=document.createElement("div");fx.setAttribute("oninput","return;"),hf=typeof fx.oninput=="function"}uf=hf}else uf=!1;E2=uf&&(!document.documentMode||9<document.documentMode)}function px(){Va&&(Va.detachEvent("onpropertychange",T2),ll=Va=null)}function T2(t){if(t.propertyName==="value"&&Mh(ll)){var e=[];b2(e,ll,t,yg(t)),i2(VA,e)}}function UA(t,e,n){t==="focusin"?(px(),Va=e,ll=n,Va.attachEvent("onpropertychange",T2)):t==="focusout"&&px()}function zA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mh(ll)}function BA(t,e){if(t==="click")return Mh(e)}function $A(t,e){if(t==="input"||t==="change")return Mh(e)}function qA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var On=typeof Object.is=="function"?Object.is:qA;function cl(t,e){if(On(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!gp.call(e,r)||!On(t[r],e[r]))return!1}return!0}function mx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gx(t,e){var n=mx(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=mx(n)}}function S2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?S2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function C2(){for(var t=window,e=ku();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ku(t.document)}return e}function Cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HA(t){var e=C2(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&S2(n.ownerDocument.documentElement,n)){if(i!==null&&Cg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=gx(n,s);var o=gx(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var WA=Ei&&"documentMode"in document&&11>=document.documentMode,Ws=null,Mp=null,Fa=null,Op=!1;function yx(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Op||Ws==null||Ws!==ku(i)||(i=Ws,"selectionStart"in i&&Cg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fa&&cl(Fa,i)||(Fa=i,i=Mu(Mp,"onSelect"),0<i.length&&(e=new Eg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ws)))}function Dc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:Dc("Animation","AnimationEnd"),animationiteration:Dc("Animation","AnimationIteration"),animationstart:Dc("Animation","AnimationStart"),transitionend:Dc("Transition","TransitionEnd")},df={},I2={};Ei&&(I2=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Oh(t){if(df[t])return df[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in I2)return df[t]=e[n];return t}var k2=Oh("animationend"),P2=Oh("animationiteration"),A2=Oh("animationstart"),N2=Oh("transitionend"),R2=new Map,vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,e){R2.set(t,e),bs(e,[t])}for(var ff=0;ff<vx.length;ff++){var pf=vx[ff],GA=pf.toLowerCase(),KA=pf[0].toUpperCase()+pf.slice(1);Pr(GA,"on"+KA)}Pr(k2,"onAnimationEnd");Pr(P2,"onAnimationIteration");Pr(A2,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(N2,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function xx(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,GP(i,e,void 0,t),t.currentTarget=null}function j2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;xx(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;xx(r,a,c),s=l}}}if(Au)throw t=Np,Au=!1,Np=null,t}function _e(t,e){var n=e[zp];n===void 0&&(n=e[zp]=new Set);var i=t+"__bubble";n.has(i)||(D2(e,t,2,!1),n.add(i))}function mf(t,e,n){var i=0;e&&(i|=4),D2(n,t,i,e)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function ul(t){if(!t[Mc]){t[Mc]=!0,z1.forEach(function(n){n!=="selectionchange"&&(QA.has(n)||mf(n,!1,t),mf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Mc]||(e[Mc]=!0,mf("selectionchange",!1,e))}}function D2(t,e,n,i){switch(y2(e)){case 1:var r=cA;break;case 4:r=uA;break;default:r=_g}n=r.bind(null,e,n,t),r=void 0,!Ap||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function gf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Jr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}i2(function(){var c=s,d=yg(n),f=[];e:{var p=R2.get(t);if(p!==void 0){var m=Eg,v=t;switch(t){case"keypress":if(iu(n)===0)break e;case"keydown":case"keyup":m=SA;break;case"focusin":v="focus",m=cf;break;case"focusout":v="blur",m=cf;break;case"beforeblur":case"afterblur":m=cf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ax;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kA;break;case k2:case P2:case A2:m=gA;break;case N2:m=AA;break;case"scroll":m=hA;break;case"wheel":m=RA;break;case"copy":case"cut":case"paste":m=vA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=cx}var _=(e&4)!==0,S=!_&&t==="scroll",x=_?p!==null?p+"Capture":null:p;_=[];for(var w=c,b;w!==null;){b=w;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,x!==null&&(I=rl(w,x),I!=null&&_.push(hl(w,I,b)))),S)break;w=w.return}0<_.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==kp&&(v=n.relatedTarget||n.fromElement)&&(Jr(v)||v[Ti]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Jr(v):null,v!==null&&(S=Es(v),v!==S||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(_=ax,I="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=cx,I="onPointerLeave",x="onPointerEnter",w="pointer"),S=m==null?p:Ks(m),b=v==null?p:Ks(v),p=new _(I,w+"leave",m,n,d),p.target=S,p.relatedTarget=b,I=null,Jr(d)===c&&(_=new _(x,w+"enter",v,n,d),_.target=b,_.relatedTarget=S,I=_),S=I,m&&v)t:{for(_=m,x=v,w=0,b=_;b;b=Ls(b))w++;for(b=0,I=x;I;I=Ls(I))b++;for(;0<w-b;)_=Ls(_),w--;for(;0<b-w;)x=Ls(x),b--;for(;w--;){if(_===x||x!==null&&_===x.alternate)break t;_=Ls(_),x=Ls(x)}_=null}else _=null;m!==null&&wx(f,p,m,_,!1),v!==null&&S!==null&&wx(f,S,v,_,!0)}}e:{if(p=c?Ks(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=FA;else if(dx(p))if(E2)R=$A;else{R=zA;var M=UA}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=BA);if(R&&(R=R(t,c))){b2(f,R,n,d);break e}M&&M(t,p,c),t==="focusout"&&(M=p._wrapperState)&&M.controlled&&p.type==="number"&&Ep(p,"number",p.value)}switch(M=c?Ks(c):window,t){case"focusin":(dx(M)||M.contentEditable==="true")&&(Ws=M,Mp=c,Fa=null);break;case"focusout":Fa=Mp=Ws=null;break;case"mousedown":Op=!0;break;case"contextmenu":case"mouseup":case"dragend":Op=!1,yx(f,n,d);break;case"selectionchange":if(WA)break;case"keydown":case"keyup":yx(f,n,d)}var E;if(Sg)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Hs?w2(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(x2&&n.locale!=="ko"&&(Hs||T!=="onCompositionStart"?T==="onCompositionEnd"&&Hs&&(E=v2()):(Yi=d,bg="value"in Yi?Yi.value:Yi.textContent,Hs=!0)),M=Mu(c,T),0<M.length&&(T=new lx(T,t,null,n,d),f.push({event:T,listeners:M}),E?T.data=E:(E=_2(n),E!==null&&(T.data=E)))),(E=DA?MA(t,n):OA(t,n))&&(c=Mu(c,"onBeforeInput"),0<c.length&&(d=new lx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=E))}j2(f,e)})}function hl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Mu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=rl(t,n),s!=null&&i.unshift(hl(t,s,r)),s=rl(t,e),s!=null&&i.push(hl(t,s,r))),t=t.return}return i}function Ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wx(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=rl(n,s),l!=null&&o.unshift(hl(n,l,a))):r||(l=rl(n,s),l!=null&&o.push(hl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YA=/\r\n?/g,XA=/\u0000|\uFFFD/g;function _x(t){return(typeof t=="string"?t:""+t).replace(YA,`
`).replace(XA,"")}function Oc(t,e,n){if(e=_x(e),_x(t)!==e&&n)throw Error(z(425))}function Ou(){}var Lp=null,Vp=null;function Fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(t){return bx.resolve(null).then(t).catch(eN)}:Up;function eN(t){setTimeout(function(){throw t})}function yf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),al(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);al(e)}function rr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ex(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),qn="__reactFiber$"+Bo,dl="__reactProps$"+Bo,Ti="__reactContainer$"+Bo,zp="__reactEvents$"+Bo,tN="__reactListeners$"+Bo,nN="__reactHandles$"+Bo;function Jr(t){var e=t[qn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ti]||n[qn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ex(t);t!==null;){if(n=t[qn])return n;t=Ex(t)}return e}t=n,n=t.parentNode}return null}function ql(t){return t=t[qn]||t[Ti],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ks(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Lh(t){return t[dl]||null}var Bp=[],Qs=-1;function Ar(t){return{current:t}}function Ee(t){0>Qs||(t.current=Bp[Qs],Bp[Qs]=null,Qs--)}function ye(t,e){Qs++,Bp[Qs]=t.current,t.current=e}var xr={},kt=Ar(xr),qt=Ar(!1),ls=xr;function wo(t,e){var n=t.type.contextTypes;if(!n)return xr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ht(t){return t=t.childContextTypes,t!=null}function Lu(){Ee(qt),Ee(kt)}function Tx(t,e,n){if(kt.current!==xr)throw Error(z(168));ye(kt,e),ye(qt,n)}function M2(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,UP(t)||"Unknown",r));return je({},n,i)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xr,ls=kt.current,ye(kt,t),ye(qt,qt.current),!0}function Sx(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=M2(t,e,ls),i.__reactInternalMemoizedMergedChildContext=t,Ee(qt),Ee(kt),ye(kt,t)):Ee(qt),ye(qt,n)}var ci=null,Vh=!1,vf=!1;function O2(t){ci===null?ci=[t]:ci.push(t)}function iN(t){Vh=!0,O2(t)}function Nr(){if(!vf&&ci!==null){vf=!0;var t=0,e=pe;try{var n=ci;for(pe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ci=null,Vh=!1}catch(r){throw ci!==null&&(ci=ci.slice(t+1)),a2(vg,Nr),r}finally{pe=e,vf=!1}}return null}var Ys=[],Xs=0,Fu=null,Uu=0,fn=[],pn=0,cs=null,hi=1,di="";function Gr(t,e){Ys[Xs++]=Uu,Ys[Xs++]=Fu,Fu=t,Uu=e}function L2(t,e,n){fn[pn++]=hi,fn[pn++]=di,fn[pn++]=cs,cs=t;var i=hi;t=di;var r=32-An(i)-1;i&=~(1<<r),n+=1;var s=32-An(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,hi=1<<32-An(e)+r|n<<r|i,di=s+t}else hi=1<<s|n<<r|i,di=t}function Ig(t){t.return!==null&&(Gr(t,1),L2(t,1,0))}function kg(t){for(;t===Fu;)Fu=Ys[--Xs],Ys[Xs]=null,Uu=Ys[--Xs],Ys[Xs]=null;for(;t===cs;)cs=fn[--pn],fn[pn]=null,di=fn[--pn],fn[pn]=null,hi=fn[--pn],fn[pn]=null}var en=null,Jt=null,Se=!1,Pn=null;function V2(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Cx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=rr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cs!==null?{id:hi,overflow:di}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function $p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function qp(t){if(Se){var e=Jt;if(e){var n=e;if(!Cx(t,e)){if($p(t))throw Error(z(418));e=rr(n.nextSibling);var i=en;e&&Cx(t,e)?V2(i,n):(t.flags=t.flags&-4097|2,Se=!1,en=t)}}else{if($p(t))throw Error(z(418));t.flags=t.flags&-4097|2,Se=!1,en=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function Lc(t){if(t!==en)return!1;if(!Se)return Ix(t),Se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fp(t.type,t.memoizedProps)),e&&(e=Jt)){if($p(t))throw F2(),Error(z(418));for(;e;)V2(t,e),e=rr(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=rr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?rr(t.stateNode.nextSibling):null;return!0}function F2(){for(var t=Jt;t;)t=rr(t.nextSibling)}function _o(){Jt=en=null,Se=!1}function Pg(t){Pn===null?Pn=[t]:Pn.push(t)}var rN=Di.ReactCurrentBatchConfig;function ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Vc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function kx(t){var e=t._init;return e(t._payload)}function U2(t){function e(x,w){if(t){var b=x.deletions;b===null?(x.deletions=[w],x.flags|=16):b.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function i(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function r(x,w){return x=lr(x,w),x.index=0,x.sibling=null,x}function s(x,w,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<w?(x.flags|=2,w):b):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,b,I){return w===null||w.tag!==6?(w=Sf(b,x.mode,I),w.return=x,w):(w=r(w,b),w.return=x,w)}function l(x,w,b,I){var R=b.type;return R===qs?d(x,w,b.props.children,I,b.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$i&&kx(R)===w.type)?(I=r(w,b.props),I.ref=ya(x,w,b),I.return=x,I):(I=uu(b.type,b.key,b.props,null,x.mode,I),I.ref=ya(x,w,b),I.return=x,I)}function c(x,w,b,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=Cf(b,x.mode,I),w.return=x,w):(w=r(w,b.children||[]),w.return=x,w)}function d(x,w,b,I,R){return w===null||w.tag!==7?(w=ss(b,x.mode,I,R),w.return=x,w):(w=r(w,b),w.return=x,w)}function f(x,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Sf(""+w,x.mode,b),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ic:return b=uu(w.type,w.key,w.props,null,x.mode,b),b.ref=ya(x,null,w),b.return=x,b;case $s:return w=Cf(w,x.mode,b),w.return=x,w;case $i:var I=w._init;return f(x,I(w._payload),b)}if(ba(w)||da(w))return w=ss(w,x.mode,b,null),w.return=x,w;Vc(x,w)}return null}function p(x,w,b,I){var R=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:a(x,w,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:return b.key===R?l(x,w,b,I):null;case $s:return b.key===R?c(x,w,b,I):null;case $i:return R=b._init,p(x,w,R(b._payload),I)}if(ba(b)||da(b))return R!==null?null:d(x,w,b,I,null);Vc(x,b)}return null}function m(x,w,b,I,R){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(b)||null,a(w,x,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ic:return x=x.get(I.key===null?b:I.key)||null,l(w,x,I,R);case $s:return x=x.get(I.key===null?b:I.key)||null,c(w,x,I,R);case $i:var M=I._init;return m(x,w,b,M(I._payload),R)}if(ba(I)||da(I))return x=x.get(b)||null,d(w,x,I,R,null);Vc(w,I)}return null}function v(x,w,b,I){for(var R=null,M=null,E=w,T=w=0,k=null;E!==null&&T<b.length;T++){E.index>T?(k=E,E=null):k=E.sibling;var P=p(x,E,b[T],I);if(P===null){E===null&&(E=k);break}t&&E&&P.alternate===null&&e(x,E),w=s(P,w,T),M===null?R=P:M.sibling=P,M=P,E=k}if(T===b.length)return n(x,E),Se&&Gr(x,T),R;if(E===null){for(;T<b.length;T++)E=f(x,b[T],I),E!==null&&(w=s(E,w,T),M===null?R=E:M.sibling=E,M=E);return Se&&Gr(x,T),R}for(E=i(x,E);T<b.length;T++)k=m(E,x,T,b[T],I),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?T:k.key),w=s(k,w,T),M===null?R=k:M.sibling=k,M=k);return t&&E.forEach(function(j){return e(x,j)}),Se&&Gr(x,T),R}function _(x,w,b,I){var R=da(b);if(typeof R!="function")throw Error(z(150));if(b=R.call(b),b==null)throw Error(z(151));for(var M=R=null,E=w,T=w=0,k=null,P=b.next();E!==null&&!P.done;T++,P=b.next()){E.index>T?(k=E,E=null):k=E.sibling;var j=p(x,E,P.value,I);if(j===null){E===null&&(E=k);break}t&&E&&j.alternate===null&&e(x,E),w=s(j,w,T),M===null?R=j:M.sibling=j,M=j,E=k}if(P.done)return n(x,E),Se&&Gr(x,T),R;if(E===null){for(;!P.done;T++,P=b.next())P=f(x,P.value,I),P!==null&&(w=s(P,w,T),M===null?R=P:M.sibling=P,M=P);return Se&&Gr(x,T),R}for(E=i(x,E);!P.done;T++,P=b.next())P=m(E,x,T,P.value,I),P!==null&&(t&&P.alternate!==null&&E.delete(P.key===null?T:P.key),w=s(P,w,T),M===null?R=P:M.sibling=P,M=P);return t&&E.forEach(function(D){return e(x,D)}),Se&&Gr(x,T),R}function S(x,w,b,I){if(typeof b=="object"&&b!==null&&b.type===qs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ic:e:{for(var R=b.key,M=w;M!==null;){if(M.key===R){if(R=b.type,R===qs){if(M.tag===7){n(x,M.sibling),w=r(M,b.props.children),w.return=x,x=w;break e}}else if(M.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$i&&kx(R)===M.type){n(x,M.sibling),w=r(M,b.props),w.ref=ya(x,M,b),w.return=x,x=w;break e}n(x,M);break}else e(x,M);M=M.sibling}b.type===qs?(w=ss(b.props.children,x.mode,I,b.key),w.return=x,x=w):(I=uu(b.type,b.key,b.props,null,x.mode,I),I.ref=ya(x,w,b),I.return=x,x=I)}return o(x);case $s:e:{for(M=b.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){n(x,w.sibling),w=r(w,b.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Cf(b,x.mode,I),w.return=x,x=w}return o(x);case $i:return M=b._init,S(x,w,M(b._payload),I)}if(ba(b))return v(x,w,b,I);if(da(b))return _(x,w,b,I);Vc(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(n(x,w.sibling),w=r(w,b),w.return=x,x=w):(n(x,w),w=Sf(b,x.mode,I),w.return=x,x=w),o(x)):n(x,w)}return S}var bo=U2(!0),z2=U2(!1),zu=Ar(null),Bu=null,Js=null,Ag=null;function Ng(){Ag=Js=Bu=null}function Rg(t){var e=zu.current;Ee(zu),t._currentValue=e}function Hp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function fo(t,e){Bu=t,Ag=Js=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(Ag!==t)if(t={context:t,memoizedValue:e,next:null},Js===null){if(Bu===null)throw Error(z(308));Js=t,Bu.dependencies={lanes:0,firstContext:t}}else Js=Js.next=t;return e}var Zr=null;function jg(t){Zr===null?Zr=[t]:Zr.push(t)}function B2(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,jg(e)):(n.next=r.next,r.next=n),e.interleaved=n,Si(t,i)}function Si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qi=!1;function Dg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Si(t,n)}return r=i.interleaved,r===null?(e.next=e,jg(i)):(e.next=r.next,r.next=e),i.interleaved=e,Si(t,n)}function ru(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,xg(t,n)}}function Px(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $u(t,e,n,i){var r=t.updateQueue;qi=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(p=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=je({},f,p);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);hs|=o,t.lanes=o,t.memoizedState=f}}function Ax(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var Hl={},Wn=Ar(Hl),fl=Ar(Hl),pl=Ar(Hl);function es(t){if(t===Hl)throw Error(z(174));return t}function Mg(t,e){switch(ye(pl,e),ye(fl,t),ye(Wn,Hl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sp(e,t)}Ee(Wn),ye(Wn,e)}function Eo(){Ee(Wn),Ee(fl),Ee(pl)}function q2(t){es(pl.current);var e=es(Wn.current),n=Sp(e,t.type);e!==n&&(ye(fl,t),ye(Wn,n))}function Og(t){fl.current===t&&(Ee(Wn),Ee(fl))}var Pe=Ar(0);function qu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xf=[];function Lg(){for(var t=0;t<xf.length;t++)xf[t]._workInProgressVersionPrimary=null;xf.length=0}var su=Di.ReactCurrentDispatcher,wf=Di.ReactCurrentBatchConfig,us=0,Ne=null,Qe=null,tt=null,Hu=!1,Ua=!1,ml=0,sN=0;function yt(){throw Error(z(321))}function Vg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!On(t[n],e[n]))return!1;return!0}function Fg(t,e,n,i,r,s){if(us=s,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,su.current=t===null||t.memoizedState===null?cN:uN,t=n(i,r),Ua){s=0;do{if(Ua=!1,ml=0,25<=s)throw Error(z(301));s+=1,tt=Qe=null,e.updateQueue=null,su.current=hN,t=n(i,r)}while(Ua)}if(su.current=Wu,e=Qe!==null&&Qe.next!==null,us=0,tt=Qe=Ne=null,Hu=!1,e)throw Error(z(300));return t}function Ug(){var t=ml!==0;return ml=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Ne.memoizedState=tt=t:tt=tt.next=t,tt}function _n(){if(Qe===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Qe.next;var e=tt===null?Ne.memoizedState:tt.next;if(e!==null)tt=e,Qe=t;else{if(t===null)throw Error(z(310));Qe=t,t={memoizedState:Qe.memoizedState,baseState:Qe.baseState,baseQueue:Qe.baseQueue,queue:Qe.queue,next:null},tt===null?Ne.memoizedState=tt=t:tt=tt.next=t}return tt}function gl(t,e){return typeof e=="function"?e(t):e}function _f(t){var e=_n(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=Qe,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((us&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Ne.lanes|=d,hs|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,On(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ne.lanes|=s,hs|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bf(t){var e=_n(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);On(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function H2(){}function W2(t,e){var n=Ne,i=_n(),r=e(),s=!On(i.memoizedState,r);if(s&&(i.memoizedState=r,Bt=!0),i=i.queue,zg(Q2.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,yl(9,K2.bind(null,n,i,r,e),void 0,null),nt===null)throw Error(z(349));us&30||G2(n,e,r)}return r}function G2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function K2(t,e,n,i){e.value=n,e.getSnapshot=i,Y2(e)&&X2(t)}function Q2(t,e,n){return n(function(){Y2(e)&&X2(t)})}function Y2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!On(t,n)}catch{return!0}}function X2(t){var e=Si(t,1);e!==null&&Nn(e,t,1,-1)}function Nx(t){var e=Bn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gl,lastRenderedState:t},e.queue=t,t=t.dispatch=lN.bind(null,Ne,t),[e.memoizedState,t]}function yl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function J2(){return _n().memoizedState}function ou(t,e,n,i){var r=Bn();Ne.flags|=t,r.memoizedState=yl(1|e,n,void 0,i===void 0?null:i)}function Fh(t,e,n,i){var r=_n();i=i===void 0?null:i;var s=void 0;if(Qe!==null){var o=Qe.memoizedState;if(s=o.destroy,i!==null&&Vg(i,o.deps)){r.memoizedState=yl(e,n,s,i);return}}Ne.flags|=t,r.memoizedState=yl(1|e,n,s,i)}function Rx(t,e){return ou(8390656,8,t,e)}function zg(t,e){return Fh(2048,8,t,e)}function Z2(t,e){return Fh(4,2,t,e)}function eE(t,e){return Fh(4,4,t,e)}function tE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nE(t,e,n){return n=n!=null?n.concat([t]):null,Fh(4,4,tE.bind(null,e,t),n)}function Bg(){}function iE(t,e){var n=_n();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function rE(t,e){var n=_n();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function sE(t,e,n){return us&21?(On(n,e)||(n=u2(),Ne.lanes|=n,hs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function oN(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var i=wf.transition;wf.transition={};try{t(!1),e()}finally{pe=n,wf.transition=i}}function oE(){return _n().memoizedState}function aN(t,e,n){var i=ar(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},aE(t))lE(e,n);else if(n=B2(t,e,n,i),n!==null){var r=Dt();Nn(n,t,i,r),cE(n,e,i)}}function lN(t,e,n){var i=ar(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(aE(t))lE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,On(a,o)){var l=e.interleaved;l===null?(r.next=r,jg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=B2(t,e,r,i),n!==null&&(r=Dt(),Nn(n,t,i,r),cE(n,e,i))}}function aE(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function lE(t,e){Ua=Hu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,xg(t,n)}}var Wu={readContext:wn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},cN={readContext:wn,useCallback:function(t,e){return Bn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:Rx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ou(4194308,4,tE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return ou(4,2,t,e)},useMemo:function(t,e){var n=Bn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Bn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=aN.bind(null,Ne,t),[i.memoizedState,t]},useRef:function(t){var e=Bn();return t={current:t},e.memoizedState=t},useState:Nx,useDebugValue:Bg,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=Nx(!1),e=t[0];return t=oN.bind(null,t[1]),Bn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ne,r=Bn();if(Se){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),nt===null)throw Error(z(349));us&30||G2(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Rx(Q2.bind(null,i,s,t),[t]),i.flags|=2048,yl(9,K2.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Bn(),e=nt.identifierPrefix;if(Se){var n=di,i=hi;n=(i&~(1<<32-An(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ml++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=sN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uN={readContext:wn,useCallback:iE,useContext:wn,useEffect:zg,useImperativeHandle:nE,useInsertionEffect:Z2,useLayoutEffect:eE,useMemo:rE,useReducer:_f,useRef:J2,useState:function(){return _f(gl)},useDebugValue:Bg,useDeferredValue:function(t){var e=_n();return sE(e,Qe.memoizedState,t)},useTransition:function(){var t=_f(gl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:H2,useSyncExternalStore:W2,useId:oE,unstable_isNewReconciler:!1},hN={readContext:wn,useCallback:iE,useContext:wn,useEffect:zg,useImperativeHandle:nE,useInsertionEffect:Z2,useLayoutEffect:eE,useMemo:rE,useReducer:bf,useRef:J2,useState:function(){return bf(gl)},useDebugValue:Bg,useDeferredValue:function(t){var e=_n();return Qe===null?e.memoizedState=t:sE(e,Qe.memoizedState,t)},useTransition:function(){var t=bf(gl)[0],e=_n().memoizedState;return[t,e]},useMutableSource:H2,useSyncExternalStore:W2,useId:oE,unstable_isNewReconciler:!1};function In(t,e){if(t&&t.defaultProps){e=je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Uh={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Dt(),r=ar(t),s=gi(i,r);s.payload=e,n!=null&&(s.callback=n),e=sr(t,s,r),e!==null&&(Nn(e,t,r,i),ru(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Dt(),r=ar(t),s=gi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sr(t,s,r),e!==null&&(Nn(e,t,r,i),ru(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),i=ar(t),r=gi(n,i);r.tag=2,e!=null&&(r.callback=e),e=sr(t,r,i),e!==null&&(Nn(e,t,i,n),ru(e,t,i))}};function jx(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,i)||!cl(r,s):!0}function uE(t,e,n){var i=!1,r=xr,s=e.contextType;return typeof s=="object"&&s!==null?s=wn(s):(r=Ht(e)?ls:kt.current,i=e.contextTypes,s=(i=i!=null)?wo(t,r):xr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Uh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Uh.enqueueReplaceState(e,e.state,null)}function Gp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Dg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=wn(s):(s=Ht(e)?ls:kt.current,r.context=wo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Uh.enqueueReplaceState(r,r.state,null),$u(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var n="",i=e;do n+=FP(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function Ef(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var dN=typeof WeakMap=="function"?WeakMap:Map;function hE(t,e,n){n=gi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Ku||(Ku=!0,rm=i),Kp(t,e)},n}function dE(t,e,n){n=gi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Kp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Kp(t,e),typeof i!="function"&&(or===null?or=new Set([this]):or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Mx(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new dN;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=CN.bind(null,t,e,n),e.then(t,t))}function Ox(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lx(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gi(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var fN=Di.ReactCurrentOwner,Bt=!1;function Rt(t,e,n,i){e.child=t===null?z2(e,null,n,i):bo(e,t.child,n,i)}function Vx(t,e,n,i,r){n=n.render;var s=e.ref;return fo(e,r),i=Fg(t,e,n,i,s,r),n=Ug(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ci(t,e,r)):(Se&&n&&Ig(e),e.flags|=1,Rt(t,e,i,r),e.child)}function Fx(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Yg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fE(t,e,s,i,r)):(t=uu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,i)&&t.ref===e.ref)return Ci(t,e,r)}return e.flags|=1,t=lr(s,i),t.ref=e.ref,t.return=e,e.child=t}function fE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(cl(s,i)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Ci(t,e,r)}return Qp(t,e,n,i,r)}function pE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(eo,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(eo,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ye(eo,Yt),Yt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ye(eo,Yt),Yt|=i;return Rt(t,e,r,n),e.child}function mE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qp(t,e,n,i,r){var s=Ht(n)?ls:kt.current;return s=wo(e,s),fo(e,r),n=Fg(t,e,n,i,s,r),i=Ug(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ci(t,e,r)):(Se&&i&&Ig(e),e.flags|=1,Rt(t,e,n,r),e.child)}function Ux(t,e,n,i,r){if(Ht(n)){var s=!0;Vu(e)}else s=!1;if(fo(e,r),e.stateNode===null)au(t,e),uE(e,n,i),Gp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=wn(c):(c=Ht(n)?ls:kt.current,c=wo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Dx(e,o,i,c),qi=!1;var p=e.memoizedState;o.state=p,$u(e,i,o,r),l=e.memoizedState,a!==i||p!==l||qt.current||qi?(typeof d=="function"&&(Wp(e,n,d,i),l=e.memoizedState),(a=qi||jx(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,$2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:In(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Ht(n)?ls:kt.current,l=wo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Dx(e,o,i,l),qi=!1,p=e.memoizedState,o.state=p,$u(e,i,o,r);var v=e.memoizedState;a!==f||p!==v||qt.current||qi?(typeof m=="function"&&(Wp(e,n,m,i),v=e.memoizedState),(c=qi||jx(e,n,c,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Yp(t,e,n,i,s,r)}function Yp(t,e,n,i,r,s){mE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Sx(e,n,!1),Ci(t,e,s);i=e.stateNode,fN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=i.state,r&&Sx(e,n,!0),e.child}function gE(t){var e=t.stateNode;e.pendingContext?Tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tx(t,e.context,!1),Mg(t,e.containerInfo)}function zx(t,e,n,i,r){return _o(),Pg(r),e.flags|=256,Rt(t,e,n,i),e.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function yE(t,e,n){var i=e.pendingProps,r=Pe.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ye(Pe,r&1),t===null)return qp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$h(o,i,0,null),t=ss(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Jp(n),e.memoizedState=Xp,t):$g(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return pN(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=lr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=lr(a,s):(s=ss(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Jp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Xp,i}return s=t.child,t=s.sibling,i=lr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function $g(t,e){return e=$h({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,n,i){return i!==null&&Pg(i),bo(e,t.child,null,n),t=$g(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=Ef(Error(z(422))),Fc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=$h({mode:"visible",children:i.children},r,0,null),s=ss(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Jp(o),e.memoizedState=Xp,s);if(!(e.mode&1))return Fc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(z(419)),i=Ef(s,i,void 0),Fc(t,e,o,i)}if(a=(o&t.childLanes)!==0,Bt||a){if(i=nt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Si(t,r),Nn(i,t,r,-1))}return Qg(),i=Ef(Error(z(421))),Fc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=IN.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Jt=rr(r.nextSibling),en=e,Se=!0,Pn=null,t!==null&&(fn[pn++]=hi,fn[pn++]=di,fn[pn++]=cs,hi=t.id,di=t.overflow,cs=e),e=$g(e,i.children),e.flags|=4096,e)}function Bx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Hp(t.return,e,n)}function Tf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function vE(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Rt(t,e,i.children,n),i=Pe.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bx(t,n,e);else if(t.tag===19)Bx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ye(Pe,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&qu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Tf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&qu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Tf(e,!0,n,null,s);break;case"together":Tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function au(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ci(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mN(t,e,n){switch(e.tag){case 3:gE(e),_o();break;case 5:q2(e);break;case 1:Ht(e.type)&&Vu(e);break;case 4:Mg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ye(zu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ye(Pe,Pe.current&1),e.flags|=128,null):n&e.child.childLanes?yE(t,e,n):(ye(Pe,Pe.current&1),t=Ci(t,e,n),t!==null?t.sibling:null);ye(Pe,Pe.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return vE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ye(Pe,Pe.current),i)break;return null;case 22:case 23:return e.lanes=0,pE(t,e,n)}return Ci(t,e,n)}var xE,Zp,wE,_E;xE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zp=function(){};wE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,es(Wn.current);var s=null;switch(n){case"input":r=_p(t,r),i=_p(t,i),s=[];break;case"select":r=je({},r,{value:void 0}),i=je({},i,{value:void 0}),s=[];break;case"textarea":r=Tp(t,r),i=Tp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ou)}Cp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};_E=function(t,e,n,i){n!==i&&(e.flags|=4)};function va(t,e){if(!Se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function gN(t,e,n){var i=e.pendingProps;switch(kg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return Ht(e.type)&&Lu(),vt(e),null;case 3:return i=e.stateNode,Eo(),Ee(qt),Ee(kt),Lg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Lc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pn!==null&&(am(Pn),Pn=null))),Zp(t,e),vt(e),null;case 5:Og(e);var r=es(pl.current);if(n=e.type,t!==null&&e.stateNode!=null)wE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return vt(e),null}if(t=es(Wn.current),Lc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[qn]=e,i[dl]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(r=0;r<Ta.length;r++)_e(Ta[r],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":X0(i,s),_e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},_e("invalid",i);break;case"textarea":Z0(i,s),_e("invalid",i)}Cp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Oc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Oc(i.textContent,a,t),r=["children",""+a]):nl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",i)}switch(n){case"input":kc(i),J0(i,s,!0);break;case"textarea":kc(i),ex(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ou)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[qn]=e,t[dl]=i,xE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ip(n,i),n){case"dialog":_e("cancel",t),_e("close",t),r=i;break;case"iframe":case"object":case"embed":_e("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ta.length;r++)_e(Ta[r],t);r=i;break;case"source":_e("error",t),r=i;break;case"img":case"image":case"link":_e("error",t),_e("load",t),r=i;break;case"details":_e("toggle",t),r=i;break;case"input":X0(t,i),r=_p(t,i),_e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=je({},i,{value:void 0}),_e("invalid",t);break;case"textarea":Z0(t,i),r=Tp(t,i),_e("invalid",t);break;default:r=i}Cp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?J1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&il(t,l):typeof l=="number"&&il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_e("scroll",t):l!=null&&fg(t,s,l,o))}switch(n){case"input":kc(t),J0(t,i,!1);break;case"textarea":kc(t),ex(t);break;case"option":i.value!=null&&t.setAttribute("value",""+vr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?lo(t,!!i.multiple,s,!1):i.defaultValue!=null&&lo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ou)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vt(e),null;case 6:if(t&&e.stateNode!=null)_E(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=es(pl.current),es(Wn.current),Lc(e)){if(i=e.stateNode,n=e.memoizedProps,i[qn]=e,(s=i.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Oc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[qn]=e,e.stateNode=i}return vt(e),null;case 13:if(Ee(Pe),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Se&&Jt!==null&&e.mode&1&&!(e.flags&128))F2(),_o(),e.flags|=98560,s=!1;else if(s=Lc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[qn]=e}else _o(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),s=!1}else Pn!==null&&(am(Pn),Pn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Pe.current&1?Ye===0&&(Ye=3):Qg())),e.updateQueue!==null&&(e.flags|=4),vt(e),null);case 4:return Eo(),Zp(t,e),t===null&&ul(e.stateNode.containerInfo),vt(e),null;case 10:return Rg(e.type._context),vt(e),null;case 17:return Ht(e.type)&&Lu(),vt(e),null;case 19:if(Ee(Pe),s=e.memoizedState,s===null)return vt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)va(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qu(t),o!==null){for(e.flags|=128,va(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Pe,Pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>So&&(e.flags|=128,i=!0,va(s,!1),e.lanes=4194304)}else{if(!i)if(t=qu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Se)return vt(e),null}else 2*ze()-s.renderingStartTime>So&&n!==1073741824&&(e.flags|=128,i=!0,va(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=Pe.current,ye(Pe,i?n&1|2:n&1),e):(vt(e),null);case 22:case 23:return Kg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Yt&1073741824&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function yN(t,e){switch(kg(e),e.tag){case 1:return Ht(e.type)&&Lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Eo(),Ee(qt),Ee(kt),Lg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Og(e),null;case 13:if(Ee(Pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));_o()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ee(Pe),null;case 4:return Eo(),null;case 10:return Rg(e.type._context),null;case 22:case 23:return Kg(),null;case 24:return null;default:return null}}var Uc=!1,bt=!1,vN=typeof WeakSet=="function"?WeakSet:Set,W=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Le(t,e,i)}else n.current=null}function em(t,e,n){try{n()}catch(i){Le(t,e,i)}}var $x=!1;function xN(t,e){if(Lp=ju,t=C2(),Cg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vp={focusedElem:t,selectionRange:n},ju=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,S=v.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:In(e.type,_),S);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(I){Le(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=$x,$x=!1,v}function za(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&em(e,n,s)}r=r.next}while(r!==i)}}function zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function tm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bE(t){var e=t.alternate;e!==null&&(t.alternate=null,bE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qn],delete e[dl],delete e[zp],delete e[tN],delete e[nN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EE(t){return t.tag===5||t.tag===3||t.tag===4}function qx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nm(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ou));else if(i!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}function im(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(im(t,e,n),t=t.sibling;t!==null;)im(t,e,n),t=t.sibling}var ot=null,kn=!1;function Ui(t,e,n){for(n=n.child;n!==null;)TE(t,e,n),n=n.sibling}function TE(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 5:bt||Zs(n,e);case 6:var i=ot,r=kn;ot=null,Ui(t,e,n),ot=i,kn=r,ot!==null&&(kn?(t=ot,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ot.removeChild(n.stateNode));break;case 18:ot!==null&&(kn?(t=ot,n=n.stateNode,t.nodeType===8?yf(t.parentNode,n):t.nodeType===1&&yf(t,n),al(t)):yf(ot,n.stateNode));break;case 4:i=ot,r=kn,ot=n.stateNode.containerInfo,kn=!0,Ui(t,e,n),ot=i,kn=r;break;case 0:case 11:case 14:case 15:if(!bt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&em(n,e,o),r=r.next}while(r!==i)}Ui(t,e,n);break;case 1:if(!bt&&(Zs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Le(n,e,a)}Ui(t,e,n);break;case 21:Ui(t,e,n);break;case 22:n.mode&1?(bt=(i=bt)||n.memoizedState!==null,Ui(t,e,n),bt=i):Ui(t,e,n);break;default:Ui(t,e,n)}}function Hx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vN),e.forEach(function(i){var r=kN.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Sn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ot=a.stateNode,kn=!1;break e;case 3:ot=a.stateNode.containerInfo,kn=!0;break e;case 4:ot=a.stateNode.containerInfo,kn=!0;break e}a=a.return}if(ot===null)throw Error(z(160));TE(s,o,r),ot=null,kn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Le(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SE(e,t),e=e.sibling}function SE(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sn(e,t),Un(t),i&4){try{za(3,t,t.return),zh(3,t)}catch(_){Le(t,t.return,_)}try{za(5,t,t.return)}catch(_){Le(t,t.return,_)}}break;case 1:Sn(e,t),Un(t),i&512&&n!==null&&Zs(n,n.return);break;case 5:if(Sn(e,t),Un(t),i&512&&n!==null&&Zs(n,n.return),t.flags&32){var r=t.stateNode;try{il(r,"")}catch(_){Le(t,t.return,_)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&G1(r,s),Ip(a,o);var c=Ip(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?J1(r,f):d==="dangerouslySetInnerHTML"?Y1(r,f):d==="children"?il(r,f):fg(r,d,f,c)}switch(a){case"input":bp(r,s);break;case"textarea":K1(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?lo(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?lo(r,!!s.multiple,s.defaultValue,!0):lo(r,!!s.multiple,s.multiple?[]:"",!1))}r[dl]=s}catch(_){Le(t,t.return,_)}}break;case 6:if(Sn(e,t),Un(t),i&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(_){Le(t,t.return,_)}}break;case 3:if(Sn(e,t),Un(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{al(e.containerInfo)}catch(_){Le(t,t.return,_)}break;case 4:Sn(e,t),Un(t);break;case 13:Sn(e,t),Un(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Wg=ze())),i&4&&Hx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(bt=(c=bt)||d,Sn(e,t),bt=c):Sn(e,t),Un(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(f=W=d;W!==null;){switch(p=W,m=p.child,p.tag){case 0:case 11:case 14:case 15:za(4,p,p.return);break;case 1:Zs(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Le(i,n,_)}}break;case 5:Zs(p,p.return);break;case 22:if(p.memoizedState!==null){Gx(f);continue}}m!==null?(m.return=p,W=m):Gx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=X1("display",o))}catch(_){Le(t,t.return,_)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(_){Le(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sn(e,t),Un(t),i&4&&Hx(t);break;case 21:break;default:Sn(e,t),Un(t)}}function Un(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EE(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(il(r,""),i.flags&=-33);var s=qx(t);im(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=qx(t);nm(t,a,o);break;default:throw Error(z(161))}}catch(l){Le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function wN(t,e,n){W=t,CE(t)}function CE(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var r=W,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Uc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||bt;a=Uc;var c=bt;if(Uc=o,(bt=l)&&!c)for(W=r;W!==null;)o=W,l=o.child,o.tag===22&&o.memoizedState!==null?Kx(r):l!==null?(l.return=o,W=l):Kx(r);for(;s!==null;)W=s,CE(s),s=s.sibling;W=r,Uc=a,bt=c}Wx(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,W=s):Wx(t)}}function Wx(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bt||zh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!bt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:In(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ax(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ax(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}bt||e.flags&512&&tm(e)}catch(p){Le(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Gx(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Kx(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zh(4,e)}catch(l){Le(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Le(e,r,l)}}var s=e.return;try{tm(e)}catch(l){Le(e,s,l)}break;case 5:var o=e.return;try{tm(e)}catch(l){Le(e,o,l)}}}catch(l){Le(e,e.return,l)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var _N=Math.ceil,Gu=Di.ReactCurrentDispatcher,qg=Di.ReactCurrentOwner,vn=Di.ReactCurrentBatchConfig,ue=0,nt=null,He=null,ut=0,Yt=0,eo=Ar(0),Ye=0,vl=null,hs=0,Bh=0,Hg=0,Ba=null,Ut=null,Wg=0,So=1/0,li=null,Ku=!1,rm=null,or=null,zc=!1,Xi=null,Qu=0,$a=0,sm=null,lu=-1,cu=0;function Dt(){return ue&6?ze():lu!==-1?lu:lu=ze()}function ar(t){return t.mode&1?ue&2&&ut!==0?ut&-ut:rN.transition!==null?(cu===0&&(cu=u2()),cu):(t=pe,t!==0||(t=window.event,t=t===void 0?16:y2(t.type)),t):1}function Nn(t,e,n,i){if(50<$a)throw $a=0,sm=null,Error(z(185));Bl(t,n,i),(!(ue&2)||t!==nt)&&(t===nt&&(!(ue&2)&&(Bh|=n),Ye===4&&Wi(t,ut)),Wt(t,i),n===1&&ue===0&&!(e.mode&1)&&(So=ze()+500,Vh&&Nr()))}function Wt(t,e){var n=t.callbackNode;rA(t,e);var i=Ru(t,t===nt?ut:0);if(i===0)n!==null&&ix(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&ix(n),e===1)t.tag===0?iN(Qx.bind(null,t)):O2(Qx.bind(null,t)),ZA(function(){!(ue&6)&&Nr()}),n=null;else{switch(h2(i)){case 1:n=vg;break;case 4:n=l2;break;case 16:n=Nu;break;case 536870912:n=c2;break;default:n=Nu}n=DE(n,IE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IE(t,e){if(lu=-1,cu=0,ue&6)throw Error(z(327));var n=t.callbackNode;if(po()&&t.callbackNode!==n)return null;var i=Ru(t,t===nt?ut:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Yu(t,i);else{e=i;var r=ue;ue|=2;var s=PE();(nt!==t||ut!==e)&&(li=null,So=ze()+500,rs(t,e));do try{TN();break}catch(a){kE(t,a)}while(!0);Ng(),Gu.current=s,ue=r,He!==null?e=0:(nt=null,ut=0,e=Ye)}if(e!==0){if(e===2&&(r=Rp(t),r!==0&&(i=r,e=om(t,r))),e===1)throw n=vl,rs(t,0),Wi(t,i),Wt(t,ze()),n;if(e===6)Wi(t,i);else{if(r=t.current.alternate,!(i&30)&&!bN(r)&&(e=Yu(t,i),e===2&&(s=Rp(t),s!==0&&(i=s,e=om(t,s))),e===1))throw n=vl,rs(t,0),Wi(t,i),Wt(t,ze()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:Kr(t,Ut,li);break;case 3:if(Wi(t,i),(i&130023424)===i&&(e=Wg+500-ze(),10<e)){if(Ru(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Dt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Up(Kr.bind(null,t,Ut,li),e);break}Kr(t,Ut,li);break;case 4:if(Wi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-An(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_N(i/1960))-i,10<i){t.timeoutHandle=Up(Kr.bind(null,t,Ut,li),i);break}Kr(t,Ut,li);break;case 5:Kr(t,Ut,li);break;default:throw Error(z(329))}}}return Wt(t,ze()),t.callbackNode===n?IE.bind(null,t):null}function om(t,e){var n=Ba;return t.current.memoizedState.isDehydrated&&(rs(t,e).flags|=256),t=Yu(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&am(e)),t}function am(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function bN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!On(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wi(t,e){for(e&=~Hg,e&=~Bh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-An(e),i=1<<n;t[n]=-1,e&=~i}}function Qx(t){if(ue&6)throw Error(z(327));po();var e=Ru(t,0);if(!(e&1))return Wt(t,ze()),null;var n=Yu(t,e);if(t.tag!==0&&n===2){var i=Rp(t);i!==0&&(e=i,n=om(t,i))}if(n===1)throw n=vl,rs(t,0),Wi(t,e),Wt(t,ze()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,Ut,li),Wt(t,ze()),null}function Gg(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(So=ze()+500,Vh&&Nr())}}function ds(t){Xi!==null&&Xi.tag===0&&!(ue&6)&&po();var e=ue;ue|=1;var n=vn.transition,i=pe;try{if(vn.transition=null,pe=1,t)return t()}finally{pe=i,vn.transition=n,ue=e,!(ue&6)&&Nr()}}function Kg(){Yt=eo.current,Ee(eo)}function rs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JA(n)),He!==null)for(n=He.return;n!==null;){var i=n;switch(kg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Lu();break;case 3:Eo(),Ee(qt),Ee(kt),Lg();break;case 5:Og(i);break;case 4:Eo();break;case 13:Ee(Pe);break;case 19:Ee(Pe);break;case 10:Rg(i.type._context);break;case 22:case 23:Kg()}n=n.return}if(nt=t,He=t=lr(t.current,null),ut=Yt=e,Ye=0,vl=null,Hg=Bh=hs=0,Ut=Ba=null,Zr!==null){for(e=0;e<Zr.length;e++)if(n=Zr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Zr=null}return t}function kE(t,e){do{var n=He;try{if(Ng(),su.current=Wu,Hu){for(var i=Ne.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Hu=!1}if(us=0,tt=Qe=Ne=null,Ua=!1,ml=0,qg.current=null,n===null||n.return===null){Ye=1,vl=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ut,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ox(o);if(m!==null){m.flags&=-257,Lx(m,o,a,s,e),m.mode&1&&Mx(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){Mx(s,c,e),Qg();break e}l=Error(z(426))}}else if(Se&&a.mode&1){var S=Ox(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Lx(S,o,a,s,e),Pg(To(l,a));break e}}s=l=To(l,a),Ye!==4&&(Ye=2),Ba===null?Ba=[s]:Ba.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=hE(s,l,e);Px(s,x);break e;case 1:a=l;var w=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(or===null||!or.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=dE(s,a,e);Px(s,I);break e}}s=s.return}while(s!==null)}NE(n)}catch(R){e=R,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function PE(){var t=Gu.current;return Gu.current=Wu,t===null?Wu:t}function Qg(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),nt===null||!(hs&268435455)&&!(Bh&268435455)||Wi(nt,ut)}function Yu(t,e){var n=ue;ue|=2;var i=PE();(nt!==t||ut!==e)&&(li=null,rs(t,e));do try{EN();break}catch(r){kE(t,r)}while(!0);if(Ng(),ue=n,Gu.current=i,He!==null)throw Error(z(261));return nt=null,ut=0,Ye}function EN(){for(;He!==null;)AE(He)}function TN(){for(;He!==null&&!QP();)AE(He)}function AE(t){var e=jE(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?NE(t):He=e,qg.current=null}function NE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yN(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,He=null;return}}else if(n=gN(n,e,Yt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ye===0&&(Ye=5)}function Kr(t,e,n){var i=pe,r=vn.transition;try{vn.transition=null,pe=1,SN(t,e,n,i)}finally{vn.transition=r,pe=i}return null}function SN(t,e,n,i){do po();while(Xi!==null);if(ue&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(sA(t,s),t===nt&&(He=nt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zc||(zc=!0,DE(Nu,function(){return po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=pe;pe=1;var a=ue;ue|=4,qg.current=null,xN(t,n),SE(n,t),HA(Vp),ju=!!Lp,Vp=Lp=null,t.current=n,wN(n),YP(),ue=a,pe=o,vn.transition=s}else t.current=n;if(zc&&(zc=!1,Xi=t,Qu=r),s=t.pendingLanes,s===0&&(or=null),ZP(n.stateNode),Wt(t,ze()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ku)throw Ku=!1,t=rm,rm=null,t;return Qu&1&&t.tag!==0&&po(),s=t.pendingLanes,s&1?t===sm?$a++:($a=0,sm=t):$a=0,Nr(),null}function po(){if(Xi!==null){var t=h2(Qu),e=vn.transition,n=pe;try{if(vn.transition=null,pe=16>t?16:t,Xi===null)var i=!1;else{if(t=Xi,Xi=null,Qu=0,ue&6)throw Error(z(331));var r=ue;for(ue|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:za(8,d,s)}var f=d.child;if(f!==null)f.return=d,W=f;else for(;W!==null;){d=W;var p=d.sibling,m=d.return;if(bE(d),d===c){W=null;break}if(p!==null){p.return=m,W=p;break}W=m}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var S=_.sibling;_.sibling=null,_=S}while(_!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:za(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,W=x;break e}W=s.return}}var w=t.current;for(W=w;W!==null;){o=W;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,W=b;else e:for(o=w;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zh(9,a)}}catch(R){Le(a,a.return,R)}if(a===o){W=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,W=I;break e}W=a.return}}if(ue=r,Nr(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(jh,t)}catch{}i=!0}return i}finally{pe=n,vn.transition=e}}return!1}function Yx(t,e,n){e=To(n,e),e=hE(t,e,1),t=sr(t,e,1),e=Dt(),t!==null&&(Bl(t,1,e),Wt(t,e))}function Le(t,e,n){if(t.tag===3)Yx(t,t,n);else for(;e!==null;){if(e.tag===3){Yx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(or===null||!or.has(i))){t=To(n,t),t=dE(e,t,1),e=sr(e,t,1),t=Dt(),e!==null&&(Bl(e,1,t),Wt(e,t));break}}e=e.return}}function CN(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,nt===t&&(ut&n)===n&&(Ye===4||Ye===3&&(ut&130023424)===ut&&500>ze()-Wg?rs(t,0):Hg|=n),Wt(t,e)}function RE(t,e){e===0&&(t.mode&1?(e=Nc,Nc<<=1,!(Nc&130023424)&&(Nc=4194304)):e=1);var n=Dt();t=Si(t,e),t!==null&&(Bl(t,e,n),Wt(t,n))}function IN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RE(t,n)}function kN(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),RE(t,n)}var jE;jE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,mN(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Se&&e.flags&1048576&&L2(e,Uu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;au(t,e),t=e.pendingProps;var r=wo(e,kt.current);fo(e,n),r=Fg(null,e,i,t,r,n);var s=Ug();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(i)?(s=!0,Vu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Dg(e),r.updater=Uh,e.stateNode=r,r._reactInternals=e,Gp(e,i,t,n),e=Yp(null,e,i,!0,s,n)):(e.tag=0,Se&&s&&Ig(e),Rt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(au(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=AN(i),t=In(i,t),r){case 0:e=Qp(null,e,i,t,n);break e;case 1:e=Ux(null,e,i,t,n);break e;case 11:e=Vx(null,e,i,t,n);break e;case 14:e=Fx(null,e,i,In(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),Qp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),Ux(t,e,i,r,n);case 3:e:{if(gE(e),t===null)throw Error(z(387));i=e.pendingProps,s=e.memoizedState,r=s.element,$2(t,e),$u(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=To(Error(z(423)),e),e=zx(t,e,i,n,r);break e}else if(i!==r){r=To(Error(z(424)),e),e=zx(t,e,i,n,r);break e}else for(Jt=rr(e.stateNode.containerInfo.firstChild),en=e,Se=!0,Pn=null,n=z2(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_o(),i===r){e=Ci(t,e,n);break e}Rt(t,e,i,n)}e=e.child}return e;case 5:return q2(e),t===null&&qp(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Fp(i,r)?o=null:s!==null&&Fp(i,s)&&(e.flags|=32),mE(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&qp(e),null;case 13:return yE(t,e,n);case 4:return Mg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=bo(e,null,i,n):Rt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),Vx(t,e,i,r,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ye(zu,i._currentValue),i._currentValue=o,s!==null)if(On(s.value,o)){if(s.children===r.children&&!qt.current){e=Ci(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=gi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Hp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Hp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,fo(e,n),r=wn(r),i=i(r),e.flags|=1,Rt(t,e,i,n),e.child;case 14:return i=e.type,r=In(i,e.pendingProps),r=In(i.type,r),Fx(t,e,i,r,n);case 15:return fE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:In(i,r),au(t,e),e.tag=1,Ht(i)?(t=!0,Vu(e)):t=!1,fo(e,n),uE(e,i,r),Gp(e,i,r,n),Yp(null,e,i,!0,t,n);case 19:return vE(t,e,n);case 22:return pE(t,e,n)}throw Error(z(156,e.tag))};function DE(t,e){return a2(t,e)}function PN(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,i){return new PN(t,e,n,i)}function Yg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function AN(t){if(typeof t=="function")return Yg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mg)return 11;if(t===gg)return 14}return 2}function lr(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function uu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Yg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qs:return ss(n.children,r,s,e);case pg:o=8,r|=8;break;case yp:return t=yn(12,n,e,r|2),t.elementType=yp,t.lanes=s,t;case vp:return t=yn(13,n,e,r),t.elementType=vp,t.lanes=s,t;case xp:return t=yn(19,n,e,r),t.elementType=xp,t.lanes=s,t;case q1:return $h(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B1:o=10;break e;case $1:o=9;break e;case mg:o=11;break e;case gg:o=14;break e;case $i:o=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=yn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ss(t,e,n,i){return t=yn(7,t,i,e),t.lanes=n,t}function $h(t,e,n,i){return t=yn(22,t,i,e),t.elementType=q1,t.lanes=n,t.stateNode={isHidden:!1},t}function Sf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Cf(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NN(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=of(0),this.expirationTimes=of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=of(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Xg(t,e,n,i,r,s,o,a,l){return t=new NN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(s),t}function RN(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$s,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function ME(t){if(!t)return xr;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ht(n))return M2(t,n,e)}return e}function OE(t,e,n,i,r,s,o,a,l){return t=Xg(n,i,!0,t,r,s,o,a,l),t.context=ME(null),n=t.current,i=Dt(),r=ar(n),s=gi(i,r),s.callback=e??null,sr(n,s,r),t.current.lanes=r,Bl(t,r,i),Wt(t,i),t}function qh(t,e,n,i){var r=e.current,s=Dt(),o=ar(r);return n=ME(n),e.context===null?e.context=n:e.pendingContext=n,e=gi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=sr(r,e,o),t!==null&&(Nn(t,r,o,s),ru(t,r,o)),o}function Xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Xx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jg(t,e){Xx(t,e),(t=t.alternate)&&Xx(t,e)}function jN(){return null}var LE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zg(t){this._internalRoot=t}Hh.prototype.render=Zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));qh(t,e,null,null)};Hh.prototype.unmount=Zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ds(function(){qh(null,t,null,null)}),e[Ti]=null}};function Hh(t){this._internalRoot=t}Hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=p2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&g2(t)}};function ey(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jx(){}function DN(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Xu(o);s.call(c)}}var o=OE(e,i,t,0,null,!1,!1,"",Jx);return t._reactRootContainer=o,t[Ti]=o.current,ul(t.nodeType===8?t.parentNode:t),ds(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Xu(l);a.call(c)}}var l=Xg(t,0,!1,null,null,!1,!1,"",Jx);return t._reactRootContainer=l,t[Ti]=l.current,ul(t.nodeType===8?t.parentNode:t),ds(function(){qh(e,l,n,i)}),l}function Gh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Xu(o);a.call(l)}}qh(e,o,t,r)}else o=DN(n,e,t,r,i);return Xu(o)}d2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ea(e.pendingLanes);n!==0&&(xg(e,n|1),Wt(e,ze()),!(ue&6)&&(So=ze()+500,Nr()))}break;case 13:ds(function(){var i=Si(t,1);if(i!==null){var r=Dt();Nn(i,t,1,r)}}),Jg(t,1)}};wg=function(t){if(t.tag===13){var e=Si(t,134217728);if(e!==null){var n=Dt();Nn(e,t,134217728,n)}Jg(t,134217728)}};f2=function(t){if(t.tag===13){var e=ar(t),n=Si(t,e);if(n!==null){var i=Dt();Nn(n,t,e,i)}Jg(t,e)}};p2=function(){return pe};m2=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Pp=function(t,e,n){switch(e){case"input":if(bp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Lh(i);if(!r)throw Error(z(90));W1(i),bp(i,r)}}}break;case"textarea":K1(t,n);break;case"select":e=n.value,e!=null&&lo(t,!!n.multiple,e,!1)}};t2=Gg;n2=ds;var MN={usingClientEntryPoint:!1,Events:[ql,Ks,Lh,Z1,e2,Gg]},xa={findFiberByHostInstance:Jr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ON={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=s2(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bc.isDisabled&&Bc.supportsFiber)try{jh=Bc.inject(ON),Hn=Bc}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ey(e))throw Error(z(200));return RN(t,e,null,n)};on.createRoot=function(t,e){if(!ey(t))throw Error(z(299));var n=!1,i="",r=LE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Xg(t,1,!1,null,null,n,!1,i,r),t[Ti]=e.current,ul(t.nodeType===8?t.parentNode:t),new Zg(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=s2(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return ds(t)};on.hydrate=function(t,e,n){if(!Wh(e))throw Error(z(200));return Gh(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!ey(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=LE;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=OE(e,null,t,1,n??null,r,!1,s,o),t[Ti]=e.current,ul(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Hh(e)};on.render=function(t,e,n){if(!Wh(e))throw Error(z(200));return Gh(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Wh(t))throw Error(z(40));return t._reactRootContainer?(ds(function(){Gh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ti]=null})}),!0):!1};on.unstable_batchedUpdates=Gg;on.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Wh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Gh(t,e,n,!1,i)};on.version="18.3.1-next-f1338f8080-20240426";function VE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VE)}catch(t){console.error(t)}}VE(),V1.exports=on;var LN=V1.exports,FE,Zx=LN;FE=Zx.createRoot,Zx.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xl(){return xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xl.apply(this,arguments)}var Ji;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ji||(Ji={}));const ew="popstate";function VN(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=Ts(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),lm("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Ju(s))}function i(r,s){ty(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return UN(e,n,i,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ty(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FN(){return Math.random().toString(36).substr(2,8)}function tw(t,e){return{usr:t.state,key:t.key,idx:e}}function lm(t,e,n,i){return n===void 0&&(n=null),xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ts(e):e,{state:n,key:e&&e.key||i||FN()})}function Ju(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ts(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function UN(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Ji.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(xl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Ji.Pop;let S=d(),x=S==null?null:S-c;c=S,l&&l({action:a,location:_.location,delta:x})}function p(S,x){a=Ji.Push;let w=lm(_.location,S,x);n&&n(w,S),c=d()+1;let b=tw(w,c),I=_.createHref(w);try{o.pushState(b,"",I)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;r.location.assign(I)}s&&l&&l({action:a,location:_.location,delta:1})}function m(S,x){a=Ji.Replace;let w=lm(_.location,S,x);n&&n(w,S),c=d();let b=tw(w,c),I=_.createHref(w);o.replaceState(b,"",I),s&&l&&l({action:a,location:_.location,delta:0})}function v(S){let x=r.location.origin!=="null"?r.location.origin:r.location.href,w=typeof S=="string"?S:Ju(S);return w=w.replace(/ $/,"%20"),$e(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let _={get action(){return a},get location(){return t(r,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(ew,f),l=S,()=>{r.removeEventListener(ew,f),l=null}},createHref(S){return e(r,S)},createURL:v,encodeLocation(S){let x=v(S);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(S){return o.go(S)}};return _}var nw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(nw||(nw={}));function zN(t,e,n){return n===void 0&&(n="/"),BN(t,e,n,!1)}function BN(t,e,n,i){let r=typeof e=="string"?Ts(e):e,s=ny(r.pathname||"/",n);if(s==null)return null;let o=UE(t);$N(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=eR(s);a=JN(o[l],c,i)}return a}function UE(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=cr([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),UE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:YN(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of zE(s.path))r(s,o,l)}),e}function zE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=zE(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function $N(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:XN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const qN=/^:[\w-]+$/,HN=3,WN=2,GN=1,KN=10,QN=-2,iw=t=>t==="*";function YN(t,e){let n=t.split("/"),i=n.length;return n.some(iw)&&(i+=QN),e&&(i+=WN),n.filter(r=>!iw(r)).reduce((r,s)=>r+(qN.test(s)?HN:s===""?GN:KN),i)}function XN(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function JN(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=rw({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=rw({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:cr([s,f.pathname]),pathnameBase:rR(cr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=cr([s,f.pathnameBase]))}return o}function rw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=ZN(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let _=a[f]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function ZN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ty(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function eR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ty(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ny(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function tR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Ts(t):t;return{pathname:n?n.startsWith("/")?n:nR(n,e):e,search:sR(i),hash:oR(r)}}function nR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function If(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iy(t,e){let n=iR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function ry(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Ts(t):(r=xl({},t),$e(!r.pathname||!r.pathname.includes("?"),If("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),If("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),If("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=tR(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const cr=t=>t.join("/").replace(/\/\/+/g,"/"),rR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const BE=["post","put","patch","delete"];new Set(BE);const lR=["get",...BE];new Set(lR);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},wl.apply(this,arguments)}const sy=N.createContext(null),cR=N.createContext(null),Rr=N.createContext(null),Kh=N.createContext(null),jr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),$E=N.createContext(null);function uR(t,e){let{relative:n}=e===void 0?{}:e;$o()||$e(!1);let{basename:i,navigator:r}=N.useContext(Rr),{hash:s,pathname:o,search:a}=HE(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:cr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function $o(){return N.useContext(Kh)!=null}function Ss(){return $o()||$e(!1),N.useContext(Kh).location}function qE(t){N.useContext(Rr).static||N.useLayoutEffect(t)}function ln(){let{isDataRoute:t}=N.useContext(jr);return t?ER():hR()}function hR(){$o()||$e(!1);let t=N.useContext(sy),{basename:e,future:n,navigator:i}=N.useContext(Rr),{matches:r}=N.useContext(jr),{pathname:s}=Ss(),o=JSON.stringify(iy(r,n.v7_relativeSplatPath)),a=N.useRef(!1);return qE(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=ry(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:cr([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,o,s,t])}function HE(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=N.useContext(Rr),{matches:r}=N.useContext(jr),{pathname:s}=Ss(),o=JSON.stringify(iy(r,i.v7_relativeSplatPath));return N.useMemo(()=>ry(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function dR(t,e){return fR(t,e)}function fR(t,e,n,i){$o()||$e(!1);let{navigator:r}=N.useContext(Rr),{matches:s}=N.useContext(jr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ss(),d;if(e){var f;let S=typeof e=="string"?Ts(e):e;l==="/"||(f=S.pathname)!=null&&f.startsWith(l)||$e(!1),d=S}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let S=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=zN(t,{pathname:m}),_=vR(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},a,S.params),pathname:cr([l,r.encodeLocation?r.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?l:cr([l,r.encodeLocation?r.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),s,n,i);return e&&_?N.createElement(Kh.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ji.Pop}},_):_}function pR(){let t=bR(),e=aR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,null)}const mR=N.createElement(pR,null);class gR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(jr.Provider,{value:this.props.routeContext},N.createElement($E.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yR(t){let{routeContext:e,match:n,children:i}=t,r=N.useContext(sy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(jr.Provider,{value:e},i)}function vR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||$e(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,v=!1,_=null,S=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||mR,l&&(c<0&&p===0?(v=!0,S=null):c===p&&(v=!0,S=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),w=()=>{let b;return m?b=_:v?b=S:f.route.Component?b=N.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,N.createElement(yR,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(gR,{location:n.location,revalidation:n.revalidation,component:_,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var WE=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(WE||{}),Zu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zu||{});function xR(t){let e=N.useContext(sy);return e||$e(!1),e}function wR(t){let e=N.useContext(cR);return e||$e(!1),e}function _R(t){let e=N.useContext(jr);return e||$e(!1),e}function GE(t){let e=_R(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function bR(){var t;let e=N.useContext($E),n=wR(Zu.UseRouteError),i=GE(Zu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function ER(){let{router:t}=xR(WE.UseNavigateStable),e=GE(Zu.UseNavigateStable),n=N.useRef(!1);return qE(()=>{n.current=!0}),N.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,wl({fromRouteId:e},s)))},[t,e])}const sw={};function TR(t,e){sw[e]||(sw[e]=!0,console.warn(e))}const ow=(t,e,n)=>TR(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function SR(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&ow("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&ow("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function zn(t){let{to:e,replace:n,state:i,relative:r}=t;$o()||$e(!1);let{future:s,static:o}=N.useContext(Rr),{matches:a}=N.useContext(jr),{pathname:l}=Ss(),c=ln(),d=ry(e,iy(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:r}),[c,f,r,n,i]),null}function Ke(t){$e(!1)}function CR(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Ji.Pop,navigator:s,static:o=!1,future:a}=t;$o()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:wl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Ts(i));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=i,_=N.useMemo(()=>{let S=ny(d,l);return S==null?null:{location:{pathname:S,search:f,hash:p,state:m,key:v},navigationType:r}},[l,d,f,p,m,v,r]);return _==null?null:N.createElement(Rr.Provider,{value:c},N.createElement(Kh.Provider,{children:n,value:_}))}function IR(t){let{children:e,location:n}=t;return dR(cm(e),n)}new Promise(()=>{});function cm(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(i,r)=>{if(!N.isValidElement(i))return;let s=[...e,r];if(i.type===N.Fragment){n.push.apply(n,cm(i.props.children,s));return}i.type!==Ke&&$e(!1),!i.props.index||!i.props.children||$e(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=cm(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},um.apply(this,arguments)}function kR(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function PR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AR(t,e){return t.button===0&&(!e||e==="_self")&&!PR(t)}const NR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RR="6";try{window.__reactRouterVersion=RR}catch{}const jR="startTransition",aw=CP[jR];function DR(t){let{basename:e,children:n,future:i,window:r}=t,s=N.useRef();s.current==null&&(s.current=VN({window:r,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},d=N.useCallback(f=>{c&&aw?aw(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>SR(i),[i]),N.createElement(CR,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const MR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=N.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=kR(e,NR),{basename:m}=N.useContext(Rr),v,_=!1;if(typeof c=="string"&&OR.test(c)&&(v=c,MR))try{let b=new URL(window.location.href),I=c.startsWith("//")?new URL(b.protocol+c):new URL(c),R=ny(I.pathname,m);I.origin===b.origin&&R!=null?c=R+I.search+I.hash:_=!0}catch{}let S=uR(c,{relative:r}),x=LR(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:f});function w(b){i&&i(b),b.defaultPrevented||x(b)}return N.createElement("a",um({},p,{href:v||S,onClick:_||s?i:w,ref:n,target:l}))});var lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lw||(lw={}));var cw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(cw||(cw={}));function LR(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ln(),c=Ss(),d=HE(t,{relative:o});return N.useCallback(f=>{if(AR(f,n)){f.preventDefault();let p=i!==void 0?i:Ju(c)===Ju(d);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,i,r,n,t,s,o,a])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(t,e)=>{const n=N.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>N.createElement("svg",{ref:d,...VR,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${FR(t)}`,a].join(" "),...c},[...e.map(([f,p])=>N.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=se("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=se("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=se("FlaskRound",[["path",{d:"M10 2v7.31",key:"5d1hyh"}],["path",{d:"M14 9.3V1.99",key:"14k4l0"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0",key:"1r8fvy"}],["path",{d:"M5.52 16h12.96",key:"46hh1i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=se("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=se("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=se("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HR=se("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WR=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=se("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=se("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=se("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kf=[{name:"Home",href:"/",icon:$R},{name:"Courses",href:"/courses",icon:fs},{name:"Resources",href:"/resources",icon:YE},{name:"Events",href:"/events",icon:yi},{name:"Members",href:"/members",icon:Zn},{name:"Blog",href:"/blog",icon:KR},{name:"Labs",href:"/labs",icon:XE},{name:"IACR",href:"https://iacr.org",icon:oy,external:!0},{name:"About",href:"/about",icon:qR}];function JR({children:t}){const e=Ss(),n=ln(),[i,r]=N.useState(!1),s=N.useRef(null),[o,a]=N.useState({}),l=N.useRef({}),[c,d]=N.useState(!1);N.useEffect(()=>{const m=()=>{d(window.scrollY>300)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const f=()=>{window.scrollTo({top:0,behavior:"smooth"})},p=()=>{n("/admin-login")};return N.useEffect(()=>{const m=l.current[e.pathname];if(m){const v=m.getBoundingClientRect(),_=m.parentElement.getBoundingClientRect();a({width:`${v.width}px`,transform:`translateX(${v.left-_.left}px)`})}},[e]),N.useEffect(()=>{r(!1)},[e]),u.jsxs("div",{className:"min-h-screen bg-[#13151a]",children:[u.jsx("nav",{className:"bg-[#23262d] border-b border-[rgb(136,58,234)]",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsx("div",{className:"flex items-center",children:u.jsx(Vt,{to:"/",className:"flex items-center",children:u.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"VeilCode Labs"})})}),u.jsxs("div",{className:"hidden md:flex items-center",children:[u.jsxs("div",{className:"flex items-baseline space-x-4 relative",children:[u.jsx("div",{className:"absolute bottom-0 h-1 bg-[rgb(136,58,234)] transition-all duration-300 ease-in-out rounded-full",style:o}),kf.map(m=>{const v=e.pathname===m.href;return m.external?u.jsxs("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] rounded-md px-3 py-2 text-sm font-medium transition-all duration-300 flex items-center",children:[m.name,u.jsx(oy,{className:"h-4 w-4 ml-1"})]},m.name):u.jsx(Vt,{ref:_=>l.current[m.href]=_,to:m.href,className:`${v?"text-[rgb(224,204,250)]":"text-white hover:text-[rgb(224,204,250)]"} rounded-md px-3 py-2 text-sm font-medium transition-all duration-300`,children:m.name},m.name)})]}),u.jsx("button",{onClick:p,className:"ml-4 bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center","aria-label":"Admin login",children:u.jsx(pw,{className:"h-5 w-5"})})]}),u.jsx("div",{className:"md:hidden flex items-center gap-2",children:u.jsxs("div",{className:"relative",ref:s,children:[u.jsx("button",{onClick:()=>r(!i),className:"text-white hover:text-[rgb(224,204,250)] focus:outline-none p-2 rounded-md hover:bg-[rgb(49,10,101)] transition-all duration-300",children:i?u.jsx(os,{className:"h-6 w-6"}):u.jsx(GR,{className:"h-6 w-6"})}),i&&u.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-lg shadow-lg bg-[#23262d] ring-1 ring-black ring-opacity-5 border border-[rgb(136,58,234)] z-50",children:u.jsxs("div",{className:"p-2",children:[u.jsx("div",{className:"grid grid-cols-2 gap-1",children:kf.map(m=>{const v=e.pathname===m.href;return m.external?u.jsxs("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:"flex flex-col items-center justify-center p-3 rounded-md text-sm font-medium text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)] transition-all duration-300",children:[u.jsx(m.icon,{className:"h-5 w-5 mb-1"}),u.jsx("span",{className:"text-xs",children:m.name})]},m.name):u.jsxs(Vt,{to:m.href,className:`${v?"bg-[rgb(49,10,101)] text-[rgb(224,204,250)]":"text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)]"} flex flex-col items-center justify-center p-3 rounded-md text-sm font-medium transition-all duration-300`,children:[u.jsx(m.icon,{className:"h-5 w-5 mb-1"}),u.jsx("span",{className:"text-xs",children:m.name})]},m.name)})}),u.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center p-3 rounded-md text-sm font-medium text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)] mt-2",children:[u.jsx(pw,{className:"h-5 w-5 mr-2"}),u.jsx("span",{className:"text-xs",children:"Admin"})]})]})})]})})]})})}),u.jsx("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:t}),c&&u.jsx("button",{onClick:f,className:"fixed bottom-8 right-8 p-3 bg-[rgb(136,58,234)] text-white rounded-full shadow-lg hover:bg-[rgb(49,10,101)] transition-all duration-300",children:u.jsx(UR,{className:"h-6 w-6"})}),u.jsx("footer",{className:"bg-[#23262d] text-white mt-auto",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-2",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"VeilCode Labs"}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:"A comprehensive resource for cryptography students at IIIT Delhi"})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Quick Links"}),u.jsx("ul",{className:"grid grid-cols-2 gap-2",children:kf.map(m=>u.jsx("li",{children:m.external?u.jsx("a",{href:m.href,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] hover:bg-[rgb(49,10,101)] px-2 py-1 rounded transition-all duration-300 inline-block",children:m.name}):u.jsx(Vt,{to:m.href,className:"text-white hover:text-[rgb(224,204,250)] hover:bg-[rgb(49,10,101)] px-2 py-1 rounded transition-all duration-300 inline-block",children:m.name})},m.name))})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Contact"}),u.jsxs("p",{className:"text-white",children:["IIIT Delhi",u.jsx("br",{}),"Okhla Industrial Estate, Phase III",u.jsx("br",{}),"New Delhi, India"]}),u.jsx("p",{className:"text-[rgb(224,204,250)] mt-4 text-sm",children:"Developed by Md Kaif & Mohd Areeb Ansari"})]})]})})})]})}const ay=N.createContext({});function ly(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Qh=N.createContext(null),cy=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ZR extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function e4({children:t,isPresent:e,anchorX:n}){const i=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=N.useContext(cy);return N.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=s.current;if(e||!r.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;r.current.dataset.motionPopId=i;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),u.jsx(ZR,{isPresent:e,childRef:r,sizeRef:s,children:N.cloneElement(t,{ref:r})})}const t4=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=ly(n4),c=N.useId(),d=N.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;i&&i()},[l,i]),f=N.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),d]:[n,d]);return N.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),N.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=u.jsx(e4,{isPresent:n,anchorX:a,children:t})),u.jsx(Qh.Provider,{value:f,children:t})};function n4(){return new Map}function tT(t=!0){const e=N.useContext(Qh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=N.useId();N.useEffect(()=>{t&&r(s)},[t]);const o=N.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const $c=t=>t.key||"";function gw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const uy=typeof window<"u",nT=uy?N.useLayoutEffect:N.useEffect,iT=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=tT(o),d=N.useMemo(()=>gw(t),[t]),f=o&&!l?[]:d.map($c),p=N.useRef(!0),m=N.useRef(d),v=ly(()=>new Map),[_,S]=N.useState(d),[x,w]=N.useState(d);nT(()=>{p.current=!1,m.current=d;for(let R=0;R<x.length;R++){const M=$c(x[R]);f.includes(M)?v.delete(M):v.get(M)!==!0&&v.set(M,!1)}},[x,f.length,f.join("-")]);const b=[];if(d!==_){let R=[...d];for(let M=0;M<x.length;M++){const E=x[M],T=$c(E);f.includes(T)||(R.splice(M,0,E),b.push(E))}return s==="wait"&&b.length&&(R=b),w(gw(R)),S(d),null}const{forceRender:I}=N.useContext(ay);return u.jsx(u.Fragment,{children:x.map(R=>{const M=$c(R),E=o&&!l?!1:d===x||f.includes(M),T=()=>{if(v.has(M))v.set(M,!0);else return;let k=!0;v.forEach(P=>{P||(k=!1)}),k&&(I==null||I(),w(m.current),o&&(c==null||c()),i&&i())};return u.jsx(t4,{isPresent:E,initial:!p.current||n?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:E?void 0:T,anchorX:a,children:R},M)})})},tn=t=>t;let hm=tn;function hy(t){let e;return()=>(e===void 0&&(e=t()),e)}const Co=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},vi=t=>t*1e3,xi=t=>t/1e3,i4={skipAnimations:!1,useManualTiming:!1};function r4(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,f=!1)=>{const m=f&&i?e:n;return d&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const qc=["read","resolveKeyframes","update","preRender","render","postRender"],s4=40;function rT(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=qc.reduce((x,w)=>(x[w]=r4(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:p}=o,m=()=>{const x=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,s4),1),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),f.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:qc.reduce((x,w)=>{const b=o[w];return x[w]=(I,R=!1,M=!1)=>(n||v(),b.schedule(I,R,M)),x},{}),cancel:x=>{for(let w=0;w<qc.length;w++)o[qc[w]].cancel(x)},state:r,steps:o}}const{schedule:ve,cancel:_r,state:at,steps:Pf}=rT(typeof requestAnimationFrame<"u"?requestAnimationFrame:tn,!0),sT=N.createContext({strict:!1}),yw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Io={};for(const t in yw)Io[t]={isEnabled:e=>yw[t].some(n=>!!e[n])};function o4(t){for(const e in t)Io[e]={...Io[e],...t[e]}}const a4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function eh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||a4.has(t)}let oT=t=>!eh(t);function l4(t){t&&(oT=e=>e.startsWith("on")?!eh(e):t(e))}try{l4(require("@emotion/is-prop-valid").default)}catch{}function c4(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(oT(r)||n===!0&&eh(r)||!e&&!eh(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function u4(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Yh=N.createContext({});function Xh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _l(t){return typeof t=="string"||Array.isArray(t)}const dy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fy=["initial",...dy];function Jh(t){return Xh(t.animate)||fy.some(e=>_l(t[e]))}function aT(t){return!!(Jh(t)||t.variants)}function h4(t,e){if(Jh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||_l(n)?n:void 0,animate:_l(i)?i:void 0}}return t.inherit!==!1?e:{}}function d4(t){const{initial:e,animate:n}=h4(t,N.useContext(Yh));return N.useMemo(()=>({initial:e,animate:n}),[vw(e),vw(n)])}function vw(t){return Array.isArray(t)?t.join(" "):t}const f4=Symbol.for("motionComponentSymbol");function to(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function p4(t,e,n){return N.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):to(n)&&(n.current=i))},[e])}const py=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),m4="framerAppearId",lT="data-"+py(m4),{schedule:my,cancel:m$}=rT(queueMicrotask,!1),cT=N.createContext({});function g4(t,e,n,i,r){var s,o;const{visualElement:a}=N.useContext(Yh),l=N.useContext(sT),c=N.useContext(Qh),d=N.useContext(cy).reducedMotion,f=N.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=N.useContext(cT);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&y4(f.current,n,r,m);const v=N.useRef(!1);N.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const _=n[lT],S=N.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return nT(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),my.render(p.render),S.current&&p.animationState&&p.animationState.animateChanges())}),N.useEffect(()=>{p&&(!S.current&&p.animationState&&p.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,_)}),S.current=!1))}),p}function y4(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:uT(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&to(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function uT(t){if(t)return t.options.allowProjection!==!1?t.projection:uT(t.parent)}function v4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&o4(t);function a(c,d){let f;const p={...N.useContext(cy),...c,layoutId:x4(c)},{isStatic:m}=p,v=d4(c),_=i(c,m);if(!m&&uy){w4();const S=_4(p);f=S.MeasureLayout,v.visualElement=g4(r,_,p,e,S.ProjectionNode)}return u.jsxs(Yh.Provider,{value:v,children:[f&&v.visualElement?u.jsx(f,{visualElement:v.visualElement,...p}):null,n(r,c,p4(_,v.visualElement,d),_,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=N.forwardRef(a);return l[f4]=r,l}function x4({layoutId:t}){const e=N.useContext(ay).id;return e&&t!==void 0?e+"-"+t:t}function w4(t,e){N.useContext(sT).strict}function _4(t){const{drag:e,layout:n}=Io;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const hT=t=>e=>typeof e=="string"&&e.startsWith(t),gy=hT("--"),b4=hT("var(--"),yy=t=>b4(t)?E4.test(t.split("/*")[0].trim()):!1,E4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bl={};function T4(t){for(const e in t)bl[e]=t[e],gy(e)&&(bl[e].isCSSVariable=!0)}const qo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cs=new Set(qo);function dT(t,{layout:e,layoutId:n}){return Cs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!bl[t]||t==="opacity")}const Tt=t=>!!(t&&t.getVelocity),fT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ki=(t,e,n)=>n>e?e:n<t?t:n,Ho={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},El={...Ho,transform:t=>ki(0,1,t)},Hc={...Ho,default:1},Wl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bi=Wl("deg"),Kn=Wl("%"),Y=Wl("px"),S4=Wl("vh"),C4=Wl("vw"),xw={...Kn,parse:t=>Kn.parse(t)/100,transform:t=>Kn.transform(t*100)},I4={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},k4={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:Hc,scaleX:Hc,scaleY:Hc,scaleZ:Hc,skew:Bi,skewX:Bi,skewY:Bi,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:El,originX:xw,originY:xw,originZ:Y},ww={...Ho,transform:Math.round},vy={...I4,...k4,zIndex:ww,size:Y,fillOpacity:El,strokeOpacity:El,numOctaves:ww},P4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A4=qo.length;function N4(t,e,n){let i="",r=!0;for(let s=0;s<A4;s++){const o=qo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=fT(a,vy[o]);if(!l){r=!1;const d=P4[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function xy(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Cs.has(l)){o=!0;continue}else if(gy(l)){r[l]=c;continue}else{const d=fT(c,vy[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=N4(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const wy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pT(t,e,n){for(const i in e)!Tt(e[i])&&!dT(i,n)&&(t[i]=e[i])}function R4({transformTemplate:t},e){return N.useMemo(()=>{const n=wy();return xy(n,e,t),Object.assign({},n.vars,n.style)},[e])}function j4(t,e){const n=t.style||{},i={};return pT(i,n,t),Object.assign(i,R4(t,e)),i}function D4(t,e){const n={},i=j4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const M4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _y(t){return typeof t!="string"||t.includes("-")?!1:!!(M4.indexOf(t)>-1||/[A-Z]/u.test(t))}const O4={offset:"stroke-dashoffset",array:"stroke-dasharray"},L4={offset:"strokeDashoffset",array:"strokeDasharray"};function V4(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?O4:L4;t[s.offset]=Y.transform(-i);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function _w(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function F4(t,e,n){const i=_w(e,t.x,t.width),r=_w(n,t.y,t.height);return`${i} ${r}`}function by(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(xy(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=F4(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&V4(p,o,a,l,!1)}const mT=()=>({...wy(),attrs:{}}),Ey=t=>typeof t=="string"&&t.toLowerCase()==="svg";function U4(t,e,n,i){const r=N.useMemo(()=>{const s=mT();return by(s,e,Ey(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};pT(s,t.style,t),r.style={...s,...r.style}}return r}function z4(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(_y(n)?U4:D4)(i,s,o,n),c=c4(i,typeof n=="string",t),d=n!==N.Fragment?{...c,...l,ref:r}:{},{children:f}=i,p=N.useMemo(()=>Tt(f)?f.get():f,[f]);return N.createElement(n,{...d,children:p})}}function bw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Ty(t,e,n,i){if(typeof e=="function"){const[r,s]=bw(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=bw(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const dm=t=>Array.isArray(t),B4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),$4=t=>dm(t)?t[t.length-1]||0:t;function du(t){const e=Tt(t)?t.get():t;return B4(e)?e.toValue():e}function q4({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:H4(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const gT=t=>(e,n)=>{const i=N.useContext(Yh),r=N.useContext(Qh),s=()=>q4(t,e,i,r);return n?s():ly(s)};function H4(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=du(s[p]);let{initial:o,animate:a}=t;const l=Jh(t),c=aT(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Xh(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const v=Ty(t,p[m]);if(v){const{transitionEnd:_,transition:S,...x}=v;for(const w in x){let b=x[w];if(Array.isArray(b)){const I=d?b.length-1:0;b=b[I]}b!==null&&(r[w]=b)}for(const w in _)r[w]=_[w]}}}return r}function Sy(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Tt(r[o])||e.style&&Tt(e.style[o])||dT(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const W4={useVisualState:gT({scrapeMotionValuesFromProps:Sy,createRenderState:wy})};function yT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function vT(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const xT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wT(t,e,n,i){vT(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(xT.has(r)?r:py(r),e.attrs[r])}function _T(t,e,n){const i=Sy(t,e,n);for(const r in t)if(Tt(t[r])||Tt(e[r])){const s=qo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const Ew=["x","y","width","height","cx","cy","r"],G4={useVisualState:gT({scrapeMotionValuesFromProps:_T,createRenderState:mT,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(Cs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Ew.length;a++){const l=Ew[a];t[l]!==e[l]&&(o=!0)}o&&ve.read(()=>{yT(n,i),ve.render(()=>{by(i,r,Ey(n.tagName),t.transformTemplate),wT(n,i)})})}})};function K4(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={..._y(i)?G4:W4,preloadedFeatures:t,useRender:z4(r),createVisualElement:e,Component:i};return v4(o)}}function Zh(t,e,n){const i=t.getProps();return Ty(i,e,n!==void 0?n:i.custom,t)}const Q4=hy(()=>window.ScrollTimeline!==void 0);class Y4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(Q4()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class X4 extends Y4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Cy(t,e){return t?t[e]||t.default||t:void 0}const fm=2e4;function bT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<fm;)e+=n,i=t.next(e);return e>=fm?1/0:e}function Iy(t){return typeof t=="function"}function Tw(t,e){t.timeline=e,t.onfinish=null}const ky=t=>Array.isArray(t)&&typeof t[0]=="number",J4={linearEasing:void 0};function Z4(t,e){const n=hy(t);return()=>{var i;return(i=J4[e])!==null&&i!==void 0?i:n()}}const th=Z4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ET=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(Co(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function TT(t){return!!(typeof t=="function"&&th()||!t||typeof t=="string"&&(t in pm||th())||ky(t)||Array.isArray(t)&&t.every(TT))}const Sa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,pm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sa([0,.65,.55,1]),circOut:Sa([.55,0,1,.45]),backIn:Sa([.31,.01,.66,-.59]),backOut:Sa([.33,1.53,.69,.99])};function ST(t,e){if(t)return typeof t=="function"&&th()?ET(t,e):ky(t)?Sa(t):Array.isArray(t)?t.map(n=>ST(n,e)||pm.easeOut):pm[t]}const Cn={x:!1,y:!1};function CT(){return Cn.x||Cn.y}function ej(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function IT(t,e){const n=ej(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function Sw(t){return!(t.pointerType==="touch"||CT())}function tj(t,e,n={}){const[i,r,s]=IT(t,n),o=a=>{if(!Sw(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{Sw(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const kT=(t,e)=>e?t===e?!0:kT(t,e.parentElement):!1,Py=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,nj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ij(t){return nj.has(t.tagName)||t.tabIndex!==-1}const Ca=new WeakSet;function Cw(t){return e=>{e.key==="Enter"&&t(e)}}function Af(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const rj=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Cw(()=>{if(Ca.has(n))return;Af(n,"down");const r=Cw(()=>{Af(n,"up")}),s=()=>Af(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Iw(t){return Py(t)&&!CT()}function sj(t,e,n={}){const[i,r,s]=IT(t,n),o=a=>{const l=a.currentTarget;if(!Iw(a)||Ca.has(l))return;Ca.add(l);const c=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!Iw(m)||!Ca.has(l))&&(Ca.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{d(m,n.useGlobalTarget||kT(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!ij(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>rj(c,r),r)}),s}function oj(t){return t==="x"||t==="y"?Cn[t]?null:(Cn[t]=!0,()=>{Cn[t]=!1}):Cn.x||Cn.y?null:(Cn.x=Cn.y=!0,()=>{Cn.x=Cn.y=!1})}const PT=new Set(["width","height","top","left","right","bottom",...qo]);let fu;function aj(){fu=void 0}const Qn={now:()=>(fu===void 0&&Qn.set(at.isProcessing||i4.useManualTiming?at.timestamp:performance.now()),fu),set:t=>{fu=t,queueMicrotask(aj)}};function Ay(t,e){t.indexOf(e)===-1&&t.push(e)}function Ny(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ry{constructor(){this.subscriptions=[]}add(e){return Ay(this.subscriptions,e),()=>Ny(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function AT(t,e){return e?t*(1e3/e):0}const kw=30,lj=t=>!isNaN(parseFloat(t));class cj{constructor(e,n={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Qn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Qn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ry);const i=this.events[e].add(n);return e==="change"?()=>{i(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Qn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>kw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,kw);return AT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tl(t,e){return new cj(t,e)}function uj(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Tl(n))}function hj(t,e){const n=Zh(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=$4(s[o]);uj(t,o,a)}}function dj(t){return!!(Tt(t)&&t.add)}function mm(t,e){const n=t.getValue("willChange");if(dj(n))return n.add(e)}function NT(t){return t.props[lT]}const RT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,fj=1e-7,pj=12;function mj(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=RT(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>fj&&++a<pj);return o}function Gl(t,e,n,i){if(t===e&&n===i)return tn;const r=s=>mj(s,0,1,t,n);return s=>s===0||s===1?s:RT(r(s),e,i)}const jT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,DT=t=>e=>1-t(1-e),MT=Gl(.33,1.53,.69,.99),jy=DT(MT),OT=jT(jy),LT=t=>(t*=2)<1?.5*jy(t):.5*(2-Math.pow(2,-10*(t-1))),Dy=t=>1-Math.sin(Math.acos(t)),VT=DT(Dy),FT=jT(Dy),UT=t=>/^0[^.\s]+$/u.test(t);function gj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||UT(t):!0}const Ha=t=>Math.round(t*1e5)/1e5,My=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yj(t){return t==null}const vj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oy=(t,e)=>n=>!!(typeof n=="string"&&vj.test(n)&&n.startsWith(t)||e&&!yj(n)&&Object.prototype.hasOwnProperty.call(n,e)),zT=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(My);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},xj=t=>ki(0,255,t),Nf={...Ho,transform:t=>Math.round(xj(t))},ts={test:Oy("rgb","red"),parse:zT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Nf.transform(t)+", "+Nf.transform(e)+", "+Nf.transform(n)+", "+Ha(El.transform(i))+")"};function wj(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const gm={test:Oy("#"),parse:wj,transform:ts.transform},no={test:Oy("hsl","hue"),parse:zT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Kn.transform(Ha(e))+", "+Kn.transform(Ha(n))+", "+Ha(El.transform(i))+")"},wt={test:t=>ts.test(t)||gm.test(t)||no.test(t),parse:t=>ts.test(t)?ts.parse(t):no.test(t)?no.parse(t):gm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ts.transform(t):no.transform(t)},_j=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(My))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_j))===null||n===void 0?void 0:n.length)||0)>0}const BT="number",$T="color",Ej="var",Tj="var(",Pw="${}",Sj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(Sj,l=>(wt.test(l)?(i.color.push(s),r.push($T),n.push(wt.parse(l))):l.startsWith(Tj)?(i.var.push(s),r.push(Ej),n.push(l)):(i.number.push(s),r.push(BT),n.push(parseFloat(l))),++s,Pw)).split(Pw);return{values:n,split:a,indexes:i,types:r}}function qT(t){return Sl(t).values}function HT(t){const{split:e,types:n}=Sl(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===BT?s+=Ha(r[o]):a===$T?s+=wt.transform(r[o]):s+=r[o]}return s}}const Cj=t=>typeof t=="number"?0:t;function Ij(t){const e=qT(t);return HT(t)(e.map(Cj))}const br={test:bj,parse:qT,createTransformer:HT,getAnimatableNone:Ij},kj=new Set(["brightness","contrast","saturate","opacity"]);function Pj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(My)||[];if(!i)return t;const r=n.replace(i,"");let s=kj.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Aj=/\b([a-z-]*)\(.*?\)/gu,ym={...br,getAnimatableNone:t=>{const e=t.match(Aj);return e?e.map(Pj).join(" "):t}},Nj={...vy,color:wt,backgroundColor:wt,outlineColor:wt,fill:wt,stroke:wt,borderColor:wt,borderTopColor:wt,borderRightColor:wt,borderBottomColor:wt,borderLeftColor:wt,filter:ym,WebkitFilter:ym},Ly=t=>Nj[t];function WT(t,e){let n=Ly(t);return n!==ym&&(n=br),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Rj=new Set(["auto","none","0"]);function jj(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!Rj.has(s)&&Sl(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=WT(n,r)}const Aw=t=>t===Ho||t===Y,Nw=(t,e)=>parseFloat(t.split(", ")[e]),Rw=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return Nw(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?Nw(s[1],t):0}},Dj=new Set(["x","y","z"]),Mj=qo.filter(t=>!Dj.has(t));function Oj(t){const e=[];return Mj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const ko={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Rw(4,13),y:Rw(5,14)};ko.translateX=ko.x;ko.translateY=ko.y;const as=new Set;let vm=!1,xm=!1;function GT(){if(xm){const t=Array.from(as).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=Oj(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}xm=!1,vm=!1,as.forEach(t=>t.complete()),as.clear()}function KT(){as.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(xm=!0)})}function Lj(){KT(),GT()}class Vy{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(as.add(this),vm||(vm=!0,ve.read(KT),ve.resolveKeyframes(GT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),as.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,as.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const QT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Vj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Fj(t){const e=Vj.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function YT(t,e,n=1){const[i,r]=Fj(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return QT(o)?parseFloat(o):o}return yy(r)?YT(r,e,n+1):r}const XT=t=>e=>e.test(t),Uj={test:t=>t==="auto",parse:t=>t},JT=[Ho,Y,Kn,Bi,C4,S4,Uj],jw=t=>JT.find(XT(t));class ZT extends Vy{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),yy(c))){const d=YT(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!PT.has(i)||e.length!==2)return;const[r,s]=e,o=jw(r),a=jw(s);if(o!==a)if(Aw(o)&&Aw(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)gj(e[r])&&i.push(r);i.length&&jj(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ko[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=ko[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const Dw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(br.test(t)||t==="0")&&!t.startsWith("url("));function zj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Bj(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Dw(r,e),a=Dw(s,e);return!o||!a?!1:zj(t)||(n==="spring"||Iy(n))&&i}const $j=t=>t!==null;function ed(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter($j),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const qj=40;class eS{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Qn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>qj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Lj(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Qn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Bj(e,i,r,s))if(o)this.options.duration=0;else{l&&l(ed(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ae=(t,e,n)=>t+(e-t)*n;function Rf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Hj({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Rf(l,a,t+1/3),s=Rf(l,a,t),o=Rf(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function nh(t,e){return n=>n>0?e:t}const jf=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Wj=[gm,ts,no],Gj=t=>Wj.find(e=>e.test(t));function Mw(t){const e=Gj(t);if(!e)return!1;let n=e.parse(t);return e===no&&(n=Hj(n)),n}const Ow=(t,e)=>{const n=Mw(t),i=Mw(e);if(!n||!i)return nh(t,e);const r={...n};return s=>(r.red=jf(n.red,i.red,s),r.green=jf(n.green,i.green,s),r.blue=jf(n.blue,i.blue,s),r.alpha=Ae(n.alpha,i.alpha,s),ts.transform(r))},Kj=(t,e)=>n=>e(t(n)),Kl=(...t)=>t.reduce(Kj),wm=new Set(["none","hidden"]);function Qj(t,e){return wm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Yj(t,e){return n=>Ae(t,e,n)}function Fy(t){return typeof t=="number"?Yj:typeof t=="string"?yy(t)?nh:wt.test(t)?Ow:Zj:Array.isArray(t)?tS:typeof t=="object"?wt.test(t)?Ow:Xj:nh}function tS(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Fy(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function Xj(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Fy(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function Jj(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const Zj=(t,e)=>{const n=br.createTransformer(e),i=Sl(t),r=Sl(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?wm.has(t)&&!r.values.length||wm.has(e)&&!i.values.length?Qj(t,e):Kl(tS(Jj(i,r),r.values),n):nh(t,e)};function nS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ae(t,e,n):Fy(t)(t,e)}const eD=5;function iS(t,e,n){const i=Math.max(e-eD,0);return AT(n-t(i),e-i)}const Oe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Df=.001;function tD({duration:t=Oe.duration,bounce:e=Oe.bounce,velocity:n=Oe.velocity,mass:i=Oe.mass}){let r,s,o=1-e;o=ki(Oe.minDamping,Oe.maxDamping,o),t=ki(Oe.minDuration,Oe.maxDuration,xi(t)),o<1?(r=c=>{const d=c*o,f=d*t,p=d-n,m=_m(c,o),v=Math.exp(-f);return Df-p/m*v},s=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),_=_m(Math.pow(c,2),o);return(-r(c)+Df>0?-1:1)*((p-m)*v)/_}):(r=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Df+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=iD(r,s,a);if(t=vi(t),isNaN(l))return{stiffness:Oe.stiffness,damping:Oe.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const nD=12;function iD(t,e,n){let i=n;for(let r=1;r<nD;r++)i=i-t(i)/e(i);return i}function _m(t,e){return t*Math.sqrt(1-e*e)}const rD=["duration","bounce"],sD=["stiffness","damping","mass"];function Lw(t,e){return e.some(n=>t[n]!==void 0)}function oD(t){let e={velocity:Oe.velocity,stiffness:Oe.stiffness,damping:Oe.damping,mass:Oe.mass,isResolvedFromDuration:!1,...t};if(!Lw(t,sD)&&Lw(t,rD))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*ki(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Oe.mass,stiffness:r,damping:s}}else{const n=tD(t);e={...e,...n,mass:Oe.mass},e.isResolvedFromDuration=!0}return e}function rS(t=Oe.visualDuration,e=Oe.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=oD({...n,velocity:-xi(n.velocity||0)}),v=p||0,_=c/(2*Math.sqrt(l*d)),S=o-s,x=xi(Math.sqrt(l/d)),w=Math.abs(S)<5;i||(i=w?Oe.restSpeed.granular:Oe.restSpeed.default),r||(r=w?Oe.restDelta.granular:Oe.restDelta.default);let b;if(_<1){const R=_m(x,_);b=M=>{const E=Math.exp(-_*x*M);return o-E*((v+_*x*S)/R*Math.sin(R*M)+S*Math.cos(R*M))}}else if(_===1)b=R=>o-Math.exp(-x*R)*(S+(v+x*S)*R);else{const R=x*Math.sqrt(_*_-1);b=M=>{const E=Math.exp(-_*x*M),T=Math.min(R*M,300);return o-E*((v+_*x*S)*Math.sinh(T)+R*S*Math.cosh(T))/R}}const I={calculatedDuration:m&&f||null,next:R=>{const M=b(R);if(m)a.done=R>=f;else{let E=0;_<1&&(E=R===0?vi(v):iS(b,R,M));const T=Math.abs(E)<=i,k=Math.abs(o-M)<=r;a.done=T&&k}return a.value=a.done?o:M,a},toString:()=>{const R=Math.min(bT(I),fm),M=ET(E=>I.next(R*E).value,R,30);return R+"ms "+M}};return I}function Vw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let _=n*e;const S=f+_,x=o===void 0?S:o(S);x!==S&&(_=x-f);const w=T=>-_*Math.exp(-T/i),b=T=>x+w(T),I=T=>{const k=w(T),P=b(T);p.done=Math.abs(k)<=c,p.value=p.done?x:P};let R,M;const E=T=>{m(p.value)&&(R=T,M=rS({keyframes:[p.value,v(p.value)],velocity:iS(b,T,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return E(0),{calculatedDuration:null,next:T=>{let k=!1;return!M&&R===void 0&&(k=!0,I(T),E(T)),R!==void 0&&T>=R?M.next(T-R):(!k&&I(T),p)}}}const aD=Gl(.42,0,1,1),lD=Gl(0,0,.58,1),sS=Gl(.42,0,.58,1),cD=t=>Array.isArray(t)&&typeof t[0]!="number",Fw={linear:tn,easeIn:aD,easeInOut:sS,easeOut:lD,circIn:Dy,circInOut:FT,circOut:VT,backIn:jy,backInOut:OT,backOut:MT,anticipate:LT},Uw=t=>{if(ky(t)){hm(t.length===4);const[e,n,i,r]=t;return Gl(e,n,i,r)}else if(typeof t=="string")return hm(Fw[t]!==void 0),Fw[t];return t};function uD(t,e,n){const i=[],r=n||nS,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||tn:e;a=Kl(l,a)}i.push(a)}return i}function hD(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(hm(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=uD(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=Co(t[f],t[f+1],d);return a[f](p)};return n?d=>c(ki(t[0],t[s-1],d)):c}function dD(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Co(0,e,i);t.push(Ae(n,1,r))}}function fD(t){const e=[0];return dD(e,t.length-1),e}function pD(t,e){return t.map(n=>n*e)}function mD(t,e){return t.map(()=>e||sS).splice(0,t.length-1)}function ih({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=cD(i)?i.map(Uw):Uw(i),s={done:!1,value:e[0]},o=pD(n&&n.length===e.length?n:fD(e),t),a=hD(o,e,{ease:Array.isArray(r)?r:mD(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const gD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ve.update(e,!0),stop:()=>_r(e),now:()=>at.isProcessing?at.timestamp:Qn.now()}},yD={decay:Vw,inertia:Vw,tween:ih,keyframes:ih,spring:rS},vD=t=>t/100;class Uy extends eS{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Vy,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=Iy(n)?n:yD[n]||ih;let l,c;a!==ih&&typeof e[0]!="number"&&(l=Kl(vD,nS(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=bT(d));const{calculatedDuration:f}=d,p=f+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:_,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,I=s;if(m){const T=Math.min(this.currentTime,d)/f;let k=Math.floor(T),P=T%1;!P&&T>=1&&(P=1),P===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(v==="reverse"?(P=1-P,_&&(P-=_/f)):v==="mirror"&&(I=o)),b=ki(0,1,P)*f}const R=w?{done:!1,value:l[0]}:I.next(b);a&&(R.value=a(R.value));let{done:M}=R;!w&&c!==null&&(M=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return E&&r!==void 0&&(R.value=ed(l,this.options,r)),S&&S(R.value),E&&this.finish(),R}get duration(){const{resolved:e}=this;return e?xi(e.calculatedDuration):0}get time(){return xi(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=gD,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const xD=new Set(["opacity","clipPath","filter","transform"]);function wD(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=ST(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const _D=hy(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),rh=10,bD=2e4;function ED(t){return Iy(t.type)||t.type==="spring"||!TT(t.ease)}function TD(t,e){const n=new Uy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<bD;)i=n.sample(s),r.push(i.value),s+=rh;return{times:void 0,keyframes:r,duration:s-rh,ease:"linear"}}const oS={anticipate:LT,backInOut:OT,circInOut:FT};function SD(t){return t in oS}class zw extends eS{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new ZT(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&th()&&SD(s)&&(s=oS[s]),ED(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:v,..._}=this.options,S=TD(e,_);e=S.keyframes,e.length===1&&(e[1]=e[0]),i=S.duration,r=S.times,s=S.ease,o="keyframes"}const d=wD(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(Tw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(ed(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=vi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return tn;const{animation:i}=n;Tw(i,e)}return tn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:p,...m}=this.options,v=new Uy({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),_=vi(this.time);c.setWithVelocity(v.sample(_-rh).value,v.sample(_).value,rh)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return _D()&&i&&xD.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const CD={type:"spring",stiffness:500,damping:25,restSpeed:10},ID=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kD={type:"keyframes",duration:.8},PD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AD=(t,{keyframes:e})=>e.length>2?kD:Cs.has(t)?t.startsWith("scale")?ID(e[1]):CD:PD;function ND({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const zy=(t,e,n,i={},r,s)=>o=>{const a=Cy(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-vi(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};ND(a)||(d={...d,...AD(t,d)}),d.duration&&(d.duration=vi(d.duration)),d.repeatDelay&&(d.repeatDelay=vi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=ed(d.keyframes,a);if(p!==void 0)return ve.update(()=>{d.onUpdate(p),d.onComplete()}),new X4([])}return!s&&zw.supports(d)?new zw(d):new Uy(d)};function RD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function aS(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||d&&RD(d,f))continue;const v={delay:n,...Cy(o||{},f)};let _=!1;if(window.MotionHandoffAnimation){const x=NT(t);if(x){const w=window.MotionHandoffAnimation(x,f,ve);w!==null&&(v.startTime=w,_=!0)}}mm(t,f),p.start(zy(f,p,m,t.shouldReduceMotion&&PT.has(f)?{type:!1}:v,t,_));const S=p.animation;S&&c.push(S)}return a&&Promise.all(c).then(()=>{ve.update(()=>{a&&hj(t,a)})}),c}function bm(t,e,n={}){var i;const r=Zh(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(aS(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return jD(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function jD(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(DD).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(bm(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function DD(t,e){return t.sortNodePosition(e)}function MD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>bm(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=bm(t,e,n);else{const r=typeof e=="function"?Zh(t,e,n.custom):e;i=Promise.all(aS(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function lS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const OD=fy.length;function cS(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cS(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<OD;n++){const i=fy[n],r=t.props[i];(_l(r)||r===!1)&&(e[i]=r)}return e}const LD=[...dy].reverse(),VD=dy.length;function FD(t){return e=>Promise.all(e.map(({animation:n,options:i})=>MD(t,n,i)))}function UD(t){let e=FD(t),n=Bw(),i=!0;const r=l=>(c,d)=>{var f;const p=Zh(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:v,..._}=p;c={...c,..._,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=cS(t.parent)||{},f=[],p=new Set;let m={},v=1/0;for(let S=0;S<VD;S++){const x=LD[S],w=n[x],b=c[x]!==void 0?c[x]:d[x],I=_l(b),R=x===l?w.isActive:null;R===!1&&(v=S);let M=b===d[x]&&b!==c[x]&&I;if(M&&i&&t.manuallyAnimateOnMount&&(M=!1),w.protectedKeys={...m},!w.isActive&&R===null||!b&&!w.prevProp||Xh(b)||typeof b=="boolean")continue;const E=zD(w.prevProp,b);let T=E||x===l&&w.isActive&&!M&&I||S>v&&I,k=!1;const P=Array.isArray(b)?b:[b];let j=P.reduce(r(x),{});R===!1&&(j={});const{prevResolvedValues:D={}}=w,A={...D,...j},Ce=xe=>{T=!0,p.has(xe)&&(k=!0,p.delete(xe)),w.needsAnimating[xe]=!0;const $=t.getValue(xe);$&&($.liveStyle=!1)};for(const xe in A){const $=j[xe],X=D[xe];if(m.hasOwnProperty(xe))continue;let ee=!1;dm($)&&dm(X)?ee=!lS($,X):ee=$!==X,ee?$!=null?Ce(xe):p.add(xe):$!==void 0&&p.has(xe)?Ce(xe):w.protectedKeys[xe]=!0}w.prevProp=b,w.prevResolvedValues=j,w.isActive&&(m={...m,...j}),i&&t.blockInitialAnimation&&(T=!1),T&&(!(M&&E)||k)&&f.push(...P.map(xe=>({animation:xe,options:{type:x}})))}if(p.size){const S={};p.forEach(x=>{const w=t.getBaseTarget(x),b=t.getValue(x);b&&(b.liveStyle=!0),S[x]=w??null}),f.push({animation:S})}let _=!!f.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(f):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Bw(),i=!0}}}function zD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!lS(e,t):!1}function Wr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bw(){return{animate:Wr(!0),whileInView:Wr(),whileHover:Wr(),whileTap:Wr(),whileDrag:Wr(),whileFocus:Wr(),exit:Wr()}}class Dr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class BD extends Dr{constructor(e){super(e),e.animationState||(e.animationState=UD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Xh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let $D=0;class qD extends Dr{constructor(){super(...arguments),this.id=$D++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HD={animation:{Feature:BD},exit:{Feature:qD}};function Cl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ql(t){return{point:{x:t.pageX,y:t.pageY}}}const WD=t=>e=>Py(e)&&t(e,Ql(e));function Wa(t,e,n,i){return Cl(t,e,WD(n),i)}const $w=(t,e)=>Math.abs(t-e);function GD(t,e){const n=$w(t.x,e.x),i=$w(t.y,e.y);return Math.sqrt(n**2+i**2)}class uS{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Of(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=GD(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:_}=at;this.history.push({...v,timestamp:_});const{onStart:S,onMove:x}=this.handlers;p||(S&&S(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Mf(p,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Of(f.type==="pointercancel"?this.lastMoveEventInfo:Mf(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,S),v&&v(f,S)},!Py(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Ql(e),a=Mf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=at;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Of(a,this.history)),this.removeListeners=Kl(Wa(this.contextWindow,"pointermove",this.handlePointerMove),Wa(this.contextWindow,"pointerup",this.handlePointerUp),Wa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_r(this.updatePoint)}}function Mf(t,e){return e?{point:e(t.point)}:t}function qw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Of({point:t},e){return{point:t,delta:qw(t,hS(e)),offset:qw(t,KD(e)),velocity:QD(e,.1)}}function KD(t){return t[0]}function hS(t){return t[t.length-1]}function QD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=hS(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>vi(e)));)n--;if(!i)return{x:0,y:0};const s=xi(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const dS=1e-4,YD=1-dS,XD=1+dS,fS=.01,JD=0-fS,ZD=0+fS;function jt(t){return t.max-t.min}function eM(t,e,n){return Math.abs(t-e)<=n}function Hw(t,e,n,i=.5){t.origin=i,t.originPoint=Ae(e.min,e.max,t.origin),t.scale=jt(n)/jt(e),t.translate=Ae(n.min,n.max,t.origin)-t.originPoint,(t.scale>=YD&&t.scale<=XD||isNaN(t.scale))&&(t.scale=1),(t.translate>=JD&&t.translate<=ZD||isNaN(t.translate))&&(t.translate=0)}function Ga(t,e,n,i){Hw(t.x,e.x,n.x,i?i.originX:void 0),Hw(t.y,e.y,n.y,i?i.originY:void 0)}function Ww(t,e,n){t.min=n.min+e.min,t.max=t.min+jt(e)}function tM(t,e,n){Ww(t.x,e.x,n.x),Ww(t.y,e.y,n.y)}function Gw(t,e,n){t.min=e.min-n.min,t.max=t.min+jt(e)}function Ka(t,e,n){Gw(t.x,e.x,n.x),Gw(t.y,e.y,n.y)}function nM(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Ae(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Ae(n,t,i.max):Math.min(t,n)),t}function Kw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function iM(t,{top:e,left:n,bottom:i,right:r}){return{x:Kw(t.x,n,r),y:Kw(t.y,e,i)}}function Qw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function rM(t,e){return{x:Qw(t.x,e.x),y:Qw(t.y,e.y)}}function sM(t,e){let n=.5;const i=jt(t),r=jt(e);return r>i?n=Co(e.min,e.max-i,t.min):i>r&&(n=Co(t.min,t.max-r,e.min)),ki(0,1,n)}function oM(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Em=.35;function aM(t=Em){return t===!1?t=0:t===!0&&(t=Em),{x:Yw(t,"left","right"),y:Yw(t,"top","bottom")}}function Yw(t,e,n){return{min:Xw(t,e),max:Xw(t,n)}}function Xw(t,e){return typeof t=="number"?t:t[e]||0}const Jw=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:Jw(),y:Jw()}),Zw=()=>({min:0,max:0}),Fe=()=>({x:Zw(),y:Zw()});function dn(t){return[t("x"),t("y")]}function pS({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function lM({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cM(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Lf(t){return t===void 0||t===1}function Tm({scale:t,scaleX:e,scaleY:n}){return!Lf(t)||!Lf(e)||!Lf(n)}function Qr(t){return Tm(t)||mS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mS(t){return e_(t.x)||e_(t.y)}function e_(t){return t&&t!=="0%"}function sh(t,e,n){const i=t-n,r=e*i;return n+r}function t_(t,e,n,i,r){return r!==void 0&&(t=sh(t,r,i)),sh(t,n,i)+e}function Sm(t,e=0,n=1,i,r){t.min=t_(t.min,e,n,i,r),t.max=t_(t.max,e,n,i,r)}function gS(t,{x:e,y:n}){Sm(t.x,e.translate,e.scale,e.originPoint),Sm(t.y,n.translate,n.scale,n.originPoint)}const n_=.999999999999,i_=1.0000000000001;function uM(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&so(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,gS(t,o)),i&&Qr(s.latestValues)&&so(t,s.latestValues))}e.x<i_&&e.x>n_&&(e.x=1),e.y<i_&&e.y>n_&&(e.y=1)}function ro(t,e){t.min=t.min+e,t.max=t.max+e}function r_(t,e,n,i,r=.5){const s=Ae(t.min,t.max,r);Sm(t,e,n,s,i)}function so(t,e){r_(t.x,e.x,e.scaleX,e.scale,e.originX),r_(t.y,e.y,e.scaleY,e.scale,e.originY)}function yS(t,e){return pS(cM(t.getBoundingClientRect(),e))}function hM(t,e,n){const i=yS(t,n),{scroll:r}=e;return r&&(ro(i.x,r.offset.x),ro(i.y,r.offset.y)),i}const vS=({current:t})=>t?t.ownerDocument.defaultView:null,dM=new WeakMap;class fM{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ql(d).point)},s=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oj(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),dn(S=>{let x=this.getAxisMotionValue(S).get()||0;if(Kn.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const b=w.layout.layoutBox[S];b&&(x=jt(b)*(parseFloat(x)/100))}}this.originPoint[S]=x}),v&&ve.postRender(()=>v(d,f)),mm(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:_}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:S}=f;if(m&&this.currentDirection===null){this.currentDirection=pM(S),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,S),this.updateAxis("y",f.point,S),this.visualElement.render(),_&&_(d,f)},a=(d,f)=>this.stop(d,f),l=()=>dn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uS(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vS(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ve.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Wc(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=nM(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&to(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=iM(r.layoutBox,n):this.constraints=!1,this.elastic=aM(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&dn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oM(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!to(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=hM(i,r.root,this.visualElement.getTransformPagePoint());let o=rM(r.layout.layoutBox,s);if(n){const a=n(lM(o));this.hasMutatedConstraints=!!a,a&&(o=pS(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=dn(d=>{if(!Wc(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return mm(this.visualElement,e),i.start(zy(e,i,0,n,this.visualElement,!1))}stopAnimation(){dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){dn(n=>{const{drag:i}=this.getProps();if(!Wc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Ae(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!to(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};dn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=sM({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),dn(o=>{if(!Wc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ae(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;dM.set(this.visualElement,this);const e=this.visualElement.current,n=Wa(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();to(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ve.read(i);const o=Cl(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(dn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=Em,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Wc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function pM(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class mM extends Dr{constructor(e){super(e),this.removeGroupControls=tn,this.removeListeners=tn,this.controls=new fM(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const s_=t=>(e,n)=>{t&&ve.postRender(()=>t(e,n))};class gM extends Dr{constructor(){super(...arguments),this.removePointerDownListener=tn}onPointerDown(e){this.session=new uS(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:s_(e),onStart:s_(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ve.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Wa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const pu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function o_(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const wa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=o_(t,e.target.x),i=o_(t,e.target.y);return`${n}% ${i}%`}},yM={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=br.parse(t);if(r.length>5)return i;const s=br.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Ae(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class vM extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;T4(xM),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),pu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),my.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function xS(t){const[e,n]=tT(),i=N.useContext(ay);return u.jsx(vM,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(cT),isPresent:e,safeToRemove:n})}const xM={borderRadius:{...wa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wa,borderTopRightRadius:wa,borderBottomLeftRadius:wa,borderBottomRightRadius:wa,boxShadow:yM};function wM(t,e,n){const i=Tt(t)?t:Tl(t);return i.start(zy("",i,e,n)),i.animation}function _M(t){return t instanceof SVGElement&&t.tagName!=="svg"}const bM=(t,e)=>t.depth-e.depth;class EM{constructor(){this.children=[],this.isDirty=!1}add(e){Ay(this.children,e),this.isDirty=!0}remove(e){Ny(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bM),this.isDirty=!1,this.children.forEach(e)}}function TM(t,e){const n=Qn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(_r(i),t(s-e))};return ve.read(i,!0),()=>_r(i)}const wS=["TopLeft","TopRight","BottomLeft","BottomRight"],SM=wS.length,a_=t=>typeof t=="string"?parseFloat(t):t,l_=t=>typeof t=="number"||Y.test(t);function CM(t,e,n,i,r,s){r?(t.opacity=Ae(0,n.opacity!==void 0?n.opacity:1,IM(i)),t.opacityExit=Ae(e.opacity!==void 0?e.opacity:1,0,kM(i))):s&&(t.opacity=Ae(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<SM;o++){const a=`border${wS[o]}Radius`;let l=c_(e,a),c=c_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||l_(l)===l_(c)?(t[a]=Math.max(Ae(a_(l),a_(c),i),0),(Kn.test(c)||Kn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ae(e.rotate||0,n.rotate||0,i))}function c_(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const IM=_S(0,.5,VT),kM=_S(.5,.95,tn);function _S(t,e,n){return i=>i<t?0:i>e?1:n(Co(t,e,i))}function u_(t,e){t.min=e.min,t.max=e.max}function un(t,e){u_(t.x,e.x),u_(t.y,e.y)}function h_(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function d_(t,e,n,i,r){return t-=e,t=sh(t,1/n,i),r!==void 0&&(t=sh(t,1/r,i)),t}function PM(t,e=0,n=1,i=.5,r,s=t,o=t){if(Kn.test(e)&&(e=parseFloat(e),e=Ae(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ae(s.min,s.max,i);t===s&&(a-=e),t.min=d_(t.min,e,n,a,r),t.max=d_(t.max,e,n,a,r)}function f_(t,e,[n,i,r],s,o){PM(t,e[n],e[i],e[r],e.scale,s,o)}const AM=["x","scaleX","originX"],NM=["y","scaleY","originY"];function p_(t,e,n,i){f_(t.x,e,AM,n?n.x:void 0,i?i.x:void 0),f_(t.y,e,NM,n?n.y:void 0,i?i.y:void 0)}function m_(t){return t.translate===0&&t.scale===1}function bS(t){return m_(t.x)&&m_(t.y)}function g_(t,e){return t.min===e.min&&t.max===e.max}function RM(t,e){return g_(t.x,e.x)&&g_(t.y,e.y)}function y_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function ES(t,e){return y_(t.x,e.x)&&y_(t.y,e.y)}function v_(t){return jt(t.x)/jt(t.y)}function x_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jM{constructor(){this.members=[]}add(e){Ay(this.members,e),e.scheduleRender()}remove(e){if(Ny(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DM(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Yr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ia=typeof window<"u"&&window.MotionDebug!==void 0,Vf=["","X","Y","Z"],MM={visibility:"hidden"},w_=1e3;let OM=0;function Ff(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function TS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&TS(i)}function SS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=OM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ia&&(Yr.totalNodes=Yr.resolvedTargetDeltas=Yr.recalculatedProjection=0),this.nodes.forEach(FM),this.nodes.forEach(qM),this.nodes.forEach(HM),this.nodes.forEach(UM),Ia&&window.MotionDebug.record(Yr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new EM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ry),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=_M(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=TM(p,250),pu.hasAnimatedSinceResize&&(pu.hasAnimatedSinceResize=!1,this.nodes.forEach(b_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||YM,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!ES(this.targetLayout,v),b=!p&&m;if(this.options.layoutRoot||this.resumeFrom||b||p&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const I={...Cy(_,"layout"),onPlay:S,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else p||b_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&TS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(__);return}this.isUpdating||this.nodes.forEach(BM),this.isUpdating=!1,this.nodes.forEach($M),this.nodes.forEach(LM),this.nodes.forEach(VM),this.clearAllSnapshots();const a=Qn.now();at.delta=ki(0,1e3/60,a-at.timestamp),at.timestamp=a,at.isProcessing=!0,Pf.update.process(at),Pf.preRender.process(at),Pf.render.process(at),at.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,my.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(zM),this.sharedNodes.forEach(GM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jt(this.snapshot.measuredBox.x)&&!jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!bS(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Qr(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),XM(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Fe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(JM))){const{scroll:d}=this.root;d&&(ro(l.x,d.offset.x),ro(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Fe();if(un(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&un(l,o),ro(l.x,f.offset.x),ro(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Fe();un(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&so(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Qr(d.latestValues)&&so(l,d.latestValues)}return Qr(this.latestValues)&&so(l,this.latestValues),l}removeTransform(o){const a=Fe();un(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Qr(c.latestValues))continue;Tm(c.latestValues)&&c.updateSnapshot();const d=Fe(),f=c.measurePageBox();un(d,f),p_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Qr(this.latestValues)&&p_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==at.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=at.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Ka(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),tM(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):un(this.target,this.layout.layoutBox),gS(this.target,this.targetDelta)):un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),Ka(this.relativeTargetOrigin,this.target,m.target),un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ia&&Yr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tm(this.parent.latestValues)||mS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===at.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;un(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;uM(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fe());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(h_(this.prevProjectionDelta.x,this.projectionDelta.x),h_(this.prevProjectionDelta.y,this.projectionDelta.y)),Ga(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!x_(this.projectionDelta.x,this.prevProjectionDelta.x)||!x_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ia&&Yr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Fe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,_=m!==v,S=this.getStack(),x=!S||S.members.length<=1,w=!!(_&&!x&&this.options.crossfade===!0&&!this.path.some(QM));this.animationProgress=0;let b;this.mixTargetDelta=I=>{const R=I/1e3;E_(f.x,o.x,R),E_(f.y,o.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ka(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KM(this.relativeTarget,this.relativeTargetOrigin,p,R),b&&RM(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Fe()),un(b,this.relativeTarget)),_&&(this.animationValues=d,CM(d,c,this.latestValues,R,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{pu.hasAnimatedSinceResize=!0,this.currentAnimation=wM(0,w_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&CS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fe();const f=jt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=jt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}un(a,l),so(a,d),Ga(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jM),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Ff("z",o,c,this.animationValues);for(let d=0;d<Vf.length;d++)Ff(`rotate${Vf[d]}`,o,c,this.animationValues),Ff(`skew${Vf[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return MM;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=du(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=du(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qr(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=DM(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const _ in bl){if(p[_]===void 0)continue;const{correct:S,applyTo:x,isCSSVariable:w}=bl[_],b=c.transform==="none"?p[_]:S(p[_],f);if(x){const I=x.length;for(let R=0;R<I;R++)c[x[R]]=b}else w?this.options.visualElement.renderState.vars[_]=b:c[_]=b}return this.options.layoutId&&(c.pointerEvents=f===this?du(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(__),this.root.sharedNodes.clear()}}}function LM(t){t.updateLayout()}function VM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?dn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=jt(p);p.min=i[f].min,p.max=p.min+m}):CS(s,n.layoutBox,i)&&dn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=jt(i[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=io();Ga(a,i,n.layoutBox);const l=io();o?Ga(l,t.applyTransform(r,!0),n.measuredBox):Ga(l,i,n.layoutBox);const c=!bS(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=Fe();Ka(v,n.layoutBox,p.layoutBox);const _=Fe();Ka(_,i,m.layoutBox),ES(v,_)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function FM(t){Ia&&Yr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function UM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function zM(t){t.clearSnapshot()}function __(t){t.clearMeasurements()}function BM(t){t.isLayoutDirty=!1}function $M(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qM(t){t.resolveTargetDelta()}function HM(t){t.calcProjection()}function WM(t){t.resetSkewAndRotation()}function GM(t){t.removeLeadSnapshot()}function E_(t,e,n){t.translate=Ae(e.translate,0,n),t.scale=Ae(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function T_(t,e,n,i){t.min=Ae(e.min,n.min,i),t.max=Ae(e.max,n.max,i)}function KM(t,e,n,i){T_(t.x,e.x,n.x,i),T_(t.y,e.y,n.y,i)}function QM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const YM={duration:.45,ease:[.4,0,.1,1]},S_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),C_=S_("applewebkit/")&&!S_("chrome/")?Math.round:tn;function I_(t){t.min=C_(t.min),t.max=C_(t.max)}function XM(t){I_(t.x),I_(t.y)}function CS(t,e,n){return t==="position"||t==="preserve-aspect"&&!eM(v_(e),v_(n),.2)}function JM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ZM=SS({attachResizeListener:(t,e)=>Cl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Uf={current:void 0},IS=SS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Uf.current){const t=new ZM({});t.mount(window),t.setOptions({layoutScroll:!0}),Uf.current=t}return Uf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),e3={pan:{Feature:gM},drag:{Feature:mM,ProjectionNode:IS,MeasureLayout:xS}};function k_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ve.postRender(()=>s(e,Ql(e)))}class t3 extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=tj(e,(n,i)=>(k_(this.node,i,"Start"),r=>k_(this.node,r,"End"))))}unmount(){}}class n3 extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kl(Cl(this.node.current,"focus",()=>this.onFocus()),Cl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P_(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ve.postRender(()=>s(e,Ql(e)))}class i3 extends Dr{mount(){const{current:e}=this.node;e&&(this.unmount=sj(e,(n,i)=>(P_(this.node,i,"Start"),(r,{success:s})=>P_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Cm=new WeakMap,zf=new WeakMap,r3=t=>{const e=Cm.get(t.target);e&&e(t)},s3=t=>{t.forEach(r3)};function o3({root:t,...e}){const n=t||document;zf.has(n)||zf.set(n,{});const i=zf.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(s3,{root:t,...e})),i[r]}function a3(t,e,n){const i=o3(e);return Cm.set(t,n),i.observe(t),()=>{Cm.delete(t),i.unobserve(t)}}const l3={some:0,all:1};class c3 extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:l3[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return a3(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(u3(e,n))&&this.startObserver()}unmount(){}}function u3({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const h3={inView:{Feature:c3},tap:{Feature:i3},focus:{Feature:n3},hover:{Feature:t3}},d3={layout:{ProjectionNode:IS,MeasureLayout:xS}},Im={current:null},kS={current:!1};function f3(){if(kS.current=!0,!!uy)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Im.current=t.matches;t.addListener(e),e()}else Im.current=!1}const p3=[...JT,wt,br],m3=t=>p3.find(XT(t)),g3=new WeakMap;function y3(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Tt(r))t.addValue(i,r);else if(Tt(s))t.addValue(i,Tl(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,Tl(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const A_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class v3{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Qn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Jh(n),this.isVariantNode=aT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Tt(v)&&v.set(l[m],!1)}}mount(e){this.current=e,g3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),kS.current||f3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Im.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_r(this.notifyUpdate),_r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Cs.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Io){const n=Io[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<A_.length;i++){const r=A_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=y3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=Tl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(QT(r)||UT(r))?r=parseFloat(r):!m3(r)&&br.test(n)&&(r=WT(e,n)),this.setBaseTarget(e,Tt(r)?r.get():r)),Tt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=Ty(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Tt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ry),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class PS extends v3{constructor(){super(...arguments),this.KeyframeResolver=ZT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function x3(t){return window.getComputedStyle(t)}class w3 extends PS{constructor(){super(...arguments),this.type="html",this.renderInstance=vT}readValueFromInstance(e,n){if(Cs.has(n)){const i=Ly(n);return i&&i.default||0}else{const i=x3(e),r=(gy(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yS(e,n)}build(e,n,i){xy(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Sy(e,n,i)}}class _3 extends PS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&yT(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cs.has(n)){const i=Ly(n);return i&&i.default||0}return n=xT.has(n)?n:py(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return _T(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ve.postRender(this.updateDimensions)}build(e,n,i){by(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){wT(e,n,i,r)}mount(e){this.isSVGTag=Ey(e.tagName),super.mount(e)}}const b3=(t,e)=>_y(t)?new _3(e):new w3(e,{allowProjection:t!==N.Fragment}),E3=K4({...HD,...h3,...e3,...d3},b3),U=u4(E3),Qa="generated",T3="pointerdown",S3="pointerup",km="pointerleave",C3="pointerout",ps="pointermove",I3="touchstart",N_="touchend",k3="touchmove",P3="touchcancel",A3="resize",N3="visibilitychange",bn="tsParticles - Error";class Qt{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!jn(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${bn} Vector3d not initialized correctly`)}static get origin(){return Qt.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Qt.create(e.x,e.y,e.z)}static create(e,n,i){return new Qt(e,n,i)}add(e){return Qt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Qt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Qt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Qt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Qt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return Qt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class it extends Qt{constructor(e,n){super(e,n,0)}static get origin(){return it.create(0,0)}static clone(e){return it.create(e.x,e.y)}static create(e,n){return new it(e,n)}}let R3=Math.random;const Pm=new Map;function Bf(t,e){Pm.get(t)||Pm.set(t,e)}function AS(t){return Pm.get(t)||(e=>e)}function Te(){return Ln(R3(),0,1-1e-16)}function Ln(t,e,n){return Math.min(Math.max(t,e),n)}function $f(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function $t(t){const e=Zi(t);let n=By(t);return e===n&&(n=0),Te()*(e-n)+n}function Q(t){return jn(t)?t:$t(t)}function By(t){return jn(t)?t:t.min}function Zi(t){return jn(t)?t:t.max}function ie(t,e){if(t===e||e===void 0&&jn(t))return t;const n=By(t),i=Zi(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:ie(n,i)}function ms(t){const e=t.random,{enable:n,minimumValue:i}=hr(e)?{enable:e,minimumValue:0}:e;return Q(n?ie(t.value,i):t.value)}function Mt(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function nn(t,e){return Mt(t,e).distance}function j3(t,e,n){if(jn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Te()*Math.PI*2}}function D3(t){const e=it.origin;return e.length=1,e.angle=t,e}function R_(t,e,n,i){return it.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function M3(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Te()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Te()*t.size.height}}function NS(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const O3={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function gs(){return O3}function j_(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)/2&&o>0||n.min<=r.max&&n.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function L3(t,e){const n=rt(e,i=>t.matches(i));return rn(n)?n.some(i=>i):n}function Po(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function V3(){return!Po()&&typeof matchMedia<"u"}function RS(t){if(V3())return matchMedia(t)}function F3(t){if(!(Po()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Be(t,e){return t===e||rn(e)&&e.indexOf(t)>-1}async function U3(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function z3(t){return Math.floor(Te()*t.length)}function td(t,e,n=!0){return t[e!==void 0&&n?e%t.length:z3(t)]}function $y(t,e,n,i,r){return B3(Yl(t,i??0),e,n,r)}function B3(t,e,n,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height+n.x),r&&(!i||i==="left")&&(r=t.right>n.x),r&&(!i||i==="right")&&(r=t.left<e.width+n.y),r&&(!i||i==="top")&&(r=t.bottom>n.y),r}function Yl(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function St(t,...e){for(const n of e){if(n==null)continue;if(!oo(n)){t=n;continue}const i=Array.isArray(n);i&&(oo(t)||!t||!Array.isArray(t))?t=[]:!i&&(oo(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=oo(o)&&Array.isArray(o)?o.map(l=>St(a[r],l)):St(a[r],o)}}return t}function qy(t,e){return!!MS(e,n=>n.enable&&Be(t,n.mode))}function Hy(t,e,n){rt(e,i=>{const r=i.mode;i.enable&&Be(t,r)&&$3(i,n)})}function $3(t,e){const n=t.selectors;rt(n,i=>{e(i,t)})}function jS(t,e){if(!(!e||!t))return MS(t,n=>L3(e,n.selectors))}function Am(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:it.create(ms(t.options.bounce.horizontal),ms(t.options.bounce.vertical))}}function DS(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=Mt(s,r);if(n*o+i*a<0)return;const l=-Math.atan2(a,o),c=t.mass,d=e.mass,f=t.velocity.rotate(l),p=e.velocity.rotate(l),m=R_(f,p,c,d),v=R_(p,f,c,d),_=m.rotate(-l),S=v.rotate(-l);t.velocity.x=_.x*t.factor.x,t.velocity.y=_.y*t.factor.y,e.velocity.x=S.x*e.factor.x,e.velocity.y=S.y*e.factor.y}function q3(t,e){const n=t.getPosition(),i=t.getRadius(),r=Yl(n,i),s=j_({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ms(t.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const o=j_({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ms(t.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}function rt(t,e){return rn(t)?t.map((n,i)=>e(n,i)):e(t,0)}function wi(t,e,n){return rn(t)?td(t,e,n):t}function MS(t,e){return rn(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function OS(t,e){const n=t.value,i=t.animation,r={delayTime:Q(i.delay)*1e3,enable:i.enable,value:Q(t.value)*e,max:Zi(n)*e,min:By(n)*e,loops:0,maxLoops:Q(i.count),time:0};if(i.enable){switch(r.decay=1-Q(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=Te()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=$t(r),s&&(r.status=Te()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function H3(t,e){if(!(t.mode==="percent")){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function LS(t,e){return H3(t,e)}function hr(t){return typeof t=="boolean"}function Rn(t){return typeof t=="string"}function jn(t){return typeof t=="number"}function VS(t){return typeof t=="function"}function oo(t){return typeof t=="object"&&t!==null}function rn(t){return Array.isArray(t)}const oh="random",mu="mid",nd=new Map;function D_(t){nd.set(t.key,t)}function qf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function W3(t){for(const[,s]of nd)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Dn(t,e,n=!0){if(!t)return;const i=Rn(t)?{value:t}:t;if(Rn(i.value))return FS(i.value,e,n);if(rn(i.value))return Dn({value:td(i.value,e,n)});for(const[,r]of nd){const s=r.handleRangeColor(i);if(s)return s}}function FS(t,e,n=!0){if(!t)return;const i=Rn(t)?{value:t}:t;if(Rn(i.value))return i.value===oh?zS():G3(i.value);if(rn(i.value))return FS({value:td(i.value,e,n)});for(const[,r]of nd){const s=r.handleColor(i);if(s)return s}}function Il(t,e,n=!0){const i=Dn(t,e,n);return i?US(i):void 0}function US(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function G3(t){return W3(t)}function Ao(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-i;e.r=qf(r,i,n.h+1/3),e.g=qf(r,i,n.h),e.b=qf(r,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function K3(t){const e=Ao(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function zS(t){return{b:Math.floor($t(ie(0,256))),g:Math.floor($t(ie(0,256))),r:Math.floor($t(ie(0,256)))}}function _i(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function kl(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Wy(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=Ao(t)),s.r===void 0&&(s=Ao(e)),{b:$f(r.b,s.b,n,i),g:$f(r.g,s.g,n,i),r:$f(r.r,s.r,n,i)}}function Nm(t,e,n){if(n===oh)return zS();if(n===mu){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return Wy(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return Ao(s)}}else return n}function BS(t,e,n){const i=Rn(t)?t:t.value;return i===oh?n?Dn({value:i}):e?oh:mu:i===mu?mu:Dn({value:i})}function M_(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function $S(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Hf(i.h,e.h,n),Hf(i.s,e.s,n),Hf(i.l,e.l,n)),i}function Hf(t,e,n){t.enable=e.enable,t.enable?(t.velocity=Q(e.speed)/100*n,t.decay=1-Q(e.decay),t.status="increasing",t.loops=0,t.maxLoops=Q(e.count),t.time=0,t.delayTime=Q(e.delay)*1e3,e.sync||(t.velocity*=Te(),t.value*=Te()),t.initialValue=t.value):t.velocity=0}function Ya(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function Q3(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function Y3(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function X3(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function Wf(t,e){t.clearRect(0,0,e.width,e.height)}function J3(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:f}=t,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},_={a:v.cos*(f.a??1),b:v.sin*(f.b??1),c:-v.sin*(f.c??1),d:v.cos*(f.d??1)};n.setTransform(_.a,_.b,_.c,_.d,p.x,p.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const S=i.shadowColor;d.enable&&S&&(n.shadowBlur=d.blur,n.shadowColor=_i(S),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),s.fill&&(n.fillStyle=s.fill);const x=i.strokeWidth??0;n.lineWidth=x,s.stroke&&(n.strokeStyle=s.stroke),Z3(e,n,i,l,c,r),x>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),eO(e,n,i,l,c,r),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function Z3(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,i,r,s,t.retina.pixelRatio)}function eO(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,i,r,s,t.retina.pixelRatio)}function tO(t,e,n){e.draw&&e.draw(t,n)}function nO(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function iO(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function rO(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class sO{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(i,n,r,s);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const d in c)rO(a,c,d)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=Il(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=Il(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color,s=Dn(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=_i(o,o.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=St({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=Dn(r.color);if(!s)return;const o=n.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=n=>{this.draw(i=>Y3(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>X3(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const r=n.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",r=n.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(_i(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Wf(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var b;const c=this.container,d=c.actualOptions,f=e.options.zIndex,p=(1-e.zIndexFactor)**f.opacityRate,m=e.bubble.opacity??((b=e.opacity)==null?void 0:b.value)??1,v=e.strokeOpacity??m,_=m*p,S=v*p,x={},w={fill:o?kl(o,_):void 0};w.stroke=a?kl(a,S):w.fill,this._applyPreDrawUpdaters(l,e,i,_,w,x),J3({container:c,context:l,particle:e,delta:n,colorStyles:w,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**f.sizeRate,opacity:_,shadow:e.options.shadow,transform:x}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>nO(r,e,n,i))}drawPlugin(e,n){this.draw(i=>tO(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=F3(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){gs().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=Dn(n.color);r.backgroundColor=s?_i(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Qa in e.dataset?e.dataset[Qa]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=St({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Wf(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Wf(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function hn(t,e,n,i,r){if(i){let s={passive:!0};hr(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class oO{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;rt(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(hn(a,ps,r.mouseMove,i),hn(a,I3,r.touchStart,i),hn(a,k3,r.touchMove,i),o.interactivity.events.onClick.enable?(hn(a,N_,r.touchEndClick,i),hn(a,S3,r.mouseUp,i),hn(a,T3,r.mouseDown,i)):hn(a,N_,r.touchEnd,i),hn(a,n,r.mouseLeave,i),hn(a,P3,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=km;o==="window"?(r.interactivity.element=window,l=C3):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&hn(document,N3,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=RS("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){hn(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){hn(window,A3,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=km,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(r.interactivity.detectsOn==="parent"){const d=c.target,f=c.currentTarget;if(d&&f&&o){const p=d.getBoundingClientRect(),m=f.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+v.left),y:c.offsetY+2*p.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-1],f=o.getBoundingClientRect();a={x:d.clientX-(f.left??0),y:d.clientY-(f.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=ps},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class dt{constructor(){this.value=""}static create(e,n){const i=new dt;return i.load(e),n!==void 0&&(Rn(n)||rn(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class aO{constructor(){this.color=new dt,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=dt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class lO{constructor(){this.color=new dt,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=dt.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class cO{constructor(){this.composite="destination-out",this.cover=new lO,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Rn(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class uO{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class hO{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class O_{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return rt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=rt(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class dO{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class fO{constructor(){this.enable=!1,this.mode=[],this.parallax=new dO}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class pO{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}let mO=class{constructor(){this.onClick=new hO,this.onDiv=new O_,this.onHover=new fO,this.resize=new pO}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=rt(n,i=>{const r=new O_;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),hr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}};class gO{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class qS{constructor(e,n){this.detectsOn="window",this.events=new mO,this.modes=new gO(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class yO{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=St({},e.options)))}}class vO{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=St({},e.options)))}}class xO{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class wO{constructor(){this.name="",this.default=new xO}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=St({},e.options)))}}class Gf{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=ie(e.offset)),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.delay!==void 0&&(this.delay=ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class _O{constructor(){this.h=new Gf,this.s=new Gf,this.l=new Gf}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Pl extends dt{constructor(){super(),this.animation=new _O}static create(e,n){const i=new Pl;return i.load(e),n!==void 0&&(Rn(n)||rn(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class bO{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class EO{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class TO{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.delay!==void 0&&(this.delay=ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class HS extends TO{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class SO{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Mr{constructor(){this.random=new SO,this.value=0}load(e){e&&(hr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class L_ extends Mr{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class WS{constructor(){this.horizontal=new L_,this.vertical=new L_}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class CO{constructor(){this.absorb=new bO,this.bounce=new WS,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new EO}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class IO{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=ie(e.offset)),e.value!==void 0&&(this.value=ie(e.value)))}}class kO{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((r=e.rotate)==null?void 0:r.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class PO{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class AO{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ie(e.maxSpeed)))}}class NO{constructor(){this.clamp=!0,this.delay=new Mr,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=St(this.options,e.options)))}}class RO{load(e){e&&(e.color!==void 0&&(this.color=dt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class jO{constructor(){this.enable=!1,this.length=10,this.fill=new RO}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class DO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class MO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=St({},e.position)))}}class OO{constructor(){this.angle=new IO,this.attract=new kO,this.center=new PO,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new AO,this.path=new NO,this.outModes=new DO,this.random=!1,this.size=!1,this.speed=2,this.spin=new MO,this.straight=!1,this.trail=new jO,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(jn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=jn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(oo(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class LO extends HS{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class VO extends Mr{constructor(){super(),this.animation=new LO,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class FO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class UO{constructor(){this.density=new FO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class zO{constructor(){this.blur=0,this.color=new dt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=dt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Kf="character",Qf="char",Yf="image",Xf="images",Jf="polygon",Zf="star";class BO{constructor(){this.loadShape=(e,n,i,r)=>{if(!e)return;const s=rn(e),o=s?[]:{},a=s!==rn(this.options[n]),l=s!==rn(this.options[i]);a&&(this.options[n]=o),l&&r&&(this.options[i]=o),this.options[n]=St(this.options[n]??o,e),(!this.options[i]||r)&&(this.options[i]=St(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Kf]??this.options[Qf]}set character(e){this.options[Qf]=this.options[Kf]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Yf]??this.options[Xf]}set image(e){this.options[Xf]=this.options[Yf]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Jf]??this.options[Zf]}set polygon(e){this.options[Zf]=this.options[Jf]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=St(this.options[i]??{},r))}this.loadShape(e.character,Kf,Qf,!0),this.loadShape(e.polygon,Jf,Zf,!1),this.loadShape(e.image??e.images,Yf,Xf,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class $O extends HS{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class qO extends Mr{constructor(){super(),this.animation=new $O,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class V_{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Pl.create(this.color,e.color)),e.width!==void 0&&(this.width=ie(e.width)),e.opacity!==void 0&&(this.opacity=ie(e.opacity)))}}class HO extends Mr{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class WO{constructor(e,n){this._engine=e,this._container=n,this.bounce=new WS,this.collisions=new CO,this.color=new Pl,this.color.value="#fff",this.groups={},this.move=new OO,this.number=new UO,this.opacity=new VO,this.reduceDuplicates=!1,this.shadow=new zO,this.shape=new BO,this.size=new qO,this.stroke=new V_,this.zIndex=new HO}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Pl.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=St(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=St({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=rt(i,a=>{const l=new V_;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function GS(t,...e){for(const n of e)t.load(n)}function KS(t,e,...n){const i=new WO(t,e);return GS(i,...n),i}class GO{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new aO,this.backgroundMask=new cO,this.defaultThemes={},this.delay=0,this.fullScreen=new uO,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new qS(e,n),this.manualParticles=[],this.particles=KS(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&rt(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=ie(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;hr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new yO;return c.load(l),c})),this.particles.load(e.particles),this.style=St(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new vO;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new wO;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=RS("(prefers-color-scheme: dark)"),i=n&&n.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class KO{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const F_=t=>{if(!Be(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class QO{constructor(e,n,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,d=0)=>{for(const[,w]of a.plugins){const b=w.particlePosition!==void 0?w.particlePosition(l,this):void 0;if(b)return Qt.create(b.x,b.y,c)}const f=a.canvas.size,p=M3({size:f,position:l}),m=Qt.create(p.x,p.y,c),v=this.getRadius(),_=this.options.move.outModes,S=w=>{F_({outMode:w,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:b=>m.x+=b,radius:v})},x=w=>{F_({outMode:w,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:b=>m.y+=b,radius:v})};return S(_.left??_.default),S(_.right??_.default),x(_.top??_.default),x(_.bottom??_.default),this._checkOverlap(m,d)?this._calcPosition(a,void 0,c,d+1):m},this._calculateVelocity=()=>{const a=D3(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*Q(c.angle.value),f=Math.PI/180*Q(c.angle.offset),p={left:f-d/2,right:f+d/2};return c.straight||(l.angle+=$t(ie(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=Te()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const f=c.overlap;if(f.enable)return!1;const p=f.retries;if(p>=0&&l>p)throw new Error(`${bn} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>nn(a,m.position)<d+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?iO(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=Q(this.options.zIndex.value);this.position=this._calcPosition(l,a,Ln(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...LS(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=j3(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=it.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return St({close:a.close,fill:a.fill},wi(c,this.id,l))},this._engine=e,this.init(n,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,r]of n.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of n.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??M_(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??M_(this.strokeColor))}init(e,n,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=KS(this._engine,s,l.particles),d=c.shape.type,{reduceDuplicates:f}=c;this.shape=wi(d,this.id,f);const p=c.shape;if(i&&i.shape&&i.shape.type){const b=i.shape.type,I=wi(b,this.id,f);I&&(this.shape=I,p.load(i.shape))}this.shapeData=this._loadShapeData(p,f),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const v=new qS(o,s);v.load(s.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const _=this.options.move.path;this.pathDelay=ms(_.delay)*1e3,_.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(_.generator),this.pathGenerator&&s.addPath(_.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=OS(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-Q(this.options.move.decay);const S=s.particles;S.needsSort=S.needsSort||S.lastZIndex<this.position.z,S.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let x=s.drawers.get(this.shape);x||(x=this._engine.plugins.getShapeDrawer(this.shape),x&&s.drawers.set(this.shape,x)),x&&x.loadShape&&x.loadShape(this);const w=x==null?void 0:x.getSidesCount;w&&(this.sides=w(this)),this.spawning=!1,this.shadowColor=Dn(this.options.shadow.color);for(const b of s.particles.updaters)b.init(this);for(const b of s.particles.movers)b.init&&b.init(this);x&&x.particleInit&&x.particleInit(s,this);for(const[,b]of s.plugins)b.particleCreated&&b.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class YO{constructor(e,n){this.position=e,this.particle=n}}class QS{constructor(e,n){this.position={x:e,y:n}}}class Vn extends QS{constructor(e,n,i,r){super(e,n),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof Ct&&e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Vn?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class Ct extends QS{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return nn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof Ct){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Vn){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class ah{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new ah(new Vn(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&nn(e.position,s.position)>s.particle.getRadius()&&(!n||n(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,n,r);return r}queryCircle(e,n,i){return this.query(new Ct(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Vn(e.x,e.y,n.width,n.height),i)}}const U_=4,z_=t=>new Vn(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let XO=class{constructor(e,n){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,d=a.limit>0?a.limit:c,f=Math.min(c,d)*l+s,p=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,p<f?this.push(Math.abs(f-p),void 0,r,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new QO(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){gs().warning(`${bn} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new KO(e,n);const i=n.canvas.size;this.quadTree=new ah(z_(i),U_),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?LS(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in n.particles.groups){const o=n.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<n.particles.number.value;s++)this.addParticle()}}push(e,n,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new ah(z_(n.canvas.size),U_);for(const[,r]of n.pathGenerators)r.update();for(const[,r]of n.plugins)r.update&&r.update(e);for(const r of this._array){const s=n.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new YO(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete n.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class JO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Po()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=n.particles,s=r.move;this.attractDistance=Q(s.attract.distance)*i,this.maxSpeed=Q(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=Q(r.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.attractDistance=Q(r.attract.distance)*i,o.moveDrift=Q(r.drift)*i,o.moveSpeed=Q(r.speed)*i,o.sizeAnimationSpeed=Q(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=Q(r.gravity.maxSpeed)*i}}function ke(t){return t&&!t.destroyed}function ZO(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Vs(t,e,...n){const i=new GO(t,e);return GS(i,...n),i}const eL="default",B_={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class tL{constructor(e,n,i){this.id=n,this._intersectionManager=r=>{if(!(!ke(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=ZO(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){gs().error(`${bn} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new JO(this),this.canvas=new sO(this),this.particles=new XO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Vs(this._engine,this),this.actualOptions=Vs(this._engine,this),this._eventListeners=new oO(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ke(this))return;const n=this.interactivity.element;if(!n)return;const i=(f,p,m)=>{if(!ke(this))return;const v=this.retina.pixelRatio,_={x:p.x*v,y:p.y*v},S=this.particles.quadTree.queryCircle(_,m*v);e(f,S)},r=f=>{if(!ke(this))return;const p=f,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(f,m,1)},s=()=>{ke(this)&&(c=!0,d=!1)},o=()=>{ke(this)&&(d=!0)},a=f=>{if(ke(this)){if(c&&!d){const p=f;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const v=this.canvas.element,_=v?v.getBoundingClientRect():void 0,S={x:m.clientX-(_?_.left:0),y:m.clientY-(_?_.top:0)};i(f,S,Math.max(m.radiusX,m.radiusY))}c=!1,d=!1}},l=()=>{ke(this)&&(c=!1,d=!1)};let c=!1,d=!1;n.addEventListener("click",r),n.addEventListener("touchstart",s),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!ke(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??B_),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!ke(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!ke(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}gs().error(`${bn} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&ke(this)}handleClickMode(e){if(ke(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!ke(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Vs(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Vs(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of n)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=Q(this.actualOptions.duration)*1e3,this._delay=Q(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){ke(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(ke(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!ke(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(ke(this))return this.stop(),this.start()}async reset(){if(ke(this))return this._initialSourceOptions=void 0,this._options=Vs(this._engine,this),this.actualOptions=Vs(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){ke(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!ke(this))return;const r={...B_};if(VS(e))r.generate=e,n&&(r.init=n),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(eL,r,!0)}async start(){!ke(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!ke(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class nL{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function ep(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=[...n.values()].map(s=>s(t)),e.set(t,r)),r}class iL{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){rt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return ep(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return ep(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return ep(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(n,...i)}}async function rL(t){const e=wi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(gs().error(`${bn} ${n.status} while retrieving config file`),t.fallback)}function sL(t){return!t.id&&!t.element&&!t.url&&!t.options}function oL(t){return!sL(t)}class aL{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new nL,this._initialized=!1,this.plugins=new iL(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){Rn(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){this.plugins.addPreset(e,n,i),await this.refresh(r)}async addShape(e,n,i,r,s,o=!0){let a,l=o,c,d,f;hr(i)?(l=i,c=void 0):c=i,hr(r)?(l=r,d=void 0):d=r,hr(s)?(l=s,f=void 0):f=s,VS(n)?a={afterEffect:d,destroy:f,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let r;return oL(e)?r=e:(r={},Rn(e)?r.id=e:r.options=e,jn(n)?r.index=n:r.options=n??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,n,i){let r,s;return jn(n)||n===void 0?r=e:(s=e,r=n),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,r){const s={index:r};return Rn(e)?s.id=e:s.element=e,n instanceof HTMLElement?s.element=n:s.options=n,jn(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,n,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=n,s.index=i):(s.id=e,s.element=n,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${bn} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Te()*1e4)}`,{index:i,url:r}=e,s=r?await rL({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=wi(s,i),l=this.dom(),c=l.findIndex(p=>p.id===n);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Qa]="false";else{const p=o.getElementsByTagName("canvas");p.length?(d=p[0],d.dataset[Qa]="false"):(d=document.createElement("canvas"),d.dataset[Qa]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const f=new tL(this,n,a);return c>=0?l.splice(c,0,f):l.push(f),f.canvas.loadCanvas(d),await f.start(),f}}class lL{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Ao(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Ao({h:Q(i.h),l:Q(i.l),s:Q(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?K3({a:i.length>4?NS(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class cL{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:Q(i.r),g:Q(i.g),b:Q(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?NS(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function uL(){const t=new cL,e=new lL;D_(t),D_(e);const n=new aL;return n.init(),n}class ti{constructor(e){this.container=e,this.type="external"}}class Gy{constructor(e){this.container=e,this.type="particles"}}const lh=uL();Po()||(window.tsParticles=lh);const ao=t=>typeof t=="object"&&t!==null;function ch(t,e,n=()=>!1){if(!ao(t)||!ao(e))return t===e;const i=Object.keys(t).filter(s=>!n(s)),r=Object.keys(e).filter(s=>!n(s));if(i.length!==r.length)return!1;for(const s of i){console.log("key");const o=t[s],a=e[s];if(ao(o)&&ao(a)){if(o===e&&a===t)continue;if(!ch(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!YS(o,a,n))return!1}else if(o!==a)return!1}return!0}function YS(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const r=t[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!YS(r,s,n))return!1}else if(ao(r)&&ao(s)){if(!ch(r,s,n))return!1}else if(r!==s)return!1}return!0}const XS="tsparticles";let JS=class ZS extends N.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return console.log("should update"),e.url!==this.props.url&&e.id!==this.props.id&&e.canvasClassName!==this.props.canvasClassName&&e.className!==this.props.className&&e.height!==this.props.height&&e.width!==this.props.width&&!ch(e.style,this.props.style)&&e.init!==this.props.init&&e.loaded!==this.props.loaded&&!ch(e.options??e.params,this.props.options&&this.props.params)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(lh),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:r,id:s}=this.props;return Iu.createElement("div",{className:i,id:s},Iu.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??ZS.defaultProps.id??XS,n=await lh.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};JS.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:XS};class uh{static init(e){var s;const n=new uh,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return lh.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,d,f;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(d=o.options)==null?void 0:d.speed},size:{value:(f=o.options)==null?void 0:f.sizeVariations}}}}})}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const hL=t=>{const e=(i,r)=>t.load(i,r);e.load=(i,r,s)=>{t.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},dL=t=>{const{particlesJS:e,pJSDom:n}=hL(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=uh,{particlesJS:e,pJSDom:n,Particles:uh}};function fL(t){const e=t.initialPosition,{dx:n,dy:i}=Mt(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),l&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const c=t.position,d=t.velocity;a&&(c.x<e.x&&d.x<0||c.x>e.x&&d.x>0)&&(d.x*=-Te()),l&&(c.y<e.y&&d.y<0||c.y>e.y&&d.y>0)&&(d.y*=-Te())}}}function pL(t,e,n,i,r,s){gL(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&n&&(t.velocity.x+=r*s.factor/(60*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(60*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,n&&(t.velocity.y=c.y/n));const d=t.options.zIndex,f=(1-t.zIndexFactor)**d.velocityRate;c.multTo(f);const{position:p}=t;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function mL(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function gL(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=Ln(t.velocity.x,-1,1),t.velocity.y=Ln(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function yL(t){return t.slow.inRange?t.slow.factor:1}const vL=2;class xL{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*n.canvas.size.width,y:s.y/100*n.canvas.size.height},a=e.getPosition(),l=nn(a,o),c=Q(r.acceleration);e.retina.spinAcceleration=c*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:Q(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var v,_;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=yL(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=Q(r.speed)*o))*s.retina.reduceFactor,c=(_=e.retina).moveDrift??(_.moveDrift=Q(e.options.move.drift)*o),d=Zi(i.size.value)*o,f=r.size?e.getRadius()/d:1,p=l*f*a*(n.factor||1)/vL,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?mL(e,p):pL(e,r,p,m,c,n),fL(e)}}async function wL(t,e=!0){await t.addMover("base",()=>new xL,e)}class _L{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const r=n.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=oo(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function bL(t,e=!0){await t.addShape("circle",new _L,e)}function tp(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=$t(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function EL(t,e){const{h:n,s:i,l:r}=t.options.color.animation,{color:s}=t;if(!s)return;const{h:o,s:a,l}=s;o&&tp(e,o,n,360,!1),a&&tp(e,a,i,100,!0),l&&tp(e,l,r,100,!0)}class TL{constructor(e){this.container=e}init(e){const n=Il(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=$S(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){EL(e,n)}}async function SL(t,e=!0){await t.addParticleUpdater("color",n=>new TL(n),e)}function CL(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function IL(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,r=n.max,s=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=s),CL(t,n.value,i,r),t.destroyed||(n.value=Ln(n.value,i,r))}}class kL{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=OS(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=Q(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Te()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&IL(e,n)}}async function PL(t,e=!0){await t.addParticleUpdater("opacity",n=>new kL(n),e)}function AL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=ms(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function NL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=ms(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class RL{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=Yl(a,c),f=s.canvas.size;AL({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c}),NL({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c})}}class jL{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if($y(e.position,s.canvas.size,it.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:a}=Mt(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class DL{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n==="bottom"||s.inverse&&c.y<-l&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;$y(e.position,o.canvas.size,it.origin,l,n)||o.particles.remove(e)}}}class ML{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=it.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(it.create(e.moveCenter));const{dx:c,dy:d}=Mt(e.position,l);if(o<=0&&c>=0||a<=0&&d>=0||o>=0&&c<=0||a>=0&&d<=0)return;e.position.x=Math.floor($t({min:0,max:s.canvas.size.width})),e.position.y=Math.floor($t({min:0,max:s.canvas.size.height}));const{dx:f,dy:p}=Mt(e.position,e.moveCenter);e.direction=Math.atan2(-p,-f),e.velocity.angle=e.direction;break}default:{if($y(e.position,s.canvas.size,it.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor($t({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor($t({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Mt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=Yl(e.position,c);n==="right"&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Te()*a.height,e.initialPosition.y=e.position.y)):n==="left"&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Te()*a.height,e.initialPosition.y=e.position.y)),n==="bottom"&&d.top>a.height+e.offset.y?(o||(e.position.x=Te()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=Te()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class OL{constructor(e){this.container=e,this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters)o.update(n,s,i,r)},this.updaters=[new RL(e),new jL(e),new ML(e),new DL(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function LL(t,e=!0){await t.addParticleUpdater("outModes",n=>new OL(n),e)}function VL(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function FL(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,r=n.min,s=n.max,o=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=r?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&o!==1&&(n.velocity*=o),VL(t,n.value,r,s),t.destroyed||(n.value=Ln(n.value,r,s))}}class UL{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,r.sync||(e.size.velocity*=Te()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&FL(e,n)}}async function zL(t,e=!0){await t.addParticleUpdater("size",()=>new UL,e)}async function BL(t,e=!0){await wL(t,!1),await bL(t,!1),await SL(t,!1),await PL(t,!1),await LL(t,!1),await zL(t,!1),await t.refresh(e)}async function $L(){Bf("ease-in-quad",t=>t**2),Bf("ease-out-quad",t=>1-(1-t)**2),Bf("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class qL{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let HL=class extends ti{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new Ct(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new Ct(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:d,dy:f,distance:p}=Mt(c.position,i),m=a.speed*a.factor,v=Ln(AS(a.easing)(1-p/r)*m,0,a.maxSpeed),_=it.create(p===0?m:d/p*v,p===0?m:f/p*v);c.position.subFrom(_)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ps,r=n.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Be("attract",o)?this._hoverAttract():a&&Be("attract",l)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Be("attract",o)||Be("attract",a)}loadModeOptions(e,...n){e.attract||(e.attract=new qL);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function WL(t,e=!0){await t.addInteractor("externalAttract",n=>new HL(t,n),e)}class GL{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class KL extends ti{constructor(e){super(e),this._processBounce=(n,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof Ct?DS(Am(o),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:it.origin,factor:it.origin}):r instanceof Vn&&q3(o,Yl(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,r=10*i,s=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new Ct(s.x,s.y,o+r))},this._singleSelectorBounce=(n,i)=>{const r=this.container,s=document.querySelectorAll(n);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},d=a.offsetWidth/2*l,f=10*l,p=i.type==="circle"?new Ct(c.x,c.y,d+f):new Vn(a.offsetLeft*l-f,a.offsetTop*l-f,a.offsetWidth*l+f*2,a.offsetHeight*l+f*2);this._processBounce(c,d,p)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===ps,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Be("bounce",o)?this._processMouseBounce():Hy("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Be("bounce",s.onHover.mode)||qy("bounce",o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new GL);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function QL(t,e=!0){await t.addInteractor("externalBounce",n=>new KL(n),e)}class eC{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=rn(this.color)?void 0:this.color;this.color=rt(e.color,i=>dt.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class YL extends eC{constructor(){super(),this.selectors=[]}get ids(){return rt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=rt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class XL extends eC{load(e){super.load(e),e&&(this.divs=rt(e.divs,n=>{const i=new YL;return i.load(n),i}))}}function $_(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return Ln(r,t,e)}else if(e<n){const r=t-(n-e)*i;return Ln(r,e,t)}}class JL extends ti{constructor(e){super(e),this._clickBubble=()=>{var c;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<0)return;const a=n.particles.quadTree.queryCircle(r,o,d=>this.isEnabled(d)),{bubble:l}=n;for(const d of a){if(!l.clicking)continue;d.bubble.inRange=!l.durationEnd;const f=d.getPosition(),p=nn(f,r),m=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const v={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Zi(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,p,m,v);const _={bubbleObj:{optValue:s.opacity,value:d.bubble.opacity},particlesObj:{optValue:Zi(d.options.opacity.value),value:((c=d.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(d,p,m,_),!l.durationEnd&&p<=o?this._hoverBubbleColor(d,p):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=n.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=nn(a,i),c=1-l/r;l<=r?c>=0&&n.interactivity.status===ps&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===km&&this.reset(o)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const a=o.color;if(!a)return;const l=wi(a);n.bubble.finalColor=Il(l)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const a=n.getFillColor();n.bubble.color=a?US(Wy(a,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var f,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=n.options.opacity.value,c=((p=n.opacity)==null?void 0:p.value)??1,d=$_(c,a,Zi(l),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=Zi(n.options.size.value)*s.retina.pixelRatio,l=n.size.value,c=$_(l,o,a,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const d=c.duration,f=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,v=s.particlesObj.value||0,_=s.type;if(!(!f||f<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(_==="size"&&delete n.bubble.radius,_==="opacity"&&delete n.bubble.opacity);else if(i<=f){if((m??v)!==a){const x=v-r*(v-a)/d;_==="size"&&(n.bubble.radius=x),_==="opacity"&&(n.bubble.opacity=x)}}else _==="size"&&delete n.bubble.radius,_==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new Ct(f.x,f.y,p):new Vn(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=s.particles.quadTree.query(m,_=>this.isEnabled(_));for(const _ of v){if(!m.contains(_.getPosition()))continue;_.bubble.inRange=!0;const S=a.divs,x=jS(S,c);(!_.bubble.div||_.bubble.div!==c)&&(this.clear(_,n,!0),_.bubble.div=c),this._hoverBubbleSize(_,1,x),this._hoverBubbleOpacity(_,1,x),this._hoverBubbleColor(_,1,x)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,d=i.onDiv;o&&Be("bubble",a)?this._hoverBubble():l&&Be("bubble",c)?this._clickBubble():Hy("bubble",d,(f,p)=>this._singleSelectorHover(e,f,p))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=qy("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Be("bubble",l.mode)||Be("bubble",o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new XL);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function ZL(t,e=!0){await t.addInteractor("externalBubble",n=>new JL(n),e)}class eV{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class tV{constructor(){this.distance=80,this.links=new eV,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function nV(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=Wy(s,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(0,kl(s,i)),d.addColorStop(r>1?1:r,_i(c,i)),d.addColorStop(1,kl(o,i)),d}function iV(t,e,n,i,r){Ya(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function rV(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return nV(e,n,i,s.links.opacity)}function sV(t,e,n){t.canvas.draw(i=>{const r=rV(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();iV(i,e.retina.linksWidth??0,r,s,o)})}class oV extends ti{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const d=c.getPosition(),f=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-d.x),m=Math.abs(l.y-d.y);p<f&&m<f&&sV(e,a,c)}++o}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Be("connect",r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new tV);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function aV(t,e=!0){await t.addInteractor("externalConnect",n=>new oV(n),e)}class lV{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=dt.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class cV{constructor(){this.distance=100,this.links=new lV}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function uV(t,e,n,i,r,s){Ya(t,n,i),t.strokeStyle=_i(r,s),t.lineWidth=e,t.stroke()}function hV(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();uV(s,e.retina.linksWidth??0,o,r,n,i)})}class dV extends ti{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==ps)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=nn(c,r);if(d>s)continue;const f=i.modes.grab.links,p=f.opacity,m=p-d*p/s;if(m<=0)continue;const v=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const S=i.modes.grab.links;e.particles.grabLineColor=BS(v,S.blink,S.consent)}const _=Nm(l,void 0,e.particles.grabLineColor);_&&hV(e,l,_,m,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Be("grab",r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new cV);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function fV(t,e=!0){await t.addInteractor("externalGrab",n=>new dV(n),e)}class pV extends ti{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function mV(t,e=!0){await t.addInteractor("externalPause",n=>new pV(n),e)}class gV{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ie(n))}}class yV extends ti{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=Q(s.quantity);if(o<=0)return;const a=td([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new gV);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function vV(t,e=!0){await t.addInteractor("externalPush",n=>new yV(n),e)}class xV{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ie(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ie(n))}}class wV extends ti{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!=="remove")return;const s=Q(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new xV);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function _V(t,e=!0){await t.addInteractor("externalRemove",n=>new wV(n),e)}class tC{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class bV extends tC{constructor(){super(),this.selectors=[]}get ids(){return rt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=rt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class EV extends tC{load(e){super.load(e),e&&(this.divs=rt(e.divs,n=>{const i=new bV;return i.load(n),i}))}}class TV extends ti{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new Ct(l.x,l.y,a),d=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of d){const{dx:p,dy:m,distance:v}=Mt(l,f.position),_=v**2,S=r.speed,x=-a*S/_;if(_<=a){s.particles.push(f);const w=it.create(p,m);w.length=x,f.velocity.setTo(w)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new Ct(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,d=>this.isEnabled(d)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const d of l){const{dx:f,dy:p,distance:m}=Mt(d.position,i),v=((o==null?void 0:o.speed)??c.speed)*c.factor,_=Ln(AS(c.easing)(1-m/r)*v,0,c.maxSpeed),S=it.create(m===0?v:f/m*_,m===0?v:p/m*_);d.position.addTo(S)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new Ct(f.x,f.y,p):new Vn(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=o.divs,_=jS(v,c);this._processRepulse(f,p,m,_)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===ps,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,d=l.mode,f=r.onDiv;i&&o&&Be("repulse",a)?this._hoverRepulse():c&&Be("repulse",d)?this._clickRepulse():Hy("repulse",f,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=qy("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const d=a.mode,f=l.mode;return Be("repulse",d)||Be("repulse",f)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new EV);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function SV(t,e=!0){await t.addInteractor("externalRepulse",n=>new TV(t,n),e)}class CV{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class IV extends ti{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Be("slow",r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new CV);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=nn(r,a),c=l/s,d=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/d)}}async function kV(t,e=!0){await t.addInteractor("externalSlow",n=>new IV(n),e)}const np=[0,4,2,1],q_=[8,8,4,2];class PV{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)n+=e;const i=new Uint8Array(n);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function nC(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function AV(t,e,n,i){switch(t.nextByte()){case 249:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case 255:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function NV(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=nC(t,d));const f=x=>{const{r:w,g:b,b:I}=(l?o.localColorTable:e.globalColorTable)[x];return{r:w,g:b,b:I,a:x===r(null)?n?~~((w+b+I)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=t.nextByte(),v=t.readSubBlocksBin(),_=1<<m,S=(x,w)=>{const b=x>>>3,I=x&7;return(v[b]+(v[b+1]<<8)+(v[b+2]<<16)&(1<<w)-1<<I)>>>I};if(c){for(let x=0,w=m+1,b=0,I=[[0]],R=0;R<4;R++)if(np[R]<o.height)for(let M=0,E=0;;){const T=x;if(x=S(b,w),b+=w+1,x===_){w=m+1,I.length=_+2;for(let k=0;k<I.length;k++)I[k]=k<_?[k]:[]}else{x>=I.length?I.push(I[T].concat(I[T][0])):T!==_&&I.push(I[T].concat(I[x][0]));for(let k=0;k<I[x].length;k++){const{r:P,g:j,b:D,a:A}=f(I[x][k]);p.data.set([P,j,D,A],np[R]*o.width+q_[R]*E+M%(o.width*4)),M+=4}I.length===1<<w&&w<12&&w++}if(M===o.width*4*(E+1)&&(E++,np[R]+q_[R]*E>=o.height))break}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let x=0,w=m+1,b=0,I=[[0]],R=-4;;){const M=x;if(x=S(b,w),b+=w,x===_){w=m+1,I.length=_+2;for(let E=0;E<I.length;E++)I[E]=E<_?[E]:[]}else{if(x===_+1)break;x>=I.length?I.push(I[M].concat(I[M][0])):M!==_&&I.push(I[M].concat(I[x][0]));for(let E=0;E<I[x].length;E++){const{r:T,g:k,b:P,a:j}=f(I[x][E]);p.data.set([T,k,P,j],R+=4)}I.length>=1<<w&&w<12&&w++}}o.image=p,o.bitmap=await createImageBitmap(p)}}async function RV(t,e,n,i,r,s){switch(t.nextByte()){case 59:return!0;case 44:await NV(t,e,n,i,r);break;case 33:await AV(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function jV(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function DV(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new PV(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=nC(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(I){if(I instanceof DOMException&&I.name==="IndexSizeError")return null;throw I}})();if(f==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:v}=s.globalColorTable[d];f.data.set(l?[p,m,v,255]:[0,0,0,0]);for(let I=4;I<f.data.length;I*=2)f.data.copyWithin(I,0,I);s.backgroundImage=f;let _=-1,S=!0,x=-1;const w=I=>(I&&(S=!0),_),b=I=>(I!=null&&(x=I),x);try{do S&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),_++,x=-1,S=!1);while(!await RV(o,s,n,w,b,e));s.frames.length--;for(const I of s.frames){if(I.userInputDelayFlag&&I.delayTime===0){s.totalTime=1/0;break}s.totalTime+=I.delayTime}return s}catch(I){throw I instanceof EvalError?new Error(`error while parsing frame ${_} "${I.message}"`):I}}const MV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function OV(t,e,n){const{svgData:i}=t;if(!i)return"";const r=kl(e,n);if(i.includes("fill"))return i.replace(MV,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function id(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,gs().error(`${bn} loading image: ${t.source}`),e()}),n.src=t.source})}async function LV(t){if(t.type!=="gif"){await id(t);return}t.loading=!0;try{t.gifData=await DV(t.source),t.gifLoopCount=jV(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function VV(t){if(t.type!=="svg"){await id(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(gs().error(`${bn} Image not found`),t.error=!0),t.loading=!1}function FV(t,e,n,i){var o;const r=OV(t,n,((o=i.opacity)==null?void 0:o.value)??1),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(d)}),f.addEventListener("error",async()=>{c.revokeObjectURL(d);const p={...t,error:!1,loading:!0};await id(p),s.loaded=!0,s.element=p.element,a(s)}),f.src=d})}class UV{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${bn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,r,s){const o=n.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),n.gifLoopCount===void 0&&(n.gifLoopCount=o.gifLoopCount??0);let d=n.gifFrame??0;const f={x:-o.gifData.width*.5,y:-o.gifData.height*.5},p=o.gifData.frames[d];if(n.gifTime===void 0&&(n.gifTime=0),!p.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,f.x+p.left,f.y+p.top):c.putImageData(o.gifData.backgroundImage,f.x,f.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(n.gifTime+=s.value,n.gifTime>p.delayTime){if(n.gifTime-=p.delayTime,++d>=o.gifData.frames.length){if(--n.gifLoopCount<=0)return;d=0,c.clearRect(0,0,l.width,l.height)}n.gifFrame=d}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData,s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await FV(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.fill,d=r.close??n.close,f={image:l,fill:c,close:d};n.image=f.image,n.fill=f.fill,n.close=f.close})()}}class zV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class BV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new zV;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function $V(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${bn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?LV:e.replaceColor?VV:id)(n)}catch{throw new Error(`${bn} ${e.name??e.src} not found`)}})}async function qV(t,e=!0){$V(t);const n=new BV(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new UV(t),e)}class HV extends Mr{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class WV extends Mr{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class GV{constructor(){this.count=0,this.delay=new HV,this.duration=new WV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class KV{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?Q(r.delay.value)*(r.delay.sync?1:Te())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?Q(r.duration.value)*(r.duration.sync?1:Te())/n.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new GV);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=ie(0,s.width),a=ie(0,s.width);e.position.x=$t(o),e.position.y=$t(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=Q(l.delay.value)*1e3,i.duration=Q(l.duration.value)*1e3)}}async function QV(t,e=!0){await t.addParticleUpdater("life",n=>new KV(n),e)}class YV{draw(e,n,i){const r=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function XV(t,e=!0){await t.addShape("line",new YV,e)}class JV{init(){}isEnabled(e){return!Po()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Po()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,d=e.getRadius()/s,f={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:p}=e;p.x+=(f.x-p.x)/c,p.y+=(f.y-p.y)/c}}async function ZV(t,e=!0){await t.addMover("parallax",()=>new JV,e)}class e5 extends Gy{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Mt(r,a),d=e.options.move.attract.rotate,f=l/(d.x*1e3),p=c/(d.y*1e3),m=o.size.value/e.size.value,v=1/m;e.velocity.x-=f*m,e.velocity.y-=p*m,o.velocity.x+=f*v,o.velocity.y+=p*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function t5(t,e=!0){await t.addInteractor("particlesAttract",n=>new e5(n),e)}function H_(t,e,n,i,r,s){const o=Ln(t.options.collisions.absorb.speed*r.factor/10,0,i);t.size.value+=o/2,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function n5(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?H_(t,r,e,s,n,i):H_(e,s,t,r,n,i))}const W_=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=Q(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function iC(t,e){DS(Am(t),Am(e)),W_(t),W_(e)}function i5(t,e){!t.unbreakable&&!e.unbreakable&&iC(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function r5(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{n5(t,e,n,i);break}case"bounce":{iC(t,e);break}case"destroy":{i5(t,e);break}}}class s5 extends Gy{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const d=nn(r,l),f=s+c;d>f||r5(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function o5(t,e=!0){await t.addInteractor("particlesCollisions",n=>new s5(n),e)}class a5 extends Ct{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new Ct(r.x,r.y,i.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new Vn(r.x,r.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class l5{constructor(){this.blur=5,this.color=new dt,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=dt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class c5{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=dt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class u5{constructor(){this.blink=!1,this.color=new dt,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new l5,this.triangles=new c5,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=dt.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function h5(t,e,n,i,r){const{dx:s,dy:o,distance:a}=Mt(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class d5 extends Gy{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=BS(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<0||n.y<0||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new a5(n.x,n.y,a,r):new Ct(n.x,n.y,a),d=i.particles.quadTree.query(c);for(const f of d){const p=f.options.links;if(e===f||!(p!=null&&p.enable)||s.id!==p.id||f.spawning||f.destroyed||!f.links||e.links.some(S=>S.destination===f)||f.links.some(S=>S.destination===e))continue;const m=f.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const v=h5(n,m,a,r,l&&p.warp);if(v>a)continue;const _=(1-v/a)*o;this._setColor(e),e.links.push({destination:f,opacity:_})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new u5);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function f5(t,e=!0){await t.addInteractor("particlesLinks",n=>new d5(n),e)}function p5(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:d,links:f}=t;if(nn(n,i)<=r)Ya(s,n,i),e=!0;else if(f.warp){let m,v;const _={x:i.x-o.width,y:i.y},S=Mt(n,_);if(S.distance<=r){const x=n.y-S.dy/S.dx*n.x;m={x:0,y:x},v={x:o.width,y:x}}else{const x={x:i.x,y:i.y-o.height},w=Mt(n,x);if(w.distance<=r){const I=-(n.y-w.dy/w.dx*n.x)/(w.dy/w.dx);m={x:I,y:0},v={x:I,y:o.height}}else{const b={x:i.x-o.width,y:i.y-o.height},I=Mt(n,b);if(I.distance<=r){const R=n.y-I.dy/I.dx*n.x;m={x:-R/(I.dy/I.dx),y:R},v={x:m.x+o.width,y:m.y+o.height}}}}m&&v&&(Ya(s,n,m),Ya(s,i,v),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=_i(c,d);const{shadow:p}=f;if(p.enable){const m=Dn(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=_i(m))}s.stroke()}function m5(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;Q3(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=_i(o,a),e.fill()}function g5(t){return t.sort((e,n)=>e-n),t.join("_")}function G_(t,e){const n=g5(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Te(),e.set(n,i)),i}class y5{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=n.getPosition(),c=a.getPosition();let d=i.opacity;s.canvas.draw(f=>{var x;let p;const m=(x=n.options.twinkle)==null?void 0:x.lines;if(m!=null&&m.enable){const w=m.frequency,b=Dn(m.color);Te()<w&&b&&(p=b,d=Q(m.opacity))}if(!p){const w=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=Nm(n,a,w)}if(!p)return;const v=n.retina.linksWidth??0,_=n.retina.linksDistance??0,{backgroundMask:S}=o;p5({context:f,width:v,begin:l,end:c,maxDistance:_,canvasSize:s.canvas.size,links:r,backgroundMask:S,colorLine:p,opacity:d})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,d=r.destination,f=o.opacity??(i.opacity+r.opacity)/2;f<=0||a.canvas.draw(p=>{const m=n.getPosition(),v=c.getPosition(),_=d.getPosition(),S=n.retina.linksDistance??0;if(nn(m,v)>S||nn(_,v)>S||nn(_,m)>S)return;let x=Dn(o.color);if(!x){const w=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;x=Nm(n,c,w)}x&&m5({context:p,pos1:m,pos2:v,pos3:_,backgroundMask:l.backgroundMask,colorTriangle:x,opacityTriangle:f})})},this._drawTriangles=(n,i,r,s)=>{var l,c,d;const o=r.destination;if(!((l=n.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(d=o.links)==null?void 0:d.filter(f=>{const p=this._getLinkFrequency(o,f.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const p=f.destination;this._getTriangleFrequency(i,o,p)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(n,i)=>G_([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>G_([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(n,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class v5{constructor(){this.id="links"}getPlugin(e){return new y5(e)}loadOptions(){}needsPlugin(){return!0}}async function x5(t,e=!0){const n=new v5;await t.addPlugin(n,e)}async function w5(t,e=!0){await f5(t,e),await x5(t,e)}class rC{draw(e,n,i){const r=this.getCenter(n,i),s=this.getSidesData(n,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let d=0;d<o;d++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const n=e.shapeData;return Math.round(Q((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class _5 extends rC{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class b5 extends rC{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function E5(t,e=!0){await t.addShape("polygon",new _5,e)}async function T5(t,e=!0){await t.addShape("triangle",new b5,e)}async function S5(t,e=!0){await E5(t,e),await T5(t,e)}class C5{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class I5 extends Mr{constructor(){super(),this.animation=new C5,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function k5(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const r=i.animation,s=(n.velocity??0)*e.factor,o=2*Math.PI,a=n.decay??1;if(r.enable){switch(n.status){case"increasing":n.value+=s,n.value>o&&(n.value-=o);break;case"decreasing":default:n.value-=s,n.value<0&&(n.value+=o);break}n.velocity&&a!==1&&(n.velocity*=a)}}class P5{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:Q(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(Te()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=n.animation;r.enable&&(e.rotate.decay=1-Q(r.decay),e.rotate.velocity=Q(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Te())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new I5);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&(k5(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function A5(t,e=!0){await t.addParticleUpdater("rotate",n=>new P5(n),e)}const N5=Math.sqrt(2);class R5{draw(e,n,i){const r=i/N5,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function j5(t,e=!0){await t.addShape(["edge","square"],new R5,e)}class D5{draw(e,n,i){const r=n.sides,s=n.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(Q((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,r=Q((i==null?void 0:i.inset)??2);n.starInset=r}}async function M5(t,e=!0){await t.addShape("star",new D5,e)}function ip(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=$t(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function O5(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:r}=t.strokeColor,{h:s,s:o,l:a}=t.strokeAnimation;n&&ip(e,n,s,360,!1),i&&ip(e,i,o,100,!0),r&&ip(e,r,a,100,!0)}class L5{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,r=wi(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=Q(r.width)*n.retina.pixelRatio,e.strokeOpacity=Q(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Il(r.color)??e.getFillColor();s&&(e.strokeColor=$S(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&O5(e,n)}}async function V5(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new L5(n),e)}const gu=["text","character","char"];class F5{draw(e,n,i,r){const s=n.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;n.text===void 0&&(n.text=wi(o,n.randomIndexData));const a=n.text,l=s.style??"",c=s.weight??"400",d=Math.round(i)*2,f=s.font??"Verdana",p=n.fill,m=a.length*i/2;e.font=`${l} ${c} ${d}px "${f}"`;const v={x:-m,y:i/2};e.globalAlpha=r,p?e.fillText(a,v.x,v.y):e.strokeText(a,v.x,v.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(gu.find(i=>Be(i,n.particles.shape.type))){const i=gu.map(s=>n.particles.shape.options[s]).find(s=>!!s),r=[];rt(i,s=>{r.push(U3(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,n){if(!n.shape||!gu.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(n.text=wi(r,n.randomIndexData))}}async function U5(t,e=!0){await t.addShape(gu,new F5,e)}async function z5(t,e=!0){dL(t),await ZV(t,!1),await WL(t,!1),await QL(t,!1),await ZL(t,!1),await aV(t,!1),await fV(t,!1),await mV(t,!1),await vV(t,!1),await _V(t,!1),await SV(t,!1),await kV(t,!1),await t5(t,!1),await o5(t,!1),await w5(t,!1),await $L(),await qV(t,!1),await XV(t,!1),await S5(t,!1),await j5(t,!1),await M5(t,!1),await U5(t,!1),await QV(t,!1),await A5(t,!1),await V5(t,!1),await BL(t,e)}const B5=()=>{const t=N.useCallback(async n=>{await z5(n)},[]),e=N.useCallback(async n=>{n?console.log("Particles container loaded successfully",n):console.log("Particles failed to load")},[]);return u.jsx(JS,{id:"tsparticles",init:t,loaded:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0},options:{background:{color:{value:"transparent"}},fullScreen:{enable:!1,zIndex:-1},particles:{color:{value:"#883AEA"},links:{color:"#E0CCFA",distance:150,enable:!0,opacity:.3,width:1},move:{enable:!0,speed:1.5},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},size:{value:{min:1,max:3}}},detectRetina:!0,interactivity:{events:{onHover:{enable:!0,mode:"grab"}},modes:{grab:{distance:140,links:{opacity:.5}}}}}})},$5=()=>{};var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},q5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},oC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),i.push(n[d],n[f],n[p],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new H5;const p=s<<2|a>>4;if(i.push(p),c!==64){const m=a<<4&240|c>>2;if(i.push(m),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class H5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const W5=function(t){const e=sC(t);return oC.encodeByteArray(e,!0)},hh=function(t){return W5(t).replace(/\./g,"")},aC=function(t){try{return oC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=()=>G5().__FIREBASE_DEFAULTS__,Q5=()=>{if(typeof process>"u"||typeof K_>"u")return;const t=K_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aC(t[1]);return e&&JSON.parse(e)},rd=()=>{try{return $5()||K5()||Q5()||Y5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lC=t=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},X5=t=>{const e=lC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},cC=()=>{var t;return(t=rd())===null||t===void 0?void 0:t.config},uC=t=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[hh(JSON.stringify(n)),hh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function t6(){var t;const e=(t=rd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function i6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function r6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s6(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function o6(){return!t6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function a6(){try{return typeof indexedDB=="object"}catch{return!1}}function l6(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="FirebaseError";class Mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=c6,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?u6(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Mi(r,a,i)}}function u6(t,e){return t.replace(h6,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const h6=/\{\$([^}]+)}/g;function d6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ys(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(Q_(s)&&Q_(o)){if(!ys(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Q_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ka(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function f6(t,e){const n=new p6(t,e);return n.subscribe.bind(n)}class p6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");m6(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=rp),r.error===void 0&&(r.error=rp),r.complete===void 0&&(r.complete=rp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function m6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t){return t&&t._delegate?t._delegate:t}class vs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new J5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v6(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:y6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y6(t){return t===Xr?void 0:t}function v6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const w6={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},_6=ae.INFO,b6={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},E6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=b6[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ky{constructor(e){this.name=e,this._logLevel=_6,this._logHandler=E6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?w6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const T6=(t,e)=>e.some(n=>t instanceof n);let Y_,X_;function S6(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C6(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hC=new WeakMap,Rm=new WeakMap,dC=new WeakMap,sp=new WeakMap,Qy=new WeakMap;function I6(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hC.set(n,t)}).catch(()=>{}),Qy.set(e,t),e}function k6(t){if(Rm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Rm.set(t,e)}let jm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function P6(t){jm=t(jm)}function A6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(op(this),e,...n);return dC.set(i,e.sort?e.sort():[e]),dr(i)}:C6().includes(t)?function(...e){return t.apply(op(this),e),dr(hC.get(this))}:function(...e){return dr(t.apply(op(this),e))}}function N6(t){return typeof t=="function"?A6(t):(t instanceof IDBTransaction&&k6(t),T6(t,S6())?new Proxy(t,jm):t)}function dr(t){if(t instanceof IDBRequest)return I6(t);if(sp.has(t))return sp.get(t);const e=N6(t);return e!==t&&(sp.set(t,e),Qy.set(e,t)),e}const op=t=>Qy.get(t);function R6(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=dr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(dr(o.result),l.oldVersion,l.newVersion,dr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const j6=["get","getKey","getAll","getAllKeys","count"],D6=["put","add","delete","clear"],ap=new Map;function J_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ap.get(e))return ap.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=D6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||j6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ap.set(e,s),s}P6(t=>({...t,get:(e,n,i)=>J_(e,n)||t.get(e,n,i),has:(e,n)=>!!J_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function O6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dm="@firebase/app",Z_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Ky("@firebase/app"),L6="@firebase/app-compat",V6="@firebase/analytics-compat",F6="@firebase/analytics",U6="@firebase/app-check-compat",z6="@firebase/app-check",B6="@firebase/auth",$6="@firebase/auth-compat",q6="@firebase/database",H6="@firebase/data-connect",W6="@firebase/database-compat",G6="@firebase/functions",K6="@firebase/functions-compat",Q6="@firebase/installations",Y6="@firebase/installations-compat",X6="@firebase/messaging",J6="@firebase/messaging-compat",Z6="@firebase/performance",eF="@firebase/performance-compat",tF="@firebase/remote-config",nF="@firebase/remote-config-compat",iF="@firebase/storage",rF="@firebase/storage-compat",sF="@firebase/firestore",oF="@firebase/vertexai",aF="@firebase/firestore-compat",lF="firebase",cF="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",uF={[Dm]:"fire-core",[L6]:"fire-core-compat",[F6]:"fire-analytics",[V6]:"fire-analytics-compat",[z6]:"fire-app-check",[U6]:"fire-app-check-compat",[B6]:"fire-auth",[$6]:"fire-auth-compat",[q6]:"fire-rtdb",[H6]:"fire-data-connect",[W6]:"fire-rtdb-compat",[G6]:"fire-fn",[K6]:"fire-fn-compat",[Q6]:"fire-iid",[Y6]:"fire-iid-compat",[X6]:"fire-fcm",[J6]:"fire-fcm-compat",[Z6]:"fire-perf",[eF]:"fire-perf-compat",[tF]:"fire-rc",[nF]:"fire-rc-compat",[iF]:"fire-gcs",[rF]:"fire-gcs-compat",[sF]:"fire-fst",[aF]:"fire-fst-compat",[oF]:"fire-vertex","fire-js":"fire-js",[lF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,hF=new Map,Om=new Map;function eb(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(Om.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(const n of dh.values())eb(n,t);for(const n of hF.values())eb(n,t);return!0}function Yy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Xl("app","Firebase",dF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=cF;function fC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw fr.create("bad-app-name",{appName:String(r)});if(n||(n=cC()),!n)throw fr.create("no-options");const s=dh.get(r);if(s){if(ys(n,s.options)&&ys(i,s.config))return s;throw fr.create("duplicate-app",{appName:r})}const o=new x6(r);for(const l of Om.values())o.addComponent(l);const a=new fF(n,i,o);return dh.set(r,a),a}function pC(t=Mm){const e=dh.get(t);if(!e&&t===Mm&&cC())return fC();if(!e)throw fr.create("no-app",{appName:t});return e}function pr(t,e,n){var i;let r=(i=uF[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(a.join(" "));return}No(new vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF="firebase-heartbeat-database",mF=1,Al="firebase-heartbeat-store";let lp=null;function mC(){return lp||(lp=R6(pF,mF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Al)}catch(n){console.warn(n)}}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),lp}async function gF(t){try{const n=(await mC()).transaction(Al),i=await n.objectStore(Al).get(gC(t));return await n.done,i}catch(e){if(e instanceof Mi)Pi.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function tb(t,e){try{const i=(await mC()).transaction(Al,"readwrite");await i.objectStore(Al).put(e,gC(t)),await i.done}catch(n){if(n instanceof Mi)Pi.warn(n.message);else{const i=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(i.message)}}}function gC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=1024,vF=30;class xF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _F(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>vF){const o=bF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Pi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nb(),{heartbeatsToSend:i,unsentEntries:r}=wF(this._heartbeatsCache.heartbeats),s=hh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Pi.warn(n),""}}}function nb(){return new Date().toISOString().substring(0,10)}function wF(t,e=yF){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ib(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),ib(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class _F{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a6()?l6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return tb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ib(t){return hh(JSON.stringify({version:2,heartbeats:t})).length}function bF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){No(new vs("platform-logger",e=>new M6(e),"PRIVATE")),No(new vs("heartbeat",e=>new xF(e),"PRIVATE")),pr(Dm,Z_,t),pr(Dm,Z_,"esm2017"),pr("fire-js","")}EF("");var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mr,yC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function k(){}k.prototype=T.prototype,E.D=T.prototype,E.prototype=new k,E.prototype.constructor=E,E.C=function(P,j,D){for(var A=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)A[Ce-2]=arguments[Ce];return T.prototype[j].apply(P,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,T,k){k||(k=0);var P=Array(16);if(typeof T=="string")for(var j=0;16>j;++j)P[j]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(j=0;16>j;++j)P[j]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=E.g[0],k=E.g[1],j=E.g[2];var D=E.g[3],A=T+(D^k&(j^D))+P[0]+3614090360&4294967295;T=k+(A<<7&4294967295|A>>>25),A=D+(j^T&(k^j))+P[1]+3905402710&4294967295,D=T+(A<<12&4294967295|A>>>20),A=j+(k^D&(T^k))+P[2]+606105819&4294967295,j=D+(A<<17&4294967295|A>>>15),A=k+(T^j&(D^T))+P[3]+3250441966&4294967295,k=j+(A<<22&4294967295|A>>>10),A=T+(D^k&(j^D))+P[4]+4118548399&4294967295,T=k+(A<<7&4294967295|A>>>25),A=D+(j^T&(k^j))+P[5]+1200080426&4294967295,D=T+(A<<12&4294967295|A>>>20),A=j+(k^D&(T^k))+P[6]+2821735955&4294967295,j=D+(A<<17&4294967295|A>>>15),A=k+(T^j&(D^T))+P[7]+4249261313&4294967295,k=j+(A<<22&4294967295|A>>>10),A=T+(D^k&(j^D))+P[8]+1770035416&4294967295,T=k+(A<<7&4294967295|A>>>25),A=D+(j^T&(k^j))+P[9]+2336552879&4294967295,D=T+(A<<12&4294967295|A>>>20),A=j+(k^D&(T^k))+P[10]+4294925233&4294967295,j=D+(A<<17&4294967295|A>>>15),A=k+(T^j&(D^T))+P[11]+2304563134&4294967295,k=j+(A<<22&4294967295|A>>>10),A=T+(D^k&(j^D))+P[12]+1804603682&4294967295,T=k+(A<<7&4294967295|A>>>25),A=D+(j^T&(k^j))+P[13]+4254626195&4294967295,D=T+(A<<12&4294967295|A>>>20),A=j+(k^D&(T^k))+P[14]+2792965006&4294967295,j=D+(A<<17&4294967295|A>>>15),A=k+(T^j&(D^T))+P[15]+1236535329&4294967295,k=j+(A<<22&4294967295|A>>>10),A=T+(j^D&(k^j))+P[1]+4129170786&4294967295,T=k+(A<<5&4294967295|A>>>27),A=D+(k^j&(T^k))+P[6]+3225465664&4294967295,D=T+(A<<9&4294967295|A>>>23),A=j+(T^k&(D^T))+P[11]+643717713&4294967295,j=D+(A<<14&4294967295|A>>>18),A=k+(D^T&(j^D))+P[0]+3921069994&4294967295,k=j+(A<<20&4294967295|A>>>12),A=T+(j^D&(k^j))+P[5]+3593408605&4294967295,T=k+(A<<5&4294967295|A>>>27),A=D+(k^j&(T^k))+P[10]+38016083&4294967295,D=T+(A<<9&4294967295|A>>>23),A=j+(T^k&(D^T))+P[15]+3634488961&4294967295,j=D+(A<<14&4294967295|A>>>18),A=k+(D^T&(j^D))+P[4]+3889429448&4294967295,k=j+(A<<20&4294967295|A>>>12),A=T+(j^D&(k^j))+P[9]+568446438&4294967295,T=k+(A<<5&4294967295|A>>>27),A=D+(k^j&(T^k))+P[14]+3275163606&4294967295,D=T+(A<<9&4294967295|A>>>23),A=j+(T^k&(D^T))+P[3]+4107603335&4294967295,j=D+(A<<14&4294967295|A>>>18),A=k+(D^T&(j^D))+P[8]+1163531501&4294967295,k=j+(A<<20&4294967295|A>>>12),A=T+(j^D&(k^j))+P[13]+2850285829&4294967295,T=k+(A<<5&4294967295|A>>>27),A=D+(k^j&(T^k))+P[2]+4243563512&4294967295,D=T+(A<<9&4294967295|A>>>23),A=j+(T^k&(D^T))+P[7]+1735328473&4294967295,j=D+(A<<14&4294967295|A>>>18),A=k+(D^T&(j^D))+P[12]+2368359562&4294967295,k=j+(A<<20&4294967295|A>>>12),A=T+(k^j^D)+P[5]+4294588738&4294967295,T=k+(A<<4&4294967295|A>>>28),A=D+(T^k^j)+P[8]+2272392833&4294967295,D=T+(A<<11&4294967295|A>>>21),A=j+(D^T^k)+P[11]+1839030562&4294967295,j=D+(A<<16&4294967295|A>>>16),A=k+(j^D^T)+P[14]+4259657740&4294967295,k=j+(A<<23&4294967295|A>>>9),A=T+(k^j^D)+P[1]+2763975236&4294967295,T=k+(A<<4&4294967295|A>>>28),A=D+(T^k^j)+P[4]+1272893353&4294967295,D=T+(A<<11&4294967295|A>>>21),A=j+(D^T^k)+P[7]+4139469664&4294967295,j=D+(A<<16&4294967295|A>>>16),A=k+(j^D^T)+P[10]+3200236656&4294967295,k=j+(A<<23&4294967295|A>>>9),A=T+(k^j^D)+P[13]+681279174&4294967295,T=k+(A<<4&4294967295|A>>>28),A=D+(T^k^j)+P[0]+3936430074&4294967295,D=T+(A<<11&4294967295|A>>>21),A=j+(D^T^k)+P[3]+3572445317&4294967295,j=D+(A<<16&4294967295|A>>>16),A=k+(j^D^T)+P[6]+76029189&4294967295,k=j+(A<<23&4294967295|A>>>9),A=T+(k^j^D)+P[9]+3654602809&4294967295,T=k+(A<<4&4294967295|A>>>28),A=D+(T^k^j)+P[12]+3873151461&4294967295,D=T+(A<<11&4294967295|A>>>21),A=j+(D^T^k)+P[15]+530742520&4294967295,j=D+(A<<16&4294967295|A>>>16),A=k+(j^D^T)+P[2]+3299628645&4294967295,k=j+(A<<23&4294967295|A>>>9),A=T+(j^(k|~D))+P[0]+4096336452&4294967295,T=k+(A<<6&4294967295|A>>>26),A=D+(k^(T|~j))+P[7]+1126891415&4294967295,D=T+(A<<10&4294967295|A>>>22),A=j+(T^(D|~k))+P[14]+2878612391&4294967295,j=D+(A<<15&4294967295|A>>>17),A=k+(D^(j|~T))+P[5]+4237533241&4294967295,k=j+(A<<21&4294967295|A>>>11),A=T+(j^(k|~D))+P[12]+1700485571&4294967295,T=k+(A<<6&4294967295|A>>>26),A=D+(k^(T|~j))+P[3]+2399980690&4294967295,D=T+(A<<10&4294967295|A>>>22),A=j+(T^(D|~k))+P[10]+4293915773&4294967295,j=D+(A<<15&4294967295|A>>>17),A=k+(D^(j|~T))+P[1]+2240044497&4294967295,k=j+(A<<21&4294967295|A>>>11),A=T+(j^(k|~D))+P[8]+1873313359&4294967295,T=k+(A<<6&4294967295|A>>>26),A=D+(k^(T|~j))+P[15]+4264355552&4294967295,D=T+(A<<10&4294967295|A>>>22),A=j+(T^(D|~k))+P[6]+2734768916&4294967295,j=D+(A<<15&4294967295|A>>>17),A=k+(D^(j|~T))+P[13]+1309151649&4294967295,k=j+(A<<21&4294967295|A>>>11),A=T+(j^(k|~D))+P[4]+4149444226&4294967295,T=k+(A<<6&4294967295|A>>>26),A=D+(k^(T|~j))+P[11]+3174756917&4294967295,D=T+(A<<10&4294967295|A>>>22),A=j+(T^(D|~k))+P[2]+718787259&4294967295,j=D+(A<<15&4294967295|A>>>17),A=k+(D^(j|~T))+P[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(j+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+j&4294967295,E.g[3]=E.g[3]+D&4294967295}i.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var k=T-this.blockSize,P=this.B,j=this.h,D=0;D<T;){if(j==0)for(;D<=k;)r(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<T;)if(P[j++]=E.charCodeAt(D++),j==this.blockSize){r(this,P),j=0;break}}else for(;D<T;)if(P[j++]=E[D++],j==this.blockSize){r(this,P),j=0;break}}this.h=j,this.o+=T},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var k=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=k&255,k/=256;for(this.u(E),E=Array(16),T=k=0;4>T;++T)for(var P=0;32>P;P+=8)E[k++]=this.g[T]>>>P&255;return E};function s(E,T){var k=a;return Object.prototype.hasOwnProperty.call(k,E)?k[E]:k[E]=T(E)}function o(E,T){this.h=T;for(var k=[],P=!0,j=E.length-1;0<=j;j--){var D=E[j]|0;P&&D==T||(k[j]=D,P=!1)}this.g=k}var a={};function l(E){return-128<=E&&128>E?s(E,function(T){return new o([T|0],0>T?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return S(c(-E));for(var T=[],k=1,P=0;E>=k;P++)T[P]=E/k|0,k*=4294967296;return new o(T,0)}function d(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return S(d(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(T,8)),P=f,j=0;j<E.length;j+=8){var D=Math.min(8,E.length-j),A=parseInt(E.substring(j,j+D),T);8>D?(D=c(Math.pow(T,D)),P=P.j(D).add(c(A))):(P=P.j(k),P=P.add(c(A)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-S(this).m();for(var E=0,T=1,k=0;k<this.g.length;k++){var P=this.i(k);E+=(0<=P?P:4294967296+P)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(_(this))return"-"+S(this).toString(E);for(var T=c(Math.pow(E,6)),k=this,P="";;){var j=I(k,T).g;k=x(k,j.j(T));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(E);if(k=j,v(k))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=x(this,E),_(E)?-1:v(E)?0:1};function S(E){for(var T=E.g.length,k=[],P=0;P<T;P++)k[P]=~E.g[P];return new o(k,~E.h).add(p)}t.abs=function(){return _(this)?S(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),k=[],P=0,j=0;j<=T;j++){var D=P+(this.i(j)&65535)+(E.i(j)&65535),A=(D>>>16)+(this.i(j)>>>16)+(E.i(j)>>>16);P=A>>>16,D&=65535,A&=65535,k[j]=A<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(E,T){return E.add(S(T))}t.j=function(E){if(v(this)||v(E))return f;if(_(this))return _(E)?S(this).j(S(E)):S(S(this).j(E));if(_(E))return S(this.j(S(E)));if(0>this.l(m)&&0>E.l(m))return c(this.m()*E.m());for(var T=this.g.length+E.g.length,k=[],P=0;P<2*T;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<E.g.length;j++){var D=this.i(P)>>>16,A=this.i(P)&65535,Ce=E.i(j)>>>16,cn=E.i(j)&65535;k[2*P+2*j]+=A*cn,w(k,2*P+2*j),k[2*P+2*j+1]+=D*cn,w(k,2*P+2*j+1),k[2*P+2*j+1]+=A*Ce,w(k,2*P+2*j+1),k[2*P+2*j+2]+=D*Ce,w(k,2*P+2*j+2)}for(P=0;P<T;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=T;P<2*T;P++)k[P]=0;return new o(k,0)};function w(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function b(E,T){this.g=E,this.h=T}function I(E,T){if(v(T))throw Error("division by zero");if(v(E))return new b(f,f);if(_(E))return T=I(S(E),T),new b(S(T.g),S(T.h));if(_(T))return T=I(E,S(T)),new b(S(T.g),T.h);if(30<E.g.length){if(_(E)||_(T))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=T;0>=P.l(E);)k=R(k),P=R(P);var j=M(k,1),D=M(P,1);for(P=M(P,2),k=M(k,2);!v(P);){var A=D.add(P);0>=A.l(E)&&(j=j.add(k),D=A),P=M(P,1),k=M(k,1)}return T=x(E,j.j(T)),new b(j,T)}for(j=f;0<=E.l(T);){for(k=Math.max(1,Math.floor(E.m()/T.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(k),A=D.j(T);_(A)||0<A.l(E);)k-=P,D=c(k),A=D.j(T);v(D)&&(D=p),j=j.add(D),E=x(E,A)}return new b(j,E)}t.A=function(E){return I(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),k=[],P=0;P<T;P++)k[P]=this.i(P)&E.i(P);return new o(k,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),k=[],P=0;P<T;P++)k[P]=this.i(P)|E.i(P);return new o(k,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),k=[],P=0;P<T;P++)k[P]=this.i(P)^E.i(P);return new o(k,this.h^E.h)};function R(E){for(var T=E.g.length+1,k=[],P=0;P<T;P++)k[P]=E.i(P)<<1|E.i(P-1)>>>31;return new o(k,E.h)}function M(E,T){var k=T>>5;T%=32;for(var P=E.g.length-k,j=[],D=0;D<P;D++)j[D]=0<T?E.i(D+k)>>>T|E.i(D+k+1)<<32-T:E.i(D+k);return new o(j,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,yC=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,mr=o}).apply(typeof rb<"u"?rb:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vC,Aa,xC,yu,Lm,wC,_C,bC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,g,y){return h==Array.prototype||h==Object.prototype||(h[g]=y.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var g=0;g<h.length;++g){var y=h[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(h,g){if(g)e:{var y=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var O=h[C];if(!(O in y))break e;y=y[O]}h=h[h.length-1],C=y[h],g=g(C),g!=C&&g!=null&&e(y,h,{configurable:!0,writable:!0,value:g})}}function s(h,g){h instanceof String&&(h+="");var y=0,C=!1,O={next:function(){if(!C&&y<h.length){var L=y++;return{value:g(L,h[L]),done:!1}}return C=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(h){return h||function(){return s(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var g=typeof h;return g=g!="object"?g:h?Array.isArray(h)?"array":g:"null",g=="array"||g=="object"&&typeof h.length=="number"}function c(h){var g=typeof h;return g=="object"&&h!=null||g=="function"}function d(h,g,y){return h.call.apply(h.bind,arguments)}function f(h,g,y){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,C),h.apply(g,O)}}return function(){return h.apply(g,arguments)}}function p(h,g,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(h,g){var y=Array.prototype.slice.call(arguments,1);return function(){var C=y.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function v(h,g){function y(){}y.prototype=g.prototype,h.aa=g.prototype,h.prototype=new y,h.prototype.constructor=h,h.Qb=function(C,O,L){for(var B=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)B[ge-2]=arguments[ge];return g.prototype[O].apply(C,B)}}function _(h){const g=h.length;if(0<g){const y=Array(g);for(let C=0;C<g;C++)y[C]=h[C];return y}return[]}function S(h,g){for(let y=1;y<arguments.length;y++){const C=arguments[y];if(l(C)){const O=h.length||0,L=C.length||0;h.length=O+L;for(let B=0;B<L;B++)h[O+B]=C[B]}else h.push(C)}}class x{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function w(h){return/^[\s\xa0]*$/.test(h)}function b(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function I(h){return I[" "](h),h}I[" "]=function(){};var R=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function M(h,g,y){for(const C in h)g.call(y,h[C],C,h)}function E(h,g){for(const y in h)g.call(void 0,h[y],y,h)}function T(h){const g={};for(const y in h)g[y]=h[y];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,g){let y,C;for(let O=1;O<arguments.length;O++){C=arguments[O];for(y in C)h[y]=C[y];for(let L=0;L<k.length;L++)y=k[L],Object.prototype.hasOwnProperty.call(C,y)&&(h[y]=C[y])}}function j(h){var g=1;h=h.split(":");const y=[];for(;0<g&&h.length;)y.push(h.shift()),g--;return h.length&&y.push(h.join(":")),y}function D(h){a.setTimeout(()=>{throw h},0)}function A(){var h=X;let g=null;return h.g&&(g=h.g,h.g=h.g.next,h.g||(h.h=null),g.next=null),g}class Ce{constructor(){this.h=this.g=null}add(g,y){const C=cn.get();C.set(g,y),this.h?this.h.next=C:this.g=C,this.h=C}}var cn=new x(()=>new Rs,h=>h.reset());class Rs{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,$=!1,X=new Ce,ee=()=>{const h=a.Promise.resolve(void 0);xe=()=>{h.then(Ie)}};var Ie=()=>{for(var h;h=A();){try{h.h.call(h.g)}catch(y){D(y)}var g=cn;g.j(h),100>g.h&&(g.h++,h.next=g.g,g.g=h)}$=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(h,g){this.type=h,this.g=this.target=g,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ni=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,g=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return h}();function ii(h,g){if(Ve.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var y=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=g,g=h.relatedTarget){if(R){e:{try{I(g.nodeName);var O=!0;break e}catch{}O=!1}O||(g=null)}}else y=="mouseover"?g=h.fromElement:y=="mouseout"&&(g=h.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ri[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ii.aa.h.call(this)}}v(ii,Ve);var ri={2:"touch",3:"pen",4:"mouse"};ii.prototype.h=function(){ii.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var si="closure_listenable_"+(1e6*Math.random()|0),Rk=0;function jk(h,g,y,C,O){this.listener=h,this.proxy=null,this.src=g,this.type=y,this.capture=!!C,this.ha=O,this.key=++Rk,this.da=this.fa=!1}function lc(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function cc(h){this.src=h,this.g={},this.h=0}cc.prototype.add=function(h,g,y,C,O){var L=h.toString();h=this.g[L],h||(h=this.g[L]=[],this.h++);var B=Rd(h,g,C,O);return-1<B?(g=h[B],y||(g.fa=!1)):(g=new jk(g,this.src,L,!!C,O),g.fa=y,h.push(g)),g};function Nd(h,g){var y=g.type;if(y in h.g){var C=h.g[y],O=Array.prototype.indexOf.call(C,g,void 0),L;(L=0<=O)&&Array.prototype.splice.call(C,O,1),L&&(lc(g),h.g[y].length==0&&(delete h.g[y],h.h--))}}function Rd(h,g,y,C){for(var O=0;O<h.length;++O){var L=h[O];if(!L.da&&L.listener==g&&L.capture==!!y&&L.ha==C)return O}return-1}var jd="closure_lm_"+(1e6*Math.random()|0),Dd={};function Wv(h,g,y,C,O){if(Array.isArray(g)){for(var L=0;L<g.length;L++)Wv(h,g[L],y,C,O);return null}return y=Qv(y),h&&h[si]?h.K(g,y,c(C)?!!C.capture:!!C,O):Dk(h,g,y,!1,C,O)}function Dk(h,g,y,C,O,L){if(!g)throw Error("Invalid event type");var B=c(O)?!!O.capture:!!O,ge=Od(h);if(ge||(h[jd]=ge=new cc(h)),y=ge.add(g,y,C,B,L),y.proxy)return y;if(C=Mk(),y.proxy=C,C.src=h,C.listener=y,h.addEventListener)ni||(O=B),O===void 0&&(O=!1),h.addEventListener(g.toString(),C,O);else if(h.attachEvent)h.attachEvent(Kv(g.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Mk(){function h(y){return g.call(h.src,h.listener,y)}const g=Ok;return h}function Gv(h,g,y,C,O){if(Array.isArray(g))for(var L=0;L<g.length;L++)Gv(h,g[L],y,C,O);else C=c(C)?!!C.capture:!!C,y=Qv(y),h&&h[si]?(h=h.i,g=String(g).toString(),g in h.g&&(L=h.g[g],y=Rd(L,y,C,O),-1<y&&(lc(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete h.g[g],h.h--)))):h&&(h=Od(h))&&(g=h.g[g.toString()],h=-1,g&&(h=Rd(g,y,C,O)),(y=-1<h?g[h]:null)&&Md(y))}function Md(h){if(typeof h!="number"&&h&&!h.da){var g=h.src;if(g&&g[si])Nd(g.i,h);else{var y=h.type,C=h.proxy;g.removeEventListener?g.removeEventListener(y,C,h.capture):g.detachEvent?g.detachEvent(Kv(y),C):g.addListener&&g.removeListener&&g.removeListener(C),(y=Od(g))?(Nd(y,h),y.h==0&&(y.src=null,g[jd]=null)):lc(h)}}}function Kv(h){return h in Dd?Dd[h]:Dd[h]="on"+h}function Ok(h,g){if(h.da)h=!0;else{g=new ii(g,this);var y=h.listener,C=h.ha||h.src;h.fa&&Md(h),h=y.call(C,g)}return h}function Od(h){return h=h[jd],h instanceof cc?h:null}var Ld="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qv(h){return typeof h=="function"?h:(h[Ld]||(h[Ld]=function(g){return h.handleEvent(g)}),h[Ld])}function pt(){me.call(this),this.i=new cc(this),this.M=this,this.F=null}v(pt,me),pt.prototype[si]=!0,pt.prototype.removeEventListener=function(h,g,y,C){Gv(this,h,g,y,C)};function At(h,g){var y,C=h.F;if(C)for(y=[];C;C=C.F)y.push(C);if(h=h.M,C=g.type||g,typeof g=="string")g=new Ve(g,h);else if(g instanceof Ve)g.target=g.target||h;else{var O=g;g=new Ve(C,h),P(g,O)}if(O=!0,y)for(var L=y.length-1;0<=L;L--){var B=g.g=y[L];O=uc(B,C,!0,g)&&O}if(B=g.g=h,O=uc(B,C,!0,g)&&O,O=uc(B,C,!1,g)&&O,y)for(L=0;L<y.length;L++)B=g.g=y[L],O=uc(B,C,!1,g)&&O}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,g;for(g in h.g){for(var y=h.g[g],C=0;C<y.length;C++)lc(y[C]);delete h.g[g],h.h--}}this.F=null},pt.prototype.K=function(h,g,y,C){return this.i.add(String(h),g,!1,y,C)},pt.prototype.L=function(h,g,y,C){return this.i.add(String(h),g,!0,y,C)};function uc(h,g,y,C){if(g=h.i.g[String(g)],!g)return!0;g=g.concat();for(var O=!0,L=0;L<g.length;++L){var B=g[L];if(B&&!B.da&&B.capture==y){var ge=B.listener,st=B.ha||B.src;B.fa&&Nd(h.i,B),O=ge.call(st,C)!==!1&&O}}return O&&!C.defaultPrevented}function Yv(h,g,y){if(typeof h=="function")y&&(h=p(h,y));else if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(h,g||0)}function Xv(h){h.g=Yv(()=>{h.g=null,h.i&&(h.i=!1,Xv(h))},h.l);const g=h.h;h.h=null,h.m.apply(null,g)}class Lk extends me{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Xv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zo(h){me.call(this),this.h=h,this.g={}}v(Zo,me);var Jv=[];function Zv(h){M(h.g,function(g,y){this.g.hasOwnProperty(y)&&Md(g)},h),h.g={}}Zo.prototype.N=function(){Zo.aa.N.call(this),Zv(this)},Zo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vd=a.JSON.stringify,Vk=a.JSON.parse,Fk=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function Fd(){}Fd.prototype.h=null;function e0(h){return h.h||(h.h=h.i())}function t0(){}var ea={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ud(){Ve.call(this,"d")}v(Ud,Ve);function zd(){Ve.call(this,"c")}v(zd,Ve);var Br={},n0=null;function hc(){return n0=n0||new pt}Br.La="serverreachability";function i0(h){Ve.call(this,Br.La,h)}v(i0,Ve);function ta(h){const g=hc();At(g,new i0(g))}Br.STAT_EVENT="statevent";function r0(h,g){Ve.call(this,Br.STAT_EVENT,h),this.stat=g}v(r0,Ve);function Nt(h){const g=hc();At(g,new r0(g,h))}Br.Ma="timingevent";function s0(h,g){Ve.call(this,Br.Ma,h),this.size=g}v(s0,Ve);function na(h,g){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},g)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function Uk(h,g,y,C,O,L){h.info(function(){if(h.g)if(L)for(var B="",ge=L.split("&"),st=0;st<ge.length;st++){var he=ge[st].split("=");if(1<he.length){var mt=he[0];he=he[1];var gt=mt.split("_");B=2<=gt.length&&gt[1]=="type"?B+(mt+"="+he+"&"):B+(mt+"=redacted&")}}else B=null;else B=L;return"XMLHTTP REQ ("+C+") [attempt "+O+"]: "+g+`
`+y+`
`+B})}function zk(h,g,y,C,O,L,B){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+O+"]: "+g+`
`+y+`
`+L+" "+B})}function js(h,g,y,C){h.info(function(){return"XMLHTTP TEXT ("+g+"): "+$k(h,y)+(C?" "+C:"")})}function Bk(h,g){h.info(function(){return"TIMEOUT: "+g})}ia.prototype.info=function(){};function $k(h,g){if(!h.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(h=0;h<y.length;h++)if(Array.isArray(y[h])){var C=y[h];if(!(2>C.length)){var O=C[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return Vd(y)}catch{return g}}var dc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},o0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bd;function fc(){}v(fc,Fd),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},Bd=new fc;function Li(h,g,y,C){this.j=h,this.i=g,this.l=y,this.R=C||1,this.U=new Zo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new a0}function a0(){this.i=null,this.g="",this.h=!1}var l0={},$d={};function qd(h,g,y){h.L=1,h.v=yc(oi(g)),h.m=y,h.P=!0,c0(h,null)}function c0(h,g){h.F=Date.now(),pc(h),h.A=oi(h.v);var y=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),E0(y.i,"t",C),h.C=0,y=h.j.J,h.h=new a0,h.g=z0(h.j,y?g:null,!h.m),0<h.O&&(h.M=new Lk(p(h.Y,h,h.g),h.O)),g=h.U,y=h.g,C=h.ca;var O="readystatechange";Array.isArray(O)||(O&&(Jv[0]=O.toString()),O=Jv);for(var L=0;L<O.length;L++){var B=Wv(y,O[L],C||g.handleEvent,!1,g.h||g);if(!B)break;g.g[B.key]=B}g=h.H?T(h.H):{},h.m?(h.u||(h.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,g)):(h.u="GET",h.g.ea(h.A,h.u,null,g)),ta(),Uk(h.i,h.u,h.A,h.l,h.R,h.m)}Li.prototype.ca=function(h){h=h.target;const g=this.M;g&&ai(h)==3?g.j():this.Y(h)},Li.prototype.Y=function(h){try{if(h==this.g)e:{const gt=ai(this.g);var g=this.g.Ba();const Os=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||A0(this.g)))){this.J||gt!=4||g==7||(g==8||0>=Os?ta(3):ta(2)),Hd(this);var y=this.g.Z();this.X=y;t:if(u0(this)){var C=A0(this.g);h="";var O=C.length,L=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$r(this),ra(this);var B="";break t}this.h.i=new a.TextDecoder}for(g=0;g<O;g++)this.h.h=!0,h+=this.h.i.decode(C[g],{stream:!(L&&g==O-1)});C.length=0,this.h.g+=h,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=y==200,zk(this.i,this.u,this.A,this.l,this.R,gt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,st=this.g;if((ge=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(ge)){var he=ge;break t}}he=null}if(y=he)js(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wd(this,y);else{this.o=!1,this.s=3,Nt(12),$r(this),ra(this);break e}}if(this.P){y=!0;let Tn;for(;!this.J&&this.C<B.length;)if(Tn=qk(this,B),Tn==$d){gt==4&&(this.s=4,Nt(14),y=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==l0){this.s=4,Nt(15),js(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else js(this.i,this.l,Tn,null),Wd(this,Tn);if(u0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||B.length!=0||this.h.h||(this.s=1,Nt(16),y=!1),this.o=this.o&&y,!y)js(this.i,this.l,B,"[Invalid Chunked Response]"),$r(this),ra(this);else if(0<B.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Jd(mt),mt.M=!0,Nt(11))}}else js(this.i,this.l,B,null),Wd(this,B);gt==4&&$r(this),this.o&&!this.J&&(gt==4?L0(this.j,this):(this.o=!1,pc(this)))}else aP(this.g),y==400&&0<B.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),$r(this),ra(this)}}}catch{}finally{}};function u0(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function qk(h,g){var y=h.C,C=g.indexOf(`
`,y);return C==-1?$d:(y=Number(g.substring(y,C)),isNaN(y)?l0:(C+=1,C+y>g.length?$d:(g=g.slice(C,C+y),h.C=C+y,g)))}Li.prototype.cancel=function(){this.J=!0,$r(this)};function pc(h){h.S=Date.now()+h.I,h0(h,h.I)}function h0(h,g){if(h.B!=null)throw Error("WatchDog timer not null");h.B=na(p(h.ba,h),g)}function Hd(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Li.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Bk(this.i,this.A),this.L!=2&&(ta(),Nt(17)),$r(this),this.s=2,ra(this)):h0(this,this.S-h)};function ra(h){h.j.G==0||h.J||L0(h.j,h)}function $r(h){Hd(h);var g=h.M;g&&typeof g.ma=="function"&&g.ma(),h.M=null,Zv(h.U),h.g&&(g=h.g,h.g=null,g.abort(),g.ma())}function Wd(h,g){try{var y=h.j;if(y.G!=0&&(y.g==h||Gd(y.h,h))){if(!h.K&&Gd(y.h,h)&&y.G==3){try{var C=y.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var O=C;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<h.F)Ec(y),_c(y);else break e;Xd(y),Nt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=na(p(y.Za,y),6e3));if(1>=p0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Hr(y,11)}else if((h.K||y.g==h)&&Ec(y),!w(g))for(O=y.Da.g.parse(g),g=0;g<O.length;g++){let he=O[g];if(y.T=he[0],he=he[1],y.G==2)if(he[0]=="c"){y.K=he[1],y.ia=he[2];const mt=he[3];mt!=null&&(y.la=mt,y.j.info("VER="+y.la));const gt=he[4];gt!=null&&(y.Aa=gt,y.j.info("SVER="+y.Aa));const Os=he[5];Os!=null&&typeof Os=="number"&&0<Os&&(C=1.5*Os,y.L=C,y.j.info("backChannelRequestTimeoutMs_="+C)),C=y;const Tn=h.g;if(Tn){const Sc=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var L=C.h;L.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Kd(L,L.h),L.h=null))}if(C.D){const Zd=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zd&&(C.ya=Zd,we(C.I,C.D,Zd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-h.F,y.j.info("Handshake RTT: "+y.R+"ms")),C=y;var B=h;if(C.qa=U0(C,C.J?C.ia:null,C.W),B.K){m0(C.h,B);var ge=B,st=C.L;st&&(ge.I=st),ge.B&&(Hd(ge),pc(ge)),C.g=B}else M0(C);0<y.i.length&&bc(y)}else he[0]!="stop"&&he[0]!="close"||Hr(y,7);else y.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Hr(y,7):Yd(y):he[0]!="noop"&&y.l&&y.l.ta(he),y.v=0)}}ta(4)}catch{}}var Hk=class{constructor(h,g){this.g=h,this.map=g}};function d0(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function f0(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function p0(h){return h.h?1:h.g?h.g.size:0}function Gd(h,g){return h.h?h.h==g:h.g?h.g.has(g):!1}function Kd(h,g){h.g?h.g.add(g):h.h=g}function m0(h,g){h.h&&h.h==g?h.h=null:h.g&&h.g.has(g)&&h.g.delete(g)}d0.prototype.cancel=function(){if(this.i=g0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function g0(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let g=h.i;for(const y of h.g.values())g=g.concat(y.D);return g}return _(h.i)}function Wk(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var g=[],y=h.length,C=0;C<y;C++)g.push(h[C]);return g}g=[],y=0;for(C in h)g[y++]=h[C];return g}function Gk(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var g=[];h=h.length;for(var y=0;y<h;y++)g.push(y);return g}g=[],y=0;for(const C in h)g[y++]=C;return g}}}function y0(h,g){if(h.forEach&&typeof h.forEach=="function")h.forEach(g,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,g,void 0);else for(var y=Gk(h),C=Wk(h),O=C.length,L=0;L<O;L++)g.call(void 0,C[L],y&&y[L],h)}var v0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kk(h,g){if(h){h=h.split("&");for(var y=0;y<h.length;y++){var C=h[y].indexOf("="),O=null;if(0<=C){var L=h[y].substring(0,C);O=h[y].substring(C+1)}else L=h[y];g(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function qr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof qr){this.h=h.h,mc(this,h.j),this.o=h.o,this.g=h.g,gc(this,h.s),this.l=h.l;var g=h.i,y=new aa;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),x0(this,y),this.m=h.m}else h&&(g=String(h).match(v0))?(this.h=!1,mc(this,g[1]||"",!0),this.o=sa(g[2]||""),this.g=sa(g[3]||"",!0),gc(this,g[4]),this.l=sa(g[5]||"",!0),x0(this,g[6]||"",!0),this.m=sa(g[7]||"")):(this.h=!1,this.i=new aa(null,this.h))}qr.prototype.toString=function(){var h=[],g=this.j;g&&h.push(oa(g,w0,!0),":");var y=this.g;return(y||g=="file")&&(h.push("//"),(g=this.o)&&h.push(oa(g,w0,!0),"@"),h.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&h.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&h.push("/"),h.push(oa(y,y.charAt(0)=="/"?Xk:Yk,!0))),(y=this.i.toString())&&h.push("?",y),(y=this.m)&&h.push("#",oa(y,Zk)),h.join("")};function oi(h){return new qr(h)}function mc(h,g,y){h.j=y?sa(g,!0):g,h.j&&(h.j=h.j.replace(/:$/,""))}function gc(h,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);h.s=g}else h.s=null}function x0(h,g,y){g instanceof aa?(h.i=g,eP(h.i,h.h)):(y||(g=oa(g,Jk)),h.i=new aa(g,h.h))}function we(h,g,y){h.i.set(g,y)}function yc(h){return we(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function sa(h,g){return h?g?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function oa(h,g,y){return typeof h=="string"?(h=encodeURI(h).replace(g,Qk),y&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Qk(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var w0=/[#\/\?@]/g,Yk=/[#\?:]/g,Xk=/[#\?]/g,Jk=/[#\?@]/g,Zk=/#/g;function aa(h,g){this.h=this.g=null,this.i=h||null,this.j=!!g}function Vi(h){h.g||(h.g=new Map,h.h=0,h.i&&Kk(h.i,function(g,y){h.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=aa.prototype,t.add=function(h,g){Vi(this),this.i=null,h=Ds(this,h);var y=this.g.get(h);return y||this.g.set(h,y=[]),y.push(g),this.h+=1,this};function _0(h,g){Vi(h),g=Ds(h,g),h.g.has(g)&&(h.i=null,h.h-=h.g.get(g).length,h.g.delete(g))}function b0(h,g){return Vi(h),g=Ds(h,g),h.g.has(g)}t.forEach=function(h,g){Vi(this),this.g.forEach(function(y,C){y.forEach(function(O){h.call(g,O,C,this)},this)},this)},t.na=function(){Vi(this);const h=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let C=0;C<g.length;C++){const O=h[C];for(let L=0;L<O.length;L++)y.push(g[C])}return y},t.V=function(h){Vi(this);let g=[];if(typeof h=="string")b0(this,h)&&(g=g.concat(this.g.get(Ds(this,h))));else{h=Array.from(this.g.values());for(let y=0;y<h.length;y++)g=g.concat(h[y])}return g},t.set=function(h,g){return Vi(this),this.i=null,h=Ds(this,h),b0(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[g]),this.h+=1,this},t.get=function(h,g){return h?(h=this.V(h),0<h.length?String(h[0]):g):g};function E0(h,g,y){_0(h,g),0<y.length&&(h.i=null,h.g.set(Ds(h,g),_(y)),h.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var C=g[y];const L=encodeURIComponent(String(C)),B=this.V(C);for(C=0;C<B.length;C++){var O=L;B[C]!==""&&(O+="="+encodeURIComponent(String(B[C]))),h.push(O)}}return this.i=h.join("&")};function Ds(h,g){return g=String(g),h.j&&(g=g.toLowerCase()),g}function eP(h,g){g&&!h.j&&(Vi(h),h.i=null,h.g.forEach(function(y,C){var O=C.toLowerCase();C!=O&&(_0(this,C),E0(this,O,y))},h)),h.j=g}function tP(h,g){const y=new ia;if(a.Image){const C=new Image;C.onload=m(Fi,y,"TestLoadImage: loaded",!0,g,C),C.onerror=m(Fi,y,"TestLoadImage: error",!1,g,C),C.onabort=m(Fi,y,"TestLoadImage: abort",!1,g,C),C.ontimeout=m(Fi,y,"TestLoadImage: timeout",!1,g,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else g(!1)}function nP(h,g){const y=new ia,C=new AbortController,O=setTimeout(()=>{C.abort(),Fi(y,"TestPingServer: timeout",!1,g)},1e4);fetch(h,{signal:C.signal}).then(L=>{clearTimeout(O),L.ok?Fi(y,"TestPingServer: ok",!0,g):Fi(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(O),Fi(y,"TestPingServer: error",!1,g)})}function Fi(h,g,y,C,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),C(y)}catch{}}function iP(){this.g=new Fk}function rP(h,g,y){const C=y||"";try{y0(h,function(O,L){let B=O;c(O)&&(B=Vd(O)),g.push(C+L+"="+encodeURIComponent(B))})}catch(O){throw g.push(C+"type="+encodeURIComponent("_badmap")),O}}function vc(h){this.l=h.Ub||null,this.j=h.eb||!1}v(vc,Fd),vc.prototype.g=function(){return new xc(this.l,this.j)},vc.prototype.i=function(h){return function(){return h}}({});function xc(h,g){pt.call(this),this.D=h,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(xc,pt),t=xc.prototype,t.open=function(h,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=g,this.readyState=1,ca(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(g.body=h),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,la(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;T0(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function T0(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var g=h.value?h.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!h.done}))&&(this.response=this.responseText+=g)}h.done?la(this):ca(this),this.readyState==3&&T0(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,la(this))},t.Qa=function(h){this.g&&(this.response=h,la(this))},t.ga=function(){this.g&&la(this)};function la(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ca(h)}t.setRequestHeader=function(h,g){this.u.append(h,g)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,h.push(y[0]+": "+y[1]),y=g.next();return h.join(`\r
`)};function ca(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function S0(h){let g="";return M(h,function(y,C){g+=C,g+=":",g+=y,g+=`\r
`}),g}function Qd(h,g,y){e:{for(C in y){var C=!1;break e}C=!0}C||(y=S0(y),typeof h=="string"?y!=null&&encodeURIComponent(String(y)):we(h,g,y))}function Me(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Me,pt);var sP=/^https?$/i,oP=["POST","PUT"];t=Me.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,g,y,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);g=g?g.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bd.g(),this.v=this.o?e0(this.o):e0(Bd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(h),!0),this.B=!1}catch(L){C0(this,L);return}if(h=y||"",y=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var O in C)y.set(O,C[O]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const L of C.keys())y.set(L,C.get(L));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(oP,g,void 0))||C||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of y)this.g.setRequestHeader(L,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{P0(this),this.u=!0,this.g.send(h),this.u=!1}catch(L){C0(this,L)}};function C0(h,g){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=g,h.m=5,I0(h),wc(h)}function I0(h){h.A||(h.A=!0,At(h,"complete"),At(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,At(this,"complete"),At(this,"abort"),wc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),wc(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?k0(this):this.bb())},t.bb=function(){k0(this)};function k0(h){if(h.h&&typeof o<"u"&&(!h.v[1]||ai(h)!=4||h.Z()!=2)){if(h.u&&ai(h)==4)Yv(h.Ea,0,h);else if(At(h,"readystatechange"),ai(h)==4){h.h=!1;try{const B=h.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var C;if(C=B===0){var O=String(h.D).match(v0)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),C=!sP.test(O?O.toLowerCase():"")}y=C}if(y)At(h,"complete"),At(h,"success");else{h.m=6;try{var L=2<ai(h)?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.Z()+"]",I0(h)}}finally{wc(h)}}}}function wc(h,g){if(h.g){P0(h);const y=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,g||At(h,"ready");try{y.onreadystatechange=C}catch{}}}function P0(h){h.I&&(a.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var g=this.g.responseText;return h&&g.indexOf(h)==0&&(g=g.substring(h.length)),Vk(g)}};function A0(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function aP(h){const g={};h=(h.g&&2<=ai(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(w(h[C]))continue;var y=j(h[C]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=g[O]||[];g[O]=L,L.push(y)}E(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(h,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[h]||g}function N0(h){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ua("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ua("baseRetryDelayMs",5e3,h),this.cb=ua("retryDelaySeedMs",1e4,h),this.Wa=ua("forwardChannelMaxRetries",2,h),this.wa=ua("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new d0(h&&h.concurrentRequestLimit),this.Da=new iP,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=N0.prototype,t.la=8,t.G=1,t.connect=function(h,g,y,C){Nt(0),this.W=h,this.H=g||{},y&&C!==void 0&&(this.H.OSID=y,this.H.OAID=C),this.F=this.X,this.I=U0(this,null,this.W),bc(this)};function Yd(h){if(R0(h),h.G==3){var g=h.U++,y=oi(h.I);if(we(y,"SID",h.K),we(y,"RID",g),we(y,"TYPE","terminate"),ha(h,y),g=new Li(h,h.j,g),g.L=2,g.v=yc(oi(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=z0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),pc(g)}F0(h)}function _c(h){h.g&&(Jd(h),h.g.cancel(),h.g=null)}function R0(h){_c(h),h.u&&(a.clearTimeout(h.u),h.u=null),Ec(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function bc(h){if(!f0(h.h)&&!h.s){h.s=!0;var g=h.Ga;xe||ee(),$||(xe(),$=!0),X.add(g,h),h.B=0}}function lP(h,g){return p0(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=g.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=na(p(h.Ga,h,g),V0(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const O=new Li(this,this.j,h);let L=this.o;if(this.S&&(L?(L=T(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var C=this.i[y];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=D0(this,O,g),y=oi(this.I),we(y,"RID",h),we(y,"CVER",22),this.D&&we(y,"X-HTTP-Session-Id",this.D),ha(this,y),L&&(this.O?g="headers="+encodeURIComponent(String(S0(L)))+"&"+g:this.m&&Qd(y,this.m,L)),Kd(this.h,O),this.Ua&&we(y,"TYPE","init"),this.P?(we(y,"$req",g),we(y,"SID","null"),O.T=!0,qd(O,y,null)):qd(O,y,g),this.G=2}}else this.G==3&&(h?j0(this,h):this.i.length==0||f0(this.h)||j0(this))};function j0(h,g){var y;g?y=g.l:y=h.U++;const C=oi(h.I);we(C,"SID",h.K),we(C,"RID",y),we(C,"AID",h.T),ha(h,C),h.m&&h.o&&Qd(C,h.m,h.o),y=new Li(h,h.j,y,h.B+1),h.m===null&&(y.H=h.o),g&&(h.i=g.D.concat(h.i)),g=D0(h,y,1e3),y.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Kd(h.h,y),qd(y,C,g)}function ha(h,g){h.H&&M(h.H,function(y,C){we(g,C,y)}),h.l&&y0({},function(y,C){we(g,C,y)})}function D0(h,g,y){y=Math.min(h.i.length,y);var C=h.l?p(h.l.Na,h.l,h):null;e:{var O=h.i;let L=-1;for(;;){const B=["count="+y];L==-1?0<y?(L=O[0].g,B.push("ofs="+L)):L=0:B.push("ofs="+L);let ge=!0;for(let st=0;st<y;st++){let he=O[st].g;const mt=O[st].map;if(he-=L,0>he)L=Math.max(0,O[st].g-100),ge=!1;else try{rP(mt,B,"req"+he+"_")}catch{C&&C(mt)}}if(ge){C=B.join("&");break e}}}return h=h.i.splice(0,y),g.D=h,C}function M0(h){if(!h.g&&!h.u){h.Y=1;var g=h.Fa;xe||ee(),$||(xe(),$=!0),X.add(g,h),h.v=0}}function Xd(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=na(p(h.Fa,h),V0(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,O0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=na(p(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),_c(this),O0(this))};function Jd(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function O0(h){h.g=new Li(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var g=oi(h.qa);we(g,"RID","rpc"),we(g,"SID",h.K),we(g,"AID",h.T),we(g,"CI",h.F?"0":"1"),!h.F&&h.ja&&we(g,"TO",h.ja),we(g,"TYPE","xmlhttp"),ha(h,g),h.m&&h.o&&Qd(g,h.m,h.o),h.L&&(h.g.I=h.L);var y=h.g;h=h.ia,y.L=1,y.v=yc(oi(g)),y.m=null,y.P=!0,c0(y,h)}t.Za=function(){this.C!=null&&(this.C=null,_c(this),Xd(this),Nt(19))};function Ec(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function L0(h,g){var y=null;if(h.g==g){Ec(h),Jd(h),h.g=null;var C=2}else if(Gd(h.h,g))y=g.D,m0(h.h,g),C=1;else return;if(h.G!=0){if(g.o)if(C==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var O=h.B;C=hc(),At(C,new s0(C,y)),bc(h)}else M0(h);else if(O=g.s,O==3||O==0&&0<g.X||!(C==1&&lP(h,g)||C==2&&Xd(h)))switch(y&&0<y.length&&(g=h.h,g.i=g.i.concat(y)),O){case 1:Hr(h,5);break;case 4:Hr(h,10);break;case 3:Hr(h,6);break;default:Hr(h,2)}}}function V0(h,g){let y=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(y*=2),y*g}function Hr(h,g){if(h.j.info("Error code "+g),g==2){var y=p(h.fb,h),C=h.Xa;const O=!C;C=new qr(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||mc(C,"https"),yc(C),O?tP(C.toString(),y):nP(C.toString(),y)}else Nt(2);h.G=0,h.l&&h.l.sa(g),F0(h),R0(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function F0(h){if(h.G=0,h.ka=[],h.l){const g=g0(h.h);(g.length!=0||h.i.length!=0)&&(S(h.ka,g),S(h.ka,h.i),h.h.i.length=0,_(h.i),h.i.length=0),h.l.ra()}}function U0(h,g,y){var C=y instanceof qr?oi(y):new qr(y);if(C.g!="")g&&(C.g=g+"."+C.g),gc(C,C.s);else{var O=a.location;C=O.protocol,g=g?g+"."+O.hostname:O.hostname,O=+O.port;var L=new qr(null);C&&mc(L,C),g&&(L.g=g),O&&gc(L,O),y&&(L.l=y),C=L}return y=h.D,g=h.ya,y&&g&&we(C,y,g),we(C,"VER",h.la),ha(h,C),C}function z0(h,g,y){if(g&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=h.Ca&&!h.pa?new Me(new vc({eb:y})):new Me(h.pa),g.Ha(h.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function B0(){}t=B0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tc(){}Tc.prototype.g=function(h,g){return new Kt(h,g)};function Kt(h,g){pt.call(this),this.g=new N0(g),this.l=h,this.h=g&&g.messageUrlParams||null,h=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(h?h["X-WebChannel-Content-Type"]=g.messageContentType:h={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(h?h["X-WebChannel-Client-Profile"]=g.va:h={"X-WebChannel-Client-Profile":g.va}),this.g.S=h,(h=g&&g.Sb)&&!w(h)&&(this.g.m=h),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!w(g)&&(this.g.D=g,h=this.h,h!==null&&g in h&&(h=this.h,g in h&&delete h[g])),this.j=new Ms(this)}v(Kt,pt),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Yd(this.g)},Kt.prototype.o=function(h){var g=this.g;if(typeof h=="string"){var y={};y.__data__=h,h=y}else this.u&&(y={},y.__data__=Vd(h),h=y);g.i.push(new Hk(g.Ya++,h)),g.G==3&&bc(g)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Yd(this.g),delete this.g,Kt.aa.N.call(this)};function $0(h){Ud.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var g=h.__sm__;if(g){e:{for(const y in g){h=y;break e}h=void 0}(this.i=h)&&(h=this.i,g=g!==null&&h in g?g[h]:void 0),this.data=g}else this.data=h}v($0,Ud);function q0(){zd.call(this),this.status=1}v(q0,zd);function Ms(h){this.g=h}v(Ms,B0),Ms.prototype.ua=function(){At(this.g,"a")},Ms.prototype.ta=function(h){At(this.g,new $0(h))},Ms.prototype.sa=function(h){At(this.g,new q0)},Ms.prototype.ra=function(){At(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,bC=function(){return new Tc},_C=function(){return hc()},wC=Br,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dc.NO_ERROR=0,dc.TIMEOUT=8,dc.HTTP_ERROR=6,yu=dc,o0.COMPLETE="complete",xC=o0,t0.EventType=ea,ea.OPEN="a",ea.CLOSE="b",ea.ERROR="c",ea.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Aa=t0,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,vC=Me}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const sb="@firebase/firestore",ob="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Ky("@firebase/firestore");function Fs(){return xs.logLevel}function q(t,...e){if(xs.logLevel<=ae.DEBUG){const n=e.map(Xy);xs.debug(`Firestore (${Go}): ${t}`,...n)}}function Ai(t,...e){if(xs.logLevel<=ae.ERROR){const n=e.map(Xy);xs.error(`Firestore (${Go}): ${t}`,...n)}}function Ro(t,...e){if(xs.logLevel<=ae.WARN){const n=e.map(Xy);xs.warn(`Firestore (${Go}): ${t}`,...n)}}function Xy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+t;throw Ai(e),new Error(e)}function fe(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends Mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class SF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CF{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string"),new EC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new _t(e)}}class IF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class kF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new IF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ab{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PF{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ab(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new ab(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=AF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function re(t,e){return t<e?-1:t>e?1:0}function Vm(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return re(i,r);{const s=TC(),o=NF(s.encode(lb(t,n)),s.encode(lb(e,n)));return o!==0?o:re(i,r)}}n+=i>65535?2:1}return re(t.length,e.length)}function lb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function NF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function jo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=-62135596800,ub=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*ub);return new Xe(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<cb)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ub}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Xe(0,0))}static max(){return new te(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="__name__";class $n{constructor(e,n,i){n===void 0?n=0:n>e.length&&Z(),i===void 0?i=e.length-n:i>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=$n.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return re(e.length,n.length)}static compareSegments(e,n){const i=$n.isNumericId(e),r=$n.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?$n.extractNumericId(e).compare($n.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mr.fromString(e.substring(4,e.length-2))}}class be extends $n{construct(e,n,i){return new be(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new H(V.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new be(n)}static emptyPath(){return new be([])}}const RF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ct extends $n{construct(e,n,i){return new ct(e,n,i)}static isValidIdentifier(e){return RF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hb}static keyField(){return new ct([hb])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new H(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new H(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ct(n)}static emptyPath(){return new ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(be.fromString(e))}static fromName(e){return new G(be.fromString(e).popFirst(5))}static empty(){return new G(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new be(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nl=-1;function jF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=te.fromTimestamp(i===1e9?new Xe(n+1,0):new Xe(n,i));return new Er(r,G.empty(),e)}function DF(t){return new Er(t.readTime,t.key,Nl)}class Er{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Er(te.min(),G.empty(),Nl)}static max(){return new Er(te.max(),G.empty(),Nl)}}function MF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==OF)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,i)=>{n(e)})}static reject(e){return new F((n,i)=>{i(e)})}static waitFor(e){return new F((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=F.resolve(!1);for(const i of e)n=n.next(r=>r?F.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new F((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new F((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function VF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-1;function od(t){return t==null}function fh(t){return t===0&&1/t==-1/0}function FF(t){return typeof t=="number"&&Number.isInteger(t)&&!fh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="";function UF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=db(e)),e=zF(t.get(n),e);return db(e)}function zF(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case CC:n+="";break;default:n+=s}}return n}function db(t){return t+CC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Or(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??lt.RED,this.left=r??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new lt(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return lt.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,i,r,s){return this}insert(e,n,i){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pb(this.data.getIterator())}getIteratorFrom(e){return new pb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class pb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(ct.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new Je(ct.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new kC("Invalid base64 string: "+s):s}}(e);return new ft(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const BF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(fe(!!t),typeof t=="string"){let e=0;const n=BF.exec(t);if(fe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sr(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="server_timestamp",AC="__type__",NC="__previous_value__",RC="__local_write_time__";function Zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[AC])===null||n===void 0?void 0:n.stringValue)===PC}function ad(t){const e=t.mapValue.fields[NC];return Zy(e)?ad(e):e}function Rl(t){const e=Tr(t.mapValue.fields[RC].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const ph="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="__type__",DC="__max__",Qc={mapValue:{fields:{__type__:{stringValue:DC}}}},MC="__vector__",mh="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zy(t)?4:HF(t)?9007199254740991:qF(t)?10:11:Z()}function ei(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Tr(r.timestampValue),a=Tr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Sr(r.bytesValue).isEqual(Sr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ue(r.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ue(r.integerValue)===Ue(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ue(r.doubleValue),a=Ue(s.doubleValue);return o===a?fh(o)===fh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(fb(o)!==fb(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ei(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Dl(t,e){return(t.values||[]).find(n=>ei(n,e))!==void 0}function Do(t,e){if(t===e)return 0;const n=Cr(t),i=Cr(e);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),l=Ue(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mb(t.timestampValue,e.timestampValue);case 4:return mb(Rl(t),Rl(e));case 5:return Vm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Sr(s),l=Sr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=re(a[c],l[c]);if(d!==0)return d}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ue(s.latitude),Ue(o.latitude));return a!==0?a:re(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},m=(a=f[mh])===null||a===void 0?void 0:a.arrayValue,v=(l=p[mh])===null||l===void 0?void 0:l.arrayValue,_=re(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:gb(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Qc.mapValue&&o===Qc.mapValue)return 0;if(s===Qc.mapValue)return 1;if(o===Qc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Vm(l[f],d[f]);if(p!==0)return p;const m=Do(a[l[f]],c[d[f]]);if(m!==0)return m}return re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function mb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Tr(t),i=Tr(e),r=re(n.seconds,i.seconds);return r!==0?r:re(n.nanos,i.nanos)}function gb(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Do(n[r],i[r]);if(s)return s}return re(n.length,i.length)}function Mo(t){return Fm(t)}function Fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Tr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Fm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Fm(n.fields[o])}`;return r+"}"}(t.mapValue):Z()}function vu(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ad(t);return e?16+vu(e):16;case 5:return 2*t.stringValue.length;case 6:return Sr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+vu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Or(i.fields,(s,o)=>{r+=s.length+vu(o)}),r}(t.mapValue);default:throw Z()}}function yb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Um(t){return!!t&&"integerValue"in t}function ev(t){return!!t&&"arrayValue"in t}function vb(t){return!!t&&"nullValue"in t}function xb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xu(t){return!!t&&"mapValue"in t}function qF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[jC])===null||n===void 0?void 0:n.stringValue)===MC}function Xa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Or(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Xa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!xu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(n)}setAll(e){let n=ct.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Xa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());xu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];xu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Or(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new zt(Xa(this.value))}}function OC(t){const e=[];return Or(t.fields,(n,i)=>{const r=new ct([n]);if(xu(i)){const s=OC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,te.min(),te.min(),te.min(),zt.empty(),0)}static newFoundDocument(e,n,i,r){return new Et(e,1,n,te.min(),i,r,0)}static newNoDocument(e,n){return new Et(e,2,n,te.min(),te.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,te.min(),te.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function wb(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(o.referenceValue),n.key):i=Do(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function _b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ei(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n="asc"){this.field=e,this.dir=n}}function WF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{}class We extends LC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new KF(e,n,i):n==="array-contains"?new XF(e,i):n==="in"?new JF(e,i):n==="not-in"?new ZF(e,i):n==="array-contains-any"?new eU(e,i):new We(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new QF(e,i):new YF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fn extends LC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Fn(e,n)}matches(e){return VC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function VC(t){return t.op==="and"}function FC(t){return GF(t)&&VC(t)}function GF(t){for(const e of t.filters)if(e instanceof Fn)return!1;return!0}function zm(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(FC(t))return t.filters.map(e=>zm(e)).join(",");{const e=t.filters.map(n=>zm(n)).join(",");return`${t.op}(${e})`}}function UC(t,e){return t instanceof We?function(i,r){return r instanceof We&&i.op===r.op&&i.field.isEqual(r.field)&&ei(i.value,r.value)}(t,e):t instanceof Fn?function(i,r){return r instanceof Fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&UC(o,r.filters[a]),!0):!1}(t,e):void Z()}function zC(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Fn?function(n){return n.op.toString()+" {"+n.getFilters().map(zC).join(" ,")+"}"}(t):"Filter"}class KF extends We{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class QF extends We{constructor(e,n){super(e,"in",n),this.keys=BC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YF extends We{constructor(e,n){super(e,"not-in",n),this.keys=BC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class XF extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ev(n)&&Dl(n.arrayValue,this.value)}}class JF extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class ZF extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class eU extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ev(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Dl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function bb(t,e=null,n=[],i=[],r=null,s=null,o=null){return new tU(t,e,n,i,r,s,o)}function tv(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>zm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Mo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Mo(i)).join(",")),e.le=n}return e.le}function nv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!WF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_b(t.startAt,e.startAt)&&_b(t.endAt,e.endAt)}function Bm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function nU(t,e,n,i,r,s,o,a){return new Yo(t,e,n,i,r,s,o,a)}function ld(t){return new Yo(t)}function Eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $C(t){return t.collectionGroup!==null}function Ja(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(ct.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Ml(s,i))}),n.has(ct.keyField().canonicalString())||e.he.push(new Ml(ct.keyField(),i))}return e.he}function Yn(t){const e=ne(t);return e.Pe||(e.Pe=iU(e,Ja(t))),e.Pe}function iU(t,e){if(t.limitType==="F")return bb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ml(r.field,s)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return bb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function $m(t,e){const n=t.filters.concat([e]);return new Yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qm(t,e,n){return new Yo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cd(t,e){return nv(Yn(t),Yn(e))&&t.limitType===e.limitType}function qC(t){return`${tv(Yn(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>zC(r)).join(", ")}]`),od(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Mo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Mo(r)).join(",")),`Target(${i})`}(Yn(t))}; limitType=${t.limitType})`}function ud(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Ja(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=wb(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Ja(i),r)||i.endAt&&!function(o,a,l){const c=wb(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Ja(i),r))}(t,e)}function rU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HC(t){return(e,n)=>{let i=!1;for(const r of Ja(t)){const s=sU(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function sU(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Do(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Or(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return IC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new De(G.comparator);function Ni(){return oU}const WC=new De(G.comparator);function Na(...t){let e=WC;for(const n of t)e=e.insert(n.key,n);return e}function GC(t){let e=WC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function ns(){return Za()}function KC(){return Za()}function Za(){return new Is(t=>t.toString(),(t,e)=>t.isEqual(e))}const aU=new De(G.comparator),lU=new Je(G.comparator);function le(...t){let e=lU;for(const n of t)e=e.add(n);return e}const cU=new Je(re);function uU(){return cU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function QC(t){return{integerValue:""+t}}function hU(t,e){return FF(e)?QC(e):iv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(){this._=void 0}}function dU(t,e,n){return t instanceof Ol?function(r,s){const o={fields:{[AC]:{stringValue:PC},[RC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Zy(s)&&(s=ad(s)),s&&(o.fields[NC]=s),{mapValue:o}}(n,e):t instanceof Ll?XC(t,e):t instanceof Vl?JC(t,e):function(r,s){const o=YC(r,s),a=Tb(o)+Tb(r.Ie);return Um(o)&&Um(r.Ie)?QC(a):iv(r.serializer,a)}(t,e)}function fU(t,e,n){return t instanceof Ll?XC(t,e):t instanceof Vl?JC(t,e):n}function YC(t,e){return t instanceof yh?function(i){return Um(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Ol extends hd{}class Ll extends hd{constructor(e){super(),this.elements=e}}function XC(t,e){const n=ZC(e);for(const i of t.elements)n.some(r=>ei(r,i))||n.push(i);return{arrayValue:{values:n}}}class Vl extends hd{constructor(e){super(),this.elements=e}}function JC(t,e){let n=ZC(e);for(const i of t.elements)n=n.filter(r=>!ei(r,i));return{arrayValue:{values:n}}}class yh extends hd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Tb(t){return Ue(t.integerValue||t.doubleValue)}function ZC(t){return ev(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n){this.field=e,this.transform=n}}function mU(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ll&&r instanceof Ll||i instanceof Vl&&r instanceof Vl?jo(i.elements,r.elements,ei):i instanceof yh&&r instanceof yh?ei(i.Ie,r.Ie):i instanceof Ol&&r instanceof Ol}(t.transform,e.transform)}class gU{constructor(e,n){this.version=e,this.transformResults=n}}class xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xn}static exists(e){return new xn(void 0,e)}static updateTime(e){return new xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class dd{}function eI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rv(t.key,xn.none()):new Zl(t.key,t.data,xn.none());{const n=t.data,i=zt.empty();let r=new Je(ct.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Lr(t.key,i,new Zt(r.toArray()),xn.none())}}function yU(t,e,n){t instanceof Zl?function(r,s,o){const a=r.value.clone(),l=Cb(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(r,s,o){if(!wu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Cb(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(tI(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function el(t,e,n,i){return t instanceof Zl?function(s,o,a,l){if(!wu(s.precondition,o))return a;const c=s.value.clone(),d=Ib(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Lr?function(s,o,a,l){if(!wu(s.precondition,o))return a;const c=Ib(s.fieldTransforms,l,o),d=o.data;return d.setAll(tI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return wu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function vU(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=YC(i.transform,r||null);s!=null&&(n===null&&(n=zt.empty()),n.set(i.field,s))}return n||null}function Sb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&jo(i,r,(s,o)=>mU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zl extends dd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Lr extends dd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function tI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Cb(t,e,n){const i=new Map;fe(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,fU(o,a,n[r]))}return i}function Ib(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,dU(s,o,e))}return i}class rv extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xU extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&yU(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=el(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=el(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=KC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=eI(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,i)=>Sb(n,i))&&jo(this.baseMutations,e.baseMutations,(n,i)=>Sb(n,i))}}class sv{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length);let r=function(){return aU}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new sv(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ce;function EU(t){switch(t){case V.OK:return Z();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Z()}}function nI(t){if(t===void 0)return Ai("GRPC error has no .code"),V.UNKNOWN;switch(t){case qe.OK:return V.OK;case qe.CANCELLED:return V.CANCELLED;case qe.UNKNOWN:return V.UNKNOWN;case qe.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case qe.INTERNAL:return V.INTERNAL;case qe.UNAVAILABLE:return V.UNAVAILABLE;case qe.UNAUTHENTICATED:return V.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case qe.NOT_FOUND:return V.NOT_FOUND;case qe.ALREADY_EXISTS:return V.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return V.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case qe.ABORTED:return V.ABORTED;case qe.OUT_OF_RANGE:return V.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return V.UNIMPLEMENTED;case qe.DATA_LOSS:return V.DATA_LOSS;default:return Z()}}(ce=qe||(qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=new mr([4294967295,4294967295],0);function kb(t){const e=TC().encode(t),n=new yC;return n.update(e),new Uint8Array(n.digest())}function Pb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mr([n,i],0),new mr([r,s],0)]}class ov{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ra(`Invalid padding: ${n}`);if(i<0)throw new Ra(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ra(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ra(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=mr.fromNumber(this.Ee)}Ae(e,n,i){let r=e.add(n.multiply(mr.fromNumber(i)));return r.compare(TU)===1&&(r=new mr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=kb(e),[i,r]=Pb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);if(!this.Re(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new ov(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=kb(e),[i,r]=Pb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ra extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new fd(te.min(),r,new De(re),Ni(),le())}}class ec{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new ec(i,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,i,r){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=r}}class iI{constructor(e,n){this.targetId=e,this.ge=n}}class rI{constructor(e,n,i=ft.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class Ab{constructor(){this.pe=0,this.ye=Nb(),this.we=ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=le(),n=le(),i=le();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Z()}}),new ec(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=Nb()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class SU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=Yc(),this.Ue=Yc(),this.Ke=new De(re)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,i=e.ge.count,r=this.Xe(n);if(r){const s=r.target;if(Bm(s))if(i===0){const o=new G(s.path);this.ze(n,o,Et.newNoDocument(o,te.min()))}else fe(i===1);else{const o=this.et(n);if(o!==i){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Sr(i).toUint8Array()}catch(l){if(l instanceof kC)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ov(o,r,s)}catch(l){return Ro(l instanceof Ra?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Bm(a.target)){const l=new G(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,Et.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let i=le();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const r=new fd(e,n,this.Ke,this.Qe,i);return this.Qe=Ni(),this.$e=Yc(),this.Ue=Yc(),this.Ke=new De(re),r}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Ab,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Je(re),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Je(re),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ab),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new De(G.comparator)}function Nb(){return new De(G.comparator)}const CU={asc:"ASCENDING",desc:"DESCENDING"},IU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kU={and:"AND",or:"OR"};class PU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(t,e){return t.useProto3Json||od(e)?e:{value:e}}function vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AU(t,e){return vh(t,e.toTimestamp())}function Xn(t){return fe(!!t),te.fromTimestamp(function(n){const i=Tr(n);return new Xe(i.seconds,i.nanos)}(t))}function av(t,e){return Wm(t,e).canonicalString()}function Wm(t,e){const n=function(r){return new be(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oI(t){const e=be.fromString(t);return fe(hI(e)),e}function Gm(t,e){return av(t.databaseId,e.path)}function cp(t,e){const n=oI(e);if(n.get(1)!==t.databaseId.projectId)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(lI(n))}function aI(t,e){return av(t.databaseId,e)}function NU(t){const e=oI(t);return e.length===4?be.emptyPath():lI(e)}function Km(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lI(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Rb(t,e,n){return{name:Gm(t,e),fields:n.value.mapValue.fields}}function RU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(fe(d===void 0||typeof d=="string"),ft.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?V.UNKNOWN:nI(c.code);return new H(d,c.message||"")}(o);n=new rI(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=cp(t,i.document.name),s=Xn(i.document.updateTime),o=i.document.createTime?Xn(i.document.createTime):te.min(),a=new zt({mapValue:{fields:i.document.fields}}),l=Et.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new _u(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=cp(t,i.document),s=i.readTime?Xn(i.readTime):te.min(),o=Et.newNoDocument(r,s),a=i.removedTargetIds||[];n=new _u([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=cp(t,i.document),s=i.removedTargetIds||[];n=new _u([],s,r,null)}else{if(!("filter"in e))return Z();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new bU(r,s),a=i.targetId;n=new iI(a,o)}}return n}function jU(t,e){let n;if(e instanceof Zl)n={update:Rb(t,e.key,e.value)};else if(e instanceof rv)n={delete:Gm(t,e.key)};else if(e instanceof Lr)n={update:Rb(t,e.key,e.data),updateMask:BU(e.fieldMask)};else{if(!(e instanceof xU))return Z();n={verify:Gm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof yh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:AU(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function DU(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Xn(r.updateTime):Xn(s);return o.isEqual(te.min())&&(o=Xn(s)),new gU(o,r.transformResults||[])}(n,e))):[]}function MU(t,e){return{documents:[aI(t,e.path)]}}function OU(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=aI(t,r);const s=function(c){if(c.length!==0)return uI(Fn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:zs(p.field),direction:FU(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Hm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:r}}function LU(t){let e=NU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=cI(f);return p instanceof Fn&&FC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new Ml(Bs(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,od(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new gh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new gh(m,p)}(n.endAt)),nU(e,r,o,s,a,"F",l,c)}function VU(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Bs(n.unaryFilter.field);return We.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Bs(n.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Bs(n.unaryFilter.field);return We.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Bs(n.unaryFilter.field);return We.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Bs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fn.create(n.compositeFilter.filters.map(i=>cI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function FU(t){return CU[t]}function UU(t){return IU[t]}function zU(t){return kU[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Bs(t){return ct.fromServerFormat(t.fieldPath)}function uI(t){return t instanceof We?function(n){if(n.op==="=="){if(xb(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(vb(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xb(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(vb(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:UU(n.op),value:n.value}}}(t):t instanceof Fn?function(n){const i=n.getFilters().map(r=>uI(r));return i.length===1?i[0]:{compositeFilter:{op:zU(n.op),filters:i}}}(t):Z()}function BU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,i,r,s=te.min(),o=te.min(),a=ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.Tt=e}}function qU(t){const e=LU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.Tn=new WU}addToCollectionParentIndex(e,n){return this.Tn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Er.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Er.min())}updateCollectionGroup(e,n,i){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class WU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Je(be.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Je(be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dI=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(dI,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Oo(0)}static Kn(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db="LruGarbageCollector",GU=1048576;function Mb([t,e],[n,i]){const r=re(t,n);return r===0?re(e,i):r}class KU{constructor(e){this.Hn=e,this.buffer=new Je(Mb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();Mb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class QU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(Db,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?q(Db,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.er(3e5)})}}class YU{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return F.resolve(sd.ae);const i=new KU(n);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(jb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jb):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,r,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),Fs()<=ae.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function XU(t,e){return new YU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(){this.changes=new Is(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?F.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&el(i.mutation,r,Zt.empty(),Xe.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){const r=ns();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Na();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=ns();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ni();const o=Za(),a=function(){return Za()}();return n.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Lr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),el(d.mutation,c,d.mutation.getFieldMask(),Xe.now())):o.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new ZU(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Za();let r=new De((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=i.get(l)||Zt.empty();d=a.applyToLocalView(c,d),i.set(l,d);const f=(r.get(a.batchId)||le()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=KC();d.forEach(p=>{if(!s.has(p)){const m=eI(n.get(p),i.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$C(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):F.resolve(ns());let a=Nl,l=s;return o.next(c=>F.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(d=>({batchId:a,changes:GC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=Na();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Na();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const c=function(f,p){return new Yo(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Et.newInvalidDocument(d)))});let a=Na();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&el(d.mutation,c,Zt.empty(),Xe.now()),ud(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Xn(r.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:qU(r.bundledQuery),readTime:Xn(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(){this.overlays=new De(G.comparator),this.Rr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const i=ns();return F.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.Et(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),F.resolve()}getOverlaysForCollection(e,n,i){const r=ns(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return F.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new De((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=ns(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=ns(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return F.resolve(a)}Et(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new _U(n,i));let s=this.Rr.get(n);s===void 0&&(s=le(),this.Rr.set(n,s)),this.Rr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.Vr=new Je(et.mr),this.gr=new Je(et.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new et(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new et(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new G(new be([])),i=new et(n,e),r=new et(n,e+1),s=[];return this.gr.forEachInRange([i,r],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new G(new be([])),i=new et(n,e),r=new et(n,e+1);let s=le();return this.gr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class et{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return G.comparator(e.key,n.key)||re(e.Cr,n.Cr)}static pr(e,n){return re(e.Cr,n.Cr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Je(et.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new wU(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Nr(i),s=r<0?0:r;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Jy:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new et(n,0),r=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],o=>{const a=this.Or(o.Cr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Je(re);return n.forEach(r=>{const s=new et(r,0),o=new et(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{i=i.add(a.Cr)})}),F.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const o=new et(new G(s),0);let a=new Je(re);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Cr)),!0)},o),F.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return F.forEach(n.mutations,r=>{const s=new et(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new et(n,0),r=this.Mr.firstAfterOrEqual(i);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.kr=e,this.docs=function(){return new De(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return F.resolve(i?i.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let i=Ni();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Et.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ni();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||MF(DF(d),i)<=0||(r.has(d.key)||ud(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Z()}qr(e,n){return F.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new oz(this)}getSize(e){return F.resolve(this.size)}}class oz extends JU{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),F.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e){this.persistence=e,this.Qr=new Is(n=>tv(n),nv),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new lv,this.targetCount=0,this.Kr=Oo.Un()}forEachTarget(e,n){return this.Qr.forEach((i,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),F.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.zn(n),F.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),F.waitFor(s).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return F.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),F.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),F.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return F.resolve(i)}containsKey(e,n){return F.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new sd(0),this.zr=!1,this.zr=!0,this.jr=new iz,this.referenceDelegate=e(this),this.Hr=new az(this),this.indexManager=new HU,this.remoteDocumentCache=function(r){return new sz(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new $U(n),this.Yr=new tz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new rz(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new lz(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,n){return F.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class lz extends LF{constructor(e){super(),this.currentSequenceNumber=e}}class cv{constructor(e){this.persistence=e,this.ti=new lv,this.ni=null}static ri(e){return new cv(e)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),F.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,i=>{const r=G.fromPath(i);return this.si(e,r).next(s=>{s||n.removeEntry(r,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.oi=new Is(i=>UF(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=XU(this,n)}static ri(e,n){return new xh(e,n)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return F.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?F.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,n).next(a=>{a||(i++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vu(e.data.value)),n}ar(e,n,i){return F.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return F.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(e,n){let i=le(),r=le();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new uv(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return o6()?8:VF(Pt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new cz;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,i,r){return i.documentReadCount<this.es?(Fs()<=ae.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(Fs()<=ae.DEBUG&&q("QueryEngine","Query:",Us(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Fs()<=ae.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yn(n))):F.resolve())}rs(e,n){if(Eb(n))return F.resolve(null);let i=Yn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=qm(n,null,"F"),i=Yn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=le(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,qm(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,i,r){return Eb(n)||r.isEqual(te.min())?F.resolve(null):this.ns.getDocuments(e,i).next(s=>{const o=this.cs(n,s);return this.ls(n,o,i,r)?F.resolve(null):(Fs()<=ae.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Us(n)),this.hs(e,o,n,jF(r,Nl)).next(a=>a))})}cs(e,n){let i=new Je(HC(e));return n.forEach((r,s)=>{ud(e,s)&&(i=i.add(s))}),i}ls(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,n,i){return Fs()<=ae.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Us(n)),this.ns.getDocumentsMatchingQuery(e,n,Er.min(),i)}hs(e,n,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="LocalStore",hz=3e8;class dz{constructor(e,n,i,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new De(re),this.Is=new Is(s=>tv(s),nv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ez(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function fz(t,e,n,i){return new dz(t,e,n,i)}async function pI(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=le();for(const c of r){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function pz(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=F.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(_=>{const S=c.docVersions.get(v);fe(S!==null),_.version.compareTo(S)<0&&(f.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),d.addEntry(_)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function mI(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function mz(t,e){const n=ne(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(ft.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,i)),r=r.insert(f,m),function(_,S,x){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=hz?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Hr.updateTargetData(s,m))});let l=Ni(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(gz(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!i.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=r,s))}function gz(t,e,n){let i=le(),r=le();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ni();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(hv,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:r}})}function yz(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Jy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function vz(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,e).next(s=>s?(r=s,F.resolve(r)):n.Hr.allocateTargetId(i).next(o=>(r=new er(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Qm(t,e,n){const i=ne(t),r=i.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Qo(o))throw o;q(hv,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function Ob(t,e,n){const i=ne(t);let r=te.min(),s=le();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ne(l),p=f.Is.get(d);return p!==void 0?F.resolve(f.Ts.get(p)):f.Hr.getTargetData(c,d)}(i,o,Yn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,n?r:te.min(),n?s:le())).next(a=>(xz(i,rU(e),a),{documents:a,gs:s})))}function xz(t,e,n){let i=t.Es.get(e)||te.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Es.set(e,i)}class Lb{constructor(){this.activeTargetIds=uU()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wz{constructor(){this.ho=new Lb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Lb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="ConnectivityMonitor";class Fb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(Vb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(Vb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Ym(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="RestConnection",bz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ez{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===ph?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,n,i,r,s){const o=Ym(),a=this.bo(e,n.toUriEncodedString());q(up,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,r,s),this.vo(e,a,l,i).then(c=>(q(up,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ro(up,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}Co(e,n,i,r,s,o){return this.So(e,n,i,r,s)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}bo(e,n){const i=bz[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tz{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class Sz extends Ez{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,r){const s=Ym();return new Promise((o,a)=>{const l=new vC;l.setWithCredentials(!0),l.listenOnce(xC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yu.NO_ERROR:const d=l.getResponseJson();q(xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case yu.TIMEOUT:q(xt,`RPC '${e}' ${s} timed out`),a(new H(V.DEADLINE_EXCEEDED,"Request time out"));break;case yu.HTTP_ERROR:const f=l.getStatus();if(q(xt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(x)>=0?x:V.UNKNOWN}(m.status);a(new H(v,m.message))}else a(new H(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(V.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{q(xt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);q(xt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Wo(e,n,i){const r=Ym(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=bC(),a=_C(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=s.join("");q(xt,`Creating RPC '${e}' stream ${r}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,m=!1;const v=new Tz({Fo:S=>{m?q(xt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(p||(q(xt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),q(xt,`RPC '${e}' stream ${r} sending:`,S),f.send(S))},Mo:()=>f.close()}),_=(S,x,w)=>{S.listen(x,b=>{try{w(b)}catch(I){setTimeout(()=>{throw I},0)}})};return _(f,Aa.EventType.OPEN,()=>{m||(q(xt,`RPC '${e}' stream ${r} transport opened.`),v.Qo())}),_(f,Aa.EventType.CLOSE,()=>{m||(m=!0,q(xt,`RPC '${e}' stream ${r} transport closed`),v.Uo())}),_(f,Aa.EventType.ERROR,S=>{m||(m=!0,Ro(xt,`RPC '${e}' stream ${r} transport errored:`,S),v.Uo(new H(V.UNAVAILABLE,"The operation could not be completed")))}),_(f,Aa.EventType.MESSAGE,S=>{var x;if(!m){const w=S.data[0];fe(!!w);const b=w,I=(b==null?void 0:b.error)||((x=b[0])===null||x===void 0?void 0:x.error);if(I){q(xt,`RPC '${e}' stream ${r} received error:`,I);const R=I.status;let M=function(k){const P=qe[k];if(P!==void 0)return nI(P)}(R),E=I.message;M===void 0&&(M=V.INTERNAL,E="Unknown error status: "+R+" with message "+I.message),m=!0,v.Uo(new H(M,E)),f.close()}else q(xt,`RPC '${e}' stream ${r} received:`,w),v.Ko(w)}}),_(a,wC.STAT_EVENT,S=>{S.stat===Lm.PROXY?q(xt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===Lm.NOPROXY&&q(xt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(t){return new PU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="PersistentStream";class yI{constructor(e,n,i,r,s,o,a,l){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Ai(n.toString()),Ai("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{e(()=>{const r=new H(V.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(Ub,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(Ub,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Cz extends yI{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=RU(this.serializer,e),i=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Xn(o.readTime):te.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Bm(l)?{documents:MU(s,l)}:{query:OU(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=sI(s,o.resumeToken);const c=Hm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=vh(s,o.snapshotVersion.toTimestamp());const c=Hm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=VU(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.I_(n)}}class Iz extends yI{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=DU(e.writeResults,e.commitTime),i=Xn(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Km(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>jU(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{}class Pz extends kz{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Wm(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(V.UNKNOWN,s.toString())})}Co(e,n,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Wm(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(V.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Az{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ai(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="RemoteStore";class Nz{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{i.enqueueAndForget(async()=>{ks(this)&&(q(ws,"Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.W_.add(4),await tc(c),c.j_.set("Unknown"),c.W_.delete(4),await md(c)}(this))})}),this.j_=new Az(i,r)}}async function md(t){if(ks(t))for(const e of t.G_)await e(!0)}async function tc(t){for(const e of t.G_)await e(!1)}function vI(t,e){const n=ne(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),mv(n)?pv(n):Xo(n).c_()&&fv(n,e))}function dv(t,e){const n=ne(t),i=Xo(n);n.K_.delete(e),i.c_()&&xI(n,e),n.K_.size===0&&(i.c_()?i.P_():ks(n)&&n.j_.set("Unknown"))}function fv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).y_(e)}function xI(t,e){t.H_.Ne(e),Xo(t).w_(e)}function pv(t){t.H_=new SU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.j_.B_()}function mv(t){return ks(t)&&!Xo(t).u_()&&t.K_.size>0}function ks(t){return ne(t).W_.size===0}function wI(t){t.H_=void 0}async function Rz(t){t.j_.set("Online")}async function jz(t){t.K_.forEach((e,n)=>{fv(t,e)})}async function Dz(t,e){wI(t),mv(t)?(t.j_.q_(e),pv(t)):t.j_.set("Unknown")}async function Mz(t,e,n){if(t.j_.set("Online"),e instanceof rI&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.K_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.K_.delete(a),r.H_.removeTarget(a))}(t,e)}catch(i){q(ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wh(t,i)}else if(e instanceof _u?t.H_.We(e):e instanceof iI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const i=await mI(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.K_.get(c);d&&s.K_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.K_.get(l);if(!d)return;s.K_.set(l,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),xI(s,l);const f=new er(d.target,l,c,d.sequenceNumber);fv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){q(ws,"Failed to raise snapshot:",i),await wh(t,i)}}async function wh(t,e,n){if(!Qo(e))throw e;t.W_.add(1),await tc(t),t.j_.set("Offline"),n||(n=()=>mI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ws,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await md(t)})}function _I(t,e){return e().catch(n=>wh(t,n,e))}async function gd(t){const e=ne(t),n=Ir(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Jy;for(;Oz(e);)try{const r=await yz(e.localStore,i);if(r===null){e.U_.length===0&&n.P_();break}i=r.batchId,Lz(e,r)}catch(r){await wh(e,r)}bI(e)&&EI(e)}function Oz(t){return ks(t)&&t.U_.length<10}function Lz(t,e){t.U_.push(e);const n=Ir(t);n.c_()&&n.S_&&n.b_(e.mutations)}function bI(t){return ks(t)&&!Ir(t).u_()&&t.U_.length>0}function EI(t){Ir(t).start()}async function Vz(t){Ir(t).C_()}async function Fz(t){const e=Ir(t);for(const n of t.U_)e.b_(n.mutations)}async function Uz(t,e,n){const i=t.U_.shift(),r=sv.from(i,e,n);await _I(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await gd(t)}async function zz(t,e){e&&Ir(t).S_&&await async function(i,r){if(function(o){return EU(o)&&o!==V.ABORTED}(r.code)){const s=i.U_.shift();Ir(i).h_(),await _I(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await gd(i)}}(t,e),bI(t)&&EI(t)}async function zb(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q(ws,"RemoteStore received new credentials");const i=ks(n);n.W_.add(3),await tc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await md(n)}async function Bz(t,e){const n=ne(t);e?(n.W_.delete(2),await md(n)):e||(n.W_.add(2),await tc(n),n.j_.set("Unknown"))}function Xo(t){return t.J_||(t.J_=function(n,i,r){const s=ne(n);return s.M_(),new Cz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:Rz.bind(null,t),No:jz.bind(null,t),Lo:Dz.bind(null,t),p_:Mz.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),mv(t)?pv(t):t.j_.set("Unknown")):(await t.J_.stop(),wI(t))})),t.J_}function Ir(t){return t.Y_||(t.Y_=function(n,i,r){const s=ne(n);return s.M_(),new Iz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Vz.bind(null,t),Lo:zz.bind(null,t),D_:Fz.bind(null,t),v_:Uz.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await gd(t)):(await t.Y_.stop(),t.U_.length>0&&(q(ws,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new gv(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yv(t,e){if(Ai("AsyncQueue",`${e}: ${t}`),Qo(t))return new H(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=Na(),this.sortedSet=new De(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new mo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.Z_=new De(G.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Z():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Lo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,mo.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class qz{constructor(){this.queries=$b(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=ne(n),s=r.queries;r.queries=$b(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(i)})})(this,new H(V.ABORTED,"Firestore shutting down"))}}function $b(){return new Is(t=>qC(t),cd)}async function vv(t,e){const n=ne(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new $z,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(r,!0);break;case 1:s.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=yv(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&wv(n)}async function xv(t,e){const n=ne(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Hz(t,e){const n=ne(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(r)&&(i=!0);o.ea=r}}i&&wv(n)}function Wz(t,e,n){const i=ne(t),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(n);i.queries.delete(e)}function wv(t){t.ia.forEach(e=>{e.next()})}var Xm,qb;(qb=Xm||(Xm={}))._a="default",qb.Cache="cache";class _v{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Lo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class Gz{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=le(),this.mutatedKeys=le(),this.ya=HC(e),this.wa=new mo(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new Bb,r=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),m=ud(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),_=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let S=!1;p&&m?p.data.isEqual(m.data)?v!==_&&(i.track({type:3,doc:m}),S=!0):this.va(p,m)||(i.track({type:2,doc:m}),S=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),S=!0):p&&!m&&(i.track({type:1,doc:p}),S=!0,(l||c)&&(a=!0)),S&&(m?(o=o.add(m),s=_?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{wa:o,Da:i,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(m,v){const _=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return _(m)-_(v)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(i),r=r!=null&&r;const a=n&&!r?this.Fa():[],l=this.pa.size===0&&this.current&&!r?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Lo(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Bb,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new SI(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new TI(i))}),n}Oa(e){this.fa=e.gs,this.pa=le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Lo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bv="SyncEngine";class Kz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Qz{constructor(e){this.key=e,this.Ba=!1}}class Yz{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Is(a=>qC(a),cd),this.qa=new Map,this.Qa=new Set,this.$a=new De(G.comparator),this.Ua=new Map,this.Ka=new lv,this.Wa={},this.Ga=new Map,this.za=Oo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Xz(t,e,n=!0){const i=NI(t);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await CI(i,e,n,!0),r}async function Jz(t,e){const n=NI(t);await CI(n,e,!0,!1)}async function CI(t,e,n,i){const r=await vz(t.localStore,Yn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await Zz(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&vI(t.remoteStore,r),a}async function Zz(t,e,n,i,r){t.Ha=(f,p,m)=>async function(_,S,x,w){let b=S.view.ba(x);b.ls&&(b=await Ob(_.localStore,S.query,!1).then(({documents:E})=>S.view.ba(E,b)));const I=w&&w.targetChanges.get(S.targetId),R=w&&w.targetMismatches.get(S.targetId)!=null,M=S.view.applyChanges(b,_.isPrimaryClient,I,R);return Wb(_,S.targetId,M.Ma),M.snapshot}(t,f,p,m);const s=await Ob(t.localStore,e,!0),o=new Gz(e,s.gs),a=o.ba(s.documents),l=ec.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Wb(t,n,c.Ma);const d=new Kz(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function eB(t,e,n){const i=ne(t),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(o=>!cd(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Qm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&dv(i.remoteStore,r.targetId),Jm(i,r.targetId)}).catch(Ko)):(Jm(i,r.targetId),await Qm(i.localStore,r.targetId,!0))}async function tB(t,e){const n=ne(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),dv(n.remoteStore,i.targetId))}async function nB(t,e,n){const i=cB(t);try{const r=await function(o,a){const l=ne(o),c=Xe.now(),d=a.reduce((m,v)=>m.add(v.key),le());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Ni(),_=le();return l.ds.getEntries(m,d).next(S=>{v=S,v.forEach((x,w)=>{w.isValidDocument()||(_=_.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(S=>{f=S;const x=[];for(const w of a){const b=vU(w,f.get(w.key).overlayedDocument);b!=null&&x.push(new Lr(w.key,b,OC(b.value.mapValue),xn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(S=>{p=S;const x=S.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(m,S.batchId,x)})}).then(()=>({batchId:p.batchId,changes:GC(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new De(re)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(i,r.batchId,n),await nc(i,r.changes),await gd(i.remoteStore)}catch(r){const s=yv(r,"Failed to persist write");n.reject(s)}}async function II(t,e){const n=ne(t);try{const i=await mz(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Ua.get(s);o&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?fe(o.Ba):r.removedDocuments.size>0&&(fe(o.Ba),o.Ba=!1))}),await nc(n,i,e)}catch(i){await Ko(i)}}function Hb(t,e,n){const i=ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ta)p.sa(a)&&(c=!0)}),c&&wv(l)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function iB(t,e,n){const i=ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ua.get(e),s=r&&r.key;if(s){let o=new De(G.comparator);o=o.insert(s,Et.newNoDocument(s,te.min()));const a=le().add(s),l=new fd(te.min(),new Map,new De(re),o,a);await II(i,l),i.$a=i.$a.remove(s),i.Ua.delete(e),Ev(i)}else await Qm(i.localStore,e,!1).then(()=>Jm(i,e,n)).catch(Ko)}async function rB(t,e){const n=ne(t),i=e.batch.batchId;try{const r=await pz(n.localStore,e);PI(n,i,null),kI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await nc(n,r)}catch(r){await Ko(r)}}async function sB(t,e,n){const i=ne(t);try{const r=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(fe(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);PI(i,e,n),kI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await nc(i,r)}catch(r){await Ko(r)}}function kI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function PI(t,e,n){const i=ne(t);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function Jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||AI(t,i)})}function AI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(dv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Ev(t))}function Wb(t,e,n){for(const i of n)i instanceof TI?(t.Ka.addReference(i.key,e),oB(t,i)):i instanceof SI?(q(bv,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||AI(t,i.key)):Z()}function oB(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(q(bv,"New document in limbo: "+n),t.Qa.add(i),Ev(t))}function Ev(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new G(be.fromString(e)),i=t.za.next();t.Ua.set(i,new Qz(n)),t.$a=t.$a.insert(n,i),vI(t.remoteStore,new er(Yn(ld(n.path)),i,"TargetPurposeLimboResolution",sd.ae))}}async function nc(t,e,n){const i=ne(t),r=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach((a,l)=>{o.push(i.Ha(l,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=uv.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),i.La.p_(r),await async function(l,c){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,p=>F.forEach(p.Hi,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>F.forEach(p.Ji,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Qo(f))throw f;q(hv,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ts.get(p),v=m.snapshotVersion,_=m.withLastLimboFreeSnapshotVersion(v);d.Ts=d.Ts.insert(p,_)}}}(i.localStore,s))}async function aB(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q(bv,"User change. New user:",e.toKey());const i=await pI(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new H(V.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await nc(n,i.Rs)}}function lB(t,e){const n=ne(t),i=n.Ua.get(e);if(i&&i.Ba)return le().add(i.key);{let r=le();const s=n.qa.get(e);if(!s)return r;for(const o of s){const a=n.ka.get(o);r=r.unionWith(a.view.Sa)}return r}}function NI(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=II.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iB.bind(null,e),e.La.p_=Hz.bind(null,e.eventManager),e.La.Ja=Wz.bind(null,e.eventManager),e}function cB(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sB.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return fz(this.persistence,new uz,e.initialUser,this.serializer)}Xa(e){return new fI(cv.ri,this.serializer)}Za(e){return new wz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class uB extends _h{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){fe(this.persistence.referenceDelegate instanceof xh);const i=this.persistence.referenceDelegate.garbageCollector;return new QU(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new fI(i=>xh.ri(i,n),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Hb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=aB.bind(null,this.syncEngine),await Bz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qz}()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),i=function(s){return new Sz(s)}(e.databaseInfo);return function(s,o,a,l){return new Pz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new Nz(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Hb(this.syncEngine,n,0),function(){return Fb.D()?new Fb:new _z}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,d){const f=new Yz(r,s,o,a,l,c);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=ne(r);q(ws,"RemoteStore shutting down."),s.W_.add(5),await tc(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ai("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirestoreClient";class hB{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=_t.UNAUTHENTICATED,this.clientId=SC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{q(kr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(q(kr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=yv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function dp(t,e){t.asyncQueue.verifyOperationInProgress(),q(kr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await pI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dB(t);q(kr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>zb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>zb(e.remoteStore,r)),t._onlineComponents=e}async function dB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(kr,"Using user provided OfflineComponentProvider");try{await dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===V.FAILED_PRECONDITION||r.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await dp(t,new _h)}}else q(kr,"Using default OfflineComponentProvider"),await dp(t,new uB(void 0));return t._offlineComponents}async function RI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(kr,"Using user provided OnlineComponentProvider"),await Gb(t,t._uninitializedComponentsProvider._online)):(q(kr,"Using default OnlineComponentProvider"),await Gb(t,new Zm))),t._onlineComponents}function fB(t){return RI(t).then(e=>e.syncEngine)}async function bh(t){const e=await RI(t),n=e.eventManager;return n.onListen=Xz.bind(null,e.syncEngine),n.onUnlisten=eB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tB.bind(null,e.syncEngine),n}function pB(t,e,n={}){const i=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Tv({next:p=>{d.su(),o.enqueueAndForget(()=>xv(s,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new H(V.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new H(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new _v(ld(a.path),d,{includeMetadataChanges:!0,Ta:!0});return vv(s,f)}(await bh(t),t.asyncQueue,e,n,i)),i.promise}function mB(t,e,n={}){const i=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new Tv({next:p=>{d.su(),o.enqueueAndForget(()=>xv(s,f)),p.fromCache&&l.source==="server"?c.reject(new H(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new _v(a,d,{includeMetadataChanges:!0,Ta:!0});return vv(s,f)}(await bh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e,n){if(!n)throw new H(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gB(t,e,n,i){if(e===!0&&i===!0)throw new H(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qb(t){if(!G.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yb(t){if(G.isDocumentKey(t))throw new H(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yd(t);throw new H(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="firestore.googleapis.com",Xb=!0;class Jb{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new H(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MI,this.ssl=Xb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Xb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GU)throw new H(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new TF;switch(i.type){case"firstParty":return new kF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Kb.get(n);i&&(q("ComponentProvider","Removing Datastore"),Kb.delete(n),i.terminate())}(this),Promise.resolve()}}function yB(t,e,n,i={}){var r;const s=(t=Gt(t,vd))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==MI&&s.host!==a&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:i});if(!ys(l,o)&&(t._setSettings(l),i.mockUserToken)){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=_t.MOCK_USER;else{c=Z5(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new H(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new _t(f)}t._authCredentials=new SF(new EC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Vr(this.firestore,e,this._query)}}class It{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new It(this.firestore,e,this._key)}}class gr extends Vr{constructor(e,n,i){super(e,n,ld(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new It(this.firestore,null,new G(e))}withConverter(e){return new gr(this.firestore,e,this._path)}}function de(t,e,...n){if(t=Ze(t),DI("collection","path",e),t instanceof vd){const i=be.fromString(e,...n);return Yb(i),new gr(t,null,i)}{if(!(t instanceof It||t instanceof gr))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(be.fromString(e,...n));return Yb(i),new gr(t.firestore,null,i)}}function Re(t,e,...n){if(t=Ze(t),arguments.length===1&&(e=SC.newId()),DI("doc","path",e),t instanceof vd){const i=be.fromString(e,...n);return Qb(i),new It(t,null,new G(i))}{if(!(t instanceof It||t instanceof gr))throw new H(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(be.fromString(e,...n));return Qb(i),new It(t.firestore,t instanceof gr?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="AsyncQueue";class e1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gI(this,"async_queue_retry"),this.Su=()=>{const i=hp();i&&q(Zb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new bi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Qo(e))throw e;q(Zb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ai("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=gv.createAndSchedule(this,e,n,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&Z()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function t1(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ri extends vd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new e1,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e1(e),this._firestoreClient=void 0,await e}}}function vB(t,e){const n=typeof t=="object"?t:pC(),i=typeof t=="string"?t:ph,r=Yy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=X5("firestore");s&&yB(r,...s)}return r}function xd(t){if(t._terminated)throw new H(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xB(t),t._firestoreClient}function xB(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,d){return new $F(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new hB(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vo(ft.fromBase64String(e))}catch(n){throw new H(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vo(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wB=/^__.*__$/;class _B{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zl(e,this.data,n,this.fieldTransforms)}}class OI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function LI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Iv{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Iv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Eh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(LI(this.Lu)&&wB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class bB{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||pd(e)}ju(e,n,i,r=!1){return new Iv({Lu:e,methodName:n,zu:i,path:ct.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bd(t){const e=t._freezeSettings(),n=pd(t._databaseId);return new bB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function VI(t,e,n,i,r,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,r);Pv("Data must be an object, but it was:",o,i);const a=FI(i,o);let l,c;if(s.merge)l=new Zt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=eg(e,f,n);if(!o.contains(p))throw new H(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zI(d,p)||d.push(p)}l=new Zt(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new _B(new zt(a),l,c)}class Ed extends _d{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}class kv extends _d{_toFieldTransform(e){return new pU(e.path,new Ol)}isEqual(e){return e instanceof kv}}function EB(t,e,n,i){const r=t.ju(1,e,n);Pv("Data must be an object, but it was:",r,i);const s=[],o=zt.empty();Or(i,(l,c)=>{const d=Av(e,l,n);c=Ze(c);const f=r.Uu(d);if(c instanceof Ed)s.push(d);else{const p=ic(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Zt(s);return new OI(o,a,r.fieldTransforms)}function TB(t,e,n,i,r,s){const o=t.ju(1,e,n),a=[eg(e,i,n)],l=[r];if(s.length%2!=0)throw new H(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(eg(e,s[p])),l.push(s[p+1]);const c=[],d=zt.empty();for(let p=a.length-1;p>=0;--p)if(!zI(c,a[p])){const m=a[p];let v=l[p];v=Ze(v);const _=o.Uu(m);if(v instanceof Ed)c.push(m);else{const S=ic(v,_);S!=null&&(c.push(m),d.set(m,S))}}const f=new Zt(c);return new OI(d,f,o.fieldTransforms)}function SB(t,e,n,i=!1){return ic(n,t.ju(i?4:3,e))}function ic(t,e){if(UI(t=Ze(t)))return Pv("Unsupported field value:",e,t),FI(t,e);if(t instanceof _d)return function(i,r){if(!LI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=ic(a,r.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return hU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Xe.fromDate(i);return{timestampValue:vh(r.serializer,s)}}if(i instanceof Xe){const s=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vh(r.serializer,s)}}if(i instanceof Sv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Vo)return{bytesValue:sI(r.serializer,i._byteString)};if(i instanceof It){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:av(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Cv)return function(o,a){return{mapValue:{fields:{[jC]:{stringValue:MC},[mh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return iv(a.serializer,c)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${yd(i)}`)}(t,e)}function FI(t,e){const n={};return IC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Or(t,(i,r)=>{const s=ic(r,e.qu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function UI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Sv||t instanceof Vo||t instanceof It||t instanceof _d||t instanceof Cv)}function Pv(t,e,n){if(!UI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=yd(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function eg(t,e,n){if((e=Ze(e))instanceof wd)return e._internalPath;if(typeof e=="string")return Av(t,e);throw Eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const CB=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(CB)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wd(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eh(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new H(V.INVALID_ARGUMENT,a+t+l)}function zI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new It(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new IB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class IB extends BI{data(){return super.data()}}function Td(t,e){return typeof e=="string"?Av(t,e):e instanceof wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Nv{}class qI extends Nv{}function Th(t,e,...n){let i=[];e instanceof Nv&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof Rv).length,a=s.filter(l=>l instanceof Sd).length;if(o>1||o>0&&a>0)throw new H(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class Sd extends qI{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Sd(e,n,i)}_apply(e){const n=this._parse(e);return HI(e._query,n),new Vr(e.firestore,e.converter,$m(e._query,n))}_parse(e){const n=bd(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){i1(f,d);const v=[];for(const _ of f)v.push(n1(l,s,_));p={arrayValue:{values:v}}}else p=n1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||i1(f,d),p=SB(a,o,f,d==="in"||d==="not-in");return We.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sh(t,e,n){const i=e,r=Td("where",t);return Sd._create(r,i,n)}class Rv extends Nv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Rv(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)HI(o,l),o=$m(o,l)}(e._query,n),new Vr(e.firestore,e.converter,$m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class jv extends qI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new jv(e,n)}_apply(e){const n=function(r,s,o){if(r.startAt!==null)throw new H(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new H(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ml(s,o)}(e._query,this._field,this._direction);return new Vr(e.firestore,e.converter,function(r,s){const o=r.explicitOrderBy.concat([s]);return new Yo(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Ch(t,e="asc"){const n=e,i=Td("orderBy",t);return jv._create(i,n)}function n1(t,e,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new H(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$C(e)&&n.indexOf("/")!==-1)throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(be.fromString(n));if(!G.isDocumentKey(i))throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yb(t,new G(i))}if(n instanceof It)return yb(t,n._key);throw new H(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(n)}.`)}function i1(t,e){if(!Array.isArray(t)||t.length===0)throw new H(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HI(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kB{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Or(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ue(o.doubleValue));return new Cv(s)}convertGeoPoint(e){return new Sv(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ad(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=be.fromString(e);fe(hI(i));const r=new jl(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||Ai(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GI extends BI{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Td("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class bu extends GI{data(e={}){return super.data(e)}}class KI{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ja(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new bu(this._firestore,this._userDataWriter,i.key,i,new ja(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new bu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ja(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new bu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ja(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:PB(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function PB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(t){t=Gt(t,It);const e=Gt(t.firestore,Ri);return pB(xd(e),t._key).then(n=>QI(e,t,n))}class Dv extends kB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new It(this.firestore,null,n)}}function Ge(t){t=Gt(t,Vr);const e=Gt(t.firestore,Ri),n=xd(e),i=new Dv(e);return $I(t._query),mB(n,t._query).then(r=>new KI(e,i,t,r))}function r1(t,e,n){t=Gt(t,It);const i=Gt(t.firestore,Ri),r=WI(t.converter,e,n);return Cd(i,[VI(bd(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,xn.none())])}function Fr(t,e,n,...i){t=Gt(t,It);const r=Gt(t.firestore,Ri),s=bd(r);let o;return o=typeof(e=Ze(e))=="string"||e instanceof wd?TB(s,"updateDoc",t._key,e,n,i):EB(s,"updateDoc",t._key,e),Cd(r,[o.toMutation(t._key,xn.exists(!0))])}function Ur(t){return Cd(Gt(t.firestore,Ri),[new rv(t._key,xn.none())])}function Ps(t,e){const n=Gt(t.firestore,Ri),i=Re(t),r=WI(t.converter,e);return Cd(n,[VI(bd(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,xn.exists(!1))]).then(()=>i)}function tg(t,...e){var n,i,r;t=Ze(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||t1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(t1(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,c,d;if(t instanceof It)c=Gt(t.firestore,Ri),d=ld(t._key.path),l={next:f=>{e[o]&&e[o](QI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Gt(t,Vr);c=Gt(f.firestore,Ri),d=f._query;const p=new Dv(c);l={next:m=>{e[o]&&e[o](new KI(c,p,f,m))},error:e[o+1],complete:e[o+2]},$I(t._query)}return function(p,m,v,_){const S=new Tv(_),x=new _v(m,S,v);return p.asyncQueue.enqueueAndForget(async()=>vv(await bh(p),x)),()=>{S.su(),p.asyncQueue.enqueueAndForget(async()=>xv(await bh(p),x))}}(xd(c),d,a,l)}function Cd(t,e){return function(i,r){const s=new bi;return i.asyncQueue.enqueueAndForget(async()=>nB(await fB(i),r,s)),s.promise}(xd(t),e)}function QI(t,e,n){const i=n.docs.get(e._key),r=new Dv(t);return new GI(t,r,e._key,i,new ja(n.hasPendingWrites,n.fromCache),e.converter)}function fp(){return new kv("serverTimestamp")}(function(e,n=!0){(function(r){Go=r})(Wo),No(new vs("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Ri(new CF(i.getProvider("auth-internal")),new PF(o,i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),pr(sb,ob,e),pr(sb,ob,"esm2017")})();var AB="firebase",NB="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pr(AB,NB,"app");function Mv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function YI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RB=YI,XI=new Xl("auth","Firebase",YI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Ky("@firebase/auth");function jB(t,...e){Ih.logLevel<=ae.WARN&&Ih.warn(`Auth (${Wo}): ${t}`,...e)}function Eu(t,...e){Ih.logLevel<=ae.ERROR&&Ih.error(`Auth (${Wo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Lv(t,...e)}function Mn(t,...e){return Lv(t,...e)}function Ov(t,e,n){const i=Object.assign(Object.assign({},RB()),{[e]:n});return new Xl("auth","Firebase",i).create(e,{appName:t.name})}function yr(t){return Ov(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DB(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&En(t,"argument-error"),Ov(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Lv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return XI.create(t,...e)}function J(t,e,...n){if(!t)throw Lv(e,...n)}function fi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eu(e),new Error(e)}function ji(t,e){t||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MB(){return s1()==="http:"||s1()==="https:"}function s1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MB()||i6()||"connection"in navigator)?navigator.onLine:!0}function LB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ji(n>e,"Short delay should be less than long delay!"),this.isMobile=e6()||r6()}get(){return OB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){ji(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FB=new sc(3e4,6e4);function As(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function zr(t,e,n,i,r={}){return ZI(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Jl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return n6()||(c.referrerPolicy="no-referrer"),JI.fetch()(ek(t,t.config.apiHost,n,a),c)})}async function ZI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},VB),e);try{const r=new zB(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jc(t,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ov(t,d,c);En(t,d)}}catch(r){if(r instanceof Mi)throw r;En(t,"network-request-failed",{message:String(r)})}}async function Id(t,e,n,i,r={}){const s=await zr(t,e,n,i,r);return"mfaPendingCredential"in s&&En(t,"multi-factor-auth-required",{_serverResponse:s}),s}function ek(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Vv(t.config,r):`${t.config.apiScheme}://${r}`}function UB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Mn(this.auth,"network-request-failed")),FB.get())})}}function Jc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Mn(t,e,i);return r.customData._tokenResponse=n,r}function o1(t){return t!==void 0&&t.enterprise!==void 0}class BB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return UB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $B(t,e){return zr(t,"GET","/v2/recaptchaConfig",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qB(t,e){return zr(t,"POST","/v1/accounts:delete",e)}async function tk(t,e){return zr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HB(t,e=!1){const n=Ze(t),i=await n.getIdToken(e),r=Fv(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:tl(pp(r.auth_time)),issuedAtTime:tl(pp(r.iat)),expirationTime:tl(pp(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function pp(t){return Number(t)*1e3}function Fv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Eu("JWT malformed, contained fewer than 3 sections"),null;try{const r=aC(n);return r?JSON.parse(r):(Eu("Failed to decode base64 JWT payload"),null)}catch(r){return Eu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function a1(t){const e=Fv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Mi&&WB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function WB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Fl(t,tk(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nk(s.providerUserInfo):[],a=QB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ig(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function KB(t){const e=Ze(t);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QB(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function nk(t){return t.map(e=>{var{providerId:n}=e,i=Mv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(t,e){const n=await ZI(t,{},async()=>{const i=Jl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=ek(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",JI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XB(t,e){return zr(t,"POST","/v2/accounts:revokeToken",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=a1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await YB(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new go;return i&&(J(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pi{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Mv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ig(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HB(this,e)}reload(){return KB(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(yr(this.auth));const e=await this.getIdToken();return await Fl(this,qB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,d;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:b,emailVerified:I,isAnonymous:R,providerData:M,stsTokenManager:E}=n;J(b&&E,e,"internal-error");const T=go.fromJSON(this.name,E);J(typeof b=="string",e,"internal-error"),zi(f,e.name),zi(p,e.name),J(typeof I=="boolean",e,"internal-error"),J(typeof R=="boolean",e,"internal-error"),zi(m,e.name),zi(v,e.name),zi(_,e.name),zi(S,e.name),zi(x,e.name),zi(w,e.name);const k=new pi({uid:b,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:R,photoURL:v,phoneNumber:m,tenantId:_,stsTokenManager:T,createdAt:x,lastLoginAt:w});return M&&Array.isArray(M)&&(k.providerData=M.map(P=>Object.assign({},P))),S&&(k._redirectEventId=S),k}static async _fromIdTokenResponse(e,n,i=!1){const r=new go;r.updateFromServerResponse(n);const s=new pi({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await kh(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];J(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?nk(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new go;a.updateFromIdToken(i);const l=new pi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ig(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;function mi(t){ji(t instanceof Function,"Expected a class definition");let e=l1.get(t);return e?(ji(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ik.type="NONE";const c1=ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(t,e,n){return`firebase:${t}:${e}:${n}`}class yo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Tu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Tu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?pi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new yo(mi(c1),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||mi(c1);const o=Tu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=pi._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new yo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new yo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ak(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ck(e))return"Blackberry";if(uk(e))return"Webos";if(sk(e))return"Safari";if((e.includes("chrome/")||ok(e))&&!e.includes("edge/"))return"Chrome";if(lk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rk(t=Pt()){return/firefox\//i.test(t)}function sk(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ok(t=Pt()){return/crios\//i.test(t)}function ak(t=Pt()){return/iemobile/i.test(t)}function lk(t=Pt()){return/android/i.test(t)}function ck(t=Pt()){return/blackberry/i.test(t)}function uk(t=Pt()){return/webos/i.test(t)}function Uv(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JB(t=Pt()){var e;return Uv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZB(){return s6()&&document.documentMode===10}function hk(t=Pt()){return Uv(t)||lk(t)||uk(t)||ck(t)||/windows phone/i.test(t)||ak(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t,e=[]){let n;switch(t){case"Browser":n=u1(Pt());break;case"Worker":n=`${u1(Pt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9(t,e={}){return zr(t,"GET","/v2/passwordPolicy",As(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=6;class i9{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:n9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h1(this),this.idTokenSubscription=new h1(this),this.beforeStateQueue=new e9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tk(this,{idToken:e}),i=await pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(yr(this));const n=e?Ze(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(yr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t9(this),n=new i9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await XB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mi(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ns(t){return Ze(t)}class h1{constructor(e){this.auth=e,this.observer=null,this.addObserver=f6(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function s9(t){kd=t}function fk(t){return kd.loadJS(t)}function o9(){return kd.recaptchaEnterpriseScript}function a9(){return kd.gapiScript}function l9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class c9{constructor(){this.enterprise=new u9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class u9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h9="recaptcha-enterprise",pk="NO_RECAPTCHA";class d9{constructor(e){this.type=h9,this.auth=Ns(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{$B(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new BB(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;o1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(pk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c9().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&o1(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=o9();l.length!==0&&(l+=a),fk(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function d1(t,e,n,i=!1,r=!1){const s=new d9(t);let o;if(r)o=pk;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function f1(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await d1(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await d1(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e){const n=Yy(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ys(s,e??{}))return r;En(r,"already-initialized")}return n.initialize({options:e})}function p9(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(mi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function m9(t,e,n){const i=Ns(t);J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=mk(e),{host:o,port:a}=g9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(ys(c,i.config.emulator)&&ys(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,y9()}function mk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function g9(t){const e=mk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:p1(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:p1(o)}}}function p1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,n){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}async function v9(t,e){return zr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e){return Id(t,"POST","/v1/accounts:signInWithPassword",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}async function _9(t,e){return Id(t,"POST","/v1/accounts:signInWithEmailLink",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul extends zv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ul(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ul(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f1(e,n,"signInWithPassword",x9);case"emailLink":return w9(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f1(e,i,"signUpPassword",v9);case"emailLink":return _9(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(t,e){return Id(t,"POST","/v1/accounts:signInWithIdp",As(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b9="http://localhost";class _s extends zv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Mv(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new _s(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,vo(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:b9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Jl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T9(t){const e=ka(Pa(t)).link,n=e?ka(Pa(e)).deep_link_id:null,i=ka(Pa(t)).deep_link_id;return(i?ka(Pa(i)).link:null)||i||n||e||t}class Bv{constructor(e){var n,i,r,s,o,a;const l=ka(Pa(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,f=E9((r=l.mode)!==null&&r!==void 0?r:null);J(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=T9(e);try{return new Bv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this.providerId=Jo.PROVIDER_ID}static credential(e,n){return Ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Bv.parseLink(n);return J(i,"argument-error"),Ul._fromEmailAndCode(e,i.code,i.tenantId)}}Jo.PROVIDER_ID="password";Jo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends oc{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends oc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return ui.credential(n,i)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends oc{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.GITHUB_SIGN_IN_METHOD="github.com";Ki.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends oc{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Qi.credential(n,i)}catch{return null}}}Qi.TWITTER_SIGN_IN_METHOD="twitter.com";Qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await pi._fromIdTokenResponse(e,i,r),o=m1(i);return new Fo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=m1(i);return new Fo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function m1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Mi{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Ph(e,n,i,r)}}function gk(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(t,s,e,i):s})}async function S9(t,e,n=!1){const i=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e,n=!1){const{auth:i}=t;if(gn(i.app))return Promise.reject(yr(i));const r="reauthenticate";try{const s=await Fl(t,gk(i,r,e,t),n);J(s.idToken,i,"internal-error");const o=Fv(s.idToken);J(o,i,"internal-error");const{sub:a}=o;return J(t.uid===a,i,"user-mismatch"),Fo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&En(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(t,e,n=!1){if(gn(t.app))return Promise.reject(yr(t));const i="signIn",r=await gk(t,i,e),s=await Fo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function I9(t,e){return yk(Ns(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k9(t){const e=Ns(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function P9(t,e,n){return gn(t.app)?Promise.reject(yr(t)):I9(Ze(t),Jo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&k9(t),i})}function A9(t,e,n,i){return Ze(t).onIdTokenChanged(e,n,i)}function N9(t,e,n){return Ze(t).beforeAuthStateChanged(e,n)}function vk(t,e,n,i){return Ze(t).onAuthStateChanged(e,n,i)}function rg(t){return Ze(t).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=1e3,j9=10;class wk extends xk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);ZB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,j9):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},R9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wk.type="LOCAL";const D9=wk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k extends xk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_k.type="SESSION";const bk=_k;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new Pd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await M9(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=qv("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function L9(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function V9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function U9(){return Ek()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="firebaseLocalStorageDb",z9=1,Nh="firebaseLocalStorage",Sk="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ad(t,e){return t.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function B9(){const t=indexedDB.deleteDatabase(Tk);return new ac(t).toPromise()}function sg(){const t=indexedDB.open(Tk,z9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Nh,{keyPath:Sk})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Nh)?e(i):(i.close(),await B9(),e(await sg()))})})}async function g1(t,e,n){const i=Ad(t,!0).put({[Sk]:e,value:n});return new ac(i).toPromise()}async function $9(t,e){const n=Ad(t,!1).get(e),i=await new ac(n).toPromise();return i===void 0?null:i.value}function y1(t,e){const n=Ad(t,!0).delete(e);return new ac(n).toPromise()}const q9=800,H9=3;class Ck{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>H9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ek()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(U9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await V9(),!this.activeServiceWorker)return;this.sender=new O9(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sg();return await g1(e,Ah,"1"),await y1(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>g1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>$9(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Ad(r,!1).getAll();return new ac(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ck.type="LOCAL";const W9=Ck;new sc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){return e?mi(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends zv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G9(t){return yk(t.auth,new Hv(t),t.bypassAuthState)}function K9(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),C9(n,new Hv(t),t.bypassAuthState)}async function Q9(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),S9(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G9;case"linkViaPopup":case"linkViaRedirect":return Q9;case"reauthViaPopup":case"reauthViaRedirect":return K9;default:En(this.auth,"internal-error")}}resolve(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new sc(2e3,1e4);async function X9(t,e,n){if(gn(t.app))return Promise.reject(Mn(t,"operation-not-supported-in-this-environment"));const i=Ns(t);DB(t,e,$v);const r=Ik(i,n);return new is(i,"signInViaPopup",e,r).executeNotNull()}class is extends kk{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,is.currentPopupAction&&is.currentPopupAction.cancel(),is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){ji(this.filter.length===1,"Popup operations only handle one event");const e=qv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y9.get())};e()}}is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9="pendingRedirect",Su=new Map;class Z9 extends kk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Su.get(this.auth._key());if(!e){try{const i=await e8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Su.set(this.auth._key(),e)}return this.bypassAuthState||Su.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function e8(t,e){const n=i8(e),i=n8(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function t8(t,e){Su.set(t._key(),e)}function n8(t){return mi(t._redirectPersistence)}function i8(t){return Tu(J9,t.config.apiKey,t.name)}async function r8(t,e,n=!1){if(gn(t.app))return Promise.reject(yr(t));const i=Ns(t),r=Ik(i,e),o=await new Z9(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8=10*60*1e3;class o8{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a8(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Pk(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Mn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=s8&&this.cachedEventUids.clear(),this.cachedEventUids.has(v1(e))}saveEventToCache(e){this.cachedEventUids.add(v1(e)),this.lastProcessedEventTime=Date.now()}}function v1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Pk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a8(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(t,e={}){return zr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,u8=/^https?/;async function h8(t){if(t.config.emulator)return;const{authorizedDomains:e}=await l8(t);for(const n of e)try{if(d8(n))return}catch{}En(t,"unauthorized-domain")}function d8(t){const e=ng(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!u8.test(n))return!1;if(c8.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=new sc(3e4,6e4);function x1(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function p8(t){return new Promise((e,n)=>{var i,r,s;function o(){x1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x1(),n(Mn(t,"network-request-failed"))},timeout:f8.get()})}if(!((r=(i=Jn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Jn().gapi)===null||s===void 0)&&s.load)o();else{const a=l9("iframefcb");return Jn()[a]=()=>{gapi.load?o():n(Mn(t,"network-request-failed"))},fk(`${a9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cu=null,e})}let Cu=null;function m8(t){return Cu=Cu||p8(t),Cu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g8=new sc(5e3,15e3),y8="__/auth/iframe",v8="emulator/auth/iframe",x8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _8(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,v8):`https://${t.config.authDomain}/${y8}`,i={apiKey:e.apiKey,appName:t.name,v:Wo},r=w8.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Jl(i).slice(1)}`}async function b8(t){const e=await m8(t),n=Jn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:_8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x8,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Mn(t,"network-request-failed"),a=Jn().setTimeout(()=>{s(o)},g8.get());function l(){Jn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T8=500,S8=600,C8="_blank",I8="http://localhost";class w1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k8(t,e,n,i=T8,r=S8){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},E8),{width:i.toString(),height:r.toString(),top:s,left:o}),c=Pt().toLowerCase();n&&(a=ok(c)?C8:n),rk(c)&&(e=e||I8,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(JB(c)&&a!=="_self")return P8(e||"",a),new w1(null);const f=window.open(e||"",a,d);J(f,t,"popup-blocked");try{f.focus()}catch{}return new w1(f)}function P8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A8="__/auth/handler",N8="emulator/auth/handler",R8=encodeURIComponent("fac");async function _1(t,e,n,i,r,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Wo,eventId:r};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",d6(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof oc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${R8}=${encodeURIComponent(l)}`:"";return`${j8(t)}?${Jl(a).slice(1)}${c}`}function j8({config:t}){return t.emulator?Vv(t,N8):`https://${t.authDomain}/${A8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="webStorageSupport";class D8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bk,this._completeRedirectFn=r8,this._overrideRedirectResult=t8}async _openPopup(e,n,i,r){var s;ji((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await _1(e,n,i,ng(),r);return k8(e,o,qv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await _1(e,n,i,ng(),r);return L9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(ji(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await b8(e),i=new o8(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mp,{type:mp},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[mp];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=h8(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hk()||sk()||Uv()}}const M8=D8;var b1="@firebase/auth",E1="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V8(t){No(new vs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dk(t)},c=new r9(i,r,s,l);return p9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),No(new vs("auth-internal",e=>{const n=Ns(e.getProvider("auth").getImmediate());return(i=>new O8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(b1,E1,L8(t)),pr(b1,E1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=5*60,U8=uC("authIdTokenMaxAge")||F8;let T1=null;const z8=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>U8)return;const r=n==null?void 0:n.token;T1!==r&&(T1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Da(t=pC()){const e=Yy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f9(t,{popupRedirectResolver:M8,persistence:[W9,D9,bk]}),i=uC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=z8(s.toString());N9(n,o,()=>o(n.currentUser)),A9(n,a=>o(a))}}const r=lC("auth");return r&&m9(n,`http://${r}`),n}function B8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}s9({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Mn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",B8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V8("Browser");const $8={apiKey:"AIzaSyDyC18B907-b1H6dlgJNQHiLrsJN6g-k0Q",authDomain:"veilcode-labs.firebaseapp.com",projectId:"veilcode-labs",storageBucket:"veilcode-labs.firebasestorage.app",messagingSenderId:"875894459406",appId:"1:875894459406:web:fc712e6c33866e39fe005f"},Ak=fC($8),og=Da(Ak),K=vB(Ak),q8=[{name:"Course Information",description:"Access detailed course materials, syllabi, and learning objectives.",icon:fs,href:"/courses"},{name:"Resource Database",description:"Explore our curated collection of textbooks, papers, and tutorials.",icon:YE,href:"/resources"},{name:"Events",description:"Stay updated with upcoming conferences, seminars, and workshops.",icon:yi,href:"/events"},{name:"Members",description:"Connect with peers, discuss topics, and share knowledge.",icon:Zn,href:"/members"}];function H8(){var o,a;const[t,e]=N.useState(0),[n,i]=N.useState([]),[r,s]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const d=(await Ge(de(K,"homeUpdates"))).docs.map(p=>p.data());i(d),s(!1);const f=tg(de(K,"homeUpdates"),p=>{const m=p.docs.map(v=>v.data());i(m)});return()=>f()}catch(c){console.error("Error loading updates:",c),s(!1)}})()},[]),N.useEffect(()=>{if(n.length===0)return;const l=setInterval(()=>{e(c=>(c+1)%n.length)},5e3);return()=>clearInterval(l)},[n]),u.jsx(u.Fragment,{children:u.jsxs("div",{className:"relative min-h-screen bg-transparent",children:[u.jsx(B5,{}),u.jsxs("div",{className:"relative z-10 space-y-12",children:[u.jsxs(U.div,{className:"text-center",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.2},children:[u.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl",children:"Welcome to VeilCode Labs"}),u.jsx("p",{className:"mt-6 text-lg leading-8 text-[rgb(224,204,250)]",children:"Your comprehensive resource for Applied Cryptography and Topics in Cryptanalysis at IIIT Delhi."}),u.jsxs(U.div,{className:"mt-10 flex items-center justify-center gap-x-6",whileHover:{scale:1.05},children:[u.jsx(Vt,{to:"/courses",className:"rounded-md bg-[rgb(136,58,234)] px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-[rgb(49,10,101)] transition-all duration-300",children:"Explore Courses"}),u.jsx(Vt,{to:"/about",className:"text-sm font-semibold leading-6 text-[rgb(224,204,250)] hover:text-white transition-colors duration-300",children:"Learn more →"})]})]}),u.jsxs(U.div,{className:"mx-auto max-w-7xl px-6 lg:px-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},children:[u.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[u.jsx("h2",{className:"text-base font-semibold text-[rgb(224,204,250)]",children:"Everything you need"}),u.jsx("p",{className:"mt-2 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Comprehensive Learning Resources"})]}),u.jsx("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none",children:u.jsx("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-2",children:q8.map((l,c)=>u.jsxs(U.div,{className:"group relative flex flex-col rounded-lg border border-[rgb(136,58,234)] p-6 hover:bg-[rgba(136,58,234,0.1)] transition",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.2,delay:c*.1},whileHover:{scale:1.05},children:[u.jsxs("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-white",children:[u.jsx(l.icon,{className:"h-5 w-5 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"}),l.name]}),u.jsx("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-[rgb(224,204,250)] group-hover:text-white transition-colors duration-300",children:u.jsx("p",{className:"flex-auto",children:l.description})})]},l.name))})})]}),r?u.jsx("div",{className:"text-center text-[rgb(224,204,250)]",children:"Loading updates..."}):n.length>0?u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Latest Updates"}),u.jsx("div",{className:"relative h-20 overflow-hidden flex items-center",children:u.jsx(iT,{mode:"wait",children:u.jsx(U.div,{className:"absolute w-full text-center",initial:{x:"100%",opacity:0},animate:{x:"0%",opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.7,ease:"easeInOut"},children:u.jsxs("div",{className:"border-l-4 border-[rgb(136,58,234)] pl-4 inline-block",children:[u.jsx("h3",{className:"font-semibold text-[rgb(224,204,250)]",children:((o=n[t])==null?void 0:o.title)||"No updates available"}),u.jsx("p",{className:"text-white",children:((a=n[t])==null?void 0:a.description)||""})]})},t)})})]}):u.jsx("div",{className:"text-center text-[rgb(224,204,250)]",children:"No updates available"})]})]})})}function W8(){var s,o,a,l;const[t,e]=N.useState([]),[n,i]=N.useState(null);ln(),N.useEffect(()=>{(async()=>{const f=(await Ge(de(K,"courses"))).docs.map(p=>({id:p.id,...p.data()}));e(f)})()},[]);const r=async c=>{const d=Re(K,"courses",c),f=await rc(d);f.exists()?i({id:f.id,...f.data()}):console.log("No such course!")};return n?u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[u.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:u.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[u.jsx(wr,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Courses"]})}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"md:col-span-2 space-y-6",children:[u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[u.jsx("div",{className:"h-64",children:u.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx(U.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-2",children:n.title}),u.jsxs("div",{className:"text-[rgb(224,204,250)] space-y-1",children:[u.jsxs("p",{children:["Course Code: ",n.courseCode]}),u.jsxs("p",{children:["Credits: ",n.credits]}),u.jsxs("p",{children:["Offered to: ",n.offeredTo]})]})]}),u.jsx(U.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:n.description}),u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Zn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[n.students," Students"]})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Gn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:n.duration})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(fs,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:n.instructor})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(mw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[n.rating,"/5.0"]})]})]})]})]}),((s=n.courseOutcomes)==null?void 0:s.length)>0&&u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Course Outcomes"}),u.jsx("div",{className:"grid gap-3",children:n.courseOutcomes.map((c,d)=>u.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},className:"flex items-start text-[rgb(224,204,250)] p-3 rounded-lg hover:bg-[rgba(49,10,101,0.2)] transition-colors duration-300",children:u.jsxs("span",{children:["CO",d+1,": ",c]})},d))})]})]}),u.jsxs("div",{className:"space-y-6",children:[n.prerequisites&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prerequisites"}),Object.entries(n.prerequisites).map(([c,d])=>d.length>0&&u.jsxs("div",{className:"mb-4 last:mb-0",children:[u.jsxs("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2 capitalize",children:[c.replace(/([A-Z])/g," $1").trim(),":"]}),u.jsx("ul",{className:"space-y-2",children:d.map((f,p)=>u.jsx(U.li,{className:"flex items-center text-white",children:f},p))})]},c))]}),((o=n.assessment)==null?void 0:o.length)>0&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Assessment Plan"}),u.jsx("div",{className:"space-y-3",children:n.assessment.map(({type:c,contribution:d})=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-[rgb(224,204,250)]",children:c}),u.jsxs("span",{className:"text-white",children:[d,"%"]})]},c))})]}),((l=(a=n.resources)==null?void 0:a.textbooks)==null?void 0:l.length)>0&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Resource Material"}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2",children:"Textbooks"}),u.jsx("ul",{className:"space-y-2",children:n.resources.textbooks.map((c,d)=>u.jsx(U.li,{className:"text-white",children:c},d))})]})})]})]})]})]}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx("div",{className:"text-center",children:u.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Courses"})}),u.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.length>0?t.map((c,d)=>u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:[u.jsx("div",{className:"h-48",children:u.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:c.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:c.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center text-white text-sm",children:[u.jsx(Zn,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[c.students," Students"]})]}),u.jsxs("div",{className:"flex items-center text-white text-sm",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:c.duration})]}),u.jsxs("div",{className:"flex items-center text-white text-sm",children:[u.jsx(fs,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:c.instructor})]}),u.jsxs("div",{className:"flex items-center text-white text-sm",children:[u.jsx(mw,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[c.rating,"/5.0"]})]})]}),u.jsxs("button",{onClick:()=>r(c.id),className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View Course Details",u.jsx(wr,{className:"ml-2 h-4 w-4"})]})]})]},c.id)):u.jsx("p",{className:"text-white text-center col-span-2",children:"No courses available"})})]})}function G8(){var p;const[t,e]=N.useState([]),[n,i]=N.useState(!0),[r,s]=N.useState(null),[o,a]=N.useState(null),l=N.useRef();N.useEffect(()=>{(async()=>{const _=(await Ge(de(K,"events"))).docs.map(S=>({id:S.id,...S.data(),gallery:S.data().gallery||[]}));e(_),i(!1)})()},[]),N.useEffect(()=>{const m=v=>{o&&l.current&&!l.current.contains(v.target)&&f()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[o]);const c=async m=>{const v=Re(K,"events",m),_=await rc(v);_.exists()?s({id:_.id,..._.data(),gallery:_.data().gallery||[]}):console.log("No such event!")},d=m=>{a(m),document.body.style.overflow="hidden"},f=()=>{a(null),document.body.style.overflow="auto"};return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-white",children:"Loading events..."})}):r?u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[u.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:u.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[u.jsx(wr,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Events"]})}),o&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:u.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",ref:l,children:[u.jsx("button",{onClick:f,className:"absolute -top-10 right-0 text-white hover:text-[rgb(136,58,234)] transition-colors duration-300 z-10",children:u.jsx(os,{className:"h-8 w-8"})}),u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("img",{src:o,alt:"Enlarged gallery view",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})})]})}),u.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[u.jsx("div",{className:"md:col-span-2 space-y-6",children:u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[u.jsx("div",{className:"h-64",children:u.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-6",children:[u.jsx(U.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-4",children:r.title}),u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(yi,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:r.date})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Gn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:r.time})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(fw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:r.location})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Zn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[r.registered||0,"/",r.capacity||0," Registered"]})]})]}),u.jsx(U.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:r.description})]})]})}),u.jsxs("div",{className:"space-y-6",children:[r.eventLink&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Link"}),u.jsxs(U.a,{href:r.eventLink,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["Visit Event Site",u.jsx(oy,{className:"ml-2 h-4 w-4"})]})]}),((p=r.gallery)==null?void 0:p.length)>0&&u.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Gallery"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.gallery.map((m,v)=>u.jsx(U.div,{whileHover:{scale:1.05},className:"h-48 cursor-pointer",onClick:()=>d(m),children:u.jsx("img",{src:m,alt:`Event gallery ${v+1}`,className:"w-full h-full object-cover rounded-md hover:ring-2 hover:ring-[rgb(136,58,234)] transition-all duration-300"})},v))})]})]})]})]}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Past Events"}),u.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Stay updated with the latest cryptography events, workshops, and conferences."})]}),u.jsx("div",{className:"grid gap-8",children:t.map((m,v)=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:v*.2},whileHover:{scale:1.05},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:u.jsxs("div",{className:"md:flex",children:[u.jsx("div",{className:"md:w-1/3",children:u.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:"p-6 md:w-2/3",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:m.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(yi,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:m.date})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Gn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:m.time})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(fw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:m.location})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Zn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[m.registered||0,"/",m.capacity||0," Registered"]})]})]}),u.jsxs(U.button,{onClick:()=>c(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View More Details",u.jsx(wr,{className:"ml-2 h-4 w-4"})]})]})]})},m.id))})]})}const K8=({isOpen:t,onClose:e,videoUrl:n})=>{const i=r=>{if(!r)return"";const s=r.match(/[?&]v=([^&]+)/);return s?s[1]:""};return u.jsx(iT,{children:t&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:u.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl bg-[#23262d] rounded-lg overflow-hidden",children:[u.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(os,{className:"h-6 w-6"})}),u.jsx("div",{className:"relative pt-[56.25%]",children:u.jsx("iframe",{src:`https://www.youtube.com/embed/${i(n)}?autoplay=1`,title:"YouTube video player",className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})})};function Q8(){var m;const[t,e]=N.useState("lectures"),[n,i]=N.useState(null),[r,s]=N.useState(null),[o,a]=N.useState({lectures:{},books:{},videos:{},researchPapers:{}}),l=[{id:"lectures",label:"Lectures",icon:BR},{id:"books",label:"Books",icon:zR},{id:"videos",label:"Videos",icon:XR},{id:"researchPapers",label:"Research Papers",icon:dw}],c=v=>{const _={};return v.forEach(S=>{const x=S.data().year||"Uncategorized";_[x]||(_[x]=[]),_[x].push({id:S.id,...S.data()})}),_};N.useEffect(()=>{(async()=>{const _=await Ge(de(K,"lectures")),S=await Ge(de(K,"books")),x=await Ge(de(K,"videos")),w=await Ge(de(K,"researchPapers"));a({lectures:c(_),books:c(S),videos:c(x),researchPapers:c(w)})})()},[]);const d=v=>{s(v)},f=v=>v?v.split(",").map(_=>_.trim()).filter(_=>_):[],p=v=>Object.keys(v).sort((S,x)=>x.localeCompare(S)).map(S=>u.jsxs("div",{className:"mb-12",children:[u.jsx("h3",{className:"text-2xl font-bold text-white mb-6 border-b border-[rgb(136,58,234)] pb-2",children:S==="Uncategorized"?"Other Resources":S}),t==="lectures"&&u.jsx("div",{className:"space-y-6",children:v[S].map((x,w)=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:w*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:x.title}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:x.description}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),x.duration]}),u.jsx("div",{children:x.instructor})]})]}),u.jsxs(U.a,{href:x.pdfUrl,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-[rgb(136,58,234)] text-white px-4 py-2 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:[u.jsx(hw,{className:"h-4 w-4"}),u.jsx("span",{children:"Download PDF"})]})]})},x.id))}),t==="books"&&u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v[S].map((x,w)=>u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:w*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:x.title}),u.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:["by ",x.authors]}),u.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[u.jsxs("div",{children:[x.edition," • ",x.year]}),u.jsxs(U.a,{href:x.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[u.jsx(dw,{className:"h-4 w-4"}),u.jsx("span",{children:"Access Book"})]})]})]},x.id))}),t==="videos"&&u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v[S].map((x,w)=>u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:w*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[u.jsxs("div",{className:"relative h-48",children:[u.jsx("img",{src:x.thumbnail,alt:x.title,className:"w-full h-full object-cover"}),u.jsx(U.button,{onClick:()=>i(x.videoUrl),className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 hover:bg-opacity-40 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:u.jsx(QR,{className:"h-12 w-12 text-white"})})]}),u.jsxs("div",{className:"p-4",children:[u.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:x.title}),u.jsxs("div",{className:"flex justify-between items-center text-sm text-[rgb(224,204,250)]",children:[u.jsx("div",{children:x.instructor}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2"}),x.duration]})]})]})]},x.id))}),t==="researchPapers"&&r===null&&u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:v[S].map((x,w)=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:w*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h3",{className:"text-xl font-bold text-white",children:x.title})}),x.tags&&u.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:x.tags.map((b,I)=>u.jsx("span",{className:"px-2 py-1 bg-[rgb(49,10,101)] text-[rgb(224,204,250)] rounded-full text-xs",children:b},I))})]}),u.jsxs(U.button,{onClick:()=>d(x),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full flex items-center justify-center bg-[rgb(136,58,234)] text-white px-4 py-2 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:[u.jsx("span",{children:"View Paper Details"}),u.jsx(wr,{className:"ml-2 h-4 w-4"})]})]})},x.id))})]},S));return t==="researchPapers"&&r?u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:u.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[u.jsx(wr,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Research Papers"]})}),u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[u.jsx(U.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},className:"text-2xl font-bold text-white mb-4",children:r.title}),u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:"mb-6",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:(m=r.tags)==null?void 0:m.map((v,_)=>u.jsx("span",{className:"px-3 py-1 bg-[rgb(49,10,101)] text-[rgb(224,204,250)] rounded-full text-sm",children:v},_))})}),r.authors&&u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-[rgb(224,204,250)] mb-3",children:"Authors"}),u.jsx("ul",{className:"list-disc pl-5 space-y-1",children:f(r.authors).map((v,_)=>u.jsx("li",{className:"text-white",children:v},_))})]}),r.abstract&&u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.4},className:"mb-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-[rgb(224,204,250)] mb-2",children:"Abstract"}),u.jsx("p",{className:"text-white",children:r.abstract})]}),r.url&&u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.5},className:"flex justify-center mt-8",children:u.jsxs(U.a,{href:r.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"inline-flex items-center bg-[rgb(136,58,234)] text-white px-6 py-3 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:[u.jsx(hw,{className:"h-5 w-5 mr-2"}),"View Full Paper"]})})]})]}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Course Resources"}),u.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Access all course materials, recommended readings, and additional resources."})]}),u.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)] overflow-x-auto pb-2",children:l.map(v=>u.jsxs(U.button,{onClick:()=>{e(v.id),s(null)},whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${t===v.id?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:[u.jsx(v.icon,{className:"h-5 w-5"}),u.jsx("span",{className:"hidden md:inline",children:v.label})]},v.id))}),u.jsx("div",{className:"min-h-[400px]",children:p(o[t])}),u.jsx(K8,{isOpen:!!n,onClose:()=>i(null),videoUrl:n})]})}const S1=({member:t,index:e,isHead:n})=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:e*.1},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${n?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:`flex ${n?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[u.jsx(U.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:e*.1+.2},src:t.image,alt:t.name,className:`${n?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),u.jsxs("div",{className:`${n?"text-center md:text-left mt-4 md:mt-0":""}`,children:[u.jsx("h3",{className:`${n?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:e*.1+.4},className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&u.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(eT,{className:"h-5 w-5"})}),t.github&&u.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(JE,{className:"h-5 w-5"})}),t.linkedin&&u.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ZE,{className:"h-5 w-5"})})]})]})});function Y8(){const[t,e]=N.useState([]),[n,i]=N.useState(!0);if(N.useEffect(()=>{(async()=>{const d=(await Ge(de(K,"members"))).docs.map(f=>({id:f.id,...f.data()}));e(d),i(!1)})()},[]),n)return u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-white",children:"Loading members..."})});const r=t.find(l=>l.isHead),o=t.filter(l=>!l.isHead).reduce((l,c)=>{const d=c.year||"Other";return l[d]||(l[d]=[]),l[d].push(c),l},{}),a=Object.keys(o).sort((l,c)=>c-l);return u.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8",children:u.jsxs("div",{className:"space-y-12",children:[u.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Our Members"}),u.jsx("p",{className:"text-[rgb(224,204,250)] text-lg",children:"Meet our distinguished faculty members and researchers in cryptography."})]}),r&&u.jsx("div",{className:"px-4",children:u.jsx(S1,{member:r,index:0,isHead:!0})}),a.map((l,c)=>u.jsxs("div",{className:"space-y-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white px-4",children:l}),u.jsx("div",{className:"grid gap-8 md:grid-cols-2 px-4",children:o[l].map((d,f)=>u.jsx(S1,{member:d,index:f+1,isHead:!1},d.id))})]},l))]})})}function X8(){const[t,e]=N.useState({stats:[],researchAreas:[],contact:{location:"",details:""},loading:!0});return N.useEffect(()=>{(async()=>{try{const i=Re(K,"content","about"),r=await rc(i);r.exists()&&e({...r.data(),loading:!1})}catch(i){console.error("Error fetching about data:",i),e(r=>({...r,loading:!1}))}})()},[]),t.loading?u.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading..."}):u.jsxs(U.div,{className:"space-y-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[u.jsxs(U.div,{className:"text-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},children:[u.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"About VeilCode Labs"}),u.jsx("p",{className:"text-[rgb(224,204,250)] text-lg max-w-3xl mx-auto",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.stats.map((n,i)=>u.jsxs(U.div,{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 text-center",whileHover:{scale:1.05},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.2},children:[n.icon==="Users"&&u.jsx(Zn,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="BookOpen"&&u.jsx(fs,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="Award"&&u.jsx(KE,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="Building"&&u.jsx(QE,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),u.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:n.value}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:n.name})]},n.name||i))}),u.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:["Our Mission","Our Vision"].map((n,i)=>u.jsxs(U.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{x:i%2===0?-50:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:i*.2},children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:n==="Our Mission"?"To enable education by maintaing an open-source platform where anyone can access, contribute to, and improve course materials, tools, and community driven learning.":"To empower learners worldwide with free, high-quality cryptography education—from basic ciphers to modern encryption."})]},n))}),u.jsxs(U.div,{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)]",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Research Areas"}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.researchAreas.map((n,i)=>u.jsxs(U.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:i*.3},children:[u.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:n.title}),u.jsx("ul",{className:"list-disc list-inside text-white space-y-2",children:n.points.map((r,s)=>u.jsx("li",{children:r},s))})]},n.title||i))})]}),u.jsxs(U.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Us"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[u.jsxs(U.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:[u.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:"Location"}),u.jsx("p",{className:"text-white whitespace-pre-line",children:t.contact.location})]}),u.jsxs(U.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2,delay:.2},children:[u.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:"Get in Touch"}),u.jsx("p",{className:"text-white whitespace-pre-line",children:t.contact.details})]})]})]})]})}class J8 extends Iu.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?u.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-200 p-4 rounded-lg",children:"Something went wrong. Please try again later."}):this.props.children}}function Z8(){var M;const[t,e]=N.useState([]),[n,i]=N.useState([]),[r,s]=N.useState(!0),[o,a]=N.useState(null),[l,c]=N.useState(!1),[d,f]=N.useState(null),[p,m]=N.useState(null),[v,_]=N.useState({title:"",content:"",tags:[],image:""}),S=E=>{if(!E)return"N/A";try{return typeof E.toDate=="function"?E.toDate().toLocaleDateString():typeof E=="string"?new Date(E).toLocaleDateString():"N/A"}catch{return"N/A"}};N.useEffect(()=>{const E=Da();let T=()=>{},k=()=>{};const P=async()=>{try{const D=Th(de(K,"blogs"),Sh("approved","==",!0),Ch("date","desc"));T=tg(D,A=>{e(A.docs.map(Ce=>({id:Ce.id,...Ce.data(),date:Ce.data().date||fp()}))),s(!1)},A=>{console.error("Error in blogs snapshot:",A),s(!1)})}catch(D){console.error("Error setting up blogs query:",D),s(!1)}},j=vk(E,D=>{if(D&&D.email.endsWith("@iiitd.ac.in")){a(D);const A=Th(de(K,"blogs"),Sh("authorId","==",D.uid),Ch("date","desc"));k=tg(A,Ce=>{i(Ce.docs.map(cn=>({id:cn.id,...cn.data(),date:cn.data().date||fp()})))},Ce=>{console.error("Error in user posts snapshot:",Ce)})}else a(null),i([])});return P(),()=>{j(),T(),k()}},[]);const x=async()=>{const E=new ui;E.setCustomParameters({hd:"iiitd.ac.in"});try{(await X9(Da(),E)).user.email.endsWith("@iiitd.ac.in")||(await rg(Da()),alert("Only @iiitd.ac.in emails are allowed."))}catch(T){console.error("Login failed:",T)}},w=async()=>{try{p?(await Fr(Re(K,"blogs",p.id),{...v,tags:v.tags.filter(E=>E.trim()!=="")}),m(null)):await Ps(de(K,"blogs"),{...v,author:o.displayName||o.email.split("@")[0],authorId:o.uid,date:fp(),tags:v.tags.filter(E=>E.trim()!==""),approved:!1}),c(!1),_({title:"",content:"",tags:[],image:""})}catch(E){console.error("Error submitting blog:",E)}},b=async E=>{const T=Re(K,"blogs",E),k=await rc(T);k.exists()&&f({id:k.id,...k.data()})},I=E=>{m(E),_({title:E.title,content:E.content,tags:E.tags||[],image:E.image||""}),c(!0)},R=async E=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await Ur(Re(K,"blogs",E)),(d==null?void 0:d.id)===E&&f(null)}catch(T){console.error("Error deleting blog:",T)}};return r?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-white",children:"Loading blogs..."})}):d?u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[u.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:u.jsxs("button",{onClick:()=>f(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[u.jsx(wr,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Blogs"]})}),u.jsxs("div",{className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[d.image&&u.jsx("div",{className:"h-64",children:u.jsx("img",{src:d.image,alt:d.title,className:"w-full h-full object-cover"})}),u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:d.title}),u.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)]",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(qa,{className:"h-5 w-5 mr-2"}),d.author||"Anonymous"]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(yi,{className:"h-5 w-5 mr-2"}),S(d.date)]}),!d.approved&&u.jsxs("div",{className:"flex items-center text-yellow-400",children:[u.jsx(Gn,{className:"h-5 w-5 mr-2"}),u.jsx("span",{children:"Pending Approval"})]})]})]}),(o==null?void 0:o.uid)===d.authorId&&u.jsxs("div",{className:"flex space-x-2",children:[u.jsxs("button",{onClick:()=>I(d),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors",children:[u.jsx(ur,{className:"h-5 w-5 mr-1"}),"Edit"]}),u.jsxs("button",{onClick:()=>R(d.id),className:"flex items-center text-red-500 hover:text-red-400 transition-colors",children:[u.jsx(os,{className:"h-5 w-5 mr-1"}),"Delete"]})]})]}),u.jsx("div",{className:"prose prose-invert max-w-none",children:u.jsx("p",{className:"text-[rgb(224,204,250)] text-lg whitespace-pre-line",children:d.content})}),((M=d.tags)==null?void 0:M.length)>0&&u.jsxs("div",{className:"mt-8",children:[u.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Tags"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((E,T)=>u.jsx(U.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-3 py-1 rounded-md text-sm",children:E},T))})]})]})]})]}):u.jsx(J8,{children:u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Blog"}),u.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Latest insights, research, and developments in cryptography."})]}),o&&n.some(E=>!E.approved)&&u.jsx("div",{className:"bg-yellow-900/30 border border-yellow-600 text-yellow-200 p-4 rounded-lg",children:u.jsxs("div",{className:"flex items-center",children:[u.jsx(Gn,{className:"h-5 w-5 mr-2"}),u.jsxs("span",{children:["You have ",n.filter(E=>!E.approved).length," post(s) waiting for admin approval"]})]})}),u.jsx("div",{className:"flex justify-end mb-8 gap-4",children:o?u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>{m(null),_({title:"",content:"",tags:[],image:""}),c(!0)},className:"bg-[rgb(136,58,234)] hover:bg-[rgb(49,10,101)] text-white px-6 py-3 rounded-lg transition-colors duration-300 flex items-center gap-2",children:[u.jsx(mn,{className:"h-5 w-5"}),u.jsx("span",{children:"Create Post"})]}),u.jsxs("button",{onClick:()=>rg(Da()),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors duration-300 flex items-center gap-2",children:[u.jsx(WR,{className:"h-5 w-5"}),u.jsx("span",{children:"Logout"})]})]}):u.jsxs("button",{onClick:x,className:"bg-[rgb(136,58,234)] hover:bg-[rgb(49,10,101)] text-white px-6 py-3 rounded-lg transition-colors duration-300 flex items-center gap-2",children:[u.jsx(HR,{className:"h-5 w-5"}),u.jsx("span",{children:"Sign In with IIITD Mail"})]})}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl border border-[rgb(136,58,234)]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:p?"Edit Blog Post":"New Blog Post"}),u.jsx("button",{onClick:()=>{c(!1),m(null)},className:"text-gray-400 hover:text-white",children:u.jsx(os,{className:"h-6 w-6"})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("input",{type:"text",placeholder:"Title",value:v.title,onChange:E=>_({...v,title:E.target.value}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white",required:!0}),u.jsx("textarea",{placeholder:"Content",value:v.content,onChange:E=>_({...v,content:E.target.value}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white min-h-[200px]",required:!0}),u.jsx("input",{type:"text",placeholder:"Tags (comma-separated)",value:v.tags.join(","),onChange:E=>_({...v,tags:E.target.value.split(",")}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white"}),u.jsx("input",{type:"text",placeholder:"Thumbnail URL (optional)",value:v.image,onChange:E=>_({...v,image:E.target.value}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white"}),!p&&u.jsx("div",{className:"bg-blue-900/20 border border-blue-500 text-blue-200 p-3 rounded text-sm",children:"Your post will be submitted for admin approval before being published."}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>{c(!1),m(null)},className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:w,className:"px-4 py-2 bg-[rgb(136,58,234)] hover:bg-[rgb(49,10,101)] text-white rounded transition-colors",children:p?"Update":"Submit for Approval"}),p&&u.jsx("button",{onClick:()=>R(p.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:"Delete"})]})]})]})}),u.jsx("div",{className:"grid gap-8",children:t.length>0?t.map((E,T)=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:T*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 cursor-pointer",onClick:()=>b(E.id),children:u.jsxs("div",{className:"md:flex",children:[E.image&&u.jsx("div",{className:"md:w-1/3",children:u.jsx("img",{src:E.image,alt:E.title,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:`p-6 ${E.image?"md:w-2/3":"w-full"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:E.title}),(o==null?void 0:o.uid)===E.authorId&&u.jsx("button",{className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors",onClick:k=>{k.stopPropagation(),I(E)},children:u.jsx(ur,{className:"h-5 w-5"})})]}),u.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:[E.content.substring(0,200),E.content.length>200?"...":""]}),E.tags&&E.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:E.tags.map((k,P)=>u.jsx(U.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:k},P))}),u.jsx("div",{className:"flex items-center justify-between text-[rgb(224,204,250)]",children:u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(qa,{className:"h-4 w-4 mr-2"}),E.author||"Anonymous"]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(yi,{className:"h-4 w-4 mr-2"}),S(E.date)]})]})})]})]})},E.id)):u.jsx("p",{className:"text-white text-center py-8",children:r?"Loading blogs...":"No approved blog posts found"})}),o&&n.some(E=>!E.approved)&&u.jsxs("div",{className:"mt-12",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6 border-b border-yellow-600 pb-2",children:"Your Pending Posts"}),u.jsx("div",{className:"grid gap-8",children:n.filter(E=>!E.approved).map((E,T)=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:T*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-yellow-600 hover:border-yellow-400 transition-all duration-300 cursor-pointer",onClick:()=>b(E.id),children:u.jsxs("div",{className:"md:flex",children:[E.image&&u.jsx("div",{className:"md:w-1/3",children:u.jsx("img",{src:E.image,alt:E.title,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:`p-6 ${E.image?"md:w-2/3":"w-full"}`,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:E.title}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors",onClick:k=>{k.stopPropagation(),I(E)},children:u.jsx(ur,{className:"h-5 w-5"})}),u.jsx("button",{className:"text-red-500 hover:text-red-400 transition-colors",onClick:k=>{k.stopPropagation(),R(E.id)},children:u.jsx(os,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"flex items-center mb-4 text-yellow-400",children:[u.jsx(Gn,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:"Pending Admin Approval"})]}),u.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:[E.content.substring(0,200),E.content.length>200?"...":""]}),E.tags&&E.tags.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:E.tags.map((k,P)=>u.jsx(U.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:k},P))})]})]})},E.id))})]})]})})}function e$(){const[t,e]=N.useState([]),[n,i]=N.useState(!0);return N.useEffect(()=>{(async()=>{const o=(await Ge(de(K,"labs"))).docs.map(a=>({id:a.id,...a.data()}));e(o),i(!1)})()},[]),n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-white",children:"Loading labs..."})}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Labs"}),u.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Hands-on laboratory sessions for practical cryptography implementation."})]}),u.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>{var o;return u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:u.jsxs("div",{className:"md:flex",children:[u.jsx("div",{className:"md:w-1/3",children:u.jsx("img",{src:r.image,alt:r.title,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:"p-6 md:w-2/3",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:r.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Gn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:r.duration})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(Zn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsxs("span",{children:[r.enrolled||0,"/",r.capacity||0," Enrolled"]})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(fs,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:r.instructor})]}),u.jsxs("div",{className:"flex items-center text-white",children:[u.jsx(XE,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),u.jsx("span",{children:((o=r.tools)==null?void 0:o.join(", "))||""})]})]}),r.prerequisites&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),u.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:r.prerequisites.map((a,l)=>u.jsx("li",{children:a},l))})]})]})]})},r.id)})})]})}const t$=()=>{const{pathname:t}=Ss();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),null},n$=()=>{const[t,e]=N.useState(""),[n,i]=N.useState(""),[r,s]=N.useState(""),o=ln(),a=async l=>{l.preventDefault(),s("");try{await P9(og,t,n),o("/admin")}catch(c){console.error("Login error:",c.code,c.message),s(c.message)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#13151a]",children:u.jsxs("div",{className:"bg-[#23262d] p-8 rounded-lg border border-[rgb(136,58,234)] w-96",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login"}),r&&u.jsx("p",{className:"text-red-500 mb-4",children:r}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:l=>e(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>i(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("button",{type:"submit",className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Login"})]})]})})},Nk=N.createContext(),i$=({children:t})=>{const[e,n]=N.useState(null);N.useEffect(()=>{const r=vk(og,s=>{n(s)});return()=>r()},[]);const i=async()=>{try{return await rg(og),!0}catch(r){return console.error("Logout error:",r),!1}};return u.jsx(Nk.Provider,{value:{user:e,logout:i},children:t})},Oi=()=>N.useContext(Nk),r$=()=>{const{user:t,logout:e}=Oi(),[n,i]=N.useState(!1),[r,s]=N.useState(!1);if(!t)return u.jsx(zn,{to:"/admin-login"});const o=async()=>{i(!0);try{await e()}catch(a){console.error("Logout failed:",a)}finally{i(!1),s(!1)}};return u.jsxs("div",{className:"p-8 relative",children:[r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] max-w-md w-full",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-6",children:"Are you sure you want to log out of the admin panel?"}),u.jsxs("div",{className:"flex justify-end space-x-3",children:[u.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded-md bg-gray-600 text-white hover:bg-gray-700 transition-colors duration-300",disabled:n,children:"Cancel"}),u.jsx("button",{onClick:o,className:`px-4 py-2 rounded-md ${n?"bg-red-700 cursor-not-allowed":"bg-red-500 hover:bg-red-600"} text-white transition-colors duration-300`,disabled:n,children:n?"Logging Out...":"Logout"})]})]})}),u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("button",{onClick:()=>s(!0),className:`bg-red-500 text-white px-4 py-2 rounded-md ${n?"cursor-not-allowed opacity-75":"hover:bg-red-600"} transition-colors duration-300`,disabled:n,children:"Logout"})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Admin Panel"}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[u.jsx(Vt,{to:"/admin/home",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Home"})}),u.jsx(Vt,{to:"/admin/courses",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Courses"})}),u.jsx(Vt,{to:"/admin/blogs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Blogs"})}),u.jsx(Vt,{to:"/admin/events",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Events"})}),u.jsx(Vt,{to:"/admin/labs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Labs"})}),u.jsx(Vt,{to:"/admin/resources",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Resources"})}),u.jsx(Vt,{to:"/admin/members",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Members"})}),u.jsx(Vt,{to:"/admin/about",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:u.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage About"})})]})]})};function s$(){const[t,e]=N.useState([]),[n,i]=N.useState({title:"",description:""}),[r,s]=N.useState(null),[o,a]=N.useState(!0),[l,c]=N.useState(!1),{user:d}=Oi(),f=ln();N.useEffect(()=>{(async()=>{try{const b=await Ge(de(K,"homeUpdates")),I=[];b.forEach(R=>{I.push({id:R.id,...R.data()})}),e(I)}catch(b){console.error("Error fetching updates: ",b)}finally{a(!1)}})()},[]);const p=async()=>{if(!(!n.title||!n.description))try{const w=await Ps(de(K,"homeUpdates"),n);e([...t,{id:w.id,...n}]),i({title:"",description:""}),c(!1)}catch(w){console.error("Error adding update: ",w)}},m=async()=>{if(!(!r||!n.title||!n.description))try{await Fr(Re(K,"homeUpdates",r),n),e(t.map(w=>w.id===r?{...w,...n}:w)),i({title:"",description:""}),c(!1)}catch(w){console.error("Error updating document: ",w)}},v=async w=>{try{await Ur(Re(K,"homeUpdates",w)),e(t.filter(b=>b.id!==w))}catch(b){console.error("Error deleting document: ",b)}},_=()=>{s(null),i({title:"",description:""}),c(!0)},S=w=>{s(w.id),i({title:w.title,description:w.description}),c(!0)},x=()=>{c(!1),s(null),i({title:"",description:""})};return o?u.jsx("div",{className:"min-h-screen bg-[#13151a] flex items-center justify-center text-white",children:"Loading..."}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"bg-[#13151a] min-h-screen p-8 text-white",children:[u.jsx("div",{className:"flex justify-between items-center mb-8",children:u.jsxs("button",{onClick:()=>f("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-[rgb(224,204,250)]",children:"Manage Homepage Updates"}),d&&u.jsxs("button",{onClick:_,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center mb-8",children:[u.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add New Update"]}),u.jsx("div",{className:"space-y-6",children:t.length===0?u.jsx("div",{className:"text-center text-[rgb(224,204,250)] py-8",children:"No updates added yet"}):t.map(w=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:w.title}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:w.description})]}),d&&u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>S(w),className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(hu,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>v(w.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]})},w.id))}),l&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4 z-50",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:r?"Edit Update":"Add New Update"}),u.jsx("button",{onClick:x,className:"text-[rgb(224,204,250)] hover:text-white text-xl",children:"×"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-[rgb(224,204,250)]",children:"Title"}),u.jsx("input",{type:"text",value:n.title,onChange:w=>i({...n,title:w.target.value}),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Update title",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium mb-1 text-[rgb(224,204,250)]",children:"Description"}),u.jsx("textarea",{value:n.description,onChange:w=>i({...n,description:w.target.value}),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Update description",rows:4,required:!0})]}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:x,className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),u.jsx("button",{type:"button",onClick:r?m:p,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:r?"Update":"Add"})]})]})]})})]})}function o$(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""}),{user:o}=Oi(),a=ln();N.useEffect(()=>{(async()=>{const _=(await Ge(de(K,"courses"))).docs.map(S=>({id:S.id,...S.data()}));e(_)})()},[]);const l=m=>{const{name:v,value:_}=m.target;if(v.includes("resources.")){const[S,x]=v.split(".");s(w=>({...w,resources:{...w.resources,[x]:_.split(",").map(b=>b.trim()).filter(b=>b!=="")}}))}else if(v.includes("prerequisites.")){const[S,x]=v.split(".");s(w=>({...w,prerequisites:{...w.prerequisites,[x]:_.split(",").map(b=>b.trim())}}))}else s({...r,[v]:_})},c=(m,v)=>{const{value:_}=m.target;s(S=>({...S,[v]:_.split(",").map(x=>x.trim())}))},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Fr(Re(K,"courses",n.id),r),e(v=>v.map(_=>_.id===n.id?{..._,...r}:_));else{const v=await Ps(de(K,"courses"),r);e(_=>[..._,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving course:",v)}},f=()=>{s({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""})},p=async m=>{await Ur(Re(K,"courses",m)),e(t.filter(v=>v.id!==m))};return u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Courses"}),o&&u.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Course"]}),u.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map(m=>u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:m.description}),u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Course Code:"})," ",m.courseCode]}),u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Instructor:"})," ",m.instructor]}),u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Duration:"})," ",m.duration]}),u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Students:"})," ",m.students]}),u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Rating:"})," ",m.rating]}),m.image&&u.jsx("img",{src:m.image,alt:m.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ur,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]},m.id))}),n&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Course":"Add Course"}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"courseCode",placeholder:"Course Code",value:r.courseCode,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"credits",placeholder:"Credits",type:"number",value:r.credits,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"offeredTo",placeholder:"Offered To",value:r.offeredTo,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"}),u.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"students",placeholder:"Number of Students",type:"number",value:r.students,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"rating",placeholder:"Rating (1-5)",type:"number",step:"0.1",min:"1",max:"5",value:r.rating,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"nextStart",placeholder:"Next Start Date (YYYY-MM-DD)",value:r.nextStart,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-white font-semibold",children:"Prerequisites"}),u.jsx("input",{name:"prerequisites.mandatory",placeholder:"Mandatory (comma separated)",value:r.prerequisites.mandatory.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"prerequisites.desirable",placeholder:"Desirable (comma separated)",value:r.prerequisites.desirable.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"prerequisites.other",placeholder:"Other (comma separated)",value:r.prerequisites.other.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-white font-semibold",children:"Course Outcomes (comma separated)"}),u.jsx("textarea",{name:"courseOutcomes",placeholder:"CO1: Outcome 1, CO2: Outcome 2, ...",value:r.courseOutcomes.join(", "),onChange:m=>c(m,"courseOutcomes"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-white font-semibold",children:"Assessment Plan (format: Type:Contribution, ...)"}),u.jsx("textarea",{name:"assessment",placeholder:"Mid-sem:25, End-sem:35, ...",value:r.assessment.map(m=>`${m.type}:${m.contribution}`).join(", "),onChange:m=>{const _=m.target.value.split(",").map(S=>{const[x,w]=S.split(":").map(b=>b.trim());return{type:x,contribution:parseInt(w)||0}});s({...r,assessment:_})},className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"text-white font-semibold",children:"Resources"}),u.jsx("textarea",{name:"resources.textbooks",placeholder:"Textbooks (comma separated)",value:r.resources.textbooks.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function a$(){const[t,e]=N.useState({lectures:{},books:{},videos:{},researchPapers:{}}),[n,i]=N.useState(null),[r,s]=N.useState({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",abstract:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:"",tags:[]}),o=S=>S?S.split(",").map(x=>x.trim()).filter(x=>x):[],{user:a}=Oi(),l=ln(),c=S=>S?S.split(",").map(x=>x.trim()).filter(x=>x):[],d=S=>{const x={};return S.forEach(w=>{const b=w.data().year||"Uncategorized";x[b]||(x[b]=[]),x[b].push({id:w.id,...w.data()})}),x};N.useEffect(()=>{(async()=>{const x=await Ge(de(K,"lectures")),w=await Ge(de(K,"books")),b=await Ge(de(K,"videos")),I=await Ge(de(K,"researchPapers"));e({lectures:d(x),books:d(w),videos:d(b),researchPapers:d(I)})})()},[]);const f=S=>{s({...r,[S.target.name]:S.target.value})},p=async S=>{S.preventDefault();try{const x={...r,year:r.year||new Date().getFullYear().toString(),tags:r.tags||[]};if(n!=null&&n.id)await Fr(Re(K,r.type,n.id),x),e(w=>{var I,R;const b={...w};return n.year&&n.year!==x.year&&(b[r.type][n.year]=((I=b[r.type][n.year])==null?void 0:I.filter(M=>M.id!==n.id))||[]),b[r.type][x.year]||(b[r.type][x.year]=[]),b[r.type][x.year]=[...((R=b[r.type][x.year])==null?void 0:R.filter(M=>M.id!==n.id))??[],{id:n.id,...x}],b});else{const w=await Ps(de(K,r.type),x);e(b=>{const I={...b},R=x.year;return I[r.type][R]||(I[r.type][R]=[]),I[r.type][R]=[...I[r.type][R],{id:w.id,...x}],I})}i(null),s({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",abstract:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:"",tags:[]})}catch(x){console.error("Error saving resource:",x)}},m=async(S,x,w)=>{await Ur(Re(K,x,S)),e(b=>{const I={...b};return I[x][w]=I[x][w].filter(R=>R.id!==S),I[x][w].length===0&&delete I[x][w],I})},v=()=>{var S;switch(r.type){case"lectures":return u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"pdfUrl",placeholder:"PDF URL",value:r.pdfUrl,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"books":return u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"authors",placeholder:"Authors",value:r.authors,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"edition",placeholder:"Edition",value:r.edition,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"url",placeholder:"Link",value:r.url,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"videos":return u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"thumbnail",placeholder:"Thumbnail URL",value:r.thumbnail,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"videoUrl",placeholder:"Video URL",value:r.videoUrl,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"researchPapers":return u.jsxs(u.Fragment,{children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("textarea",{name:"authors",placeholder:"Authors (comma separated)",value:r.authors,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)] min-h-[100px]"}),u.jsx("div",{className:"text-sm text-[rgb(224,204,250)] mt-1 mb-4",children:'Enter authors separated by commas (e.g., "John Smith, Jane Doe, Bob Johnson")'}),u.jsx("textarea",{name:"abstract",placeholder:"Abstract",value:r.abstract,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)] min-h-[150px]"}),u.jsx("input",{name:"url",placeholder:"Paper URL",value:r.url,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"tags",placeholder:"Tags (comma separated, e.g., Cryptanalysis, Attacks, Cryptography)",value:((S=r.tags)==null?void 0:S.join(", "))||"",onChange:x=>{const w=o(x.target.value);s({...r,tags:w})},className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("div",{className:"text-sm text-[rgb(224,204,250)] mt-1 mb-4",children:'Enter tags separated by commas (e.g., "Cryptanalysis, Attacks, Cryptography")'})]});default:return null}},_=S=>Object.keys(t[S]).sort((w,b)=>b.localeCompare(w)).map(w=>u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-[rgb(136,58,234)] pb-2",children:w==="Uncategorized"?"Uncategorized":`Year: ${w}`}),u.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t[S][w].map(b=>u.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:b.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:b.description}),b.instructor&&u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Instructor:"})," ",b.instructor]}),b.duration&&u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Duration:"})," ",b.duration]}),b.authors&&S==="researchPapers"?u.jsxs("div",{className:"mt-2 mb-2",children:[u.jsx("p",{className:"text-white",children:u.jsx("strong",{children:"Authors:"})}),u.jsx("ul",{className:"list-disc pl-5 mt-1 mb-2",children:c(b.authors).map((I,R)=>u.jsx("li",{className:"text-white text-sm",children:I},R))})]}):b.authors&&u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Authors:"})," ",b.authors]}),b.tags&&S==="researchPapers"&&u.jsxs("div",{className:"mt-2 mb-2",children:[u.jsx("p",{className:"text-white",children:u.jsx("strong",{children:"Tags:"})}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b.tags.map((I,R)=>u.jsx("span",{className:"px-2 py-1 bg-[rgb(49,10,101)] text-[rgb(224,204,250)] rounded-full text-xs",children:I},R))})]}),b.edition&&u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Edition:"})," ",b.edition]}),b.year&&u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Year:"})," ",b.year]}),b.url&&u.jsxs("p",{className:"text-white",children:[u.jsx("strong",{children:"Link:"}),u.jsx("a",{href:b.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] ml-2",children:b.url})]}),b.thumbnail&&u.jsx("img",{src:b.thumbnail,alt:b.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),a&&u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{onClick:()=>{i(b),s({...b,type:S})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ur,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>m(b.id,S,w),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]},b.id))})]},w));return u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("button",{onClick:()=>l("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Resources"}),a&&u.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Resource"]}),u.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)]",children:["lectures","books","videos","researchPapers"].map(S=>u.jsx(U.button,{onClick:()=>s(x=>({...x,type:S})),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${r.type===S?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:u.jsx("span",{children:S.charAt(0).toUpperCase()+S.slice(1)})},S))}),u.jsx("div",{className:"space-y-8",children:_(r.type)}),n&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Resource":"Add Resource"}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("select",{name:"type",value:r.type,onChange:f,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",children:[u.jsx("option",{value:"lectures",children:"Lectures"}),u.jsx("option",{value:"books",children:"Books"}),u.jsx("option",{value:"videos",children:"Videos"}),u.jsx("option",{value:"researchPapers",children:"Research Papers"})]}),v(),u.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function l$(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]}),{user:o}=Oi(),a=ln();N.useEffect(()=>{(async()=>{const _=(await Ge(de(K,"labs"))).docs.map(S=>({id:S.id,...S.data()}));e(_)})()},[]);const l=m=>{const{name:v,value:_}=m.target;s({...r,[v]:_})},c=(m,v)=>{const{value:_}=m.target;s({...r,[v]:_.split(",").map(S=>S.trim())})},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Fr(Re(K,"labs",n.id),r),e(t.map(v=>v.id===n.id?{...v,...r}:v));else{const v=await Ps(de(K,"labs"),r);e([...t,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving lab:",v)}},f=()=>{s({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]})},p=async m=>{await Ur(Re(K,"labs",m)),e(t.filter(v=>v.id!==m))};return u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Labs"}),o&&u.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Lab"]}),u.jsx("div",{className:"grid gap-8",children:t.map(m=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:u.jsxs("div",{className:"md:flex",children:[u.jsx("div",{className:"md:w-1/3",children:u.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:"p-6 md:w-2/3",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsx("div",{className:"flex items-center text-white",children:u.jsx("span",{children:m.duration})}),u.jsx("div",{className:"flex items-center text-white",children:u.jsxs("span",{children:[m.enrolled,"/",m.capacity," Enrolled"]})}),u.jsx("div",{className:"flex items-center text-white",children:u.jsx("span",{children:m.instructor})}),u.jsx("div",{className:"flex items-center text-white",children:u.jsx("span",{children:m.tools.join(", ")})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),u.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:m.prerequisites.map((v,_)=>u.jsx("li",{children:v},_))})]}),o&&u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ur,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Lab":"Add Lab"}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx("input",{name:"enrolled",type:"number",placeholder:"Enrolled",value:r.enrolled,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsx("input",{name:"prerequisites",placeholder:"Prerequisites (comma separated)",value:r.prerequisites.join(", "),onChange:m=>c(m,"prerequisites"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"tools",placeholder:"Tools (comma separated)",value:r.tools.join(", "),onChange:m=>c(m,"tools"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function c$(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]}),{user:o}=Oi(),a=ln();N.useEffect(()=>{(async()=>{const _=(await Ge(de(K,"events"))).docs.map(S=>({id:S.id,...S.data()}));e(_)})()},[]);const l=m=>{const{name:v,value:_}=m.target;s({...r,[v]:_})},c=m=>{const{value:v}=m.target;s({...r,gallery:v.split(",").map(_=>_.trim())})},d=async m=>{m.preventDefault();try{const v={...r,date:r.startDate===r.endDate||!r.endDate?r.startDate:`${r.startDate} to ${r.endDate}`};if(n!=null&&n.id)await Fr(Re(K,"events",n.id),v),e(t.map(_=>_.id===n.id?{..._,...v}:_));else{const _=await Ps(de(K,"events"),v);e([...t,{id:_.id,...v}])}i(null),f()}catch(v){console.error("Error saving event:",v)}},f=()=>{s({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]})},p=async m=>{await Ur(Re(K,"events",m)),e(t.filter(v=>v.id!==m))};return u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Events"}),o&&u.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Event"]}),u.jsx("div",{className:"grid gap-8",children:t.map(m=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:u.jsxs("div",{className:"md:flex",children:[u.jsx("div",{className:"md:w-1/3",children:u.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),u.jsxs("div",{className:"p-6 md:w-2/3",children:[u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),u.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsx("div",{className:"flex items-center text-white",children:u.jsx("span",{children:m.date})}),m.time&&u.jsx("div",{className:"flex items-center text-white",children:u.jsx("span",{children:m.time})}),u.jsx("div",{className:"flex items-center text-white",children:u.jsx("span",{children:m.location})}),u.jsx("div",{className:"flex items-center text-white",children:u.jsxs("span",{children:[m.registered,"/",m.capacity," Registered"]})})]}),o&&u.jsxs("div",{className:"flex space-x-2 mt-4",children:[u.jsx("button",{onClick:()=>{var _;i(m);const v=(_=m.date)!=null&&_.includes(" to ")?m.date.split(" to "):[m.date,m.date];s({...m,startDate:v[0],endDate:v[1]})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ur,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Event":"Add Event"}),u.jsxs("form",{onSubmit:d,className:"space-y-4",children:[u.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-white block mb-1",children:"Start Date"}),u.jsx("input",{name:"startDate",type:"date",value:r.startDate,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-white block mb-1",children:"End Date (optional)"}),u.jsx("input",{name:"endDate",type:"date",value:r.endDate,onChange:l,min:r.startDate,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),u.jsx("input",{name:"time",placeholder:"Time (optional, e.g., 10:00 AM - 4:00 PM)",value:r.time,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"location",placeholder:"Location",value:r.location,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsx("input",{name:"eventLink",placeholder:"Event Website URL",value:r.eventLink,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-white block mb-1",children:"Capacity"}),u.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,min:"0",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-white block mb-1",children:"Registered"}),u.jsx("input",{name:"registered",type:"number",placeholder:"Registered",value:r.registered,onChange:l,min:"0",max:r.capacity,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-white block mb-1",children:"Gallery Image URLs (comma separated)"}),u.jsx("textarea",{name:"gallery",placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",value:(r.gallery||[]).join(", "),onChange:c,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function u$(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1,year:""}),{user:o}=Oi(),a=ln();N.useEffect(()=>{(async()=>{const v=(await Ge(de(K,"members"))).docs.map(_=>({id:_.id,..._.data()}));e(v)})()},[]);const l=p=>{const{name:m,value:v,type:_,checked:S}=p.target;s({...r,[m]:_==="checkbox"?S:v})},c=async p=>{p.preventDefault();try{if(n!=null&&n.id)await Fr(Re(K,"members",n.id),r),e(t.map(m=>m.id===n.id?{...m,...r}:m));else{const m=await Ps(de(K,"members"),r);e([...t,{id:m.id,...r}])}i(null),d()}catch(m){console.error("Error saving member:",m)}},d=()=>{s({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1,year:""})},f=async p=>{await Ur(Re(K,"members",p)),e(t.filter(m=>m.id!==p))};return u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Members"}),o&&u.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-2"}),"Add Member"]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Head Faculty"}),t.filter(p=>p.isHead).map(p=>u.jsx(C1,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!0},p.id))]}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Team Members"}),u.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.filter(p=>!p.isHead).map(p=>u.jsx(C1,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!1},p.id))})]})]}),n&&u.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Member":"Add Member"}),u.jsxs("form",{onSubmit:c,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Name"}),u.jsx("input",{name:"name",value:r.name,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Role"}),u.jsx("input",{name:"role",value:r.role,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Specialization"}),u.jsx("input",{name:"specialization",value:r.specialization,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Year"}),u.jsx("input",{name:"year",type:"number",value:r.year,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",placeholder:"e.g. 2023"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Email"}),u.jsx("input",{name:"email",type:"email",value:r.email,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"GitHub Username"}),u.jsx("input",{name:"github",value:r.github,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"LinkedIn Username"}),u.jsx("input",{name:"linkedin",value:r.linkedin,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Image URL"}),u.jsx("input",{name:"image",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{name:"isHead",type:"checkbox",checked:r.isHead,onChange:l,className:"h-4 w-4 text-[rgb(136,58,234)] rounded border-gray-300 focus:ring-[rgb(136,58,234)]"}),u.jsx("label",{className:"ml-2 text-[rgb(224,204,250)]",children:"Is Head Faculty Member"})]}),u.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[u.jsx("button",{type:"button",onClick:()=>{i(null),d()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),u.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}const C1=({member:t,onEdit:e,onDelete:n,isAdmin:i,isHead:r})=>u.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${r?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:`flex ${r?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[u.jsx("img",{src:t.image,alt:t.name,className:`${r?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),u.jsxs("div",{className:`${r?"text-center md:text-left mt-4 md:mt-0":""}`,children:[u.jsx("h3",{className:`${r?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization}),t.year&&u.jsxs("p",{className:"text-[rgb(224,204,250)]",children:["Year: ",t.year]})]})]}),u.jsxs("div",{className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&u.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(eT,{className:"h-5 w-5"})}),t.github&&u.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(JE,{className:"h-5 w-5"})}),t.linkedin&&u.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ZE,{className:"h-5 w-5"})})]}),i&&u.jsxs("div",{className:"flex space-x-2 mt-4 justify-center md:justify-start",children:[u.jsx("button",{onClick:e,className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(ur,{className:"h-5 w-5"})}),u.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]})});function h$(){var d;const[t,e]=N.useState({pending:[],approved:[]}),[n,i]=N.useState(!0),[r,s]=N.useState(null),o=ln(),a=f=>{if(!f)return"N/A";try{return typeof f.toDate=="function"?f.toDate().toLocaleDateString():f.seconds?new Date(f.seconds*1e3).toLocaleDateString():typeof f=="string"?new Date(f).toLocaleDateString():"N/A"}catch{return"N/A"}};N.useEffect(()=>{(async()=>{try{const[p,m]=[Th(de(K,"blogs"),Sh("approved","==",!1),Ch("date","desc")),Th(de(K,"blogs"),Sh("approved","==",!0),Ch("date","desc"))],[v,_]=await Promise.all([Ge(p),Ge(m)]);e({pending:v.docs.map(S=>({id:S.id,...S.data()})),approved:_.docs.map(S=>({id:S.id,...S.data()}))})}catch(p){console.error("Error fetching blogs:",p)}finally{i(!1)}})()},[]);const l=async f=>{try{await Fr(Re(K,"blogs",f),{approved:!0}),e(p=>({pending:p.pending.filter(m=>m.id!==f),approved:[...p.approved,p.pending.find(m=>m.id===f)]}))}catch(p){console.error("Error approving blog:",p)}},c=async(f,p=!1)=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await Ur(Re(K,"blogs",f)),e(m=>({pending:p?m.pending.filter(v=>v.id!==f):m.pending,approved:p?m.approved:m.approved.filter(v=>v.id!==f)})),(r==null?void 0:r.id)===f&&s(null)}catch(m){console.error("Error deleting blog:",m)}};return n?u.jsx("div",{className:"flex justify-center items-center h-64",children:u.jsx("div",{className:"text-white",children:"Loading blogs..."})}):r?u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] mb-4",children:[u.jsx(wr,{className:"h-5 w-5 mr-1 transform rotate-180"}),"Back to all blogs"]}),u.jsxs("button",{onClick:()=>o("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300 mb-4",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})]}),u.jsxs("div",{className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:r.title}),u.jsxs("div",{className:"flex space-x-2",children:[!r.approved&&u.jsx("button",{onClick:()=>l(r.id),className:"text-green-500 hover:text-green-400 p-1",title:"Approve",children:u.jsx(uw,{className:"h-5 w-5"})}),u.jsx("button",{onClick:()=>c(r.id,!r.approved),className:"text-red-500 hover:text-red-400 p-1",title:"Delete",children:u.jsx(Xt,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)] mb-4",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(qa,{className:"h-4 w-4 mr-2"}),r.author||"Anonymous"]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(yi,{className:"h-4 w-4 mr-2"}),a(r.date)]}),u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:`px-2 py-1 rounded-md text-xs ${r.approved?"bg-green-900 text-green-200":"bg-yellow-900 text-yellow-200"}`,children:r.approved?"Approved":"Pending"})})]}),u.jsx("div",{className:"prose prose-invert max-w-none",children:u.jsx("p",{className:"text-[rgb(224,204,250)] whitespace-pre-line",children:r.content})}),((d=r.tags)==null?void 0:d.length)>0&&u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Tags"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((f,p)=>u.jsx("span",{className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-3 py-1 rounded-md text-sm",children:f},p))})]})]})]}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("button",{onClick:()=>o("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),u.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Manage Blog Posts"}),t.pending.length>0&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h2",{className:"text-2xl font-semibold text-white border-b border-[rgb(136,58,234)] pb-2",children:["Pending Approval (",t.pending.length,")"]}),u.jsx("div",{className:"grid gap-6",children:t.pending.map(f=>u.jsxs(U.div,{whileHover:{scale:1.01},className:"bg-[#23262d] rounded-lg border border-yellow-600 p-4 cursor-pointer",onClick:()=>s(f),children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:f.title}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:p=>{p.stopPropagation(),l(f.id)},className:"text-green-500 hover:text-green-400 p-1",title:"Approve",children:u.jsx(uw,{className:"h-4 w-4"})}),u.jsx("button",{onClick:p=>{p.stopPropagation(),c(f.id,!0)},className:"text-red-500 hover:text-red-400 p-1",title:"Reject",children:u.jsx(os,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)] text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(qa,{className:"h-3 w-3 mr-1"}),f.author||"Anonymous"]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(yi,{className:"h-3 w-3 mr-1"}),a(f.date)]})]}),u.jsx("p",{className:"text-[rgb(224,204,250)] mt-2 line-clamp-2",children:f.content})]},f.id))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h2",{className:"text-2xl font-semibold text-white border-b border-[rgb(136,58,234)] pb-2",children:["Approved Posts (",t.approved.length,")"]}),t.approved.length>0?u.jsx("div",{className:"grid gap-6",children:t.approved.map(f=>u.jsxs(U.div,{whileHover:{scale:1.01},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] p-4 cursor-pointer",onClick:()=>s(f),children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:f.title}),u.jsx("div",{className:"flex space-x-2",children:u.jsx("button",{onClick:p=>{p.stopPropagation(),c(f.id)},className:"text-red-500 hover:text-red-400 p-1",title:"Delete",children:u.jsx(Xt,{className:"h-4 w-4"})})})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)] text-sm",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx(qa,{className:"h-3 w-3 mr-1"}),f.author||"Anonymous"]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(yi,{className:"h-3 w-3 mr-1"}),a(f.date)]})]}),u.jsx("p",{className:"text-[rgb(224,204,250)] mt-2 line-clamp-2",children:f.content})]},f.id))}):u.jsx("p",{className:"text-white text-center py-8",children:"No approved blog posts found"})]})]})}const d$={Users:Zn,BookOpen:fs,Award:KE,Building:QE};function f$(){const[t,e]=N.useState({stats:[],researchAreas:[],contact:{location:"",details:""}}),[n,i]=N.useState(null),[r,s]=N.useState(null),[o,a]=N.useState(!0),[l,c]=N.useState({success:null,message:""}),{user:d}=Oi(),f=ln();N.useEffect(()=>{(async()=>{try{const R=Re(K,"content","about"),M=await rc(R);if(M.exists()){const E=M.data();e({stats:E.stats||[],researchAreas:E.researchAreas||[],contact:E.contact||{location:"",details:""}})}else{const E={stats:[{name:"Active Students",value:"500+",icon:"Users"},{name:"Research Papers",value:"150+",icon:"BookOpen"},{name:"Awards",value:"25+",icon:"Award"},{name:"Partner Institutions",value:"10+",icon:"Building"}],researchAreas:[{title:"Applied Cryptography",points:["Public Key Infrastructure","Secure Communication Protocols","Blockchain Technology","Zero-Knowledge Proofs"]},{title:"Cryptanalysis",points:["Side-Channel Attacks","Quantum Cryptanalysis","Mathematical Cryptanalysis","Hardware Security"]}],contact:{location:"Cryptography Research Lab, IIIT Delhi, Okhla Industrial Estate, Phase III, New Delhi, India",details:`Email: Under-Development
Phone: Under-Development
Office Hours: Under-Development`}};await r1(R,E),e(E)}}catch(R){console.error("Error fetching about data:",R),c({success:!1,message:"Failed to load data"})}finally{a(!1)}})()},[]);const p=async()=>{c({success:null,message:"Saving..."});try{const I=Re(K,"content","about");await r1(I,t,{merge:!0}),c({success:!0,message:"Saved successfully!"}),setTimeout(()=>{c({success:null,message:""})},3e3)}catch(I){console.error("Error saving about data:",I),c({success:!1,message:`Error saving data: ${I.message}`})}},m=(I,R)=>{i(I),s(JSON.parse(JSON.stringify(R)))},v=(I,R,M)=>{if(Array.isArray(r)){const E=[...r];R?E[M]={...E[M],[R]:I.target.value}:E[M]=I.target.value,s(E)}else s(typeof r=="object"&&r!==null?{...r,[R]:I.target.value}:I.target.value)},_=()=>{let I={...t};switch(n){case"stats":case"researchAreas":I[n]=r;break;case"contactLocation":I.contact.location=r;break;case"contactDetails":I.contact.details=r;break}e(I),i(null)},S=()=>{const I=[...t.stats,{name:"",value:"",icon:"Users"}];e({...t,stats:I})},x=I=>{const R=t.stats.filter((M,E)=>E!==I);e({...t,stats:R})},w=()=>{const I=[...t.researchAreas,{title:"",points:[""]}];e({...t,researchAreas:I})},b=I=>{const R=t.researchAreas.filter((M,E)=>E!==I);e({...t,researchAreas:R})};return o?u.jsx("div",{className:"min-h-screen bg-[#13151a] flex items-center justify-center text-white",children:"Loading..."}):u.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"bg-[#13151a] min-h-screen p-8 text-white",children:[l.message&&u.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md ${l.success===!0?"bg-green-600":l.success===!1?"bg-red-600":"bg-blue-600"} text-white z-50 transition-opacity duration-300`,children:l.message}),u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsxs("button",{onClick:()=>f("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[u.jsx(Ii,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]}),d&&u.jsx("button",{onClick:p,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",disabled:l.message==="Saving...",children:l.message==="Saving..."?"Saving...":u.jsxs(u.Fragment,{children:[u.jsx(YR,{className:"h-4 w-4 mr-2"}),"Save All Changes"]})})]}),u.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-[rgb(224,204,250)]",children:"Manage About Page Content"}),u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 mb-8 border border-[rgb(136,58,234)]",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"About VeilCode Labs"}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[u.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Our Mission"}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:"To provide world-class education and research opportunities in cryptography, fostering innovation and excellence in information security."})]}),u.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Our Vision"}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:"To be a leading center of excellence in cryptography research and education, contributing to secure communication technologies."})]})]}),u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 mb-8 border border-[rgb(136,58,234)]",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h2",{className:"text-xl font-bold text-white",children:"Statistics"}),d&&u.jsxs("div",{className:"flex gap-2",children:[n!=="stats"&&u.jsxs("button",{onClick:()=>m("stats",[...t.stats]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(hu,{className:"h-4 w-4 mr-1"})," Edit"]}),u.jsxs("button",{onClick:S,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-1"})," Add"]})]})]}),n==="stats"?u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((I,R)=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:I.name,onChange:M=>v(M,"name",R),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Stat name"}),u.jsx("button",{onClick:()=>{const M=r.filter((E,T)=>T!==R);s(M)},className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]}),u.jsx("input",{type:"text",value:I.value,onChange:M=>v(M,"value",R),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Stat value"}),u.jsxs("select",{value:I.icon,onChange:M=>v(M,"icon",R),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",children:[u.jsx("option",{value:"Users",children:"Users Icon"}),u.jsx("option",{value:"BookOpen",children:"Book Icon"}),u.jsx("option",{value:"Award",children:"Award Icon"}),u.jsx("option",{value:"Building",children:"Building Icon"})]})]},R))}),u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("button",{onClick:()=>s([...r,{name:"",value:"",icon:"Users"}]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-1"})," Add Stat"]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),u.jsx("button",{onClick:_,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]})]}):u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.stats.length>0?t.stats.map((I,R)=>{const M=d$[I.icon]||Zn;return u.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] p-4 rounded-lg text-center relative",children:[u.jsx(M,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),u.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:I.value||"Value"}),u.jsx("p",{className:"text-[rgb(224,204,250)]",children:I.name||"Stat Name"}),d&&u.jsx("button",{onClick:()=>x(R),className:"absolute top-1 right-1 text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-4 w-4"})})]},R)}):u.jsx("div",{className:"col-span-4 text-center text-[rgb(224,204,250)] py-4",children:"No statistics added yet"})})]}),u.jsxs("div",{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)] mb-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white",children:"Research Areas"}),d&&u.jsxs("div",{className:"flex gap-2",children:[n!=="researchAreas"&&u.jsxs("button",{onClick:()=>m("researchAreas",[...t.researchAreas]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(hu,{className:"h-4 w-4 mr-1"})," Edit"]}),u.jsxs("button",{onClick:w,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-1"})," Add"]})]})]}),n==="researchAreas"?u.jsxs("div",{className:"space-y-8",children:[r.map((I,R)=>u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"text",value:I.title,onChange:M=>{const E=[...r];E[R].title=M.target.value,s(E)},className:"flex-1 bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)] text-xl font-semibold",placeholder:"Research Area Title"}),u.jsx("button",{onClick:()=>{const M=r.filter((E,T)=>T!==R);s(M)},className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]}),u.jsxs("div",{className:"space-y-2 ml-6",children:[I.points.map((M,E)=>u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-[rgb(224,204,250)]",children:"•"}),u.jsx("input",{type:"text",value:M,onChange:T=>{const k=[...r];k[R].points[E]=T.target.value,s(k)},className:"flex-1 bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]"}),u.jsx("button",{onClick:()=>{const T=[...r];T[R].points=T[R].points.filter((k,P)=>P!==E),s(T)},className:"text-red-500 hover:text-red-400 transition-colors duration-300",children:u.jsx(Xt,{className:"h-4 w-4"})})]},E)),u.jsxs("button",{onClick:()=>{const M=[...r];M[R].points.push(""),s(M)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300 flex items-center text-sm mt-2",children:[u.jsx(mn,{className:"h-3 w-3 mr-1"})," Add Point"]})]})]},R)),u.jsxs("div",{className:"flex justify-between pt-4",children:[u.jsxs("button",{onClick:()=>{s([...r,{title:"",points:[""]}])},className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[u.jsx(mn,{className:"h-4 w-4 mr-1"})," Add Research Area"]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),u.jsx("button",{onClick:_,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]})]}):u.jsx("div",{className:"space-y-8",children:t.researchAreas.length>0?t.researchAreas.map((I,R)=>u.jsxs("div",{className:"relative",children:[u.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title||"Research Area Title"}),u.jsx("ul",{className:"list-disc list-inside text-white space-y-2 ml-4",children:I.points.map((M,E)=>u.jsx("li",{children:M||"Research point..."},E))}),d&&u.jsx("button",{onClick:()=>b(R),className:"absolute top-0 right-0 text-red-500 hover:text-red-600 transition-colors duration-300",children:u.jsx(Xt,{className:"h-5 w-5"})})]},R)):u.jsx("div",{className:"text-center text-[rgb(224,204,250)] py-4",children:"No research areas added yet"})})]}),u.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Information"}),u.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{section:"contactLocation",title:"Location",content:t.contact.location},{section:"contactDetails",title:"Get in Touch",content:t.contact.details}].map(I=>u.jsx("div",{className:"relative",children:n===I.section?u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title}),u.jsx("textarea",{value:r,onChange:R=>s(R.target.value),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)] h-32"}),u.jsxs("div",{className:"flex justify-end space-x-4",children:[u.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),u.jsx("button",{onClick:_,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title}),u.jsx("p",{className:"text-white whitespace-pre-line",children:I.content||`${I.title} information...`}),d&&u.jsx("button",{onClick:()=>m(I.section,I.content),className:"absolute top-0 right-0 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:u.jsx(hu,{className:"h-5 w-5"})})]})},I.section))})]})]})}function p$(){const{user:t}=Oi();return u.jsxs(DR,{children:[u.jsx(t$,{}),u.jsx(JR,{children:u.jsxs(IR,{children:[u.jsx(Ke,{path:"/",element:u.jsx(H8,{})}),u.jsx(Ke,{path:"/courses",element:u.jsx(W8,{})}),u.jsx(Ke,{path:"/resources",element:u.jsx(Q8,{})}),u.jsx(Ke,{path:"/events",element:u.jsx(G8,{})}),u.jsx(Ke,{path:"/members",element:u.jsx(Y8,{})}),u.jsx(Ke,{path:"/about",element:u.jsx(X8,{})}),u.jsx(Ke,{path:"/blog",element:u.jsx(Z8,{})}),u.jsx(Ke,{path:"/labs",element:u.jsx(e$,{})}),u.jsx(Ke,{path:"/admin-login",element:u.jsx(n$,{})}),u.jsx(Ke,{path:"/admin",element:t?u.jsx(r$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/home",element:t?u.jsx(s$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/courses",element:t?u.jsx(o$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/resources",element:t?u.jsx(a$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/labs",element:t?u.jsx(l$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/events",element:t?u.jsx(c$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/members",element:t?u.jsx(u$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/blogs",element:t?u.jsx(h$,{}):u.jsx(zn,{to:"/admin-login"})}),u.jsx(Ke,{path:"/admin/about",element:t?u.jsx(f$,{}):u.jsx(zn,{to:"/admin-login"})})]})})]})}FE(document.getElementById("root")).render(u.jsx(i$,{children:u.jsx(N.StrictMode,{children:u.jsx(p$,{})})}));

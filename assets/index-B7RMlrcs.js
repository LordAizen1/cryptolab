function Vk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Fk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r1={exports:{}},bh={},s1={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=Symbol.for("react.element"),Uk=Symbol.for("react.portal"),zk=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),$k=Symbol.for("react.profiler"),qk=Symbol.for("react.provider"),Hk=Symbol.for("react.context"),Wk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),Kk=Symbol.for("react.memo"),Qk=Symbol.for("react.lazy"),I0=Symbol.iterator;function Yk(t){return t===null||typeof t!="object"?null:(t=I0&&t[I0]||t["@@iterator"],typeof t=="function"?t:null)}var o1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},a1=Object.assign,l1={};function jo(t,e,n){this.props=t,this.context=e,this.refs=l1,this.updater=n||o1}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c1(){}c1.prototype=jo.prototype;function Wm(t,e,n){this.props=t,this.context=e,this.refs=l1,this.updater=n||o1}var Gm=Wm.prototype=new c1;Gm.constructor=Wm;a1(Gm,jo.prototype);Gm.isPureReactComponent=!0;var k0=Array.isArray,u1=Object.prototype.hasOwnProperty,Km={current:null},h1={key:!0,ref:!0,__self:!0,__source:!0};function d1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)u1.call(e,i)&&!h1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:jl,type:t,key:s,ref:o,props:r,_owner:Km.current}}function Xk(t,e){return{$$typeof:jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===jl}function Jk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P0=/\/+/g;function Bd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jk(""+t.key):e.toString(36)}function Hc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jl:case Uk:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Bd(o,0):i,k0(r)?(n="",t!=null&&(n=t.replace(P0,"$&/")+"/"),Hc(r,e,n,"",function(c){return c})):r!=null&&(Qm(r)&&(r=Xk(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(P0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",k0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Bd(s,a);o+=Hc(s,e,n,l,r)}else if(l=Yk(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Bd(s,a++),o+=Hc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vc(t,e,n){if(t==null)return t;var i=[],r=0;return Hc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function Zk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Wc={transition:null},eP={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Wc,ReactCurrentOwner:Km};function f1(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:vc,forEach:function(t,e,n){vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vc(t,function(){e++}),e},toArray:function(t){return vc(t,function(e){return e})||[]},only:function(t){if(!Qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=jo;se.Fragment=zk;se.Profiler=$k;se.PureComponent=Wm;se.StrictMode=Bk;se.Suspense=Gk;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eP;se.act=f1;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=a1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Km.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)u1.call(e,l)&&!h1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:jl,type:t.type,key:r,ref:s,props:i,_owner:o}};se.createContext=function(t){return t={$$typeof:Hk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qk,_context:t},t.Consumer=t};se.createElement=d1;se.createFactory=function(t){var e=d1.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Wk,render:t}};se.isValidElement=Qm;se.lazy=function(t){return{$$typeof:Qk,_payload:{_status:-1,_result:t},_init:Zk}};se.memo=function(t,e){return{$$typeof:Kk,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Wc.transition;Wc.transition={};try{t()}finally{Wc.transition=e}};se.unstable_act=f1;se.useCallback=function(t,e){return Ot.current.useCallback(t,e)};se.useContext=function(t){return Ot.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ot.current.useEffect(t,e)};se.useId=function(){return Ot.current.useId()};se.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ot.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};se.useRef=function(t){return Ot.current.useRef(t)};se.useState=function(t){return Ot.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ot.current.useTransition()};se.version="18.3.1";s1.exports=se;var R=s1.exports;const ip=Fk(R),tP=Vk({__proto__:null,default:ip},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP=R,iP=Symbol.for("react.element"),rP=Symbol.for("react.fragment"),sP=Object.prototype.hasOwnProperty,oP=nP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aP={key:!0,ref:!0,__self:!0,__source:!0};function p1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)sP.call(e,i)&&!aP.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:iP,type:t,key:s,ref:o,props:r,_owner:oP.current}}bh.Fragment=rP;bh.jsx=p1;bh.jsxs=p1;r1.exports=bh;var h=r1.exports,m1={exports:{}},sn={},g1={exports:{}},y1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Y){var ee=$.length;$.push(Y);e:for(;0<ee;){var Ce=ee-1>>>1,me=$[Ce];if(0<r(me,Y))$[Ce]=Y,$[ee]=me,ee=Ce;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var Y=$[0],ee=$.pop();if(ee!==Y){$[0]=ee;e:for(var Ce=0,me=$.length,Oe=me>>>1;Ce<Oe;){var ti=2*(Ce+1)-1,ni=$[ti],ii=ti+1,ri=$[ii];if(0>r(ni,ee))ii<me&&0>r(ri,ni)?($[Ce]=ri,$[ii]=ee,Ce=ii):($[Ce]=ni,$[ti]=ee,Ce=ti);else if(ii<me&&0>r(ri,ee))$[Ce]=ri,$[ii]=ee,Ce=ii;else break e}}return Y}function r($,Y){var ee=$.sortIndex-Y.sortIndex;return ee!==0?ee:$.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var Y=n(c);Y!==null;){if(Y.callback===null)i(c);else if(Y.startTime<=$)i(c),Y.sortIndex=Y.expirationTime,e(l,Y);else break;Y=n(c)}}function I($){if(w=!1,E($),!v)if(n(l)!==null)v=!0,Ss(N);else{var Y=n(c);Y!==null&&xe(I,Y.startTime-$)}}function N($,Y){v=!1,w&&(w=!1,x(b),b=-1),m=!0;var ee=p;try{for(E(Y),f=n(l);f!==null&&(!(f.expirationTime>Y)||$&&!D());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,p=f.priorityLevel;var me=Ce(f.expirationTime<=Y);Y=t.unstable_now(),typeof me=="function"?f.callback=me:f===n(l)&&i(l),E(Y)}else i(l);f=n(l)}if(f!==null)var Oe=!0;else{var ti=n(c);ti!==null&&xe(I,ti.startTime-Y),Oe=!1}return Oe}finally{f=null,p=ee,m=!1}}var O=!1,C=null,b=-1,k=5,P=-1;function D(){return!(t.unstable_now()-P<k)}function j(){if(C!==null){var $=t.unstable_now();P=$;var Y=!0;try{Y=C(!0,$)}finally{Y?A():(O=!1,C=null)}}else O=!1}var A;if(typeof _=="function")A=function(){_(j)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Ni=kt.port2;kt.port1.onmessage=j,A=function(){Ni.postMessage(null)}}else A=function(){T(j,0)};function Ss($){C=$,O||(O=!0,A())}function xe($,Y){b=T(function(){$(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Ss(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var ee=p;p=Y;try{return $()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Y){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=p;p=$;try{return Y()}finally{p=ee}},t.unstable_scheduleCallback=function($,Y,ee){var Ce=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ce+ee:Ce):ee=Ce,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,$={id:d++,callback:Y,priorityLevel:$,startTime:ee,expirationTime:me,sortIndex:-1},ee>Ce?($.sortIndex=ee,e(c,$),n(l)===null&&$===n(c)&&(w?(x(b),b=-1):w=!0,xe(I,ee-Ce))):($.sortIndex=me,e(l,$),v||m||(v=!0,Ss(N))),$},t.unstable_shouldYield=D,t.unstable_wrapCallback=function($){var Y=p;return function(){var ee=p;p=Y;try{return $.apply(this,arguments)}finally{p=ee}}}})(y1);g1.exports=y1;var lP=g1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=R,rn=lP;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v1=new Set,Qa={};function ps(t,e){fo(t,e),fo(t+"Capture",e)}function fo(t,e){for(Qa[t]=e,t=0;t<e.length;t++)v1.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rp=Object.prototype.hasOwnProperty,uP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A0={},R0={};function hP(t){return rp.call(R0,t)?!0:rp.call(A0,t)?!1:uP.test(t)?R0[t]=!0:(A0[t]=!0,!1)}function dP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fP(t,e,n,i){if(e===null||typeof e>"u"||dP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ym=/[\-:]([a-z])/g;function Xm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ym,Xm);ut[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ym,Xm);ut[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ym,Xm);ut[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jm(t,e,n,i){var r=ut.hasOwnProperty(e)?ut[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fP(e,n,r,i)&&(n=null),i||r===null?hP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ai=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xc=Symbol.for("react.element"),Os=Symbol.for("react.portal"),Ls=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),x1=Symbol.for("react.provider"),w1=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),op=Symbol.for("react.suspense"),ap=Symbol.for("react.suspense_list"),tg=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),_1=Symbol.for("react.offscreen"),N0=Symbol.iterator;function aa(t){return t===null||typeof t!="object"?null:(t=N0&&t[N0]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,$d;function ga(t){if($d===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$d=e&&e[1]||""}return`
`+$d+t}var qd=!1;function Hd(t,e){if(!t||qd)return"";qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ga(t):""}function pP(t){switch(t.tag){case 5:return ga(t.type);case 16:return ga("Lazy");case 13:return ga("Suspense");case 19:return ga("SuspenseList");case 0:case 2:case 15:return t=Hd(t.type,!1),t;case 11:return t=Hd(t.type.render,!1),t;case 1:return t=Hd(t.type,!0),t;default:return""}}function lp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ls:return"Fragment";case Os:return"Portal";case sp:return"Profiler";case Zm:return"StrictMode";case op:return"Suspense";case ap:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case w1:return(t.displayName||"Context")+".Consumer";case x1:return(t._context.displayName||"Context")+".Provider";case eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tg:return e=t.displayName||null,e!==null?e:lp(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return lp(t(e))}catch{}}return null}function mP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(e);case 8:return e===Zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gP(t){var e=b1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wc(t){t._valueTracker||(t._valueTracker=gP(t))}function E1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=b1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function xu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cp(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function D0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=pr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T1(t,e){e=e.checked,e!=null&&Jm(t,"checked",e,!1)}function up(t,e){T1(t,e);var n=pr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hp(t,e.type,n):e.hasOwnProperty("defaultValue")&&hp(t,e.type,pr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function hp(t,e,n){(e!=="number"||xu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ya=Array.isArray;function no(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+pr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function dp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ya(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pr(n)}}function S1(t,e){var n=pr(e.value),i=pr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function O0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function C1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?C1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _c,I1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_c=_c||document.createElement("div"),_c.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_c.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ya(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yP=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){yP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function k1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function P1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=k1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var vP=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pp(t,e){if(e){if(vP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function mp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function ng(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yp=null,io=null,ro=null;function L0(t){if(t=Ll(t)){if(typeof yp!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ih(e),yp(t.stateNode,t.type,e))}}function A1(t){io?ro?ro.push(t):ro=[t]:io=t}function R1(){if(io){var t=io,e=ro;if(ro=io=null,L0(t),e)for(t=0;t<e.length;t++)L0(e[t])}}function N1(t,e){return t(e)}function D1(){}var Wd=!1;function j1(t,e,n){if(Wd)return t(e,n);Wd=!0;try{return N1(t,e,n)}finally{Wd=!1,(io!==null||ro!==null)&&(D1(),R1())}}function Xa(t,e){var n=t.stateNode;if(n===null)return null;var i=Ih(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var vp=!1;if(wi)try{var la={};Object.defineProperty(la,"passive",{get:function(){vp=!0}}),window.addEventListener("test",la,la),window.removeEventListener("test",la,la)}catch{vp=!1}function xP(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Aa=!1,wu=null,_u=!1,xp=null,wP={onError:function(t){Aa=!0,wu=t}};function _P(t,e,n,i,r,s,o,a,l){Aa=!1,wu=null,xP.apply(wP,arguments)}function bP(t,e,n,i,r,s,o,a,l){if(_P.apply(this,arguments),Aa){if(Aa){var c=wu;Aa=!1,wu=null}else throw Error(U(198));_u||(_u=!0,xp=c)}}function ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function M1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function V0(t){if(ms(t)!==t)throw Error(U(188))}function EP(t){var e=t.alternate;if(!e){if(e=ms(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return V0(r),t;if(s===i)return V0(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function O1(t){return t=EP(t),t!==null?L1(t):null}function L1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=L1(t);if(e!==null)return e;t=t.sibling}return null}var V1=rn.unstable_scheduleCallback,F0=rn.unstable_cancelCallback,TP=rn.unstable_shouldYield,SP=rn.unstable_requestPaint,Fe=rn.unstable_now,CP=rn.unstable_getCurrentPriorityLevel,ig=rn.unstable_ImmediatePriority,F1=rn.unstable_UserBlockingPriority,bu=rn.unstable_NormalPriority,IP=rn.unstable_LowPriority,U1=rn.unstable_IdlePriority,Eh=null,Bn=null;function kP(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Eh,t,void 0,(t.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:RP,PP=Math.log,AP=Math.LN2;function RP(t){return t>>>=0,t===0?32:31-(PP(t)/AP|0)|0}var bc=64,Ec=4194304;function va(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Eu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=va(a):(s&=o,s!==0&&(i=va(s)))}else o=n&~r,o!==0?i=va(o):s!==0&&(i=va(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-kn(e),r=1<<n,i|=t[n],e&=~r;return i}function NP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=NP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function wp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z1(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function Gd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kn(e),t[e]=n}function jP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-kn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function rg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-kn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var fe=0;function B1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $1,sg,q1,H1,W1,_p=!1,Tc=[],Ji=null,Zi=null,er=null,Ja=new Map,Za=new Map,zi=[],MP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U0(t,e){switch(t){case"focusin":case"focusout":Ji=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ja.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(e.pointerId)}}function ca(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ll(e),e!==null&&sg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function OP(t,e,n,i,r){switch(e){case"focusin":return Ji=ca(Ji,t,e,n,i,r),!0;case"dragenter":return Zi=ca(Zi,t,e,n,i,r),!0;case"mouseover":return er=ca(er,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ja.set(s,ca(Ja.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Za.set(s,ca(Za.get(s)||null,t,e,n,i,r)),!0}return!1}function G1(t){var e=Hr(t.target);if(e!==null){var n=ms(e);if(n!==null){if(e=n.tag,e===13){if(e=M1(n),e!==null){t.blockedOn=e,W1(t.priority,function(){q1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);gp=i,n.target.dispatchEvent(i),gp=null}else return e=Ll(n),e!==null&&sg(e),t.blockedOn=n,!1;e.shift()}return!0}function z0(t,e,n){Gc(t)&&n.delete(e)}function LP(){_p=!1,Ji!==null&&Gc(Ji)&&(Ji=null),Zi!==null&&Gc(Zi)&&(Zi=null),er!==null&&Gc(er)&&(er=null),Ja.forEach(z0),Za.forEach(z0)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,_p||(_p=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,LP)))}function el(t){function e(r){return ua(r,t)}if(0<Tc.length){ua(Tc[0],t);for(var n=1;n<Tc.length;n++){var i=Tc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ji!==null&&ua(Ji,t),Zi!==null&&ua(Zi,t),er!==null&&ua(er,t),Ja.forEach(e),Za.forEach(e),n=0;n<zi.length;n++)i=zi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)G1(n),n.blockedOn===null&&zi.shift()}var so=Ai.ReactCurrentBatchConfig,Tu=!0;function VP(t,e,n,i){var r=fe,s=so.transition;so.transition=null;try{fe=1,og(t,e,n,i)}finally{fe=r,so.transition=s}}function FP(t,e,n,i){var r=fe,s=so.transition;so.transition=null;try{fe=4,og(t,e,n,i)}finally{fe=r,so.transition=s}}function og(t,e,n,i){if(Tu){var r=bp(t,e,n,i);if(r===null)rf(t,e,i,Su,n),U0(t,i);else if(OP(r,t,e,n,i))i.stopPropagation();else if(U0(t,i),e&4&&-1<MP.indexOf(t)){for(;r!==null;){var s=Ll(r);if(s!==null&&$1(s),s=bp(t,e,n,i),s===null&&rf(t,e,i,Su,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else rf(t,e,i,null,n)}}var Su=null;function bp(t,e,n,i){if(Su=null,t=ng(i),t=Hr(t),t!==null)if(e=ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=M1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Su=t,null}function K1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CP()){case ig:return 1;case F1:return 4;case bu:case IP:return 16;case U1:return 536870912;default:return 16}default:return 16}}var Gi=null,ag=null,Kc=null;function Q1(){if(Kc)return Kc;var t,e=ag,n=e.length,i,r="value"in Gi?Gi.value:Gi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Kc=r.slice(t,1<i?1-i:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function B0(){return!1}function on(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sc:B0,this.isPropagationStopped=B0,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lg=on(Mo),Ol=Re({},Mo,{view:0,detail:0}),UP=on(Ol),Kd,Qd,ha,Th=Re({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ha&&(ha&&t.type==="mousemove"?(Kd=t.screenX-ha.screenX,Qd=t.screenY-ha.screenY):Qd=Kd=0,ha=t),Kd)},movementY:function(t){return"movementY"in t?t.movementY:Qd}}),$0=on(Th),zP=Re({},Th,{dataTransfer:0}),BP=on(zP),$P=Re({},Ol,{relatedTarget:0}),Yd=on($P),qP=Re({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),HP=on(qP),WP=Re({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GP=on(WP),KP=Re({},Mo,{data:0}),q0=on(KP),QP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=XP[t])?!!e[t]:!1}function cg(){return JP}var ZP=Re({},Ol,{key:function(t){if(t.key){var e=QP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cg,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eA=on(ZP),tA=Re({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H0=on(tA),nA=Re({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cg}),iA=on(nA),rA=Re({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),sA=on(rA),oA=Re({},Th,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aA=on(oA),lA=[9,13,27,32],ug=wi&&"CompositionEvent"in window,Ra=null;wi&&"documentMode"in document&&(Ra=document.documentMode);var cA=wi&&"TextEvent"in window&&!Ra,Y1=wi&&(!ug||Ra&&8<Ra&&11>=Ra),W0=" ",G0=!1;function X1(t,e){switch(t){case"keyup":return lA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vs=!1;function uA(t,e){switch(t){case"compositionend":return J1(e);case"keypress":return e.which!==32?null:(G0=!0,W0);case"textInput":return t=e.data,t===W0&&G0?null:t;default:return null}}function hA(t,e){if(Vs)return t==="compositionend"||!ug&&X1(t,e)?(t=Q1(),Kc=ag=Gi=null,Vs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y1&&e.locale!=="ko"?null:e.data;default:return null}}var dA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dA[t.type]:e==="textarea"}function Z1(t,e,n,i){A1(i),e=Cu(e,"onChange"),0<e.length&&(n=new lg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Na=null,tl=null;function fA(t){uE(t,0)}function Sh(t){var e=zs(t);if(E1(e))return t}function pA(t,e){if(t==="change")return e}var eE=!1;if(wi){var Xd;if(wi){var Jd="oninput"in document;if(!Jd){var Q0=document.createElement("div");Q0.setAttribute("oninput","return;"),Jd=typeof Q0.oninput=="function"}Xd=Jd}else Xd=!1;eE=Xd&&(!document.documentMode||9<document.documentMode)}function Y0(){Na&&(Na.detachEvent("onpropertychange",tE),tl=Na=null)}function tE(t){if(t.propertyName==="value"&&Sh(tl)){var e=[];Z1(e,tl,t,ng(t)),j1(fA,e)}}function mA(t,e,n){t==="focusin"?(Y0(),Na=e,tl=n,Na.attachEvent("onpropertychange",tE)):t==="focusout"&&Y0()}function gA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sh(tl)}function yA(t,e){if(t==="click")return Sh(e)}function vA(t,e){if(t==="input"||t==="change")return Sh(e)}function xA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Dn=typeof Object.is=="function"?Object.is:xA;function nl(t,e){if(Dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!rp.call(e,r)||!Dn(t[r],e[r]))return!1}return!0}function X0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function J0(t,e){var n=X0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X0(n)}}function nE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iE(){for(var t=window,e=xu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xu(t.document)}return e}function hg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wA(t){var e=iE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nE(n.ownerDocument.documentElement,n)){if(i!==null&&hg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=J0(n,s);var o=J0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _A=wi&&"documentMode"in document&&11>=document.documentMode,Fs=null,Ep=null,Da=null,Tp=!1;function Z0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tp||Fs==null||Fs!==xu(i)||(i=Fs,"selectionStart"in i&&hg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Da&&nl(Da,i)||(Da=i,i=Cu(Ep,"onSelect"),0<i.length&&(e=new lg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Fs)))}function Cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Us={animationend:Cc("Animation","AnimationEnd"),animationiteration:Cc("Animation","AnimationIteration"),animationstart:Cc("Animation","AnimationStart"),transitionend:Cc("Transition","TransitionEnd")},Zd={},rE={};wi&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function Ch(t){if(Zd[t])return Zd[t];if(!Us[t])return t;var e=Us[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rE)return Zd[t]=e[n];return t}var sE=Ch("animationend"),oE=Ch("animationiteration"),aE=Ch("animationstart"),lE=Ch("transitionend"),cE=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(t,e){cE.set(t,e),ps(e,[t])}for(var ef=0;ef<ex.length;ef++){var tf=ex[ef],bA=tf.toLowerCase(),EA=tf[0].toUpperCase()+tf.slice(1);Tr(bA,"on"+EA)}Tr(sE,"onAnimationEnd");Tr(oE,"onAnimationIteration");Tr(aE,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(lE,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TA=new Set("cancel close invalid load scroll toggle".split(" ").concat(xa));function tx(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,bP(i,e,void 0,t),t.currentTarget=null}function uE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;tx(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;tx(r,a,c),s=l}}}if(_u)throw t=xp,_u=!1,xp=null,t}function _e(t,e){var n=e[Pp];n===void 0&&(n=e[Pp]=new Set);var i=t+"__bubble";n.has(i)||(hE(e,t,2,!1),n.add(i))}function nf(t,e,n){var i=0;e&&(i|=4),hE(n,t,i,e)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function il(t){if(!t[Ic]){t[Ic]=!0,v1.forEach(function(n){n!=="selectionchange"&&(TA.has(n)||nf(n,!1,t),nf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ic]||(e[Ic]=!0,nf("selectionchange",!1,e))}}function hE(t,e,n,i){switch(K1(e)){case 1:var r=VP;break;case 4:r=FP;break;default:r=og}n=r.bind(null,e,n,t),r=void 0,!vp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function rf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Hr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}j1(function(){var c=s,d=ng(n),f=[];e:{var p=cE.get(t);if(p!==void 0){var m=lg,v=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":m=eA;break;case"focusin":v="focus",m=Yd;break;case"focusout":v="blur",m=Yd;break;case"beforeblur":case"afterblur":m=Yd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=$0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=iA;break;case sE:case oE:case aE:m=HP;break;case lE:m=sA;break;case"scroll":m=UP;break;case"wheel":m=aA;break;case"copy":case"cut":case"paste":m=GP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=H0}var w=(e&4)!==0,T=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var _=c,E;_!==null;){E=_;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,x!==null&&(I=Xa(_,x),I!=null&&w.push(rl(_,I,E)))),T)break;_=_.return}0<w.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==gp&&(v=n.relatedTarget||n.fromElement)&&(Hr(v)||v[_i]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Hr(v):null,v!==null&&(T=ms(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=$0,I="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=H0,I="onPointerLeave",x="onPointerEnter",_="pointer"),T=m==null?p:zs(m),E=v==null?p:zs(v),p=new w(I,_+"leave",m,n,d),p.target=T,p.relatedTarget=E,I=null,Hr(d)===c&&(w=new w(x,_+"enter",v,n,d),w.target=E,w.relatedTarget=T,I=w),T=I,m&&v)t:{for(w=m,x=v,_=0,E=w;E;E=As(E))_++;for(E=0,I=x;I;I=As(I))E++;for(;0<_-E;)w=As(w),_--;for(;0<E-_;)x=As(x),E--;for(;_--;){if(w===x||x!==null&&w===x.alternate)break t;w=As(w),x=As(x)}w=null}else w=null;m!==null&&nx(f,p,m,w,!1),v!==null&&T!==null&&nx(f,T,v,w,!0)}}e:{if(p=c?zs(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=pA;else if(K0(p))if(eE)N=vA;else{N=gA;var O=mA}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=yA);if(N&&(N=N(t,c))){Z1(f,N,n,d);break e}O&&O(t,p,c),t==="focusout"&&(O=p._wrapperState)&&O.controlled&&p.type==="number"&&hp(p,"number",p.value)}switch(O=c?zs(c):window,t){case"focusin":(K0(O)||O.contentEditable==="true")&&(Fs=O,Ep=c,Da=null);break;case"focusout":Da=Ep=Fs=null;break;case"mousedown":Tp=!0;break;case"contextmenu":case"mouseup":case"dragend":Tp=!1,Z0(f,n,d);break;case"selectionchange":if(_A)break;case"keydown":case"keyup":Z0(f,n,d)}var C;if(ug)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vs?X1(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(Y1&&n.locale!=="ko"&&(Vs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Vs&&(C=Q1()):(Gi=d,ag="value"in Gi?Gi.value:Gi.textContent,Vs=!0)),O=Cu(c,b),0<O.length&&(b=new q0(b,t,null,n,d),f.push({event:b,listeners:O}),C?b.data=C:(C=J1(n),C!==null&&(b.data=C)))),(C=cA?uA(t,n):hA(t,n))&&(c=Cu(c,"onBeforeInput"),0<c.length&&(d=new q0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}uE(f,e)})}function rl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cu(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Xa(t,n),s!=null&&i.unshift(rl(t,s,r)),s=Xa(t,e),s!=null&&i.push(rl(t,s,r))),t=t.return}return i}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nx(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Xa(n,s),l!=null&&o.unshift(rl(n,l,a))):r||(l=Xa(n,s),l!=null&&o.push(rl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var SA=/\r\n?/g,CA=/\u0000|\uFFFD/g;function ix(t){return(typeof t=="string"?t:""+t).replace(SA,`
`).replace(CA,"")}function kc(t,e,n){if(e=ix(e),ix(t)!==e&&n)throw Error(U(425))}function Iu(){}var Sp=null,Cp=null;function Ip(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kp=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,rx=typeof Promise=="function"?Promise:void 0,kA=typeof queueMicrotask=="function"?queueMicrotask:typeof rx<"u"?function(t){return rx.resolve(null).then(t).catch(PA)}:kp;function PA(t){setTimeout(function(){throw t})}function sf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),el(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);el(e)}function tr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oo=Math.random().toString(36).slice(2),zn="__reactFiber$"+Oo,sl="__reactProps$"+Oo,_i="__reactContainer$"+Oo,Pp="__reactEvents$"+Oo,AA="__reactListeners$"+Oo,RA="__reactHandles$"+Oo;function Hr(t){var e=t[zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sx(t);t!==null;){if(n=t[zn])return n;t=sx(t)}return e}t=n,n=t.parentNode}return null}function Ll(t){return t=t[zn]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ih(t){return t[sl]||null}var Ap=[],Bs=-1;function Sr(t){return{current:t}}function be(t){0>Bs||(t.current=Ap[Bs],Ap[Bs]=null,Bs--)}function ye(t,e){Bs++,Ap[Bs]=t.current,t.current=e}var mr={},Ct=Sr(mr),qt=Sr(!1),Zr=mr;function po(t,e){var n=t.type.contextTypes;if(!n)return mr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ht(t){return t=t.childContextTypes,t!=null}function ku(){be(qt),be(Ct)}function ox(t,e,n){if(Ct.current!==mr)throw Error(U(168));ye(Ct,e),ye(qt,n)}function dE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,mP(t)||"Unknown",r));return Re({},n,i)}function Pu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,Zr=Ct.current,ye(Ct,t),ye(qt,qt.current),!0}function ax(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=dE(t,e,Zr),i.__reactInternalMemoizedMergedChildContext=t,be(qt),be(Ct),ye(Ct,t)):be(qt),ye(qt,n)}var li=null,kh=!1,of=!1;function fE(t){li===null?li=[t]:li.push(t)}function NA(t){kh=!0,fE(t)}function Cr(){if(!of&&li!==null){of=!0;var t=0,e=fe;try{var n=li;for(fe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}li=null,kh=!1}catch(r){throw li!==null&&(li=li.slice(t+1)),V1(ig,Cr),r}finally{fe=e,of=!1}}return null}var $s=[],qs=0,Au=null,Ru=0,hn=[],dn=0,es=null,ci=1,ui="";function Ur(t,e){$s[qs++]=Ru,$s[qs++]=Au,Au=t,Ru=e}function pE(t,e,n){hn[dn++]=ci,hn[dn++]=ui,hn[dn++]=es,es=t;var i=ci;t=ui;var r=32-kn(i)-1;i&=~(1<<r),n+=1;var s=32-kn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ci=1<<32-kn(e)+r|n<<r|i,ui=s+t}else ci=1<<s|n<<r|i,ui=t}function dg(t){t.return!==null&&(Ur(t,1),pE(t,1,0))}function fg(t){for(;t===Au;)Au=$s[--qs],$s[qs]=null,Ru=$s[--qs],$s[qs]=null;for(;t===es;)es=hn[--dn],hn[dn]=null,ui=hn[--dn],hn[dn]=null,ci=hn[--dn],hn[dn]=null}var Zt=null,Xt=null,Te=!1,Cn=null;function mE(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lx(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=tr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=es!==null?{id:ci,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Zt=t,Xt=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Np(t){if(Te){var e=Xt;if(e){var n=e;if(!lx(t,e)){if(Rp(t))throw Error(U(418));e=tr(n.nextSibling);var i=Zt;e&&lx(t,e)?mE(i,n):(t.flags=t.flags&-4097|2,Te=!1,Zt=t)}}else{if(Rp(t))throw Error(U(418));t.flags=t.flags&-4097|2,Te=!1,Zt=t}}}function cx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Pc(t){if(t!==Zt)return!1;if(!Te)return cx(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ip(t.type,t.memoizedProps)),e&&(e=Xt)){if(Rp(t))throw gE(),Error(U(418));for(;e;)mE(t,e),e=tr(e.nextSibling)}if(cx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Xt=tr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?tr(t.stateNode.nextSibling):null;return!0}function gE(){for(var t=Xt;t;)t=tr(t.nextSibling)}function mo(){Xt=Zt=null,Te=!1}function pg(t){Cn===null?Cn=[t]:Cn.push(t)}var DA=Ai.ReactCurrentBatchConfig;function da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ux(t){var e=t._init;return e(t._payload)}function yE(t){function e(x,_){if(t){var E=x.deletions;E===null?(x.deletions=[_],x.flags|=16):E.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function i(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function r(x,_){return x=sr(x,_),x.index=0,x.sibling=null,x}function s(x,_,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<_?(x.flags|=2,_):E):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,E,I){return _===null||_.tag!==6?(_=ff(E,x.mode,I),_.return=x,_):(_=r(_,E),_.return=x,_)}function l(x,_,E,I){var N=E.type;return N===Ls?d(x,_,E.props.children,I,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&ux(N)===_.type)?(I=r(_,E.props),I.ref=da(x,_,E),I.return=x,I):(I=nu(E.type,E.key,E.props,null,x.mode,I),I.ref=da(x,_,E),I.return=x,I)}function c(x,_,E,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=pf(E,x.mode,I),_.return=x,_):(_=r(_,E.children||[]),_.return=x,_)}function d(x,_,E,I,N){return _===null||_.tag!==7?(_=Xr(E,x.mode,I,N),_.return=x,_):(_=r(_,E),_.return=x,_)}function f(x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ff(""+_,x.mode,E),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case xc:return E=nu(_.type,_.key,_.props,null,x.mode,E),E.ref=da(x,null,_),E.return=x,E;case Os:return _=pf(_,x.mode,E),_.return=x,_;case Fi:var I=_._init;return f(x,I(_._payload),E)}if(ya(_)||aa(_))return _=Xr(_,x.mode,E,null),_.return=x,_;Ac(x,_)}return null}function p(x,_,E,I){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(x,_,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xc:return E.key===N?l(x,_,E,I):null;case Os:return E.key===N?c(x,_,E,I):null;case Fi:return N=E._init,p(x,_,N(E._payload),I)}if(ya(E)||aa(E))return N!==null?null:d(x,_,E,I,null);Ac(x,E)}return null}function m(x,_,E,I,N){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(E)||null,a(_,x,""+I,N);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case xc:return x=x.get(I.key===null?E:I.key)||null,l(_,x,I,N);case Os:return x=x.get(I.key===null?E:I.key)||null,c(_,x,I,N);case Fi:var O=I._init;return m(x,_,E,O(I._payload),N)}if(ya(I)||aa(I))return x=x.get(E)||null,d(_,x,I,N,null);Ac(_,I)}return null}function v(x,_,E,I){for(var N=null,O=null,C=_,b=_=0,k=null;C!==null&&b<E.length;b++){C.index>b?(k=C,C=null):k=C.sibling;var P=p(x,C,E[b],I);if(P===null){C===null&&(C=k);break}t&&C&&P.alternate===null&&e(x,C),_=s(P,_,b),O===null?N=P:O.sibling=P,O=P,C=k}if(b===E.length)return n(x,C),Te&&Ur(x,b),N;if(C===null){for(;b<E.length;b++)C=f(x,E[b],I),C!==null&&(_=s(C,_,b),O===null?N=C:O.sibling=C,O=C);return Te&&Ur(x,b),N}for(C=i(x,C);b<E.length;b++)k=m(C,x,b,E[b],I),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?b:k.key),_=s(k,_,b),O===null?N=k:O.sibling=k,O=k);return t&&C.forEach(function(D){return e(x,D)}),Te&&Ur(x,b),N}function w(x,_,E,I){var N=aa(E);if(typeof N!="function")throw Error(U(150));if(E=N.call(E),E==null)throw Error(U(151));for(var O=N=null,C=_,b=_=0,k=null,P=E.next();C!==null&&!P.done;b++,P=E.next()){C.index>b?(k=C,C=null):k=C.sibling;var D=p(x,C,P.value,I);if(D===null){C===null&&(C=k);break}t&&C&&D.alternate===null&&e(x,C),_=s(D,_,b),O===null?N=D:O.sibling=D,O=D,C=k}if(P.done)return n(x,C),Te&&Ur(x,b),N;if(C===null){for(;!P.done;b++,P=E.next())P=f(x,P.value,I),P!==null&&(_=s(P,_,b),O===null?N=P:O.sibling=P,O=P);return Te&&Ur(x,b),N}for(C=i(x,C);!P.done;b++,P=E.next())P=m(C,x,b,P.value,I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?b:P.key),_=s(P,_,b),O===null?N=P:O.sibling=P,O=P);return t&&C.forEach(function(j){return e(x,j)}),Te&&Ur(x,b),N}function T(x,_,E,I){if(typeof E=="object"&&E!==null&&E.type===Ls&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case xc:e:{for(var N=E.key,O=_;O!==null;){if(O.key===N){if(N=E.type,N===Ls){if(O.tag===7){n(x,O.sibling),_=r(O,E.props.children),_.return=x,x=_;break e}}else if(O.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Fi&&ux(N)===O.type){n(x,O.sibling),_=r(O,E.props),_.ref=da(x,O,E),_.return=x,x=_;break e}n(x,O);break}else e(x,O);O=O.sibling}E.type===Ls?(_=Xr(E.props.children,x.mode,I,E.key),_.return=x,x=_):(I=nu(E.type,E.key,E.props,null,x.mode,I),I.ref=da(x,_,E),I.return=x,x=I)}return o(x);case Os:e:{for(O=E.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(x,_.sibling),_=r(_,E.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=pf(E,x.mode,I),_.return=x,x=_}return o(x);case Fi:return O=E._init,T(x,_,O(E._payload),I)}if(ya(E))return v(x,_,E,I);if(aa(E))return w(x,_,E,I);Ac(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(x,_.sibling),_=r(_,E),_.return=x,x=_):(n(x,_),_=ff(E,x.mode,I),_.return=x,x=_),o(x)):n(x,_)}return T}var go=yE(!0),vE=yE(!1),Nu=Sr(null),Du=null,Hs=null,mg=null;function gg(){mg=Hs=Du=null}function yg(t){var e=Nu.current;be(Nu),t._currentValue=e}function Dp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function oo(t,e){Du=t,mg=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function vn(t){var e=t._currentValue;if(mg!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(Du===null)throw Error(U(308));Hs=t,Du.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var Wr=null;function vg(t){Wr===null?Wr=[t]:Wr.push(t)}function xE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,vg(e)):(n.next=r.next,r.next=n),e.interleaved=n,bi(t,i)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ui=!1;function xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function nr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,bi(t,n)}return r=i.interleaved,r===null?(e.next=e,vg(i)):(e.next=r.next,r.next=e),i.interleaved=e,bi(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,rg(t,n)}}function hx(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ju(t,e,n,i){var r=t.updateQueue;Ui=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(p=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Re({},f,p);break e;case 2:Ui=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ns|=o,t.lanes=o,t.memoizedState=f}}function dx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var Vl={},$n=Sr(Vl),ol=Sr(Vl),al=Sr(Vl);function Gr(t){if(t===Vl)throw Error(U(174));return t}function wg(t,e){switch(ye(al,e),ye(ol,t),ye($n,Vl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fp(e,t)}be($n),ye($n,e)}function yo(){be($n),be(ol),be(al)}function _E(t){Gr(al.current);var e=Gr($n.current),n=fp(e,t.type);e!==n&&(ye(ol,t),ye($n,n))}function _g(t){ol.current===t&&(be($n),be(ol))}var ke=Sr(0);function Mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var af=[];function bg(){for(var t=0;t<af.length;t++)af[t]._workInProgressVersionPrimary=null;af.length=0}var Xc=Ai.ReactCurrentDispatcher,lf=Ai.ReactCurrentBatchConfig,ts=0,Ae=null,Ge=null,Ze=null,Ou=!1,ja=!1,ll=0,jA=0;function gt(){throw Error(U(321))}function Eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Dn(t[n],e[n]))return!1;return!0}function Tg(t,e,n,i,r,s){if(ts=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?VA:FA,t=n(i,r),ja){s=0;do{if(ja=!1,ll=0,25<=s)throw Error(U(301));s+=1,Ze=Ge=null,e.updateQueue=null,Xc.current=UA,t=n(i,r)}while(ja)}if(Xc.current=Lu,e=Ge!==null&&Ge.next!==null,ts=0,Ze=Ge=Ae=null,Ou=!1,e)throw Error(U(300));return t}function Sg(){var t=ll!==0;return ll=0,t}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ae.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function xn(){if(Ge===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Ze===null?Ae.memoizedState:Ze.next;if(e!==null)Ze=e,Ge=t;else{if(t===null)throw Error(U(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ze===null?Ae.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function cl(t,e){return typeof e=="function"?e(t):e}function cf(t){var e=xn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=Ge,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ts&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Ae.lanes|=d,ns|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Dn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ae.lanes|=s,ns|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uf(t){var e=xn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Dn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function bE(){}function EE(t,e){var n=Ae,i=xn(),r=e(),s=!Dn(i.memoizedState,r);if(s&&(i.memoizedState=r,Bt=!0),i=i.queue,Cg(CE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,ul(9,SE.bind(null,n,i,r,e),void 0,null),et===null)throw Error(U(349));ts&30||TE(n,e,r)}return r}function TE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SE(t,e,n,i){e.value=n,e.getSnapshot=i,IE(e)&&kE(t)}function CE(t,e,n){return n(function(){IE(e)&&kE(t)})}function IE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Dn(t,n)}catch{return!0}}function kE(t){var e=bi(t,1);e!==null&&Pn(e,t,1,-1)}function fx(t){var e=Fn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cl,lastRenderedState:t},e.queue=t,t=t.dispatch=LA.bind(null,Ae,t),[e.memoizedState,t]}function ul(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function PE(){return xn().memoizedState}function Jc(t,e,n,i){var r=Fn();Ae.flags|=t,r.memoizedState=ul(1|e,n,void 0,i===void 0?null:i)}function Ph(t,e,n,i){var r=xn();i=i===void 0?null:i;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,i!==null&&Eg(i,o.deps)){r.memoizedState=ul(e,n,s,i);return}}Ae.flags|=t,r.memoizedState=ul(1|e,n,s,i)}function px(t,e){return Jc(8390656,8,t,e)}function Cg(t,e){return Ph(2048,8,t,e)}function AE(t,e){return Ph(4,2,t,e)}function RE(t,e){return Ph(4,4,t,e)}function NE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DE(t,e,n){return n=n!=null?n.concat([t]):null,Ph(4,4,NE.bind(null,e,t),n)}function Ig(){}function jE(t,e){var n=xn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Eg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function ME(t,e){var n=xn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Eg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function OE(t,e,n){return ts&21?(Dn(n,e)||(n=z1(),Ae.lanes|=n,ns|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function MA(t,e){var n=fe;fe=n!==0&&4>n?n:4,t(!0);var i=lf.transition;lf.transition={};try{t(!1),e()}finally{fe=n,lf.transition=i}}function LE(){return xn().memoizedState}function OA(t,e,n){var i=rr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},VE(t))FE(e,n);else if(n=xE(t,e,n,i),n!==null){var r=Dt();Pn(n,t,i,r),UE(n,e,i)}}function LA(t,e,n){var i=rr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(VE(t))FE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Dn(a,o)){var l=e.interleaved;l===null?(r.next=r,vg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=xE(t,e,r,i),n!==null&&(r=Dt(),Pn(n,t,i,r),UE(n,e,i))}}function VE(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function FE(t,e){ja=Ou=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function UE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,rg(t,n)}}var Lu={readContext:vn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},VA={readContext:vn,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:px,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,NE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=Fn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Fn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=OA.bind(null,Ae,t),[i.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:fx,useDebugValue:Ig,useDeferredValue:function(t){return Fn().memoizedState=t},useTransition:function(){var t=fx(!1),e=t[0];return t=MA.bind(null,t[1]),Fn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ae,r=Fn();if(Te){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),et===null)throw Error(U(349));ts&30||TE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,px(CE.bind(null,i,s,t),[t]),i.flags|=2048,ul(9,SE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Fn(),e=et.identifierPrefix;if(Te){var n=ui,i=ci;n=(i&~(1<<32-kn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=ll++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FA={readContext:vn,useCallback:jE,useContext:vn,useEffect:Cg,useImperativeHandle:DE,useInsertionEffect:AE,useLayoutEffect:RE,useMemo:ME,useReducer:cf,useRef:PE,useState:function(){return cf(cl)},useDebugValue:Ig,useDeferredValue:function(t){var e=xn();return OE(e,Ge.memoizedState,t)},useTransition:function(){var t=cf(cl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:bE,useSyncExternalStore:EE,useId:LE,unstable_isNewReconciler:!1},UA={readContext:vn,useCallback:jE,useContext:vn,useEffect:Cg,useImperativeHandle:DE,useInsertionEffect:AE,useLayoutEffect:RE,useMemo:ME,useReducer:uf,useRef:PE,useState:function(){return uf(cl)},useDebugValue:Ig,useDeferredValue:function(t){var e=xn();return Ge===null?e.memoizedState=t:OE(e,Ge.memoizedState,t)},useTransition:function(){var t=uf(cl)[0],e=xn().memoizedState;return[t,e]},useMutableSource:bE,useSyncExternalStore:EE,useId:LE,unstable_isNewReconciler:!1};function Tn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ah={isMounted:function(t){return(t=t._reactInternals)?ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Dt(),r=rr(t),s=pi(i,r);s.payload=e,n!=null&&(s.callback=n),e=nr(t,s,r),e!==null&&(Pn(e,t,r,i),Yc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Dt(),r=rr(t),s=pi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=nr(t,s,r),e!==null&&(Pn(e,t,r,i),Yc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dt(),i=rr(t),r=pi(n,i);r.tag=2,e!=null&&(r.callback=e),e=nr(t,r,i),e!==null&&(Pn(e,t,i,n),Yc(e,t,i))}};function mx(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!nl(n,i)||!nl(r,s):!0}function zE(t,e,n){var i=!1,r=mr,s=e.contextType;return typeof s=="object"&&s!==null?s=vn(s):(r=Ht(e)?Zr:Ct.current,i=e.contextTypes,s=(i=i!=null)?po(t,r):mr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ah,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function gx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Ah.enqueueReplaceState(e,e.state,null)}function Mp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},xg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=vn(s):(s=Ht(e)?Zr:Ct.current,r.context=po(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Ah.enqueueReplaceState(r,r.state,null),ju(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function vo(t,e){try{var n="",i=e;do n+=pP(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function hf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Op(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zA=typeof WeakMap=="function"?WeakMap:Map;function BE(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Fu||(Fu=!0,Wp=i),Op(t,e)},n}function $E(t,e,n){n=pi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Op(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Op(t,e),typeof i!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function yx(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new zA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=tR.bind(null,t,e,n),e.then(t,t))}function vx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xx(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,nr(n,e,1))),n.lanes|=1),t)}var BA=Ai.ReactCurrentOwner,Bt=!1;function Rt(t,e,n,i){e.child=t===null?vE(e,null,n,i):go(e,t.child,n,i)}function wx(t,e,n,i,r){n=n.render;var s=e.ref;return oo(e,r),i=Tg(t,e,n,i,s,r),n=Sg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ei(t,e,r)):(Te&&n&&dg(e),e.flags|=1,Rt(t,e,i,r),e.child)}function _x(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Mg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qE(t,e,s,i,r)):(t=nu(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:nl,n(o,i)&&t.ref===e.ref)return Ei(t,e,r)}return e.flags|=1,t=sr(s,i),t.ref=e.ref,t.return=e,e.child=t}function qE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(nl(s,i)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Ei(t,e,r)}return Lp(t,e,n,i,r)}function HE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Gs,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Gs,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ye(Gs,Yt),Yt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ye(Gs,Yt),Yt|=i;return Rt(t,e,r,n),e.child}function WE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lp(t,e,n,i,r){var s=Ht(n)?Zr:Ct.current;return s=po(e,s),oo(e,r),n=Tg(t,e,n,i,s,r),i=Sg(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ei(t,e,r)):(Te&&i&&dg(e),e.flags|=1,Rt(t,e,n,r),e.child)}function bx(t,e,n,i,r){if(Ht(n)){var s=!0;Pu(e)}else s=!1;if(oo(e,r),e.stateNode===null)Zc(t,e),zE(e,n,i),Mp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=vn(c):(c=Ht(n)?Zr:Ct.current,c=po(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&gx(e,o,i,c),Ui=!1;var p=e.memoizedState;o.state=p,ju(e,i,o,r),l=e.memoizedState,a!==i||p!==l||qt.current||Ui?(typeof d=="function"&&(jp(e,n,d,i),l=e.memoizedState),(a=Ui||mx(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,wE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Tn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vn(l):(l=Ht(n)?Zr:Ct.current,l=po(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&gx(e,o,i,l),Ui=!1,p=e.memoizedState,o.state=p,ju(e,i,o,r);var v=e.memoizedState;a!==f||p!==v||qt.current||Ui?(typeof m=="function"&&(jp(e,n,m,i),v=e.memoizedState),(c=Ui||mx(e,n,c,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Vp(t,e,n,i,s,r)}function Vp(t,e,n,i,r,s){WE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&ax(e,n,!1),Ei(t,e,s);i=e.stateNode,BA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=go(e,t.child,null,s),e.child=go(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=i.state,r&&ax(e,n,!0),e.child}function GE(t){var e=t.stateNode;e.pendingContext?ox(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ox(t,e.context,!1),wg(t,e.containerInfo)}function Ex(t,e,n,i,r){return mo(),pg(r),e.flags|=256,Rt(t,e,n,i),e.child}var Fp={dehydrated:null,treeContext:null,retryLane:0};function Up(t){return{baseLanes:t,cachePool:null,transitions:null}}function KE(t,e,n){var i=e.pendingProps,r=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ye(ke,r&1),t===null)return Np(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dh(o,i,0,null),t=Xr(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Up(n),e.memoizedState=Fp,t):kg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return $A(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=sr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=sr(a,s):(s=Xr(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Up(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Fp,i}return s=t.child,t=s.sibling,i=sr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function kg(t,e){return e=Dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rc(t,e,n,i){return i!==null&&pg(i),go(e,t.child,null,n),t=kg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function $A(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=hf(Error(U(422))),Rc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Dh({mode:"visible",children:i.children},r,0,null),s=Xr(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&go(e,t.child,null,o),e.child.memoizedState=Up(o),e.memoizedState=Fp,s);if(!(e.mode&1))return Rc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(U(419)),i=hf(s,i,void 0),Rc(t,e,o,i)}if(a=(o&t.childLanes)!==0,Bt||a){if(i=et,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,bi(t,r),Pn(i,t,r,-1))}return jg(),i=hf(Error(U(421))),Rc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=nR.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Xt=tr(r.nextSibling),Zt=e,Te=!0,Cn=null,t!==null&&(hn[dn++]=ci,hn[dn++]=ui,hn[dn++]=es,ci=t.id,ui=t.overflow,es=e),e=kg(e,i.children),e.flags|=4096,e)}function Tx(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Dp(t.return,e,n)}function df(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function QE(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Rt(t,e,i.children,n),i=ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tx(t,n,e);else if(t.tag===19)Tx(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ye(ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Mu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),df(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Mu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}df(e,!0,n,null,s);break;case"together":df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ns|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qA(t,e,n){switch(e.tag){case 3:GE(e),mo();break;case 5:_E(e);break;case 1:Ht(e.type)&&Pu(e);break;case 4:wg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ye(Nu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ye(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?KE(t,e,n):(ye(ke,ke.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);ye(ke,ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return QE(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ye(ke,ke.current),i)break;return null;case 22:case 23:return e.lanes=0,HE(t,e,n)}return Ei(t,e,n)}var YE,zp,XE,JE;YE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zp=function(){};XE=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Gr($n.current);var s=null;switch(n){case"input":r=cp(t,r),i=cp(t,i),s=[];break;case"select":r=Re({},r,{value:void 0}),i=Re({},i,{value:void 0}),s=[];break;case"textarea":r=dp(t,r),i=dp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Iu)}pp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Qa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Qa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};JE=function(t,e,n,i){n!==i&&(e.flags|=4)};function fa(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function HA(t,e,n){var i=e.pendingProps;switch(fg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Ht(e.type)&&ku(),yt(e),null;case 3:return i=e.stateNode,yo(),be(qt),be(Ct),bg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cn!==null&&(Qp(Cn),Cn=null))),zp(t,e),yt(e),null;case 5:_g(e);var r=Gr(al.current);if(n=e.type,t!==null&&e.stateNode!=null)XE(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return yt(e),null}if(t=Gr($n.current),Pc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[zn]=e,i[sl]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(r=0;r<xa.length;r++)_e(xa[r],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":D0(i,s),_e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},_e("invalid",i);break;case"textarea":M0(i,s),_e("invalid",i)}pp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&kc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kc(i.textContent,a,t),r=["children",""+a]):Qa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",i)}switch(n){case"input":wc(i),j0(i,s,!0);break;case"textarea":wc(i),O0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Iu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=C1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[zn]=e,t[sl]=i,YE(t,e,!1,!1),e.stateNode=t;e:{switch(o=mp(n,i),n){case"dialog":_e("cancel",t),_e("close",t),r=i;break;case"iframe":case"object":case"embed":_e("load",t),r=i;break;case"video":case"audio":for(r=0;r<xa.length;r++)_e(xa[r],t);r=i;break;case"source":_e("error",t),r=i;break;case"img":case"image":case"link":_e("error",t),_e("load",t),r=i;break;case"details":_e("toggle",t),r=i;break;case"input":D0(t,i),r=cp(t,i),_e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Re({},i,{value:void 0}),_e("invalid",t);break;case"textarea":M0(t,i),r=dp(t,i),_e("invalid",t);break;default:r=i}pp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?P1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&I1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ya(t,l):typeof l=="number"&&Ya(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_e("scroll",t):l!=null&&Jm(t,s,l,o))}switch(n){case"input":wc(t),j0(t,i,!1);break;case"textarea":wc(t),O0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+pr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?no(t,!!i.multiple,s,!1):i.defaultValue!=null&&no(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Iu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)JE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=Gr(al.current),Gr($n.current),Pc(e)){if(i=e.stateNode,n=e.memoizedProps,i[zn]=e,(s=i.nodeValue!==n)&&(t=Zt,t!==null))switch(t.tag){case 3:kc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[zn]=e,e.stateNode=i}return yt(e),null;case 13:if(be(ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Xt!==null&&e.mode&1&&!(e.flags&128))gE(),mo(),e.flags|=98560,s=!1;else if(s=Pc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[zn]=e}else mo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else Cn!==null&&(Qp(Cn),Cn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Qe===0&&(Qe=3):jg())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return yo(),zp(t,e),t===null&&il(e.stateNode.containerInfo),yt(e),null;case 10:return yg(e.type._context),yt(e),null;case 17:return Ht(e.type)&&ku(),yt(e),null;case 19:if(be(ke),s=e.memoizedState,s===null)return yt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)fa(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mu(t),o!==null){for(e.flags|=128,fa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>xo&&(e.flags|=128,i=!0,fa(s,!1),e.lanes=4194304)}else{if(!i)if(t=Mu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return yt(e),null}else 2*Fe()-s.renderingStartTime>xo&&n!==1073741824&&(e.flags|=128,i=!0,fa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=ke.current,ye(ke,i?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Dg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Yt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function WA(t,e){switch(fg(e),e.tag){case 1:return Ht(e.type)&&ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yo(),be(qt),be(Ct),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _g(e),null;case 13:if(be(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));mo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(ke),null;case 4:return yo(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Dg(),null;case 24:return null;default:return null}}var Nc=!1,_t=!1,GA=typeof WeakSet=="function"?WeakSet:Set,H=null;function Ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Me(t,e,i)}else n.current=null}function Bp(t,e,n){try{n()}catch(i){Me(t,e,i)}}var Sx=!1;function KA(t,e){if(Sp=Tu,t=iE(),hg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cp={focusedElem:t,selectionRange:n},Tu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tn(e.type,w),T);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(I){Me(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=Sx,Sx=!1,v}function Ma(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Bp(e,n,s)}r=r.next}while(r!==i)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function $p(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ZE(t){var e=t.alternate;e!==null&&(t.alternate=null,ZE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[sl],delete e[Pp],delete e[AA],delete e[RA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eT(t){return t.tag===5||t.tag===3||t.tag===4}function Cx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Iu));else if(i!==4&&(t=t.child,t!==null))for(qp(t,e,n),t=t.sibling;t!==null;)qp(t,e,n),t=t.sibling}function Hp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Hp(t,e,n),t=t.sibling;t!==null;)Hp(t,e,n),t=t.sibling}var st=null,Sn=!1;function Oi(t,e,n){for(n=n.child;n!==null;)tT(t,e,n),n=n.sibling}function tT(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Eh,n)}catch{}switch(n.tag){case 5:_t||Ws(n,e);case 6:var i=st,r=Sn;st=null,Oi(t,e,n),st=i,Sn=r,st!==null&&(Sn?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(Sn?(t=st,n=n.stateNode,t.nodeType===8?sf(t.parentNode,n):t.nodeType===1&&sf(t,n),el(t)):sf(st,n.stateNode));break;case 4:i=st,r=Sn,st=n.stateNode.containerInfo,Sn=!0,Oi(t,e,n),st=i,Sn=r;break;case 0:case 11:case 14:case 15:if(!_t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Bp(n,e,o),r=r.next}while(r!==i)}Oi(t,e,n);break;case 1:if(!_t&&(Ws(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Me(n,e,a)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(_t=(i=_t)||n.memoizedState!==null,Oi(t,e,n),_t=i):Oi(t,e,n);break;default:Oi(t,e,n)}}function Ix(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GA),e.forEach(function(i){var r=iR.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function bn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,Sn=!1;break e;case 3:st=a.stateNode.containerInfo,Sn=!0;break e;case 4:st=a.stateNode.containerInfo,Sn=!0;break e}a=a.return}if(st===null)throw Error(U(160));tT(s,o,r),st=null,Sn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Me(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nT(e,t),e=e.sibling}function nT(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bn(e,t),Ln(t),i&4){try{Ma(3,t,t.return),Rh(3,t)}catch(w){Me(t,t.return,w)}try{Ma(5,t,t.return)}catch(w){Me(t,t.return,w)}}break;case 1:bn(e,t),Ln(t),i&512&&n!==null&&Ws(n,n.return);break;case 5:if(bn(e,t),Ln(t),i&512&&n!==null&&Ws(n,n.return),t.flags&32){var r=t.stateNode;try{Ya(r,"")}catch(w){Me(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&T1(r,s),mp(a,o);var c=mp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?P1(r,f):d==="dangerouslySetInnerHTML"?I1(r,f):d==="children"?Ya(r,f):Jm(r,d,f,c)}switch(a){case"input":up(r,s);break;case"textarea":S1(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?no(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?no(r,!!s.multiple,s.defaultValue,!0):no(r,!!s.multiple,s.multiple?[]:"",!1))}r[sl]=s}catch(w){Me(t,t.return,w)}}break;case 6:if(bn(e,t),Ln(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Me(t,t.return,w)}}break;case 3:if(bn(e,t),Ln(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{el(e.containerInfo)}catch(w){Me(t,t.return,w)}break;case 4:bn(e,t),Ln(t);break;case 13:bn(e,t),Ln(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Rg=Fe())),i&4&&Ix(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||d,bn(e,t),_t=c):bn(e,t),Ln(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(f=H=d;H!==null;){switch(p=H,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ma(4,p,p.return);break;case 1:Ws(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Me(i,n,w)}}break;case 5:Ws(p,p.return);break;case 22:if(p.memoizedState!==null){Px(f);continue}}m!==null?(m.return=p,H=m):Px(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=k1("display",o))}catch(w){Me(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Me(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bn(e,t),Ln(t),i&4&&Ix(t);break;case 21:break;default:bn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eT(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ya(r,""),i.flags&=-33);var s=Cx(t);Hp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Cx(t);qp(t,a,o);break;default:throw Error(U(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QA(t,e,n){H=t,iT(t)}function iT(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var r=H,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Nc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||_t;a=Nc;var c=_t;if(Nc=o,(_t=l)&&!c)for(H=r;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?Ax(r):l!==null?(l.return=o,H=l):Ax(r);for(;s!==null;)H=s,iT(s),s=s.sibling;H=r,Nc=a,_t=c}kx(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,H=s):kx(t)}}function kx(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Rh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_t)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&dx(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&el(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}_t||e.flags&512&&$p(e)}catch(p){Me(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Px(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Ax(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Rh(4,e)}catch(l){Me(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Me(e,r,l)}}var s=e.return;try{$p(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{$p(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var YA=Math.ceil,Vu=Ai.ReactCurrentDispatcher,Pg=Ai.ReactCurrentOwner,gn=Ai.ReactCurrentBatchConfig,ue=0,et=null,$e=null,ct=0,Yt=0,Gs=Sr(0),Qe=0,hl=null,ns=0,Nh=0,Ag=0,Oa=null,Ut=null,Rg=0,xo=1/0,ai=null,Fu=!1,Wp=null,ir=null,Dc=!1,Ki=null,Uu=0,La=0,Gp=null,eu=-1,tu=0;function Dt(){return ue&6?Fe():eu!==-1?eu:eu=Fe()}function rr(t){return t.mode&1?ue&2&&ct!==0?ct&-ct:DA.transition!==null?(tu===0&&(tu=z1()),tu):(t=fe,t!==0||(t=window.event,t=t===void 0?16:K1(t.type)),t):1}function Pn(t,e,n,i){if(50<La)throw La=0,Gp=null,Error(U(185));Ml(t,n,i),(!(ue&2)||t!==et)&&(t===et&&(!(ue&2)&&(Nh|=n),Qe===4&&Bi(t,ct)),Wt(t,i),n===1&&ue===0&&!(e.mode&1)&&(xo=Fe()+500,kh&&Cr()))}function Wt(t,e){var n=t.callbackNode;DP(t,e);var i=Eu(t,t===et?ct:0);if(i===0)n!==null&&F0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&F0(n),e===1)t.tag===0?NA(Rx.bind(null,t)):fE(Rx.bind(null,t)),kA(function(){!(ue&6)&&Cr()}),n=null;else{switch(B1(i)){case 1:n=ig;break;case 4:n=F1;break;case 16:n=bu;break;case 536870912:n=U1;break;default:n=bu}n=hT(n,rT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rT(t,e){if(eu=-1,tu=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(ao()&&t.callbackNode!==n)return null;var i=Eu(t,t===et?ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=zu(t,i);else{e=i;var r=ue;ue|=2;var s=oT();(et!==t||ct!==e)&&(ai=null,xo=Fe()+500,Yr(t,e));do try{ZA();break}catch(a){sT(t,a)}while(!0);gg(),Vu.current=s,ue=r,$e!==null?e=0:(et=null,ct=0,e=Qe)}if(e!==0){if(e===2&&(r=wp(t),r!==0&&(i=r,e=Kp(t,r))),e===1)throw n=hl,Yr(t,0),Bi(t,i),Wt(t,Fe()),n;if(e===6)Bi(t,i);else{if(r=t.current.alternate,!(i&30)&&!XA(r)&&(e=zu(t,i),e===2&&(s=wp(t),s!==0&&(i=s,e=Kp(t,s))),e===1))throw n=hl,Yr(t,0),Bi(t,i),Wt(t,Fe()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:zr(t,Ut,ai);break;case 3:if(Bi(t,i),(i&130023424)===i&&(e=Rg+500-Fe(),10<e)){if(Eu(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Dt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=kp(zr.bind(null,t,Ut,ai),e);break}zr(t,Ut,ai);break;case 4:if(Bi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-kn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Fe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*YA(i/1960))-i,10<i){t.timeoutHandle=kp(zr.bind(null,t,Ut,ai),i);break}zr(t,Ut,ai);break;case 5:zr(t,Ut,ai);break;default:throw Error(U(329))}}}return Wt(t,Fe()),t.callbackNode===n?rT.bind(null,t):null}function Kp(t,e){var n=Oa;return t.current.memoizedState.isDehydrated&&(Yr(t,e).flags|=256),t=zu(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Qp(e)),t}function Qp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function XA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Dn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bi(t,e){for(e&=~Ag,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kn(e),i=1<<n;t[n]=-1,e&=~i}}function Rx(t){if(ue&6)throw Error(U(327));ao();var e=Eu(t,0);if(!(e&1))return Wt(t,Fe()),null;var n=zu(t,e);if(t.tag!==0&&n===2){var i=wp(t);i!==0&&(e=i,n=Kp(t,i))}if(n===1)throw n=hl,Yr(t,0),Bi(t,e),Wt(t,Fe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zr(t,Ut,ai),Wt(t,Fe()),null}function Ng(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(xo=Fe()+500,kh&&Cr())}}function is(t){Ki!==null&&Ki.tag===0&&!(ue&6)&&ao();var e=ue;ue|=1;var n=gn.transition,i=fe;try{if(gn.transition=null,fe=1,t)return t()}finally{fe=i,gn.transition=n,ue=e,!(ue&6)&&Cr()}}function Dg(){Yt=Gs.current,be(Gs)}function Yr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IA(n)),$e!==null)for(n=$e.return;n!==null;){var i=n;switch(fg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ku();break;case 3:yo(),be(qt),be(Ct),bg();break;case 5:_g(i);break;case 4:yo();break;case 13:be(ke);break;case 19:be(ke);break;case 10:yg(i.type._context);break;case 22:case 23:Dg()}n=n.return}if(et=t,$e=t=sr(t.current,null),ct=Yt=e,Qe=0,hl=null,Ag=Nh=ns=0,Ut=Oa=null,Wr!==null){for(e=0;e<Wr.length;e++)if(n=Wr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Wr=null}return t}function sT(t,e){do{var n=$e;try{if(gg(),Xc.current=Lu,Ou){for(var i=Ae.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ou=!1}if(ts=0,Ze=Ge=Ae=null,ja=!1,ll=0,Pg.current=null,n===null||n.return===null){Qe=1,hl=e,$e=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=vx(o);if(m!==null){m.flags&=-257,xx(m,o,a,s,e),m.mode&1&&yx(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){yx(s,c,e),jg();break e}l=Error(U(426))}}else if(Te&&a.mode&1){var T=vx(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),xx(T,o,a,s,e),pg(vo(l,a));break e}}s=l=vo(l,a),Qe!==4&&(Qe=2),Oa===null?Oa=[s]:Oa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=BE(s,l,e);hx(s,x);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ir===null||!ir.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=$E(s,a,e);hx(s,I);break e}}s=s.return}while(s!==null)}lT(n)}catch(N){e=N,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function oT(){var t=Vu.current;return Vu.current=Lu,t===null?Lu:t}function jg(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(ns&268435455)&&!(Nh&268435455)||Bi(et,ct)}function zu(t,e){var n=ue;ue|=2;var i=oT();(et!==t||ct!==e)&&(ai=null,Yr(t,e));do try{JA();break}catch(r){sT(t,r)}while(!0);if(gg(),ue=n,Vu.current=i,$e!==null)throw Error(U(261));return et=null,ct=0,Qe}function JA(){for(;$e!==null;)aT($e)}function ZA(){for(;$e!==null&&!TP();)aT($e)}function aT(t){var e=uT(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?lT(t):$e=e,Pg.current=null}function lT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WA(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,$e=null;return}}else if(n=HA(n,e,Yt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Qe===0&&(Qe=5)}function zr(t,e,n){var i=fe,r=gn.transition;try{gn.transition=null,fe=1,eR(t,e,n,i)}finally{gn.transition=r,fe=i}return null}function eR(t,e,n,i){do ao();while(Ki!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(jP(t,s),t===et&&($e=et=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dc||(Dc=!0,hT(bu,function(){return ao(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=fe;fe=1;var a=ue;ue|=4,Pg.current=null,KA(t,n),nT(n,t),wA(Cp),Tu=!!Sp,Cp=Sp=null,t.current=n,QA(n),SP(),ue=a,fe=o,gn.transition=s}else t.current=n;if(Dc&&(Dc=!1,Ki=t,Uu=r),s=t.pendingLanes,s===0&&(ir=null),kP(n.stateNode),Wt(t,Fe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Fu)throw Fu=!1,t=Wp,Wp=null,t;return Uu&1&&t.tag!==0&&ao(),s=t.pendingLanes,s&1?t===Gp?La++:(La=0,Gp=t):La=0,Cr(),null}function ao(){if(Ki!==null){var t=B1(Uu),e=gn.transition,n=fe;try{if(gn.transition=null,fe=16>t?16:t,Ki===null)var i=!1;else{if(t=Ki,Ki=null,Uu=0,ue&6)throw Error(U(331));var r=ue;for(ue|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Ma(8,d,s)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var p=d.sibling,m=d.return;if(ZE(d),d===c){H=null;break}if(p!==null){p.return=m,H=p;break}H=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ma(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,H=x;break e}H=s.return}}var _=t.current;for(H=_;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Rh(9,a)}}catch(N){Me(a,a.return,N)}if(a===o){H=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,H=I;break e}H=a.return}}if(ue=r,Cr(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Eh,t)}catch{}i=!0}return i}finally{fe=n,gn.transition=e}}return!1}function Nx(t,e,n){e=vo(n,e),e=BE(t,e,1),t=nr(t,e,1),e=Dt(),t!==null&&(Ml(t,1,e),Wt(t,e))}function Me(t,e,n){if(t.tag===3)Nx(t,t,n);else for(;e!==null;){if(e.tag===3){Nx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ir===null||!ir.has(i))){t=vo(n,t),t=$E(e,t,1),e=nr(e,t,1),t=Dt(),e!==null&&(Ml(e,1,t),Wt(e,t));break}}e=e.return}}function tR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(ct&n)===n&&(Qe===4||Qe===3&&(ct&130023424)===ct&&500>Fe()-Rg?Yr(t,0):Ag|=n),Wt(t,e)}function cT(t,e){e===0&&(t.mode&1?(e=Ec,Ec<<=1,!(Ec&130023424)&&(Ec=4194304)):e=1);var n=Dt();t=bi(t,e),t!==null&&(Ml(t,e,n),Wt(t,n))}function nR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),cT(t,n)}function iR(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),cT(t,n)}var uT;uT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,qA(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Te&&e.flags&1048576&&pE(e,Ru,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Zc(t,e),t=e.pendingProps;var r=po(e,Ct.current);oo(e,n),r=Tg(null,e,i,t,r,n);var s=Sg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(i)?(s=!0,Pu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,xg(e),r.updater=Ah,e.stateNode=r,r._reactInternals=e,Mp(e,i,t,n),e=Vp(null,e,i,!0,s,n)):(e.tag=0,Te&&s&&dg(e),Rt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=sR(i),t=Tn(i,t),r){case 0:e=Lp(null,e,i,t,n);break e;case 1:e=bx(null,e,i,t,n);break e;case 11:e=wx(null,e,i,t,n);break e;case 14:e=_x(null,e,i,Tn(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),Lp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),bx(t,e,i,r,n);case 3:e:{if(GE(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,r=s.element,wE(t,e),ju(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=vo(Error(U(423)),e),e=Ex(t,e,i,n,r);break e}else if(i!==r){r=vo(Error(U(424)),e),e=Ex(t,e,i,n,r);break e}else for(Xt=tr(e.stateNode.containerInfo.firstChild),Zt=e,Te=!0,Cn=null,n=vE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mo(),i===r){e=Ei(t,e,n);break e}Rt(t,e,i,n)}e=e.child}return e;case 5:return _E(e),t===null&&Np(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Ip(i,r)?o=null:s!==null&&Ip(i,s)&&(e.flags|=32),WE(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Np(e),null;case 13:return KE(t,e,n);case 4:return wg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=go(e,null,i,n):Rt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),wx(t,e,i,r,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ye(Nu,i._currentValue),i._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===r.children&&!qt.current){e=Ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=pi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Dp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Dp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,oo(e,n),r=vn(r),i=i(r),e.flags|=1,Rt(t,e,i,n),e.child;case 14:return i=e.type,r=Tn(i,e.pendingProps),r=Tn(i.type,r),_x(t,e,i,r,n);case 15:return qE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tn(i,r),Zc(t,e),e.tag=1,Ht(i)?(t=!0,Pu(e)):t=!1,oo(e,n),zE(e,i,r),Mp(e,i,r,n),Vp(null,e,i,!0,t,n);case 19:return QE(t,e,n);case 22:return HE(t,e,n)}throw Error(U(156,e.tag))};function hT(t,e){return V1(t,e)}function rR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,i){return new rR(t,e,n,i)}function Mg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sR(t){if(typeof t=="function")return Mg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eg)return 11;if(t===tg)return 14}return 2}function sr(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nu(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Mg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ls:return Xr(n.children,r,s,e);case Zm:o=8,r|=8;break;case sp:return t=mn(12,n,e,r|2),t.elementType=sp,t.lanes=s,t;case op:return t=mn(13,n,e,r),t.elementType=op,t.lanes=s,t;case ap:return t=mn(19,n,e,r),t.elementType=ap,t.lanes=s,t;case _1:return Dh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x1:o=10;break e;case w1:o=9;break e;case eg:o=11;break e;case tg:o=14;break e;case Fi:o=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=mn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function Xr(t,e,n,i){return t=mn(7,t,i,e),t.lanes=n,t}function Dh(t,e,n,i){return t=mn(22,t,i,e),t.elementType=_1,t.lanes=n,t.stateNode={isHidden:!1},t}function ff(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function pf(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oR(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gd(0),this.expirationTimes=Gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Og(t,e,n,i,r,s,o,a,l){return t=new oR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(s),t}function aR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Os,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function dT(t){if(!t)return mr;t=t._reactInternals;e:{if(ms(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Ht(n))return dE(t,n,e)}return e}function fT(t,e,n,i,r,s,o,a,l){return t=Og(n,i,!0,t,r,s,o,a,l),t.context=dT(null),n=t.current,i=Dt(),r=rr(n),s=pi(i,r),s.callback=e??null,nr(n,s,r),t.current.lanes=r,Ml(t,r,i),Wt(t,i),t}function jh(t,e,n,i){var r=e.current,s=Dt(),o=rr(r);return n=dT(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=nr(r,e,o),t!==null&&(Pn(t,r,o,s),Yc(t,r,o)),o}function Bu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Dx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Lg(t,e){Dx(t,e),(t=t.alternate)&&Dx(t,e)}function lR(){return null}var pT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vg(t){this._internalRoot=t}Mh.prototype.render=Vg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));jh(t,e,null,null)};Mh.prototype.unmount=Vg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;is(function(){jh(null,t,null,null)}),e[_i]=null}};function Mh(t){this._internalRoot=t}Mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=H1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<zi.length&&e!==0&&e<zi[n].priority;n++);zi.splice(n,0,t),n===0&&G1(t)}};function Fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jx(){}function cR(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Bu(o);s.call(c)}}var o=fT(e,i,t,0,null,!1,!1,"",jx);return t._reactRootContainer=o,t[_i]=o.current,il(t.nodeType===8?t.parentNode:t),is(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Bu(l);a.call(c)}}var l=Og(t,0,!1,null,null,!1,!1,"",jx);return t._reactRootContainer=l,t[_i]=l.current,il(t.nodeType===8?t.parentNode:t),is(function(){jh(e,l,n,i)}),l}function Lh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Bu(o);a.call(l)}}jh(e,o,t,r)}else o=cR(n,e,t,r,i);return Bu(o)}$1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=va(e.pendingLanes);n!==0&&(rg(e,n|1),Wt(e,Fe()),!(ue&6)&&(xo=Fe()+500,Cr()))}break;case 13:is(function(){var i=bi(t,1);if(i!==null){var r=Dt();Pn(i,t,1,r)}}),Lg(t,1)}};sg=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=Dt();Pn(e,t,134217728,n)}Lg(t,134217728)}};q1=function(t){if(t.tag===13){var e=rr(t),n=bi(t,e);if(n!==null){var i=Dt();Pn(n,t,e,i)}Lg(t,e)}};H1=function(){return fe};W1=function(t,e){var n=fe;try{return fe=t,e()}finally{fe=n}};yp=function(t,e,n){switch(e){case"input":if(up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Ih(i);if(!r)throw Error(U(90));E1(i),up(i,r)}}}break;case"textarea":S1(t,n);break;case"select":e=n.value,e!=null&&no(t,!!n.multiple,e,!1)}};N1=Ng;D1=is;var uR={usingClientEntryPoint:!1,Events:[Ll,zs,Ih,A1,R1,Ng]},pa={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hR={bundleType:pa.bundleType,version:pa.version,rendererPackageName:pa.rendererPackageName,rendererConfig:pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=O1(t),t===null?null:t.stateNode},findFiberByHostInstance:pa.findFiberByHostInstance||lR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Eh=jc.inject(hR),Bn=jc}catch{}}sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uR;sn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fg(e))throw Error(U(200));return aR(t,e,null,n)};sn.createRoot=function(t,e){if(!Fg(t))throw Error(U(299));var n=!1,i="",r=pT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Og(t,1,!1,null,null,n,!1,i,r),t[_i]=e.current,il(t.nodeType===8?t.parentNode:t),new Vg(e)};sn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=O1(e),t=t===null?null:t.stateNode,t};sn.flushSync=function(t){return is(t)};sn.hydrate=function(t,e,n){if(!Oh(e))throw Error(U(200));return Lh(null,t,e,!0,n)};sn.hydrateRoot=function(t,e,n){if(!Fg(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=pT;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=fT(e,null,t,1,n??null,r,!1,s,o),t[_i]=e.current,il(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Mh(e)};sn.render=function(t,e,n){if(!Oh(e))throw Error(U(200));return Lh(null,t,e,!1,n)};sn.unmountComponentAtNode=function(t){if(!Oh(t))throw Error(U(40));return t._reactRootContainer?(is(function(){Lh(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};sn.unstable_batchedUpdates=Ng;sn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Oh(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Lh(t,e,n,!1,i)};sn.version="18.3.1-next-f1338f8080-20240426";function mT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mT)}catch(t){console.error(t)}}mT(),m1.exports=sn;var dR=m1.exports,gT,Mx=dR;gT=Mx.createRoot,Mx.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dl(){return dl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},dl.apply(this,arguments)}var Qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qi||(Qi={}));const Ox="popstate";function fR(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=gs(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Yp("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:$u(s))}function i(r,s){Ug(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return mR(e,n,i,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ug(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pR(){return Math.random().toString(36).substr(2,8)}function Lx(t,e){return{usr:t.state,key:t.key,idx:e}}function Yp(t,e,n,i){return n===void 0&&(n=null),dl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?gs(e):e,{state:n,key:e&&e.key||i||pR()})}function $u(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function gs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function mR(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Qi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(dl({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Qi.Pop;let T=d(),x=T==null?null:T-c;c=T,l&&l({action:a,location:w.location,delta:x})}function p(T,x){a=Qi.Push;let _=Yp(w.location,T,x);n&&n(_,T),c=d()+1;let E=Lx(_,c),I=w.createHref(_);try{o.pushState(E,"",I)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(I)}s&&l&&l({action:a,location:w.location,delta:1})}function m(T,x){a=Qi.Replace;let _=Yp(w.location,T,x);n&&n(_,T),c=d();let E=Lx(_,c),I=w.createHref(_);o.replaceState(E,"",I),s&&l&&l({action:a,location:w.location,delta:0})}function v(T){let x=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof T=="string"?T:$u(T);return _=_.replace(/ $/,"%20"),ze(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let w={get action(){return a},get location(){return t(r,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Ox,f),l=T,()=>{r.removeEventListener(Ox,f),l=null}},createHref(T){return e(r,T)},createURL:v,encodeLocation(T){let x=v(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(T){return o.go(T)}};return w}var Vx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vx||(Vx={}));function gR(t,e,n){return n===void 0&&(n="/"),yR(t,e,n,!1)}function yR(t,e,n,i){let r=typeof e=="string"?gs(e):e,s=zg(r.pathname||"/",n);if(s==null)return null;let o=yT(t);vR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=PR(s);a=IR(o[l],c,i)}return a}function yT(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ze(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=or([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yT(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:SR(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of vT(s.path))r(s,o,l)}),e}function vT(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=vT(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const xR=/^:[\w-]+$/,wR=3,_R=2,bR=1,ER=10,TR=-2,Fx=t=>t==="*";function SR(t,e){let n=t.split("/"),i=n.length;return n.some(Fx)&&(i+=TR),e&&(i+=_R),n.filter(r=>!Fx(r)).reduce((r,s)=>r+(xR.test(s)?wR:s===""?bR:ER),i)}function CR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function IR(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:or([s,f.pathname]),pathnameBase:DR(or([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=or([s,f.pathnameBase]))}return o}function Ux(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=kR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function kR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ug(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function PR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ug(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function AR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?gs(t):t;return{pathname:n?n.startsWith("/")?n:RR(n,e):e,search:jR(i),hash:MR(r)}}function RR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function mf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bg(t,e){let n=NR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function $g(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=gs(t):(r=dl({},t),ze(!r.pathname||!r.pathname.includes("?"),mf("?","pathname","search",r)),ze(!r.pathname||!r.pathname.includes("#"),mf("#","pathname","hash",r)),ze(!r.search||!r.search.includes("#"),mf("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=AR(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const or=t=>t.join("/").replace(/\/\/+/g,"/"),DR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,MR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xT=["post","put","patch","delete"];new Set(xT);const LR=["get",...xT];new Set(LR);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fl(){return fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fl.apply(this,arguments)}const qg=R.createContext(null),VR=R.createContext(null),Ir=R.createContext(null),Vh=R.createContext(null),kr=R.createContext({outlet:null,matches:[],isDataRoute:!1}),wT=R.createContext(null);function FR(t,e){let{relative:n}=e===void 0?{}:e;Lo()||ze(!1);let{basename:i,navigator:r}=R.useContext(Ir),{hash:s,pathname:o,search:a}=bT(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:or([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Lo(){return R.useContext(Vh)!=null}function ys(){return Lo()||ze(!1),R.useContext(Vh).location}function _T(t){R.useContext(Ir).static||R.useLayoutEffect(t)}function an(){let{isDataRoute:t}=R.useContext(kr);return t?JR():UR()}function UR(){Lo()||ze(!1);let t=R.useContext(qg),{basename:e,future:n,navigator:i}=R.useContext(Ir),{matches:r}=R.useContext(kr),{pathname:s}=ys(),o=JSON.stringify(Bg(r,n.v7_relativeSplatPath)),a=R.useRef(!1);return _T(()=>{a.current=!0}),R.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=$g(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:or([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,o,s,t])}function bT(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=R.useContext(Ir),{matches:r}=R.useContext(kr),{pathname:s}=ys(),o=JSON.stringify(Bg(r,i.v7_relativeSplatPath));return R.useMemo(()=>$g(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function zR(t,e){return BR(t,e)}function BR(t,e,n,i){Lo()||ze(!1);let{navigator:r}=R.useContext(Ir),{matches:s}=R.useContext(kr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=ys(),d;if(e){var f;let T=typeof e=="string"?gs(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||ze(!1),d=T}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=gR(t,{pathname:m}),w=GR(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:or([l,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:or([l,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,i);return e&&w?R.createElement(Vh.Provider,{value:{location:fl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qi.Pop}},w):w}function $R(){let t=XR(),e=OR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:r},n):null,null)}const qR=R.createElement($R,null);class HR extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(kr.Provider,{value:this.props.routeContext},R.createElement(wT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WR(t){let{routeContext:e,match:n,children:i}=t,r=R.useContext(qg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(kr.Provider,{value:e},i)}function GR(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||ze(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,v=!1,w=null,T=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||qR,l&&(c<0&&p===0?(v=!0,T=null):c===p&&(v=!0,T=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let E;return m?E=w:v?E=T:f.route.Component?E=R.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,R.createElement(WR,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?R.createElement(HR,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var ET=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ET||{}),qu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(qu||{});function KR(t){let e=R.useContext(qg);return e||ze(!1),e}function QR(t){let e=R.useContext(VR);return e||ze(!1),e}function YR(t){let e=R.useContext(kr);return e||ze(!1),e}function TT(t){let e=YR(),n=e.matches[e.matches.length-1];return n.route.id||ze(!1),n.route.id}function XR(){var t;let e=R.useContext(wT),n=QR(qu.UseRouteError),i=TT(qu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function JR(){let{router:t}=KR(ET.UseNavigateStable),e=TT(qu.UseNavigateStable),n=R.useRef(!1);return _T(()=>{n.current=!0}),R.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,fl({fromRouteId:e},s)))},[t,e])}const zx={};function ZR(t,e){zx[e]||(zx[e]=!0,console.warn(e))}const Bx=(t,e,n)=>ZR(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function eN(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&Bx("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&Bx("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Vn(t){let{to:e,replace:n,state:i,relative:r}=t;Lo()||ze(!1);let{future:s,static:o}=R.useContext(Ir),{matches:a}=R.useContext(kr),{pathname:l}=ys(),c=an(),d=$g(e,Bg(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(d);return R.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:r}),[c,f,r,n,i]),null}function We(t){ze(!1)}function tN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Qi.Pop,navigator:s,static:o=!1,future:a}=t;Lo()&&ze(!1);let l=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:s,static:o,future:fl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=gs(i));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=i,w=R.useMemo(()=>{let T=zg(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:m,key:v},navigationType:r}},[l,d,f,p,m,v,r]);return w==null?null:R.createElement(Ir.Provider,{value:c},R.createElement(Vh.Provider,{children:n,value:w}))}function nN(t){let{children:e,location:n}=t;return zR(Xp(e),n)}new Promise(()=>{});function Xp(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(i,r)=>{if(!R.isValidElement(i))return;let s=[...e,r];if(i.type===R.Fragment){n.push.apply(n,Xp(i.props.children,s));return}i.type!==We&&ze(!1),!i.props.index||!i.props.children||ze(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Xp(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jp.apply(this,arguments)}function iN(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function rN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sN(t,e){return t.button===0&&(!e||e==="_self")&&!rN(t)}const oN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aN="6";try{window.__reactRouterVersion=aN}catch{}const lN="startTransition",$x=tP[lN];function cN(t){let{basename:e,children:n,future:i,window:r}=t,s=R.useRef();s.current==null&&(s.current=fR({window:r,v5Compat:!0}));let o=s.current,[a,l]=R.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},d=R.useCallback(f=>{c&&$x?$x(()=>l(f)):l(f)},[l,c]);return R.useLayoutEffect(()=>o.listen(d),[o,d]),R.useEffect(()=>eN(i),[i]),R.createElement(tN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const uN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=R.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=iN(e,oN),{basename:m}=R.useContext(Ir),v,w=!1;if(typeof c=="string"&&hN.test(c)&&(v=c,uN))try{let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=zg(I.pathname,m);I.origin===E.origin&&N!=null?c=N+I.search+I.hash:w=!0}catch{}let T=FR(c,{relative:r}),x=dN(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:f});function _(E){i&&i(E),E.defaultPrevented||x(E)}return R.createElement("a",Jp({},p,{href:v||T,onClick:w||s?i:_,ref:n,target:l}))});var qx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(qx||(qx={}));var Hx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hx||(Hx={}));function dN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=an(),c=ys(),d=bT(t,{relative:o});return R.useCallback(f=>{if(sN(f,n)){f.preventDefault();let p=i!==void 0?i:$u(c)===$u(d);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,i,r,n,t,s,o,a])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(t,e)=>{const n=R.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>R.createElement("svg",{ref:d,...fN,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${pN(t)}`,a].join(" "),...c},[...e.map(([f,p])=>R.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=le("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=le("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=le("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=le("FlaskRound",[["path",{d:"M10 2v7.31",key:"5d1hyh"}],["path",{d:"M14 9.3V1.99",key:"14k4l0"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0",key:"1r8fvy"}],["path",{d:"M5.52 16h12.96",key:"46hh1i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=le("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=le("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=le("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=le("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=le("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gf=[{name:"Home",href:"/",icon:wN},{name:"Courses",href:"/courses",icon:rs},{name:"Resources",href:"/resources",icon:IT},{name:"Events",href:"/events",icon:pl},{name:"Members",href:"/members",icon:Yn},{name:"Blog",href:"/blog",icon:TN},{name:"Labs",href:"/labs",icon:kT},{name:"About",href:"/about",icon:_N}];function PN({children:t}){const e=ys(),n=an(),[i,r]=R.useState(!1),s=R.useRef(null),[o,a]=R.useState({}),l=R.useRef({}),[c,d]=R.useState(!1);R.useEffect(()=>{const m=()=>{window.scrollY>300?d(!0):d(!1)};return window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]);const f=()=>{window.scrollTo({top:0,behavior:"smooth"})},p=()=>{n("/admin-login")};return R.useEffect(()=>{const m=l.current[e.pathname];if(m){const v=m.getBoundingClientRect(),w=m.parentElement.getBoundingClientRect();a({width:`${v.width}px`,transform:`translateX(${v.left-w.left}px)`})}},[e]),R.useEffect(()=>{r(!1)},[e]),h.jsxs("div",{className:"min-h-screen bg-[#13151a]",children:[h.jsx("nav",{className:"bg-[#23262d] border-b border-[rgb(136,58,234)]",children:h.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex h-16 items-center justify-between",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(Vt,{to:"/",className:"flex items-center",children:h.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"VeilCode Labs"})})}),h.jsxs("div",{className:"hidden md:flex items-center",children:[h.jsxs("div",{className:"flex items-baseline space-x-4 relative",children:[h.jsx("div",{className:"absolute bottom-0 h-1 bg-[rgb(136,58,234)] transition-all duration-300 ease-in-out rounded-full",style:o}),gf.map(m=>{const v=e.pathname===m.href;return h.jsx(Vt,{ref:w=>l.current[m.href]=w,to:m.href,className:`${v?"text-[rgb(224,204,250)]":"text-white hover:text-[rgb(224,204,250)]"} rounded-md px-3 py-2 text-sm font-medium transition-all duration-300`,children:m.name},m.name)})]}),h.jsx("button",{onClick:p,className:"ml-4 bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center","aria-label":"Admin login",children:h.jsx(Kx,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"md:hidden flex items-center gap-2",children:h.jsxs("div",{className:"relative",ref:s,children:[h.jsx("button",{onClick:()=>r(!i),className:"text-white hover:text-[rgb(224,204,250)] focus:outline-none p-2 rounded-md hover:bg-[rgb(49,10,101)] transition-all duration-300",children:i?h.jsx(Hg,{className:"h-6 w-6"}):h.jsx(bN,{className:"h-6 w-6"})}),i&&h.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-lg shadow-lg bg-[#23262d] ring-1 ring-black ring-opacity-5 border border-[rgb(136,58,234)] z-50",children:h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"grid grid-cols-2 gap-1",children:gf.map(m=>{const v=e.pathname===m.href;return h.jsxs(Vt,{to:m.href,className:`${v?"bg-[rgb(49,10,101)] text-[rgb(224,204,250)]":"text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)]"} flex flex-col items-center justify-center p-3 rounded-md text-sm font-medium transition-all duration-300`,children:[h.jsx(m.icon,{className:"h-5 w-5 mb-1"}),h.jsx("span",{className:"text-xs",children:m.name})]},m.name)})}),h.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center p-3 rounded-md text-sm font-medium text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)] mt-2",children:[h.jsx(Kx,{className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"text-xs",children:"Admin"})]})]})})]})})]})})}),h.jsx("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:t}),c&&h.jsx("button",{onClick:f,className:"fixed bottom-8 right-8 p-3 bg-[rgb(136,58,234)] text-white rounded-full shadow-lg hover:bg-[rgb(49,10,101)] transition-all duration-300",children:h.jsx(mN,{className:"h-6 w-6"})}),h.jsx("footer",{className:"bg-[#23262d] text-white mt-auto",children:h.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"VeilCode Labs"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"A comprehensive resource for cryptography students at IIIT Delhi"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Quick Links"}),h.jsx("ul",{className:"grid grid-cols-2 gap-2",children:gf.map(m=>h.jsx("li",{children:h.jsx(Vt,{to:m.href,className:"text-white hover:text-[rgb(224,204,250)] hover:bg-[rgb(49,10,101)] px-2 py-1 rounded transition-all duration-300 inline-block",children:m.name})},m.name))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Contact"}),h.jsxs("p",{className:"text-white",children:["IIIT Delhi",h.jsx("br",{}),"Okhla Industrial Estate, Phase III",h.jsx("br",{}),"New Delhi, India"]})]})]})})})]})}const Wg=R.createContext({});function Gg(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fh=R.createContext(null),Kg=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class AN extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function RN({children:t,isPresent:e,anchorX:n}){const i=R.useId(),r=R.useRef(null),s=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=R.useContext(Kg);return R.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=s.current;if(e||!r.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;r.current.dataset.motionPopId=i;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),h.jsx(AN,{isPresent:e,childRef:r,sizeRef:s,children:R.cloneElement(t,{ref:r})})}const NN=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=Gg(DN),c=R.useId(),d=R.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;i&&i()},[l,i]),f=R.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),d]:[n,d]);return R.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),R.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=h.jsx(RN,{isPresent:n,anchorX:a,children:t})),h.jsx(Fh.Provider,{value:f,children:t})};function DN(){return new Map}function NT(t=!0){const e=R.useContext(Fh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=R.useId();R.useEffect(()=>{t&&r(s)},[t]);const o=R.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Mc=t=>t.key||"";function Yx(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Qg=typeof window<"u",DT=Qg?R.useLayoutEffect:R.useEffect,jT=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=NT(o),d=R.useMemo(()=>Yx(t),[t]),f=o&&!l?[]:d.map(Mc),p=R.useRef(!0),m=R.useRef(d),v=Gg(()=>new Map),[w,T]=R.useState(d),[x,_]=R.useState(d);DT(()=>{p.current=!1,m.current=d;for(let N=0;N<x.length;N++){const O=Mc(x[N]);f.includes(O)?v.delete(O):v.get(O)!==!0&&v.set(O,!1)}},[x,f.length,f.join("-")]);const E=[];if(d!==w){let N=[...d];for(let O=0;O<x.length;O++){const C=x[O],b=Mc(C);f.includes(b)||(N.splice(O,0,C),E.push(C))}return s==="wait"&&E.length&&(N=E),_(Yx(N)),T(d),null}const{forceRender:I}=R.useContext(Wg);return h.jsx(h.Fragment,{children:x.map(N=>{const O=Mc(N),C=o&&!l?!1:d===x||f.includes(O),b=()=>{if(v.has(O))v.set(O,!0);else return;let k=!0;v.forEach(P=>{P||(k=!1)}),k&&(I==null||I(),_(m.current),o&&(c==null||c()),i&&i())};return h.jsx(NN,{isPresent:C,initial:!p.current||n?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:C?void 0:b,anchorX:a,children:N},O)})})},en=t=>t;let Zp=en;function Yg(t){let e;return()=>(e===void 0&&(e=t()),e)}const wo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},mi=t=>t*1e3,gi=t=>t/1e3,jN={skipAnimations:!1,useManualTiming:!1};function MN(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,f=!1)=>{const m=f&&i?e:n;return d&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const Oc=["read","resolveKeyframes","update","preRender","render","postRender"],ON=40;function MT(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Oc.reduce((x,_)=>(x[_]=MN(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:p}=o,m=()=>{const x=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,ON),1),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),f.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:Oc.reduce((x,_)=>{const E=o[_];return x[_]=(I,N=!1,O=!1)=>(n||v(),E.schedule(I,N,O)),x},{}),cancel:x=>{for(let _=0;_<Oc.length;_++)o[Oc[_]].cancel(x)},state:r,steps:o}}const{schedule:ve,cancel:gr,state:ot,steps:yf}=MT(typeof requestAnimationFrame<"u"?requestAnimationFrame:en,!0),OT=R.createContext({strict:!1}),Xx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_o={};for(const t in Xx)_o[t]={isEnabled:e=>Xx[t].some(n=>!!e[n])};function LN(t){for(const e in t)_o[e]={..._o[e],...t[e]}}const VN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VN.has(t)}let LT=t=>!Hu(t);function FN(t){t&&(LT=e=>e.startsWith("on")?!Hu(e):t(e))}try{FN(require("@emotion/is-prop-valid").default)}catch{}function UN(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(LT(r)||n===!0&&Hu(r)||!e&&!Hu(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function zN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Uh=R.createContext({});function zh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gl(t){return typeof t=="string"||Array.isArray(t)}const Xg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jg=["initial",...Xg];function Bh(t){return zh(t.animate)||Jg.some(e=>gl(t[e]))}function VT(t){return!!(Bh(t)||t.variants)}function BN(t,e){if(Bh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||gl(n)?n:void 0,animate:gl(i)?i:void 0}}return t.inherit!==!1?e:{}}function $N(t){const{initial:e,animate:n}=BN(t,R.useContext(Uh));return R.useMemo(()=>({initial:e,animate:n}),[Jx(e),Jx(n)])}function Jx(t){return Array.isArray(t)?t.join(" "):t}const qN=Symbol.for("motionComponentSymbol");function Ks(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function HN(t,e,n){return R.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ks(n)&&(n.current=i))},[e])}const Zg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WN="framerAppearId",FT="data-"+Zg(WN),{schedule:ey,cancel:G8}=MT(queueMicrotask,!1),UT=R.createContext({});function GN(t,e,n,i,r){var s,o;const{visualElement:a}=R.useContext(Uh),l=R.useContext(OT),c=R.useContext(Fh),d=R.useContext(Kg).reducedMotion,f=R.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=R.useContext(UT);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&KN(f.current,n,r,m);const v=R.useRef(!1);R.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const w=n[FT],T=R.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return DT(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ey.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,w)}),T.current=!1))}),p}function KN(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:zT(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Ks(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function zT(t){if(t)return t.options.allowProjection!==!1?t.projection:zT(t.parent)}function QN({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&LN(t);function a(c,d){let f;const p={...R.useContext(Kg),...c,layoutId:YN(c)},{isStatic:m}=p,v=$N(c),w=i(c,m);if(!m&&Qg){XN();const T=JN(p);f=T.MeasureLayout,v.visualElement=GN(r,w,p,e,T.ProjectionNode)}return h.jsxs(Uh.Provider,{value:v,children:[f&&v.visualElement?h.jsx(f,{visualElement:v.visualElement,...p}):null,n(r,c,HN(w,v.visualElement,d),w,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=R.forwardRef(a);return l[qN]=r,l}function YN({layoutId:t}){const e=R.useContext(Wg).id;return e&&t!==void 0?e+"-"+t:t}function XN(t,e){R.useContext(OT).strict}function JN(t){const{drag:e,layout:n}=_o;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const BT=t=>e=>typeof e=="string"&&e.startsWith(t),ty=BT("--"),ZN=BT("var(--"),ny=t=>ZN(t)?e4.test(t.split("/*")[0].trim()):!1,e4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yl={};function t4(t){for(const e in t)yl[e]=t[e],ty(e)&&(yl[e].isCSSVariable=!0)}const Fo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vs=new Set(Fo);function $T(t,{layout:e,layoutId:n}){return vs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yl[t]||t==="opacity")}const Et=t=>!!(t&&t.getVelocity),qT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ti=(t,e,n)=>n>e?e:n<t?t:n,Uo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vl={...Uo,transform:t=>Ti(0,1,t)},Lc={...Uo,default:1},Fl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Vi=Fl("deg"),qn=Fl("%"),Q=Fl("px"),n4=Fl("vh"),i4=Fl("vw"),Zx={...qn,parse:t=>qn.parse(t)/100,transform:t=>qn.transform(t*100)},r4={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q},s4={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:Lc,scaleX:Lc,scaleY:Lc,scaleZ:Lc,skew:Vi,skewX:Vi,skewY:Vi,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:vl,originX:Zx,originY:Zx,originZ:Q},ew={...Uo,transform:Math.round},iy={...r4,...s4,zIndex:ew,size:Q,fillOpacity:vl,strokeOpacity:vl,numOctaves:ew},o4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a4=Fo.length;function l4(t,e,n){let i="",r=!0;for(let s=0;s<a4;s++){const o=Fo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=qT(a,iy[o]);if(!l){r=!1;const d=o4[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ry(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(vs.has(l)){o=!0;continue}else if(ty(l)){r[l]=c;continue}else{const d=qT(c,iy[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=l4(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const sy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HT(t,e,n){for(const i in e)!Et(e[i])&&!$T(i,n)&&(t[i]=e[i])}function c4({transformTemplate:t},e){return R.useMemo(()=>{const n=sy();return ry(n,e,t),Object.assign({},n.vars,n.style)},[e])}function u4(t,e){const n=t.style||{},i={};return HT(i,n,t),Object.assign(i,c4(t,e)),i}function h4(t,e){const n={},i=u4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const d4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oy(t){return typeof t!="string"||t.includes("-")?!1:!!(d4.indexOf(t)>-1||/[A-Z]/u.test(t))}const f4={offset:"stroke-dashoffset",array:"stroke-dasharray"},p4={offset:"strokeDashoffset",array:"strokeDasharray"};function m4(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?f4:p4;t[s.offset]=Q.transform(-i);const o=Q.transform(e),a=Q.transform(n);t[s.array]=`${o} ${a}`}function tw(t,e,n){return typeof t=="string"?t:Q.transform(e+n*t)}function g4(t,e,n){const i=tw(e,t.x,t.width),r=tw(n,t.y,t.height);return`${i} ${r}`}function ay(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(ry(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=g4(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&m4(p,o,a,l,!1)}const WT=()=>({...sy(),attrs:{}}),ly=t=>typeof t=="string"&&t.toLowerCase()==="svg";function y4(t,e,n,i){const r=R.useMemo(()=>{const s=WT();return ay(s,e,ly(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HT(s,t.style,t),r.style={...s,...r.style}}return r}function v4(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(oy(n)?y4:h4)(i,s,o,n),c=UN(i,typeof n=="string",t),d=n!==R.Fragment?{...c,...l,ref:r}:{},{children:f}=i,p=R.useMemo(()=>Et(f)?f.get():f,[f]);return R.createElement(n,{...d,children:p})}}function nw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function cy(t,e,n,i){if(typeof e=="function"){const[r,s]=nw(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=nw(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const em=t=>Array.isArray(t),x4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),w4=t=>em(t)?t[t.length-1]||0:t;function ru(t){const e=Et(t)?t.get():t;return x4(e)?e.toValue():e}function _4({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:b4(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const GT=t=>(e,n)=>{const i=R.useContext(Uh),r=R.useContext(Fh),s=()=>_4(t,e,i,r);return n?s():Gg(s)};function b4(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=ru(s[p]);let{initial:o,animate:a}=t;const l=Bh(t),c=VT(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!zh(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const v=cy(t,p[m]);if(v){const{transitionEnd:w,transition:T,...x}=v;for(const _ in x){let E=x[_];if(Array.isArray(E)){const I=d?E.length-1:0;E=E[I]}E!==null&&(r[_]=E)}for(const _ in w)r[_]=w[_]}}}return r}function uy(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Et(r[o])||e.style&&Et(e.style[o])||$T(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const E4={useVisualState:GT({scrapeMotionValuesFromProps:uy,createRenderState:sy})};function KT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function QT(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const YT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XT(t,e,n,i){QT(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(YT.has(r)?r:Zg(r),e.attrs[r])}function JT(t,e,n){const i=uy(t,e,n);for(const r in t)if(Et(t[r])||Et(e[r])){const s=Fo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const iw=["x","y","width","height","cx","cy","r"],T4={useVisualState:GT({scrapeMotionValuesFromProps:JT,createRenderState:WT,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(vs.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<iw.length;a++){const l=iw[a];t[l]!==e[l]&&(o=!0)}o&&ve.read(()=>{KT(n,i),ve.render(()=>{ay(i,r,ly(n.tagName),t.transformTemplate),XT(n,i)})})}})};function S4(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...oy(i)?T4:E4,preloadedFeatures:t,useRender:v4(r),createVisualElement:e,Component:i};return QN(o)}}function $h(t,e,n){const i=t.getProps();return cy(i,e,n!==void 0?n:i.custom,t)}const C4=Yg(()=>window.ScrollTimeline!==void 0);class I4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(C4()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class k4 extends I4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function hy(t,e){return t?t[e]||t.default||t:void 0}const tm=2e4;function ZT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<tm;)e+=n,i=t.next(e);return e>=tm?1/0:e}function dy(t){return typeof t=="function"}function rw(t,e){t.timeline=e,t.onfinish=null}const fy=t=>Array.isArray(t)&&typeof t[0]=="number",P4={linearEasing:void 0};function A4(t,e){const n=Yg(t);return()=>{var i;return(i=P4[e])!==null&&i!==void 0?i:n()}}const Wu=A4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),e2=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(wo(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function t2(t){return!!(typeof t=="function"&&Wu()||!t||typeof t=="string"&&(t in nm||Wu())||fy(t)||Array.isArray(t)&&t.every(t2))}const wa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,nm={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wa([0,.65,.55,1]),circOut:wa([.55,0,1,.45]),backIn:wa([.31,.01,.66,-.59]),backOut:wa([.33,1.53,.69,.99])};function n2(t,e){if(t)return typeof t=="function"&&Wu()?e2(t,e):fy(t)?wa(t):Array.isArray(t)?t.map(n=>n2(n,e)||nm.easeOut):nm[t]}const En={x:!1,y:!1};function i2(){return En.x||En.y}function R4(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function r2(t,e){const n=R4(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function sw(t){return!(t.pointerType==="touch"||i2())}function N4(t,e,n={}){const[i,r,s]=r2(t,n),o=a=>{if(!sw(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{sw(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const s2=(t,e)=>e?t===e?!0:s2(t,e.parentElement):!1,py=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,D4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j4(t){return D4.has(t.tagName)||t.tabIndex!==-1}const _a=new WeakSet;function ow(t){return e=>{e.key==="Enter"&&t(e)}}function vf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const M4=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=ow(()=>{if(_a.has(n))return;vf(n,"down");const r=ow(()=>{vf(n,"up")}),s=()=>vf(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function aw(t){return py(t)&&!i2()}function O4(t,e,n={}){const[i,r,s]=r2(t,n),o=a=>{const l=a.currentTarget;if(!aw(a)||_a.has(l))return;_a.add(l);const c=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!aw(m)||!_a.has(l))&&(_a.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{d(m,n.useGlobalTarget||s2(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!j4(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>M4(c,r),r)}),s}function L4(t){return t==="x"||t==="y"?En[t]?null:(En[t]=!0,()=>{En[t]=!1}):En.x||En.y?null:(En.x=En.y=!0,()=>{En.x=En.y=!1})}const o2=new Set(["width","height","top","left","right","bottom",...Fo]);let su;function V4(){su=void 0}const Hn={now:()=>(su===void 0&&Hn.set(ot.isProcessing||jN.useManualTiming?ot.timestamp:performance.now()),su),set:t=>{su=t,queueMicrotask(V4)}};function my(t,e){t.indexOf(e)===-1&&t.push(e)}function gy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class yy{constructor(){this.subscriptions=[]}add(e){return my(this.subscriptions,e),()=>gy(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function a2(t,e){return e?t*(1e3/e):0}const lw=30,F4=t=>!isNaN(parseFloat(t));class U4{constructor(e,n={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Hn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=F4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new yy);const i=this.events[e].add(n);return e==="change"?()=>{i(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>lw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,lw);return a2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xl(t,e){return new U4(t,e)}function z4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xl(n))}function B4(t,e){const n=$h(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=w4(s[o]);z4(t,o,a)}}function $4(t){return!!(Et(t)&&t.add)}function im(t,e){const n=t.getValue("willChange");if($4(n))return n.add(e)}function l2(t){return t.props[FT]}const c2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,q4=1e-7,H4=12;function W4(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=c2(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>q4&&++a<H4);return o}function Ul(t,e,n,i){if(t===e&&n===i)return en;const r=s=>W4(s,0,1,t,n);return s=>s===0||s===1?s:c2(r(s),e,i)}const u2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,h2=t=>e=>1-t(1-e),d2=Ul(.33,1.53,.69,.99),vy=h2(d2),f2=u2(vy),p2=t=>(t*=2)<1?.5*vy(t):.5*(2-Math.pow(2,-10*(t-1))),xy=t=>1-Math.sin(Math.acos(t)),m2=h2(xy),g2=u2(xy),y2=t=>/^0[^.\s]+$/u.test(t);function G4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||y2(t):!0}const Va=t=>Math.round(t*1e5)/1e5,wy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function K4(t){return t==null}const Q4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,_y=(t,e)=>n=>!!(typeof n=="string"&&Q4.test(n)&&n.startsWith(t)||e&&!K4(n)&&Object.prototype.hasOwnProperty.call(n,e)),v2=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(wy);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Y4=t=>Ti(0,255,t),xf={...Uo,transform:t=>Math.round(Y4(t))},Kr={test:_y("rgb","red"),parse:v2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+xf.transform(t)+", "+xf.transform(e)+", "+xf.transform(n)+", "+Va(vl.transform(i))+")"};function X4(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const rm={test:_y("#"),parse:X4,transform:Kr.transform},Qs={test:_y("hsl","hue"),parse:v2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+qn.transform(Va(e))+", "+qn.transform(Va(n))+", "+Va(vl.transform(i))+")"},xt={test:t=>Kr.test(t)||rm.test(t)||Qs.test(t),parse:t=>Kr.test(t)?Kr.parse(t):Qs.test(t)?Qs.parse(t):rm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kr.transform(t):Qs.transform(t)},J4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Z4(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wy))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(J4))===null||n===void 0?void 0:n.length)||0)>0}const x2="number",w2="color",eD="var",tD="var(",cw="${}",nD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(nD,l=>(xt.test(l)?(i.color.push(s),r.push(w2),n.push(xt.parse(l))):l.startsWith(tD)?(i.var.push(s),r.push(eD),n.push(l)):(i.number.push(s),r.push(x2),n.push(parseFloat(l))),++s,cw)).split(cw);return{values:n,split:a,indexes:i,types:r}}function _2(t){return wl(t).values}function b2(t){const{split:e,types:n}=wl(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===x2?s+=Va(r[o]):a===w2?s+=xt.transform(r[o]):s+=r[o]}return s}}const iD=t=>typeof t=="number"?0:t;function rD(t){const e=_2(t);return b2(t)(e.map(iD))}const yr={test:Z4,parse:_2,createTransformer:b2,getAnimatableNone:rD},sD=new Set(["brightness","contrast","saturate","opacity"]);function oD(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(wy)||[];if(!i)return t;const r=n.replace(i,"");let s=sD.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const aD=/\b([a-z-]*)\(.*?\)/gu,sm={...yr,getAnimatableNone:t=>{const e=t.match(aD);return e?e.map(oD).join(" "):t}},lD={...iy,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:sm,WebkitFilter:sm},by=t=>lD[t];function E2(t,e){let n=by(t);return n!==sm&&(n=yr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cD=new Set(["auto","none","0"]);function uD(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!cD.has(s)&&wl(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=E2(n,r)}const uw=t=>t===Uo||t===Q,hw=(t,e)=>parseFloat(t.split(", ")[e]),dw=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return hw(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?hw(s[1],t):0}},hD=new Set(["x","y","z"]),dD=Fo.filter(t=>!hD.has(t));function fD(t){const e=[];return dD.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:dw(4,13),y:dw(5,14)};bo.translateX=bo.x;bo.translateY=bo.y;const Jr=new Set;let om=!1,am=!1;function T2(){if(am){const t=Array.from(Jr).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=fD(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}am=!1,om=!1,Jr.forEach(t=>t.complete()),Jr.clear()}function S2(){Jr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(am=!0)})}function pD(){S2(),T2()}class Ey{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jr.add(this),om||(om=!0,ve.read(S2),ve.resolveKeyframes(T2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const C2=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),mD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gD(t){const e=mD.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function I2(t,e,n=1){const[i,r]=gD(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return C2(o)?parseFloat(o):o}return ny(r)?I2(r,e,n+1):r}const k2=t=>e=>e.test(t),yD={test:t=>t==="auto",parse:t=>t},P2=[Uo,Q,qn,Vi,i4,n4,yD],fw=t=>P2.find(k2(t));class A2 extends Ey{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),ny(c))){const d=I2(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!o2.has(i)||e.length!==2)return;const[r,s]=e,o=fw(r),a=fw(s);if(o!==a)if(uw(o)&&uw(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)G4(e[r])&&i.push(r);i.length&&uD(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=bo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const pw=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yr.test(t)||t==="0")&&!t.startsWith("url("));function vD(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xD(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=pw(r,e),a=pw(s,e);return!o||!a?!1:vD(t)||(n==="spring"||dy(n))&&i}const wD=t=>t!==null;function qh(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(wD),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const _D=40;class R2{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Hn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>_D?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&pD(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Hn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!xD(e,i,r,s))if(o)this.options.duration=0;else{l&&l(qh(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pe=(t,e,n)=>t+(e-t)*n;function wf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bD({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=wf(l,a,t+1/3),s=wf(l,a,t),o=wf(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Gu(t,e){return n=>n>0?e:t}const _f=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},ED=[rm,Kr,Qs],TD=t=>ED.find(e=>e.test(t));function mw(t){const e=TD(t);if(!e)return!1;let n=e.parse(t);return e===Qs&&(n=bD(n)),n}const gw=(t,e)=>{const n=mw(t),i=mw(e);if(!n||!i)return Gu(t,e);const r={...n};return s=>(r.red=_f(n.red,i.red,s),r.green=_f(n.green,i.green,s),r.blue=_f(n.blue,i.blue,s),r.alpha=Pe(n.alpha,i.alpha,s),Kr.transform(r))},SD=(t,e)=>n=>e(t(n)),zl=(...t)=>t.reduce(SD),lm=new Set(["none","hidden"]);function CD(t,e){return lm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ID(t,e){return n=>Pe(t,e,n)}function Ty(t){return typeof t=="number"?ID:typeof t=="string"?ny(t)?Gu:xt.test(t)?gw:AD:Array.isArray(t)?N2:typeof t=="object"?xt.test(t)?gw:kD:Gu}function N2(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>Ty(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function kD(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=Ty(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function PD(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const AD=(t,e)=>{const n=yr.createTransformer(e),i=wl(t),r=wl(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?lm.has(t)&&!r.values.length||lm.has(e)&&!i.values.length?CD(t,e):zl(N2(PD(i,r),r.values),n):Gu(t,e)};function D2(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pe(t,e,n):Ty(t)(t,e)}const RD=5;function j2(t,e,n){const i=Math.max(e-RD,0);return a2(n-t(i),e-i)}const je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bf=.001;function ND({duration:t=je.duration,bounce:e=je.bounce,velocity:n=je.velocity,mass:i=je.mass}){let r,s,o=1-e;o=Ti(je.minDamping,je.maxDamping,o),t=Ti(je.minDuration,je.maxDuration,gi(t)),o<1?(r=c=>{const d=c*o,f=d*t,p=d-n,m=cm(c,o),v=Math.exp(-f);return bf-p/m*v},s=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),w=cm(Math.pow(c,2),o);return(-r(c)+bf>0?-1:1)*((p-m)*v)/w}):(r=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-bf+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=jD(r,s,a);if(t=mi(t),isNaN(l))return{stiffness:je.stiffness,damping:je.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const DD=12;function jD(t,e,n){let i=n;for(let r=1;r<DD;r++)i=i-t(i)/e(i);return i}function cm(t,e){return t*Math.sqrt(1-e*e)}const MD=["duration","bounce"],OD=["stiffness","damping","mass"];function yw(t,e){return e.some(n=>t[n]!==void 0)}function LD(t){let e={velocity:je.velocity,stiffness:je.stiffness,damping:je.damping,mass:je.mass,isResolvedFromDuration:!1,...t};if(!yw(t,OD)&&yw(t,MD))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Ti(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:je.mass,stiffness:r,damping:s}}else{const n=ND(t);e={...e,...n,mass:je.mass},e.isResolvedFromDuration=!0}return e}function M2(t=je.visualDuration,e=je.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=LD({...n,velocity:-gi(n.velocity||0)}),v=p||0,w=c/(2*Math.sqrt(l*d)),T=o-s,x=gi(Math.sqrt(l/d)),_=Math.abs(T)<5;i||(i=_?je.restSpeed.granular:je.restSpeed.default),r||(r=_?je.restDelta.granular:je.restDelta.default);let E;if(w<1){const N=cm(x,w);E=O=>{const C=Math.exp(-w*x*O);return o-C*((v+w*x*T)/N*Math.sin(N*O)+T*Math.cos(N*O))}}else if(w===1)E=N=>o-Math.exp(-x*N)*(T+(v+x*T)*N);else{const N=x*Math.sqrt(w*w-1);E=O=>{const C=Math.exp(-w*x*O),b=Math.min(N*O,300);return o-C*((v+w*x*T)*Math.sinh(b)+N*T*Math.cosh(b))/N}}const I={calculatedDuration:m&&f||null,next:N=>{const O=E(N);if(m)a.done=N>=f;else{let C=0;w<1&&(C=N===0?mi(v):j2(E,N,O));const b=Math.abs(C)<=i,k=Math.abs(o-O)<=r;a.done=b&&k}return a.value=a.done?o:O,a},toString:()=>{const N=Math.min(ZT(I),tm),O=e2(C=>I.next(N*C).value,N,30);return N+"ms "+O}};return I}function vw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,v=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let w=n*e;const T=f+w,x=o===void 0?T:o(T);x!==T&&(w=x-f);const _=b=>-w*Math.exp(-b/i),E=b=>x+_(b),I=b=>{const k=_(b),P=E(b);p.done=Math.abs(k)<=c,p.value=p.done?x:P};let N,O;const C=b=>{m(p.value)&&(N=b,O=M2({keyframes:[p.value,v(p.value)],velocity:j2(E,b,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:b=>{let k=!1;return!O&&N===void 0&&(k=!0,I(b),C(b)),N!==void 0&&b>=N?O.next(b-N):(!k&&I(b),p)}}}const VD=Ul(.42,0,1,1),FD=Ul(0,0,.58,1),O2=Ul(.42,0,.58,1),UD=t=>Array.isArray(t)&&typeof t[0]!="number",xw={linear:en,easeIn:VD,easeInOut:O2,easeOut:FD,circIn:xy,circInOut:g2,circOut:m2,backIn:vy,backInOut:f2,backOut:d2,anticipate:p2},ww=t=>{if(fy(t)){Zp(t.length===4);const[e,n,i,r]=t;return Ul(e,n,i,r)}else if(typeof t=="string")return Zp(xw[t]!==void 0),xw[t];return t};function zD(t,e,n){const i=[],r=n||D2,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||en:e;a=zl(l,a)}i.push(a)}return i}function BD(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(Zp(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=zD(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=wo(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Ti(t[0],t[s-1],d)):c}function $D(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=wo(0,e,i);t.push(Pe(n,1,r))}}function qD(t){const e=[0];return $D(e,t.length-1),e}function HD(t,e){return t.map(n=>n*e)}function WD(t,e){return t.map(()=>e||O2).splice(0,t.length-1)}function Ku({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=UD(i)?i.map(ww):ww(i),s={done:!1,value:e[0]},o=HD(n&&n.length===e.length?n:qD(e),t),a=BD(o,e,{ease:Array.isArray(r)?r:WD(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const GD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ve.update(e,!0),stop:()=>gr(e),now:()=>ot.isProcessing?ot.timestamp:Hn.now()}},KD={decay:vw,inertia:vw,tween:Ku,keyframes:Ku,spring:M2},QD=t=>t/100;class Sy extends R2{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Ey,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=dy(n)?n:KD[n]||Ku;let l,c;a!==Ku&&typeof e[0]!="number"&&(l=zl(QD,D2(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=ZT(d));const{calculatedDuration:f}=d,p=f+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:w,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,I=s;if(m){const b=Math.min(this.currentTime,d)/f;let k=Math.floor(b),P=b%1;!P&&b>=1&&(P=1),P===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(v==="reverse"?(P=1-P,w&&(P-=w/f)):v==="mirror"&&(I=o)),E=Ti(0,1,P)*f}const N=_?{done:!1,value:l[0]}:I.next(E);a&&(N.value=a(N.value));let{done:O}=N;!_&&c!==null&&(O=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&r!==void 0&&(N.value=qh(l,this.options,r)),T&&T(N.value),C&&this.finish(),N}get duration(){const{resolved:e}=this;return e?gi(e.calculatedDuration):0}get time(){return gi(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=GD,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const YD=new Set(["opacity","clipPath","filter","transform"]);function XD(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=n2(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const JD=Yg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Qu=10,ZD=2e4;function ej(t){return dy(t.type)||t.type==="spring"||!t2(t.ease)}function tj(t,e){const n=new Sy({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<ZD;)i=n.sample(s),r.push(i.value),s+=Qu;return{times:void 0,keyframes:r,duration:s-Qu,ease:"linear"}}const L2={anticipate:p2,backInOut:f2,circInOut:g2};function nj(t){return t in L2}class _w extends R2{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new A2(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Wu()&&nj(s)&&(s=L2[s]),ej(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:v,...w}=this.options,T=tj(e,w);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,r=T.times,s=T.ease,o="keyframes"}const d=XD(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(rw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(qh(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return gi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return gi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=mi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return en;const{animation:i}=n;rw(i,e)}return en}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:p,...m}=this.options,v=new Sy({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),w=mi(this.time);c.setWithVelocity(v.sample(w-Qu).value,v.sample(w).value,Qu)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return JD()&&i&&YD.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const ij={type:"spring",stiffness:500,damping:25,restSpeed:10},rj=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sj={type:"keyframes",duration:.8},oj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aj=(t,{keyframes:e})=>e.length>2?sj:vs.has(t)?t.startsWith("scale")?rj(e[1]):ij:oj;function lj({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Cy=(t,e,n,i={},r,s)=>o=>{const a=hy(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-mi(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};lj(a)||(d={...d,...aj(t,d)}),d.duration&&(d.duration=mi(d.duration)),d.repeatDelay&&(d.repeatDelay=mi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=qh(d.keyframes,a);if(p!==void 0)return ve.update(()=>{d.onUpdate(p),d.onComplete()}),new k4([])}return!s&&_w.supports(d)?new _w(d):new Sy(d)};function cj({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function V2(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||d&&cj(d,f))continue;const v={delay:n,...hy(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const x=l2(t);if(x){const _=window.MotionHandoffAnimation(x,f,ve);_!==null&&(v.startTime=_,w=!0)}}im(t,f),p.start(Cy(f,p,m,t.shouldReduceMotion&&o2.has(f)?{type:!1}:v,t,w));const T=p.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{ve.update(()=>{a&&B4(t,a)})}),c}function um(t,e,n={}){var i;const r=$h(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(V2(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return uj(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function uj(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(hj).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(um(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function hj(t,e){return t.sortNodePosition(e)}function dj(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>um(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=um(t,e,n);else{const r=typeof e=="function"?$h(t,e,n.custom):e;i=Promise.all(V2(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function F2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const fj=Jg.length;function U2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?U2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<fj;n++){const i=Jg[n],r=t.props[i];(gl(r)||r===!1)&&(e[i]=r)}return e}const pj=[...Xg].reverse(),mj=Xg.length;function gj(t){return e=>Promise.all(e.map(({animation:n,options:i})=>dj(t,n,i)))}function yj(t){let e=gj(t),n=bw(),i=!0;const r=l=>(c,d)=>{var f;const p=$h(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:v,...w}=p;c={...c,...w,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=U2(t.parent)||{},f=[],p=new Set;let m={},v=1/0;for(let T=0;T<mj;T++){const x=pj[T],_=n[x],E=c[x]!==void 0?c[x]:d[x],I=gl(E),N=x===l?_.isActive:null;N===!1&&(v=T);let O=E===d[x]&&E!==c[x]&&I;if(O&&i&&t.manuallyAnimateOnMount&&(O=!1),_.protectedKeys={...m},!_.isActive&&N===null||!E&&!_.prevProp||zh(E)||typeof E=="boolean")continue;const C=vj(_.prevProp,E);let b=C||x===l&&_.isActive&&!O&&I||T>v&&I,k=!1;const P=Array.isArray(E)?E:[E];let D=P.reduce(r(x),{});N===!1&&(D={});const{prevResolvedValues:j={}}=_,A={...j,...D},kt=xe=>{b=!0,p.has(xe)&&(k=!0,p.delete(xe)),_.needsAnimating[xe]=!0;const $=t.getValue(xe);$&&($.liveStyle=!1)};for(const xe in A){const $=D[xe],Y=j[xe];if(m.hasOwnProperty(xe))continue;let ee=!1;em($)&&em(Y)?ee=!F2($,Y):ee=$!==Y,ee?$!=null?kt(xe):p.add(xe):$!==void 0&&p.has(xe)?kt(xe):_.protectedKeys[xe]=!0}_.prevProp=E,_.prevResolvedValues=D,_.isActive&&(m={...m,...D}),i&&t.blockInitialAnimation&&(b=!1),b&&(!(O&&C)||k)&&f.push(...P.map(xe=>({animation:xe,options:{type:x}})))}if(p.size){const T={};p.forEach(x=>{const _=t.getBaseTarget(x),E=t.getValue(x);E&&(E.liveStyle=!0),T[x]=_??null}),f.push({animation:T})}let w=!!f.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(f):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=bw(),i=!0}}}function vj(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F2(e,t):!1}function Fr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bw(){return{animate:Fr(!0),whileInView:Fr(),whileHover:Fr(),whileTap:Fr(),whileDrag:Fr(),whileFocus:Fr(),exit:Fr()}}class Ar{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xj extends Ar{constructor(e){super(e),e.animationState||(e.animationState=yj(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();zh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let wj=0;class _j extends Ar{constructor(){super(...arguments),this.id=wj++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const bj={animation:{Feature:xj},exit:{Feature:_j}};function _l(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Bl(t){return{point:{x:t.pageX,y:t.pageY}}}const Ej=t=>e=>py(e)&&t(e,Bl(e));function Fa(t,e,n,i){return _l(t,e,Ej(n),i)}const Ew=(t,e)=>Math.abs(t-e);function Tj(t,e){const n=Ew(t.x,e.x),i=Ew(t.y,e.y);return Math.sqrt(n**2+i**2)}class z2{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Tf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Tj(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:w}=ot;this.history.push({...v,timestamp:w});const{onStart:T,onMove:x}=this.handlers;p||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ef(p,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Tf(f.type==="pointercancel"?this.lastMoveEventInfo:Ef(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,T),v&&v(f,T)},!py(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Bl(e),a=Ef(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ot;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Tf(a,this.history)),this.removeListeners=zl(Fa(this.contextWindow,"pointermove",this.handlePointerMove),Fa(this.contextWindow,"pointerup",this.handlePointerUp),Fa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gr(this.updatePoint)}}function Ef(t,e){return e?{point:e(t.point)}:t}function Tw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Tf({point:t},e){return{point:t,delta:Tw(t,B2(e)),offset:Tw(t,Sj(e)),velocity:Cj(e,.1)}}function Sj(t){return t[0]}function B2(t){return t[t.length-1]}function Cj(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=B2(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>mi(e)));)n--;if(!i)return{x:0,y:0};const s=gi(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const $2=1e-4,Ij=1-$2,kj=1+$2,q2=.01,Pj=0-q2,Aj=0+q2;function Nt(t){return t.max-t.min}function Rj(t,e,n){return Math.abs(t-e)<=n}function Sw(t,e,n,i=.5){t.origin=i,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Ij&&t.scale<=kj||isNaN(t.scale))&&(t.scale=1),(t.translate>=Pj&&t.translate<=Aj||isNaN(t.translate))&&(t.translate=0)}function Ua(t,e,n,i){Sw(t.x,e.x,n.x,i?i.originX:void 0),Sw(t.y,e.y,n.y,i?i.originY:void 0)}function Cw(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function Nj(t,e,n){Cw(t.x,e.x,n.x),Cw(t.y,e.y,n.y)}function Iw(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function za(t,e,n){Iw(t.x,e.x,n.x),Iw(t.y,e.y,n.y)}function Dj(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Pe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Pe(n,t,i.max):Math.min(t,n)),t}function kw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function jj(t,{top:e,left:n,bottom:i,right:r}){return{x:kw(t.x,n,r),y:kw(t.y,e,i)}}function Pw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function Mj(t,e){return{x:Pw(t.x,e.x),y:Pw(t.y,e.y)}}function Oj(t,e){let n=.5;const i=Nt(t),r=Nt(e);return r>i?n=wo(e.min,e.max-i,t.min):i>r&&(n=wo(t.min,t.max-r,e.min)),Ti(0,1,n)}function Lj(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hm=.35;function Vj(t=hm){return t===!1?t=0:t===!0&&(t=hm),{x:Aw(t,"left","right"),y:Aw(t,"top","bottom")}}function Aw(t,e,n){return{min:Rw(t,e),max:Rw(t,n)}}function Rw(t,e){return typeof t=="number"?t:t[e]||0}const Nw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ys=()=>({x:Nw(),y:Nw()}),Dw=()=>({min:0,max:0}),Le=()=>({x:Dw(),y:Dw()});function un(t){return[t("x"),t("y")]}function H2({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Fj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Uj(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Sf(t){return t===void 0||t===1}function dm({scale:t,scaleX:e,scaleY:n}){return!Sf(t)||!Sf(e)||!Sf(n)}function Br(t){return dm(t)||W2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function W2(t){return jw(t.x)||jw(t.y)}function jw(t){return t&&t!=="0%"}function Yu(t,e,n){const i=t-n,r=e*i;return n+r}function Mw(t,e,n,i,r){return r!==void 0&&(t=Yu(t,r,i)),Yu(t,n,i)+e}function fm(t,e=0,n=1,i,r){t.min=Mw(t.min,e,n,i,r),t.max=Mw(t.max,e,n,i,r)}function G2(t,{x:e,y:n}){fm(t.x,e.translate,e.scale,e.originPoint),fm(t.y,n.translate,n.scale,n.originPoint)}const Ow=.999999999999,Lw=1.0000000000001;function zj(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Js(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,G2(t,o)),i&&Br(s.latestValues)&&Js(t,s.latestValues))}e.x<Lw&&e.x>Ow&&(e.x=1),e.y<Lw&&e.y>Ow&&(e.y=1)}function Xs(t,e){t.min=t.min+e,t.max=t.max+e}function Vw(t,e,n,i,r=.5){const s=Pe(t.min,t.max,r);fm(t,e,n,s,i)}function Js(t,e){Vw(t.x,e.x,e.scaleX,e.scale,e.originX),Vw(t.y,e.y,e.scaleY,e.scale,e.originY)}function K2(t,e){return H2(Uj(t.getBoundingClientRect(),e))}function Bj(t,e,n){const i=K2(t,n),{scroll:r}=e;return r&&(Xs(i.x,r.offset.x),Xs(i.y,r.offset.y)),i}const Q2=({current:t})=>t?t.ownerDocument.defaultView:null,$j=new WeakMap;class qj{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bl(d).point)},s=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L4(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),un(T=>{let x=this.getAxisMotionValue(T).get()||0;if(qn.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[T];E&&(x=Nt(E)*(parseFloat(x)/100))}}this.originPoint[T]=x}),v&&ve.postRender(()=>v(d,f)),im(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=f;if(m&&this.currentDirection===null){this.currentDirection=Hj(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),w&&w(d,f)},a=(d,f)=>this.stop(d,f),l=()=>un(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new z2(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:Q2(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ve.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Vc(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=Dj(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ks(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=jj(r.layoutBox,n):this.constraints=!1,this.elastic=Vj(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&un(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Lj(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ks(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=Bj(i,r.root,this.visualElement.getTransformPagePoint());let o=Mj(r.layout.layoutBox,s);if(n){const a=n(Fj(o));this.hasMutatedConstraints=!!a,a&&(o=H2(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=un(d=>{if(!Vc(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return im(this.visualElement,e),i.start(Cy(e,i,0,n,this.visualElement,!1))}stopAnimation(){un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){un(n=>{const{drag:i}=this.getProps();if(!Vc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ks(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};un(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=Oj({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),un(o=>{if(!Vc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pe(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;$j.set(this.visualElement,this);const e=this.visualElement.current,n=Fa(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Ks(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ve.read(i);const o=_l(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(un(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=hm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Vc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Hj(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Wj extends Ar{constructor(e){super(e),this.removeGroupControls=en,this.removeListeners=en,this.controls=new qj(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||en}unmount(){this.removeGroupControls(),this.removeListeners()}}const Fw=t=>(e,n)=>{t&&ve.postRender(()=>t(e,n))};class Gj extends Ar{constructor(){super(...arguments),this.removePointerDownListener=en}onPointerDown(e){this.session=new z2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Q2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Fw(e),onStart:Fw(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ve.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Fa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ou={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Uw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ma={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const n=Uw(t,e.target.x),i=Uw(t,e.target.y);return`${n}% ${i}%`}},Kj={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=yr.parse(t);if(r.length>5)return i;const s=yr.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Pe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class Qj extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;t4(Yj),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ou.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ey.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Y2(t){const[e,n]=NT(),i=R.useContext(Wg);return h.jsx(Qj,{...t,layoutGroup:i,switchLayoutGroup:R.useContext(UT),isPresent:e,safeToRemove:n})}const Yj={borderRadius:{...ma,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ma,borderTopRightRadius:ma,borderBottomLeftRadius:ma,borderBottomRightRadius:ma,boxShadow:Kj};function Xj(t,e,n){const i=Et(t)?t:xl(t);return i.start(Cy("",i,e,n)),i.animation}function Jj(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Zj=(t,e)=>t.depth-e.depth;class eM{constructor(){this.children=[],this.isDirty=!1}add(e){my(this.children,e),this.isDirty=!0}remove(e){gy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Zj),this.isDirty=!1,this.children.forEach(e)}}function tM(t,e){const n=Hn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(gr(i),t(s-e))};return ve.read(i,!0),()=>gr(i)}const X2=["TopLeft","TopRight","BottomLeft","BottomRight"],nM=X2.length,zw=t=>typeof t=="string"?parseFloat(t):t,Bw=t=>typeof t=="number"||Q.test(t);function iM(t,e,n,i,r,s){r?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,rM(i)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,sM(i))):s&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<nM;o++){const a=`border${X2[o]}Radius`;let l=$w(e,a),c=$w(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Bw(l)===Bw(c)?(t[a]=Math.max(Pe(zw(l),zw(c),i),0),(qn.test(c)||qn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,i))}function $w(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const rM=J2(0,.5,m2),sM=J2(.5,.95,en);function J2(t,e,n){return i=>i<t?0:i>e?1:n(wo(t,e,i))}function qw(t,e){t.min=e.min,t.max=e.max}function ln(t,e){qw(t.x,e.x),qw(t.y,e.y)}function Hw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ww(t,e,n,i,r){return t-=e,t=Yu(t,1/n,i),r!==void 0&&(t=Yu(t,1/r,i)),t}function oM(t,e=0,n=1,i=.5,r,s=t,o=t){if(qn.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(s.min,s.max,i);t===s&&(a-=e),t.min=Ww(t.min,e,n,a,r),t.max=Ww(t.max,e,n,a,r)}function Gw(t,e,[n,i,r],s,o){oM(t,e[n],e[i],e[r],e.scale,s,o)}const aM=["x","scaleX","originX"],lM=["y","scaleY","originY"];function Kw(t,e,n,i){Gw(t.x,e,aM,n?n.x:void 0,i?i.x:void 0),Gw(t.y,e,lM,n?n.y:void 0,i?i.y:void 0)}function Qw(t){return t.translate===0&&t.scale===1}function Z2(t){return Qw(t.x)&&Qw(t.y)}function Yw(t,e){return t.min===e.min&&t.max===e.max}function cM(t,e){return Yw(t.x,e.x)&&Yw(t.y,e.y)}function Xw(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function eS(t,e){return Xw(t.x,e.x)&&Xw(t.y,e.y)}function Jw(t){return Nt(t.x)/Nt(t.y)}function Zw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class uM{constructor(){this.members=[]}add(e){my(this.members,e),e.scheduleRender()}remove(e){if(gy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hM(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const $r={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ba=typeof window<"u"&&window.MotionDebug!==void 0,Cf=["","X","Y","Z"],dM={visibility:"hidden"},e_=1e3;let fM=0;function If(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function tS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=l2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&tS(i)}function nS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=fM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ba&&($r.totalNodes=$r.resolvedTargetDeltas=$r.recalculatedProjection=0),this.nodes.forEach(gM),this.nodes.forEach(_M),this.nodes.forEach(bM),this.nodes.forEach(yM),ba&&window.MotionDebug.record($r)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new eM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yy),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Jj(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=tM(p,250),ou.hasAnimatedSinceResize&&(ou.hasAnimatedSinceResize=!1,this.nodes.forEach(n_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||IM,{onLayoutAnimationStart:T,onLayoutAnimationComplete:x}=d.getProps(),_=!this.targetLayout||!eS(this.targetLayout,v),E=!p&&m;if(this.options.layoutRoot||this.resumeFrom||E||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const I={...hy(w,"layout"),onPlay:T,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else p||n_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(t_);return}this.isUpdating||this.nodes.forEach(xM),this.isUpdating=!1,this.nodes.forEach(wM),this.nodes.forEach(pM),this.nodes.forEach(mM),this.clearAllSnapshots();const a=Hn.now();ot.delta=Ti(0,1e3/60,a-ot.timestamp),ot.timestamp=a,ot.isProcessing=!0,yf.update.process(ot),yf.preRender.process(ot),yf.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ey.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vM),this.sharedNodes.forEach(TM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Z2(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Br(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),kM(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Le();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(PM))){const{scroll:d}=this.root;d&&(Xs(l.x,d.offset.x),Xs(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Le();if(ln(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&ln(l,o),Xs(l.x,f.offset.x),Xs(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Le();ln(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Js(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Br(d.latestValues)&&Js(l,d.latestValues)}return Br(this.latestValues)&&Js(l,this.latestValues),l}removeTransform(o){const a=Le();ln(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Br(c.latestValues))continue;dm(c.latestValues)&&c.updateSnapshot();const d=Le(),f=c.measurePageBox();ln(d,f),Kw(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Br(this.latestValues)&&Kw(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),za(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),G2(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),za(this.relativeTargetOrigin,this.target,m.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ba&&$r.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dm(this.parent.latestValues)||W2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ln(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;zj(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Le());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hw(this.prevProjectionDelta.x,this.projectionDelta.x),Hw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ua(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!Zw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),ba&&$r.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ys(),this.projectionDelta=Ys(),this.projectionDeltaWithTransform=Ys()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Ys();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Le(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,T=this.getStack(),x=!T||T.members.length<=1,_=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(CM));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const N=I/1e3;i_(f.x,o.x,N),i_(f.y,o.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(za(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SM(this.relativeTarget,this.relativeTargetOrigin,p,N),E&&cM(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Le()),ln(E,this.relativeTarget)),w&&(this.animationValues=d,iM(d,c,this.latestValues,N,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{ou.hasAnimatedSinceResize=!0,this.currentAnimation=Xj(0,e_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(e_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&iS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Le();const f=Nt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Nt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}ln(a,l),Js(a,d),Ua(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new uM),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&If("z",o,c,this.animationValues);for(let d=0;d<Cf.length;d++)If(`rotate${Cf[d]}`,o,c,this.animationValues),If(`skew${Cf[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return dM;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=ru(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ru(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Br(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=hM(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in yl){if(p[w]===void 0)continue;const{correct:T,applyTo:x,isCSSVariable:_}=yl[w],E=c.transform==="none"?p[w]:T(p[w],f);if(x){const I=x.length;for(let N=0;N<I;N++)c[x[N]]=E}else _?this.options.visualElement.renderState.vars[w]=E:c[w]=E}return this.options.layoutId&&(c.pointerEvents=f===this?ru(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(t_),this.root.sharedNodes.clear()}}}function pM(t){t.updateLayout()}function mM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?un(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Nt(p);p.min=i[f].min,p.max=p.min+m}):iS(s,n.layoutBox,i)&&un(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Nt(i[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Ys();Ua(a,i,n.layoutBox);const l=Ys();o?Ua(l,t.applyTransform(r,!0),n.measuredBox):Ua(l,i,n.layoutBox);const c=!Z2(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=Le();za(v,n.layoutBox,p.layoutBox);const w=Le();za(w,i,m.layoutBox),eS(v,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function gM(t){ba&&$r.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vM(t){t.clearSnapshot()}function t_(t){t.clearMeasurements()}function xM(t){t.isLayoutDirty=!1}function wM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function _M(t){t.resolveTargetDelta()}function bM(t){t.calcProjection()}function EM(t){t.resetSkewAndRotation()}function TM(t){t.removeLeadSnapshot()}function i_(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function r_(t,e,n,i){t.min=Pe(e.min,n.min,i),t.max=Pe(e.max,n.max,i)}function SM(t,e,n,i){r_(t.x,e.x,n.x,i),r_(t.y,e.y,n.y,i)}function CM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IM={duration:.45,ease:[.4,0,.1,1]},s_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),o_=s_("applewebkit/")&&!s_("chrome/")?Math.round:en;function a_(t){t.min=o_(t.min),t.max=o_(t.max)}function kM(t){a_(t.x),a_(t.y)}function iS(t,e,n){return t==="position"||t==="preserve-aspect"&&!Rj(Jw(e),Jw(n),.2)}function PM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const AM=nS({attachResizeListener:(t,e)=>_l(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kf={current:void 0},rS=nS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kf.current){const t=new AM({});t.mount(window),t.setOptions({layoutScroll:!0}),kf.current=t}return kf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RM={pan:{Feature:Gj},drag:{Feature:Wj,ProjectionNode:rS,MeasureLayout:Y2}};function l_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ve.postRender(()=>s(e,Bl(e)))}class NM extends Ar{mount(){const{current:e}=this.node;e&&(this.unmount=N4(e,(n,i)=>(l_(this.node,i,"Start"),r=>l_(this.node,r,"End"))))}unmount(){}}class DM extends Ar{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(_l(this.node.current,"focus",()=>this.onFocus()),_l(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c_(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ve.postRender(()=>s(e,Bl(e)))}class jM extends Ar{mount(){const{current:e}=this.node;e&&(this.unmount=O4(e,(n,i)=>(c_(this.node,i,"Start"),(r,{success:s})=>c_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pm=new WeakMap,Pf=new WeakMap,MM=t=>{const e=pm.get(t.target);e&&e(t)},OM=t=>{t.forEach(MM)};function LM({root:t,...e}){const n=t||document;Pf.has(n)||Pf.set(n,{});const i=Pf.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(OM,{root:t,...e})),i[r]}function VM(t,e,n){const i=LM(e);return pm.set(t,n),i.observe(t),()=>{pm.delete(t),i.unobserve(t)}}const FM={some:0,all:1};class UM extends Ar{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:FM[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return VM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(zM(e,n))&&this.startObserver()}unmount(){}}function zM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const BM={inView:{Feature:UM},tap:{Feature:jM},focus:{Feature:DM},hover:{Feature:NM}},$M={layout:{ProjectionNode:rS,MeasureLayout:Y2}},mm={current:null},sS={current:!1};function qM(){if(sS.current=!0,!!Qg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mm.current=t.matches;t.addListener(e),e()}else mm.current=!1}const HM=[...P2,xt,yr],WM=t=>HM.find(k2(t)),GM=new WeakMap;function KM(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Et(r))t.addValue(i,r);else if(Et(s))t.addValue(i,xl(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,xl(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const u_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class QM{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ey,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Hn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Bh(n),this.isVariantNode=VT(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Et(v)&&v.set(l[m],!1)}}mount(e){this.current=e,GM.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),sS.current||qM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),gr(this.notifyUpdate),gr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=vs.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _o){const n=_o[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<u_.length;i++){const r=u_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=KM(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=xl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(C2(r)||y2(r))?r=parseFloat(r):!WM(r)&&yr.test(n)&&(r=E2(e,n)),this.setBaseTarget(e,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=cy(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Et(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new yy),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class oS extends QM{constructor(){super(...arguments),this.KeyframeResolver=A2}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function YM(t){return window.getComputedStyle(t)}class XM extends oS{constructor(){super(...arguments),this.type="html",this.renderInstance=QT}readValueFromInstance(e,n){if(vs.has(n)){const i=by(n);return i&&i.default||0}else{const i=YM(e),r=(ty(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return K2(e,n)}build(e,n,i){ry(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return uy(e,n,i)}}class JM extends oS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Le,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&KT(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vs.has(n)){const i=by(n);return i&&i.default||0}return n=YT.has(n)?n:Zg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return JT(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ve.postRender(this.updateDimensions)}build(e,n,i){ay(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){XT(e,n,i,r)}mount(e){this.isSVGTag=ly(e.tagName),super.mount(e)}}const ZM=(t,e)=>oy(t)?new JM(e):new XM(e,{allowProjection:t!==R.Fragment}),e3=S4({...bj,...BM,...RM,...$M},ZM),z=zN(e3),Ba="generated",t3="pointerdown",n3="pointerup",gm="pointerleave",i3="pointerout",os="pointermove",r3="touchstart",h_="touchend",s3="touchmove",o3="touchcancel",a3="resize",l3="visibilitychange",wn="tsParticles - Error";class Qt{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Rn(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${wn} Vector3d not initialized correctly`)}static get origin(){return Qt.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Qt.create(e.x,e.y,e.z)}static create(e,n,i){return new Qt(e,n,i)}add(e){return Qt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Qt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Qt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Qt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Qt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return Qt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class tt extends Qt{constructor(e,n){super(e,n,0)}static get origin(){return tt.create(0,0)}static clone(e){return tt.create(e.x,e.y)}static create(e,n){return new tt(e,n)}}let c3=Math.random;const ym=new Map;function Af(t,e){ym.get(t)||ym.set(t,e)}function aS(t){return ym.get(t)||(e=>e)}function Ee(){return jn(c3(),0,1-1e-16)}function jn(t,e,n){return Math.min(Math.max(t,e),n)}function Rf(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function $t(t){const e=Yi(t);let n=Iy(t);return e===n&&(n=0),Ee()*(e-n)+n}function K(t){return Rn(t)?t:$t(t)}function Iy(t){return Rn(t)?t:t.min}function Yi(t){return Rn(t)?t:t.max}function ie(t,e){if(t===e||e===void 0&&Rn(t))return t;const n=Iy(t),i=Yi(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:ie(n,i)}function as(t){const e=t.random,{enable:n,minimumValue:i}=ar(e)?{enable:e,minimumValue:0}:e;return K(n?ie(t.value,i):t.value)}function jt(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function tn(t,e){return jt(t,e).distance}function u3(t,e,n){if(Rn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Ee()*Math.PI*2}}function h3(t){const e=tt.origin;return e.length=1,e.angle=t,e}function d_(t,e,n,i){return tt.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function d3(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Ee()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Ee()*t.size.height}}function lS(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const f3={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function ls(){return f3}function f_(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)/2&&o>0||n.min<=r.max&&n.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function p3(t,e){const n=nt(e,i=>t.matches(i));return nn(n)?n.some(i=>i):n}function Eo(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function m3(){return!Eo()&&typeof matchMedia<"u"}function cS(t){if(m3())return matchMedia(t)}function g3(t){if(!(Eo()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Ue(t,e){return t===e||nn(e)&&e.indexOf(t)>-1}async function y3(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function v3(t){return Math.floor(Ee()*t.length)}function Hh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:v3(t)]}function ky(t,e,n,i,r){return x3($l(t,i??0),e,n,r)}function x3(t,e,n,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height+n.x),r&&(!i||i==="left")&&(r=t.right>n.x),r&&(!i||i==="right")&&(r=t.left<e.width+n.y),r&&(!i||i==="top")&&(r=t.bottom>n.y),r}function $l(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Tt(t,...e){for(const n of e){if(n==null)continue;if(!Zs(n)){t=n;continue}const i=Array.isArray(n);i&&(Zs(t)||!t||!Array.isArray(t))?t=[]:!i&&(Zs(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=Zs(o)&&Array.isArray(o)?o.map(l=>Tt(a[r],l)):Tt(a[r],o)}}return t}function Py(t,e){return!!dS(e,n=>n.enable&&Ue(t,n.mode))}function Ay(t,e,n){nt(e,i=>{const r=i.mode;i.enable&&Ue(t,r)&&w3(i,n)})}function w3(t,e){const n=t.selectors;nt(n,i=>{e(i,t)})}function uS(t,e){if(!(!e||!t))return dS(t,n=>p3(e,n.selectors))}function vm(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:tt.create(as(t.options.bounce.horizontal),as(t.options.bounce.vertical))}}function hS(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=jt(s,r);if(n*o+i*a<0)return;const l=-Math.atan2(a,o),c=t.mass,d=e.mass,f=t.velocity.rotate(l),p=e.velocity.rotate(l),m=d_(f,p,c,d),v=d_(p,f,c,d),w=m.rotate(-l),T=v.rotate(-l);t.velocity.x=w.x*t.factor.x,t.velocity.y=w.y*t.factor.y,e.velocity.x=T.x*e.factor.x,e.velocity.y=T.y*e.factor.y}function _3(t,e){const n=t.getPosition(),i=t.getRadius(),r=$l(n,i),s=f_({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:as(t.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const o=f_({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:as(t.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}function nt(t,e){return nn(t)?t.map((n,i)=>e(n,i)):e(t,0)}function yi(t,e,n){return nn(t)?Hh(t,e,n):t}function dS(t,e){return nn(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function fS(t,e){const n=t.value,i=t.animation,r={delayTime:K(i.delay)*1e3,enable:i.enable,value:K(t.value)*e,max:Yi(n)*e,min:Iy(n)*e,loops:0,maxLoops:K(i.count),time:0};if(i.enable){switch(r.decay=1-K(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=Ee()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=$t(r),s&&(r.status=Ee()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function b3(t,e){if(!(t.mode==="percent")){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function pS(t,e){return b3(t,e)}function ar(t){return typeof t=="boolean"}function An(t){return typeof t=="string"}function Rn(t){return typeof t=="number"}function mS(t){return typeof t=="function"}function Zs(t){return typeof t=="object"&&t!==null}function nn(t){return Array.isArray(t)}const Xu="random",au="mid",Wh=new Map;function p_(t){Wh.set(t.key,t)}function Nf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function E3(t){for(const[,s]of Wh)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function Nn(t,e,n=!0){if(!t)return;const i=An(t)?{value:t}:t;if(An(i.value))return gS(i.value,e,n);if(nn(i.value))return Nn({value:Hh(i.value,e,n)});for(const[,r]of Wh){const s=r.handleRangeColor(i);if(s)return s}}function gS(t,e,n=!0){if(!t)return;const i=An(t)?{value:t}:t;if(An(i.value))return i.value===Xu?vS():T3(i.value);if(nn(i.value))return gS({value:Hh(i.value,e,n)});for(const[,r]of Wh){const s=r.handleColor(i);if(s)return s}}function bl(t,e,n=!0){const i=Nn(t,e,n);return i?yS(i):void 0}function yS(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function T3(t){return E3(t)}function To(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-i;e.r=Nf(r,i,n.h+1/3),e.g=Nf(r,i,n.h),e.b=Nf(r,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function S3(t){const e=To(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function vS(t){return{b:Math.floor($t(ie(0,256))),g:Math.floor($t(ie(0,256))),r:Math.floor($t(ie(0,256)))}}function vi(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function El(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function Ry(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=To(t)),s.r===void 0&&(s=To(e)),{b:Rf(r.b,s.b,n,i),g:Rf(r.g,s.g,n,i),r:Rf(r.r,s.r,n,i)}}function xm(t,e,n){if(n===Xu)return vS();if(n===au){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return Ry(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return To(s)}}else return n}function xS(t,e,n){const i=An(t)?t:t.value;return i===Xu?n?Nn({value:i}):e?Xu:au:i===au?au:Nn({value:i})}function m_(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function wS(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Df(i.h,e.h,n),Df(i.s,e.s,n),Df(i.l,e.l,n)),i}function Df(t,e,n){t.enable=e.enable,t.enable?(t.velocity=K(e.speed)/100*n,t.decay=1-K(e.decay),t.status="increasing",t.loops=0,t.maxLoops=K(e.count),t.time=0,t.delayTime=K(e.delay)*1e3,e.sync||(t.velocity*=Ee(),t.value*=Ee()),t.initialValue=t.value):t.velocity=0}function $a(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function C3(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function I3(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function k3(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function jf(t,e){t.clearRect(0,0,e.width,e.height)}function P3(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:f}=t,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},w={a:v.cos*(f.a??1),b:v.sin*(f.b??1),c:-v.sin*(f.c??1),d:v.cos*(f.d??1)};n.setTransform(w.a,w.b,w.c,w.d,p.x,p.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const T=i.shadowColor;d.enable&&T&&(n.shadowBlur=d.blur,n.shadowColor=vi(T),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),s.fill&&(n.fillStyle=s.fill);const x=i.strokeWidth??0;n.lineWidth=x,s.stroke&&(n.strokeStyle=s.stroke),A3(e,n,i,l,c,r),x>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),R3(e,n,i,l,c,r),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function A3(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,i,r,s,t.retina.pixelRatio)}function R3(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,i,r,s,t.retina.pixelRatio)}function N3(t,e,n){e.draw&&e.draw(t,n)}function D3(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function j3(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function M3(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class O3{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(i,n,r,s);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const d in c)M3(a,c,d)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=bl(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=bl(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color,s=Nn(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=vi(o,o.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Tt({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=Nn(r.color);if(!s)return;const o=n.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=n=>{this.draw(i=>I3(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>k3(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const r=n.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",r=n.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(vi(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{jf(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var E;const c=this.container,d=c.actualOptions,f=e.options.zIndex,p=(1-e.zIndexFactor)**f.opacityRate,m=e.bubble.opacity??((E=e.opacity)==null?void 0:E.value)??1,v=e.strokeOpacity??m,w=m*p,T=v*p,x={},_={fill:o?El(o,w):void 0};_.stroke=a?El(a,T):_.fill,this._applyPreDrawUpdaters(l,e,i,w,_,x),P3({container:c,context:l,particle:e,delta:n,colorStyles:_,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**f.sizeRate,opacity:w,shadow:e.options.shadow,transform:x}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>D3(r,e,n,i))}drawPlugin(e,n){this.draw(i=>N3(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=g3(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){ls().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=Nn(n.color);r.backgroundColor=s?vi(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ba in e.dataset?e.dataset[Ba]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Tt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(jf(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>jf(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function cn(t,e,n,i,r){if(i){let s={passive:!0};ar(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class L3{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;nt(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(cn(a,os,r.mouseMove,i),cn(a,r3,r.touchStart,i),cn(a,s3,r.touchMove,i),o.interactivity.events.onClick.enable?(cn(a,h_,r.touchEndClick,i),cn(a,n3,r.mouseUp,i),cn(a,t3,r.mouseDown,i)):cn(a,h_,r.touchEnd,i),cn(a,n,r.mouseLeave,i),cn(a,o3,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=gm;o==="window"?(r.interactivity.element=window,l=i3):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&cn(document,l3,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=cS("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){cn(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){cn(window,a3,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=gm,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(r.interactivity.detectsOn==="parent"){const d=c.target,f=c.currentTarget;if(d&&f&&o){const p=d.getBoundingClientRect(),m=f.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+v.left),y:c.offsetY+2*p.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-1],f=o.getBoundingClientRect();a={x:d.clientX-(f.left??0),y:d.clientY-(f.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=os},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class ht{constructor(){this.value=""}static create(e,n){const i=new ht;return i.load(e),n!==void 0&&(An(n)||nn(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class V3{constructor(){this.color=new ht,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class F3{constructor(){this.color=new ht,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class U3{constructor(){this.composite="destination-out",this.cover=new F3,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=An(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class z3{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class B3{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class g_{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return nt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=nt(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class $3{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class q3{constructor(){this.enable=!1,this.mode=[],this.parallax=new $3}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class H3{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}let W3=class{constructor(){this.onClick=new B3,this.onDiv=new g_,this.onHover=new q3,this.resize=new H3}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=nt(n,i=>{const r=new g_;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),ar(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}};class G3{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class _S{constructor(e,n){this.detectsOn="window",this.events=new W3,this.modes=new G3(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class K3{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Tt({},e.options)))}}class Q3{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Tt({},e.options)))}}class Y3{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class X3{constructor(){this.name="",this.default=new Y3}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Tt({},e.options)))}}class Mf{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=ie(e.offset)),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.delay!==void 0&&(this.delay=ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class J3{constructor(){this.h=new Mf,this.s=new Mf,this.l=new Mf}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Tl extends ht{constructor(){super(),this.animation=new J3}static create(e,n){const i=new Tl;return i.load(e),n!==void 0&&(An(n)||nn(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class Z3{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class eO{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class tO{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.delay!==void 0&&(this.delay=ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class bS extends tO{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class nO{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class Rr{constructor(){this.random=new nO,this.value=0}load(e){e&&(ar(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class y_ extends Rr{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class ES{constructor(){this.horizontal=new y_,this.vertical=new y_}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class iO{constructor(){this.absorb=new Z3,this.bounce=new ES,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new eO}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class rO{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=ie(e.offset)),e.value!==void 0&&(this.value=ie(e.value)))}}class sO{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((r=e.rotate)==null?void 0:r.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class oO{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class aO{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ie(e.maxSpeed)))}}class lO{constructor(){this.clamp=!0,this.delay=new Rr,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Tt(this.options,e.options)))}}class cO{load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class uO{constructor(){this.enable=!1,this.length=10,this.fill=new cO}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class hO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class dO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Tt({},e.position)))}}class fO{constructor(){this.angle=new rO,this.attract=new sO,this.center=new oO,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new aO,this.path=new lO,this.outModes=new hO,this.random=!1,this.size=!1,this.speed=2,this.spin=new dO,this.straight=!1,this.trail=new uO,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Rn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Rn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(Zs(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class pO extends bS{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class mO extends Rr{constructor(){super(),this.animation=new pO,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class gO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class yO{constructor(){this.density=new gO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class vO{constructor(){this.blur=0,this.color=new ht,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ht.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Of="character",Lf="char",Vf="image",Ff="images",Uf="polygon",zf="star";class xO{constructor(){this.loadShape=(e,n,i,r)=>{if(!e)return;const s=nn(e),o=s?[]:{},a=s!==nn(this.options[n]),l=s!==nn(this.options[i]);a&&(this.options[n]=o),l&&r&&(this.options[i]=o),this.options[n]=Tt(this.options[n]??o,e),(!this.options[i]||r)&&(this.options[i]=Tt(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[Of]??this.options[Lf]}set character(e){this.options[Lf]=this.options[Of]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[Vf]??this.options[Ff]}set image(e){this.options[Ff]=this.options[Vf]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Uf]??this.options[zf]}set polygon(e){this.options[zf]=this.options[Uf]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=Tt(this.options[i]??{},r))}this.loadShape(e.character,Of,Lf,!0),this.loadShape(e.polygon,Uf,zf,!1),this.loadShape(e.image??e.images,Vf,Ff,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class wO extends bS{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class _O extends Rr{constructor(){super(),this.animation=new wO,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class v_{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Tl.create(this.color,e.color)),e.width!==void 0&&(this.width=ie(e.width)),e.opacity!==void 0&&(this.opacity=ie(e.opacity)))}}class bO extends Rr{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class EO{constructor(e,n){this._engine=e,this._container=n,this.bounce=new ES,this.collisions=new iO,this.color=new Tl,this.color.value="#fff",this.groups={},this.move=new fO,this.number=new yO,this.opacity=new mO,this.reduceDuplicates=!1,this.shadow=new vO,this.shape=new xO,this.size=new _O,this.stroke=new v_,this.zIndex=new bO}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Tl.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Tt(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Tt({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=nt(i,a=>{const l=new v_;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function TS(t,...e){for(const n of e)t.load(n)}function SS(t,e,...n){const i=new EO(t,e);return TS(i,...n),i}class TO{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new V3,this.backgroundMask=new U3,this.defaultThemes={},this.delay=0,this.fullScreen=new z3,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new _S(e,n),this.manualParticles=[],this.particles=SS(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&nt(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=ie(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;ar(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new K3;return c.load(l),c})),this.particles.load(e.particles),this.style=Tt(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new Q3;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new X3;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=cS("(prefers-color-scheme: dark)"),i=n&&n.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class SO{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const x_=t=>{if(!Ue(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class CO{constructor(e,n,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,d=0)=>{for(const[,_]of a.plugins){const E=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(E)return Qt.create(E.x,E.y,c)}const f=a.canvas.size,p=d3({size:f,position:l}),m=Qt.create(p.x,p.y,c),v=this.getRadius(),w=this.options.move.outModes,T=_=>{x_({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:E=>m.x+=E,radius:v})},x=_=>{x_({outMode:_,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:E=>m.y+=E,radius:v})};return T(w.left??w.default),T(w.right??w.default),x(w.top??w.default),x(w.bottom??w.default),this._checkOverlap(m,d)?this._calcPosition(a,void 0,c,d+1):m},this._calculateVelocity=()=>{const a=h3(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*K(c.angle.value),f=Math.PI/180*K(c.angle.offset),p={left:f-d/2,right:f+d/2};return c.straight||(l.angle+=$t(ie(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=Ee()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const f=c.overlap;if(f.enable)return!1;const p=f.retries;if(p>=0&&l>p)throw new Error(`${wn} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>tn(a,m.position)<d+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?j3(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=K(this.options.zIndex.value);this.position=this._calcPosition(l,a,jn(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={...pS(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=u3(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=tt.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Tt({close:a.close,fill:a.fill},yi(c,this.id,l))},this._engine=e,this.init(n,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,r]of n.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of n.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??m_(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??m_(this.strokeColor))}init(e,n,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=SS(this._engine,s,l.particles),d=c.shape.type,{reduceDuplicates:f}=c;this.shape=yi(d,this.id,f);const p=c.shape;if(i&&i.shape&&i.shape.type){const E=i.shape.type,I=yi(E,this.id,f);I&&(this.shape=I,p.load(i.shape))}this.shapeData=this._loadShapeData(p,f),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const v=new _S(o,s);v.load(s.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const w=this.options.move.path;this.pathDelay=as(w.delay)*1e3,w.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(w.generator),this.pathGenerator&&s.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=fS(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-K(this.options.move.decay);const T=s.particles;T.needsSort=T.needsSort||T.lastZIndex<this.position.z,T.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let x=s.drawers.get(this.shape);x||(x=this._engine.plugins.getShapeDrawer(this.shape),x&&s.drawers.set(this.shape,x)),x&&x.loadShape&&x.loadShape(this);const _=x==null?void 0:x.getSidesCount;_&&(this.sides=_(this)),this.spawning=!1,this.shadowColor=Nn(this.options.shadow.color);for(const E of s.particles.updaters)E.init(this);for(const E of s.particles.movers)E.init&&E.init(this);x&&x.particleInit&&x.particleInit(s,this);for(const[,E]of s.plugins)E.particleCreated&&E.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class IO{constructor(e,n){this.position=e,this.particle=n}}class CS{constructor(e,n){this.position={x:e,y:n}}}class Mn extends CS{constructor(e,n,i,r){super(e,n),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof St&&e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Mn?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class St extends CS{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return tn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof St){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Mn){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class Ju{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new Ju(new Mn(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&tn(e.position,s.position)>s.particle.getRadius()&&(!n||n(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,n,r);return r}queryCircle(e,n,i){return this.query(new St(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Mn(e.x,e.y,n.width,n.height),i)}}const w_=4,__=t=>new Mn(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let kO=class{constructor(e,n){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,d=a.limit>0?a.limit:c,f=Math.min(c,d)*l+s,p=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,p<f?this.push(Math.abs(f-p),void 0,r,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new CO(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){ls().warning(`${wn} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new SO(e,n);const i=n.canvas.size;this.quadTree=new Ju(__(i),w_),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?pS(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in n.particles.groups){const o=n.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<n.particles.number.value;s++)this.addParticle()}}push(e,n,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new Ju(__(n.canvas.size),w_);for(const[,r]of n.pathGenerators)r.update();for(const[,r]of n.plugins)r.update&&r.update(e);for(const r of this._array){const s=n.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new IO(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete n.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class PO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Eo()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=n.particles,s=r.move;this.attractDistance=K(s.attract.distance)*i,this.maxSpeed=K(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=K(r.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.attractDistance=K(r.attract.distance)*i,o.moveDrift=K(r.drift)*i,o.moveSpeed=K(r.speed)*i,o.sizeAnimationSpeed=K(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=K(r.gravity.maxSpeed)*i}}function Ie(t){return t&&!t.destroyed}function AO(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Rs(t,e,...n){const i=new TO(t,e);return TS(i,...n),i}const RO="default",b_={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class NO{constructor(e,n,i){this.id=n,this._intersectionManager=r=>{if(!(!Ie(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=AO(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){ls().error(`${wn} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new PO(this),this.canvas=new O3(this),this.particles=new kO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Rs(this._engine,this),this.actualOptions=Rs(this._engine,this),this._eventListeners=new L3(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ie(this))return;const n=this.interactivity.element;if(!n)return;const i=(f,p,m)=>{if(!Ie(this))return;const v=this.retina.pixelRatio,w={x:p.x*v,y:p.y*v},T=this.particles.quadTree.queryCircle(w,m*v);e(f,T)},r=f=>{if(!Ie(this))return;const p=f,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(f,m,1)},s=()=>{Ie(this)&&(c=!0,d=!1)},o=()=>{Ie(this)&&(d=!0)},a=f=>{if(Ie(this)){if(c&&!d){const p=f;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const v=this.canvas.element,w=v?v.getBoundingClientRect():void 0,T={x:m.clientX-(w?w.left:0),y:m.clientY-(w?w.top:0)};i(f,T,Math.max(m.radiusX,m.radiusY))}c=!1,d=!1}},l=()=>{Ie(this)&&(c=!1,d=!1)};let c=!1,d=!1;n.addEventListener("click",r),n.addEventListener("touchstart",s),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!Ie(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??b_),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Ie(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Ie(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}ls().error(`${wn} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Ie(this)}handleClickMode(e){if(Ie(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!Ie(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Rs(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Rs(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of n)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=K(this.actualOptions.duration)*1e3,this._delay=K(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Ie(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Ie(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Ie(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(Ie(this))return this.stop(),this.start()}async reset(){if(Ie(this))return this._initialSourceOptions=void 0,this._options=Rs(this._engine,this),this.actualOptions=Rs(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){Ie(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!Ie(this))return;const r={...b_};if(mS(e))r.generate=e,n&&(r.init=n),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(RO,r,!0)}async start(){!Ie(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Ie(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class DO{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function Bf(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=[...n.values()].map(s=>s(t)),e.set(t,r)),r}class jO{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){nt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return Bf(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Bf(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Bf(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(n,...i)}}async function MO(t){const e=yi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(ls().error(`${wn} ${n.status} while retrieving config file`),t.fallback)}function OO(t){return!t.id&&!t.element&&!t.url&&!t.options}function LO(t){return!OO(t)}class VO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new DO,this._initialized=!1,this.plugins=new jO(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){An(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){this.plugins.addPreset(e,n,i),await this.refresh(r)}async addShape(e,n,i,r,s,o=!0){let a,l=o,c,d,f;ar(i)?(l=i,c=void 0):c=i,ar(r)?(l=r,d=void 0):d=r,ar(s)?(l=s,f=void 0):f=s,mS(n)?a={afterEffect:d,destroy:f,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let r;return LO(e)?r=e:(r={},An(e)?r.id=e:r.options=e,Rn(n)?r.index=n:r.options=n??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,n,i){let r,s;return Rn(n)||n===void 0?r=e:(s=e,r=n),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,r){const s={index:r};return An(e)?s.id=e:s.element=e,n instanceof HTMLElement?s.element=n:s.options=n,Rn(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,n,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=n,s.index=i):(s.id=e,s.element=n,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${wn} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Ee()*1e4)}`,{index:i,url:r}=e,s=r?await MO({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=yi(s,i),l=this.dom(),c=l.findIndex(p=>p.id===n);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Ba]="false";else{const p=o.getElementsByTagName("canvas");p.length?(d=p[0],d.dataset[Ba]="false"):(d=document.createElement("canvas"),d.dataset[Ba]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const f=new NO(this,n,a);return c>=0?l.splice(c,0,f):l.push(f),f.canvas.loadCanvas(d),await f.start(),f}}class FO{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return To(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return To({h:K(i.h),l:K(i.l),s:K(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?S3({a:i.length>4?lS(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class UO{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:K(i.r),g:K(i.g),b:K(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?lS(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function zO(){const t=new UO,e=new FO;p_(t),p_(e);const n=new VO;return n.init(),n}class Zn{constructor(e){this.container=e,this.type="external"}}class Ny{constructor(e){this.container=e,this.type="particles"}}const Zu=zO();Eo()||(window.tsParticles=Zu);const eo=t=>typeof t=="object"&&t!==null;function eh(t,e,n=()=>!1){if(!eo(t)||!eo(e))return t===e;const i=Object.keys(t).filter(s=>!n(s)),r=Object.keys(e).filter(s=>!n(s));if(i.length!==r.length)return!1;for(const s of i){console.log("key");const o=t[s],a=e[s];if(eo(o)&&eo(a)){if(o===e&&a===t)continue;if(!eh(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!IS(o,a,n))return!1}else if(o!==a)return!1}return!0}function IS(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const r=t[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!IS(r,s,n))return!1}else if(eo(r)&&eo(s)){if(!eh(r,s,n))return!1}else if(r!==s)return!1}return!0}const kS="tsparticles";let PS=class AS extends R.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return console.log("should update"),e.url!==this.props.url&&e.id!==this.props.id&&e.canvasClassName!==this.props.canvasClassName&&e.className!==this.props.className&&e.height!==this.props.height&&e.width!==this.props.width&&!eh(e.style,this.props.style)&&e.init!==this.props.init&&e.loaded!==this.props.loaded&&!eh(e.options??e.params,this.props.options&&this.props.params)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Zu),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:r,id:s}=this.props;return ip.createElement("div",{className:i,id:s},ip.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??AS.defaultProps.id??kS,n=await Zu.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};PS.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:kS};class th{static init(e){var s;const n=new th,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return Zu.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,d,f;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(d=o.options)==null?void 0:d.speed},size:{value:(f=o.options)==null?void 0:f.sizeVariations}}}}})}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const BO=t=>{const e=(i,r)=>t.load(i,r);e.load=(i,r,s)=>{t.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},$O=t=>{const{particlesJS:e,pJSDom:n}=BO(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=th,{particlesJS:e,pJSDom:n,Particles:th}};function qO(t){const e=t.initialPosition,{dx:n,dy:i}=jt(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),l&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const c=t.position,d=t.velocity;a&&(c.x<e.x&&d.x<0||c.x>e.x&&d.x>0)&&(d.x*=-Ee()),l&&(c.y<e.y&&d.y<0||c.y>e.y&&d.y>0)&&(d.y*=-Ee())}}}function HO(t,e,n,i,r,s){GO(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&n&&(t.velocity.x+=r*s.factor/(60*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(60*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,n&&(t.velocity.y=c.y/n));const d=t.options.zIndex,f=(1-t.zIndexFactor)**d.velocityRate;c.multTo(f);const{position:p}=t;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function WO(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function GO(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=jn(t.velocity.x,-1,1),t.velocity.y=jn(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function KO(t){return t.slow.inRange?t.slow.factor:1}const QO=2;class YO{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*n.canvas.size.width,y:s.y/100*n.canvas.size.height},a=e.getPosition(),l=tn(a,o),c=K(r.acceleration);e.retina.spinAcceleration=c*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:K(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var v,w;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=KO(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=K(r.speed)*o))*s.retina.reduceFactor,c=(w=e.retina).moveDrift??(w.moveDrift=K(e.options.move.drift)*o),d=Yi(i.size.value)*o,f=r.size?e.getRadius()/d:1,p=l*f*a*(n.factor||1)/QO,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?WO(e,p):HO(e,r,p,m,c,n),qO(e)}}async function XO(t,e=!0){await t.addMover("base",()=>new YO,e)}class JO{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const r=n.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=Zs(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function ZO(t,e=!0){await t.addShape("circle",new JO,e)}function $f(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=$t(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function eL(t,e){const{h:n,s:i,l:r}=t.options.color.animation,{color:s}=t;if(!s)return;const{h:o,s:a,l}=s;o&&$f(e,o,n,360,!1),a&&$f(e,a,i,100,!0),l&&$f(e,l,r,100,!0)}class tL{constructor(e){this.container=e}init(e){const n=bl(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=wS(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){eL(e,n)}}async function nL(t,e=!0){await t.addParticleUpdater("color",n=>new tL(n),e)}function iL(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function rL(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,r=n.max,s=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=s),iL(t,n.value,i,r),t.destroyed||(n.value=jn(n.value,i,r))}}class sL{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=fS(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=K(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Ee()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&rL(e,n)}}async function oL(t,e=!0){await t.addParticleUpdater("opacity",n=>new sL(n),e)}function aL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=as(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function lL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=as(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class cL{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=$l(a,c),f=s.canvas.size;aL({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c}),lL({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c})}}class uL{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(ky(e.position,s.canvas.size,tt.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:a}=jt(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class hL{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n==="bottom"||s.inverse&&c.y<-l&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;ky(e.position,o.canvas.size,tt.origin,l,n)||o.particles.remove(e)}}}class dL{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=tt.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(tt.create(e.moveCenter));const{dx:c,dy:d}=jt(e.position,l);if(o<=0&&c>=0||a<=0&&d>=0||o>=0&&c<=0||a>=0&&d<=0)return;e.position.x=Math.floor($t({min:0,max:s.canvas.size.width})),e.position.y=Math.floor($t({min:0,max:s.canvas.size.height}));const{dx:f,dy:p}=jt(e.position,e.moveCenter);e.direction=Math.atan2(-p,-f),e.velocity.angle=e.direction;break}default:{if(ky(e.position,s.canvas.size,tt.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor($t({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor($t({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=jt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=$l(e.position,c);n==="right"&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Ee()*a.height,e.initialPosition.y=e.position.y)):n==="left"&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Ee()*a.height,e.initialPosition.y=e.position.y)),n==="bottom"&&d.top>a.height+e.offset.y?(o||(e.position.x=Ee()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=Ee()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class fL{constructor(e){this.container=e,this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters)o.update(n,s,i,r)},this.updaters=[new cL(e),new uL(e),new dL(e),new hL(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function pL(t,e=!0){await t.addParticleUpdater("outModes",n=>new fL(n),e)}function mL(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function gL(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,r=n.min,s=n.max,o=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=r?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&o!==1&&(n.velocity*=o),mL(t,n.value,r,s),t.destroyed||(n.value=jn(n.value,r,s))}}class yL{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ee()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&gL(e,n)}}async function vL(t,e=!0){await t.addParticleUpdater("size",()=>new yL,e)}async function xL(t,e=!0){await XO(t,!1),await ZO(t,!1),await nL(t,!1),await oL(t,!1),await pL(t,!1),await vL(t,!1),await t.refresh(e)}async function wL(){Af("ease-in-quad",t=>t**2),Af("ease-out-quad",t=>1-(1-t)**2),Af("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class _L{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let bL=class extends Zn{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new St(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new St(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:d,dy:f,distance:p}=jt(c.position,i),m=a.speed*a.factor,v=jn(aS(a.easing)(1-p/r)*m,0,a.maxSpeed),w=tt.create(p===0?m:d/p*v,p===0?m:f/p*v);c.position.subFrom(w)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===os,r=n.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Ue("attract",o)?this._hoverAttract():a&&Ue("attract",l)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Ue("attract",o)||Ue("attract",a)}loadModeOptions(e,...n){e.attract||(e.attract=new _L);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function EL(t,e=!0){await t.addInteractor("externalAttract",n=>new bL(t,n),e)}class TL{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class SL extends Zn{constructor(e){super(e),this._processBounce=(n,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof St?hS(vm(o),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:tt.origin,factor:tt.origin}):r instanceof Mn&&_3(o,$l(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,r=10*i,s=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new St(s.x,s.y,o+r))},this._singleSelectorBounce=(n,i)=>{const r=this.container,s=document.querySelectorAll(n);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},d=a.offsetWidth/2*l,f=10*l,p=i.type==="circle"?new St(c.x,c.y,d+f):new Mn(a.offsetLeft*l-f,a.offsetTop*l-f,a.offsetWidth*l+f*2,a.offsetHeight*l+f*2);this._processBounce(c,d,p)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===os,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Ue("bounce",o)?this._processMouseBounce():Ay("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Ue("bounce",s.onHover.mode)||Py("bounce",o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new TL);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function CL(t,e=!0){await t.addInteractor("externalBounce",n=>new SL(n),e)}class RS{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=nn(this.color)?void 0:this.color;this.color=nt(e.color,i=>ht.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class IL extends RS{constructor(){super(),this.selectors=[]}get ids(){return nt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=nt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class kL extends RS{load(e){super.load(e),e&&(this.divs=nt(e.divs,n=>{const i=new IL;return i.load(n),i}))}}function E_(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return jn(r,t,e)}else if(e<n){const r=t-(n-e)*i;return jn(r,e,t)}}class PL extends Zn{constructor(e){super(e),this._clickBubble=()=>{var c;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<0)return;const a=n.particles.quadTree.queryCircle(r,o,d=>this.isEnabled(d)),{bubble:l}=n;for(const d of a){if(!l.clicking)continue;d.bubble.inRange=!l.durationEnd;const f=d.getPosition(),p=tn(f,r),m=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const v={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Yi(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,p,m,v);const w={bubbleObj:{optValue:s.opacity,value:d.bubble.opacity},particlesObj:{optValue:Yi(d.options.opacity.value),value:((c=d.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(d,p,m,w),!l.durationEnd&&p<=o?this._hoverBubbleColor(d,p):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=n.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=tn(a,i),c=1-l/r;l<=r?c>=0&&n.interactivity.status===os&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===gm&&this.reset(o)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const a=o.color;if(!a)return;const l=yi(a);n.bubble.finalColor=bl(l)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const a=n.getFillColor();n.bubble.color=a?yS(Ry(a,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var f,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=n.options.opacity.value,c=((p=n.opacity)==null?void 0:p.value)??1,d=E_(c,a,Yi(l),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=Yi(n.options.size.value)*s.retina.pixelRatio,l=n.size.value,c=E_(l,o,a,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const d=c.duration,f=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,v=s.particlesObj.value||0,w=s.type;if(!(!f||f<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(w==="size"&&delete n.bubble.radius,w==="opacity"&&delete n.bubble.opacity);else if(i<=f){if((m??v)!==a){const x=v-r*(v-a)/d;w==="size"&&(n.bubble.radius=x),w==="opacity"&&(n.bubble.opacity=x)}}else w==="size"&&delete n.bubble.radius,w==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new St(f.x,f.y,p):new Mn(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=s.particles.quadTree.query(m,w=>this.isEnabled(w));for(const w of v){if(!m.contains(w.getPosition()))continue;w.bubble.inRange=!0;const T=a.divs,x=uS(T,c);(!w.bubble.div||w.bubble.div!==c)&&(this.clear(w,n,!0),w.bubble.div=c),this._hoverBubbleSize(w,1,x),this._hoverBubbleOpacity(w,1,x),this._hoverBubbleColor(w,1,x)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,d=i.onDiv;o&&Ue("bubble",a)?this._hoverBubble():l&&Ue("bubble",c)?this._clickBubble():Ay("bubble",d,(f,p)=>this._singleSelectorHover(e,f,p))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=Py("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Ue("bubble",l.mode)||Ue("bubble",o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new kL);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function AL(t,e=!0){await t.addInteractor("externalBubble",n=>new PL(n),e)}class RL{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class NL{constructor(){this.distance=80,this.links=new RL,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function DL(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=Ry(s,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(0,El(s,i)),d.addColorStop(r>1?1:r,vi(c,i)),d.addColorStop(1,El(o,i)),d}function jL(t,e,n,i,r){$a(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function ML(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return DL(e,n,i,s.links.opacity)}function OL(t,e,n){t.canvas.draw(i=>{const r=ML(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();jL(i,e.retina.linksWidth??0,r,s,o)})}class LL extends Zn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const d=c.getPosition(),f=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-d.x),m=Math.abs(l.y-d.y);p<f&&m<f&&OL(e,a,c)}++o}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Ue("connect",r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new NL);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function VL(t,e=!0){await t.addInteractor("externalConnect",n=>new LL(n),e)}class FL{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class UL{constructor(){this.distance=100,this.links=new FL}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function zL(t,e,n,i,r,s){$a(t,n,i),t.strokeStyle=vi(r,s),t.lineWidth=e,t.stroke()}function BL(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();zL(s,e.retina.linksWidth??0,o,r,n,i)})}class $L extends Zn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==os)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=tn(c,r);if(d>s)continue;const f=i.modes.grab.links,p=f.opacity,m=p-d*p/s;if(m<=0)continue;const v=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const T=i.modes.grab.links;e.particles.grabLineColor=xS(v,T.blink,T.consent)}const w=xm(l,void 0,e.particles.grabLineColor);w&&BL(e,l,w,m,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ue("grab",r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new UL);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function qL(t,e=!0){await t.addInteractor("externalGrab",n=>new $L(n),e)}class HL extends Zn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function WL(t,e=!0){await t.addInteractor("externalPause",n=>new HL(n),e)}class GL{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ie(n))}}class KL extends Zn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=K(s.quantity);if(o<=0)return;const a=Hh([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new GL);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function QL(t,e=!0){await t.addInteractor("externalPush",n=>new KL(n),e)}class YL{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ie(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ie(n))}}class XL extends Zn{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!=="remove")return;const s=K(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new YL);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function JL(t,e=!0){await t.addInteractor("externalRemove",n=>new XL(n),e)}class NS{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class ZL extends NS{constructor(){super(),this.selectors=[]}get ids(){return nt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=nt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class eV extends NS{load(e){super.load(e),e&&(this.divs=nt(e.divs,n=>{const i=new ZL;return i.load(n),i}))}}class tV extends Zn{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new St(l.x,l.y,a),d=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of d){const{dx:p,dy:m,distance:v}=jt(l,f.position),w=v**2,T=r.speed,x=-a*T/w;if(w<=a){s.particles.push(f);const _=tt.create(p,m);_.length=x,f.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new St(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,d=>this.isEnabled(d)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const d of l){const{dx:f,dy:p,distance:m}=jt(d.position,i),v=((o==null?void 0:o.speed)??c.speed)*c.factor,w=jn(aS(c.easing)(1-m/r)*v,0,c.maxSpeed),T=tt.create(m===0?v:f/m*w,m===0?v:p/m*w);d.position.addTo(T)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new St(f.x,f.y,p):new Mn(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=o.divs,w=uS(v,c);this._processRepulse(f,p,m,w)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===os,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,d=l.mode,f=r.onDiv;i&&o&&Ue("repulse",a)?this._hoverRepulse():c&&Ue("repulse",d)?this._clickRepulse():Ay("repulse",f,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=Py("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const d=a.mode,f=l.mode;return Ue("repulse",d)||Ue("repulse",f)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new eV);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function nV(t,e=!0){await t.addInteractor("externalRepulse",n=>new tV(t,n),e)}class iV{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class rV extends Zn{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Ue("slow",r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new iV);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=tn(r,a),c=l/s,d=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/d)}}async function sV(t,e=!0){await t.addInteractor("externalSlow",n=>new rV(n),e)}const qf=[0,4,2,1],T_=[8,8,4,2];class oV{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)n+=e;const i=new Uint8Array(n);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function DS(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function aV(t,e,n,i){switch(t.nextByte()){case 249:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case 255:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function lV(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=DS(t,d));const f=x=>{const{r:_,g:E,b:I}=(l?o.localColorTable:e.globalColorTable)[x];return{r:_,g:E,b:I,a:x===r(null)?n?~~((_+E+I)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=t.nextByte(),v=t.readSubBlocksBin(),w=1<<m,T=(x,_)=>{const E=x>>>3,I=x&7;return(v[E]+(v[E+1]<<8)+(v[E+2]<<16)&(1<<_)-1<<I)>>>I};if(c){for(let x=0,_=m+1,E=0,I=[[0]],N=0;N<4;N++)if(qf[N]<o.height)for(let O=0,C=0;;){const b=x;if(x=T(E,_),E+=_+1,x===w){_=m+1,I.length=w+2;for(let k=0;k<I.length;k++)I[k]=k<w?[k]:[]}else{x>=I.length?I.push(I[b].concat(I[b][0])):b!==w&&I.push(I[b].concat(I[x][0]));for(let k=0;k<I[x].length;k++){const{r:P,g:D,b:j,a:A}=f(I[x][k]);p.data.set([P,D,j,A],qf[N]*o.width+T_[N]*C+O%(o.width*4)),O+=4}I.length===1<<_&&_<12&&_++}if(O===o.width*4*(C+1)&&(C++,qf[N]+T_[N]*C>=o.height))break}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let x=0,_=m+1,E=0,I=[[0]],N=-4;;){const O=x;if(x=T(E,_),E+=_,x===w){_=m+1,I.length=w+2;for(let C=0;C<I.length;C++)I[C]=C<w?[C]:[]}else{if(x===w+1)break;x>=I.length?I.push(I[O].concat(I[O][0])):O!==w&&I.push(I[O].concat(I[x][0]));for(let C=0;C<I[x].length;C++){const{r:b,g:k,b:P,a:D}=f(I[x][C]);p.data.set([b,k,P,D],N+=4)}I.length>=1<<_&&_<12&&_++}}o.image=p,o.bitmap=await createImageBitmap(p)}}async function cV(t,e,n,i,r,s){switch(t.nextByte()){case 59:return!0;case 44:await lV(t,e,n,i,r);break;case 33:await aV(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function uV(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function hV(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new oV(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=DS(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(I){if(I instanceof DOMException&&I.name==="IndexSizeError")return null;throw I}})();if(f==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:v}=s.globalColorTable[d];f.data.set(l?[p,m,v,255]:[0,0,0,0]);for(let I=4;I<f.data.length;I*=2)f.data.copyWithin(I,0,I);s.backgroundImage=f;let w=-1,T=!0,x=-1;const _=I=>(I&&(T=!0),w),E=I=>(I!=null&&(x=I),x);try{do T&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,x=-1,T=!1);while(!await cV(o,s,n,_,E,e));s.frames.length--;for(const I of s.frames){if(I.userInputDelayFlag&&I.delayTime===0){s.totalTime=1/0;break}s.totalTime+=I.delayTime}return s}catch(I){throw I instanceof EvalError?new Error(`error while parsing frame ${w} "${I.message}"`):I}}const dV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function fV(t,e,n){const{svgData:i}=t;if(!i)return"";const r=El(e,n);if(i.includes("fill"))return i.replace(dV,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function Gh(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,ls().error(`${wn} loading image: ${t.source}`),e()}),n.src=t.source})}async function pV(t){if(t.type!=="gif"){await Gh(t);return}t.loading=!0;try{t.gifData=await hV(t.source),t.gifLoopCount=uV(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function mV(t){if(t.type!=="svg"){await Gh(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(ls().error(`${wn} Image not found`),t.error=!0),t.loading=!1}function gV(t,e,n,i){var o;const r=fV(t,n,((o=i.opacity)==null?void 0:o.value)??1),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(d)}),f.addEventListener("error",async()=>{c.revokeObjectURL(d);const p={...t,error:!1,loading:!0};await Gh(p),s.loaded=!0,s.element=p.element,a(s)}),f.src=d})}class yV{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${wn} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,r,s){const o=n.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),n.gifLoopCount===void 0&&(n.gifLoopCount=o.gifLoopCount??0);let d=n.gifFrame??0;const f={x:-o.gifData.width*.5,y:-o.gifData.height*.5},p=o.gifData.frames[d];if(n.gifTime===void 0&&(n.gifTime=0),!p.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,f.x+p.left,f.y+p.top):c.putImageData(o.gifData.backgroundImage,f.x,f.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(n.gifTime+=s.value,n.gifTime>p.delayTime){if(n.gifTime-=p.delayTime,++d>=o.gifData.frames.length){if(--n.gifLoopCount<=0)return;d=0,c.clearRect(0,0,l.width,l.height)}n.gifFrame=d}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData,s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await gV(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.fill,d=r.close??n.close,f={image:l,fill:c,close:d};n.image=f.image,n.fill=f.fill,n.close=f.close})()}}class vV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class xV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new vV;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function wV(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${wn} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?pV:e.replaceColor?mV:Gh)(n)}catch{throw new Error(`${wn} ${e.name??e.src} not found`)}})}async function _V(t,e=!0){wV(t);const n=new xV(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new yV(t),e)}class bV extends Rr{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class EV extends Rr{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class TV{constructor(){this.count=0,this.delay=new bV,this.duration=new EV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class SV{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?K(r.delay.value)*(r.delay.sync?1:Ee())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?K(r.duration.value)*(r.duration.sync?1:Ee())/n.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new TV);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=ie(0,s.width),a=ie(0,s.width);e.position.x=$t(o),e.position.y=$t(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=K(l.delay.value)*1e3,i.duration=K(l.duration.value)*1e3)}}async function CV(t,e=!0){await t.addParticleUpdater("life",n=>new SV(n),e)}class IV{draw(e,n,i){const r=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function kV(t,e=!0){await t.addShape("line",new IV,e)}class PV{init(){}isEnabled(e){return!Eo()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Eo()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,d=e.getRadius()/s,f={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:p}=e;p.x+=(f.x-p.x)/c,p.y+=(f.y-p.y)/c}}async function AV(t,e=!0){await t.addMover("parallax",()=>new PV,e)}class RV extends Ny{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=jt(r,a),d=e.options.move.attract.rotate,f=l/(d.x*1e3),p=c/(d.y*1e3),m=o.size.value/e.size.value,v=1/m;e.velocity.x-=f*m,e.velocity.y-=p*m,o.velocity.x+=f*v,o.velocity.y+=p*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function NV(t,e=!0){await t.addInteractor("particlesAttract",n=>new RV(n),e)}function S_(t,e,n,i,r,s){const o=jn(t.options.collisions.absorb.speed*r.factor/10,0,i);t.size.value+=o/2,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function DV(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?S_(t,r,e,s,n,i):S_(e,s,t,r,n,i))}const C_=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=K(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function jS(t,e){hS(vm(t),vm(e)),C_(t),C_(e)}function jV(t,e){!t.unbreakable&&!e.unbreakable&&jS(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function MV(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{DV(t,e,n,i);break}case"bounce":{jS(t,e);break}case"destroy":{jV(t,e);break}}}class OV extends Ny{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const d=tn(r,l),f=s+c;d>f||MV(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function LV(t,e=!0){await t.addInteractor("particlesCollisions",n=>new OV(n),e)}class VV extends St{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new St(r.x,r.y,i.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new Mn(r.x,r.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class FV{constructor(){this.blur=5,this.color=new ht,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ht.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class UV{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class zV{constructor(){this.blink=!1,this.color=new ht,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new FV,this.triangles=new UV,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ht.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function BV(t,e,n,i,r){const{dx:s,dy:o,distance:a}=jt(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class $V extends Ny{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=xS(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<0||n.y<0||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new VV(n.x,n.y,a,r):new St(n.x,n.y,a),d=i.particles.quadTree.query(c);for(const f of d){const p=f.options.links;if(e===f||!(p!=null&&p.enable)||s.id!==p.id||f.spawning||f.destroyed||!f.links||e.links.some(T=>T.destination===f)||f.links.some(T=>T.destination===e))continue;const m=f.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const v=BV(n,m,a,r,l&&p.warp);if(v>a)continue;const w=(1-v/a)*o;this._setColor(e),e.links.push({destination:f,opacity:w})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new zV);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function qV(t,e=!0){await t.addInteractor("particlesLinks",n=>new $V(n),e)}function HV(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:d,links:f}=t;if(tn(n,i)<=r)$a(s,n,i),e=!0;else if(f.warp){let m,v;const w={x:i.x-o.width,y:i.y},T=jt(n,w);if(T.distance<=r){const x=n.y-T.dy/T.dx*n.x;m={x:0,y:x},v={x:o.width,y:x}}else{const x={x:i.x,y:i.y-o.height},_=jt(n,x);if(_.distance<=r){const I=-(n.y-_.dy/_.dx*n.x)/(_.dy/_.dx);m={x:I,y:0},v={x:I,y:o.height}}else{const E={x:i.x-o.width,y:i.y-o.height},I=jt(n,E);if(I.distance<=r){const N=n.y-I.dy/I.dx*n.x;m={x:-N/(I.dy/I.dx),y:N},v={x:m.x+o.width,y:m.y+o.height}}}}m&&v&&($a(s,n,m),$a(s,i,v),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=vi(c,d);const{shadow:p}=f;if(p.enable){const m=Nn(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=vi(m))}s.stroke()}function WV(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;C3(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=vi(o,a),e.fill()}function GV(t){return t.sort((e,n)=>e-n),t.join("_")}function I_(t,e){const n=GV(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ee(),e.set(n,i)),i}class KV{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=n.getPosition(),c=a.getPosition();let d=i.opacity;s.canvas.draw(f=>{var x;let p;const m=(x=n.options.twinkle)==null?void 0:x.lines;if(m!=null&&m.enable){const _=m.frequency,E=Nn(m.color);Ee()<_&&E&&(p=E,d=K(m.opacity))}if(!p){const _=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=xm(n,a,_)}if(!p)return;const v=n.retina.linksWidth??0,w=n.retina.linksDistance??0,{backgroundMask:T}=o;HV({context:f,width:v,begin:l,end:c,maxDistance:w,canvasSize:s.canvas.size,links:r,backgroundMask:T,colorLine:p,opacity:d})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,d=r.destination,f=o.opacity??(i.opacity+r.opacity)/2;f<=0||a.canvas.draw(p=>{const m=n.getPosition(),v=c.getPosition(),w=d.getPosition(),T=n.retina.linksDistance??0;if(tn(m,v)>T||tn(w,v)>T||tn(w,m)>T)return;let x=Nn(o.color);if(!x){const _=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;x=xm(n,c,_)}x&&WV({context:p,pos1:m,pos2:v,pos3:w,backgroundMask:l.backgroundMask,colorTriangle:x,opacityTriangle:f})})},this._drawTriangles=(n,i,r,s)=>{var l,c,d;const o=r.destination;if(!((l=n.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(d=o.links)==null?void 0:d.filter(f=>{const p=this._getLinkFrequency(o,f.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const p=f.destination;this._getTriangleFrequency(i,o,p)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(n,i)=>I_([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>I_([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(n,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class QV{constructor(){this.id="links"}getPlugin(e){return new KV(e)}loadOptions(){}needsPlugin(){return!0}}async function YV(t,e=!0){const n=new QV;await t.addPlugin(n,e)}async function XV(t,e=!0){await qV(t,e),await YV(t,e)}class MS{draw(e,n,i){const r=this.getCenter(n,i),s=this.getSidesData(n,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let d=0;d<o;d++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const n=e.shapeData;return Math.round(K((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class JV extends MS{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class ZV extends MS{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function e5(t,e=!0){await t.addShape("polygon",new JV,e)}async function t5(t,e=!0){await t.addShape("triangle",new ZV,e)}async function n5(t,e=!0){await e5(t,e),await t5(t,e)}class i5{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class r5 extends Rr{constructor(){super(),this.animation=new i5,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function s5(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const r=i.animation,s=(n.velocity??0)*e.factor,o=2*Math.PI,a=n.decay??1;if(r.enable){switch(n.status){case"increasing":n.value+=s,n.value>o&&(n.value-=o);break;case"decreasing":default:n.value-=s,n.value<0&&(n.value+=o);break}n.velocity&&a!==1&&(n.velocity*=a)}}class o5{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:K(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(Ee()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=n.animation;r.enable&&(e.rotate.decay=1-K(r.decay),e.rotate.velocity=K(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ee())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new r5);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&(s5(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function a5(t,e=!0){await t.addParticleUpdater("rotate",n=>new o5(n),e)}const l5=Math.sqrt(2);class c5{draw(e,n,i){const r=i/l5,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function u5(t,e=!0){await t.addShape(["edge","square"],new c5,e)}class h5{draw(e,n,i){const r=n.sides,s=n.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(K((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,r=K((i==null?void 0:i.inset)??2);n.starInset=r}}async function d5(t,e=!0){await t.addShape("star",new h5,e)}function Hf(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=$t(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function f5(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:r}=t.strokeColor,{h:s,s:o,l:a}=t.strokeAnimation;n&&Hf(e,n,s,360,!1),i&&Hf(e,i,o,100,!0),r&&Hf(e,r,a,100,!0)}class p5{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,r=yi(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=K(r.width)*n.retina.pixelRatio,e.strokeOpacity=K(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=bl(r.color)??e.getFillColor();s&&(e.strokeColor=wS(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&f5(e,n)}}async function m5(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new p5(n),e)}const lu=["text","character","char"];class g5{draw(e,n,i,r){const s=n.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;n.text===void 0&&(n.text=yi(o,n.randomIndexData));const a=n.text,l=s.style??"",c=s.weight??"400",d=Math.round(i)*2,f=s.font??"Verdana",p=n.fill,m=a.length*i/2;e.font=`${l} ${c} ${d}px "${f}"`;const v={x:-m,y:i/2};e.globalAlpha=r,p?e.fillText(a,v.x,v.y):e.strokeText(a,v.x,v.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(lu.find(i=>Ue(i,n.particles.shape.type))){const i=lu.map(s=>n.particles.shape.options[s]).find(s=>!!s),r=[];nt(i,s=>{r.push(y3(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,n){if(!n.shape||!lu.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(n.text=yi(r,n.randomIndexData))}}async function y5(t,e=!0){await t.addShape(lu,new g5,e)}async function v5(t,e=!0){$O(t),await AV(t,!1),await EL(t,!1),await CL(t,!1),await AL(t,!1),await VL(t,!1),await qL(t,!1),await WL(t,!1),await QL(t,!1),await JL(t,!1),await nV(t,!1),await sV(t,!1),await NV(t,!1),await LV(t,!1),await XV(t,!1),await wL(),await _V(t,!1),await kV(t,!1),await n5(t,!1),await u5(t,!1),await d5(t,!1),await y5(t,!1),await CV(t,!1),await a5(t,!1),await m5(t,!1),await xL(t,e)}const x5=()=>{const t=R.useCallback(async n=>{await v5(n)},[]),e=R.useCallback(async n=>{n?console.log("Particles container loaded successfully",n):console.log("Particles failed to load")},[]);return h.jsx(PS,{id:"tsparticles",init:t,loaded:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0},options:{background:{color:{value:"transparent"}},fullScreen:{enable:!1,zIndex:-1},particles:{color:{value:"#883AEA"},links:{color:"#E0CCFA",distance:150,enable:!0,opacity:.3,width:1},move:{enable:!0,speed:1.5},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},size:{value:{min:1,max:3}}},detectRetina:!0,interactivity:{events:{onHover:{enable:!0,mode:"grab"}},modes:{grab:{distance:140,links:{opacity:.5}}}}}})},w5=()=>{};var k_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},_5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),i.push(n[d],n[f],n[p],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(OS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new b5;const p=s<<2|a>>4;if(i.push(p),c!==64){const m=a<<4&240|c>>2;if(i.push(m),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const E5=function(t){const e=OS(t);return LS.encodeByteArray(e,!0)},nh=function(t){return E5(t).replace(/\./g,"")},VS=function(t){try{return LS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=()=>T5().__FIREBASE_DEFAULTS__,C5=()=>{if(typeof process>"u"||typeof k_>"u")return;const t=k_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&VS(t[1]);return e&&JSON.parse(e)},Kh=()=>{try{return w5()||S5()||C5()||I5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},FS=t=>{var e,n;return(n=(e=Kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},k5=t=>{const e=FS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},US=()=>{var t;return(t=Kh())===null||t===void 0?void 0:t.config},zS=t=>{var e;return(e=Kh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nh(JSON.stringify(n)),nh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function N5(){var t;const e=(t=Kh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function D5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function M5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O5(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L5(){return!N5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V5(){try{return typeof indexedDB=="object"}catch{return!1}}function F5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="FirebaseError";class Ri extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=U5,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?z5(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Ri(r,a,i)}}function z5(t,e){return t.replace(B5,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const B5=/\{\$([^}]+)}/g;function $5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cs(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(P_(s)&&P_(o)){if(!cs(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function P_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ea(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ta(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q5(t,e){const n=new H5(t,e);return n.subscribe.bind(n)}class H5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");W5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Wf),r.error===void 0&&(r.error=Wf),r.complete===void 0&&(r.complete=Wf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class us{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new P5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q5(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:K5(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K5(t){return t===qr?void 0:t}function Q5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const X5={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},J5=oe.INFO,Z5={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},e6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=Z5[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dy{constructor(e){this.name=e,this._logLevel=J5,this._logHandler=e6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const t6=(t,e)=>e.some(n=>t instanceof n);let A_,R_;function n6(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i6(){return R_||(R_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,wm=new WeakMap,$S=new WeakMap,Gf=new WeakMap,jy=new WeakMap;function r6(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(lr(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&BS.set(n,t)}).catch(()=>{}),jy.set(e,t),e}function s6(t){if(wm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wm.set(t,e)}let _m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$S.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o6(t){_m=t(_m)}function a6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Kf(this),e,...n);return $S.set(i,e.sort?e.sort():[e]),lr(i)}:i6().includes(t)?function(...e){return t.apply(Kf(this),e),lr(BS.get(this))}:function(...e){return lr(t.apply(Kf(this),e))}}function l6(t){return typeof t=="function"?a6(t):(t instanceof IDBTransaction&&s6(t),t6(t,n6())?new Proxy(t,_m):t)}function lr(t){if(t instanceof IDBRequest)return r6(t);if(Gf.has(t))return Gf.get(t);const e=l6(t);return e!==t&&(Gf.set(t,e),jy.set(e,t)),e}const Kf=t=>jy.get(t);function c6(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=lr(o);return i&&o.addEventListener("upgradeneeded",l=>{i(lr(o.result),l.oldVersion,l.newVersion,lr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const u6=["get","getKey","getAll","getAllKeys","count"],h6=["put","add","delete","clear"],Qf=new Map;function N_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=h6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||u6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return Qf.set(e,s),s}o6(t=>({...t,get:(e,n,i)=>N_(e,n)||t.get(e,n,i),has:(e,n)=>!!N_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function f6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",D_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si=new Dy("@firebase/app"),p6="@firebase/app-compat",m6="@firebase/analytics-compat",g6="@firebase/analytics",y6="@firebase/app-check-compat",v6="@firebase/app-check",x6="@firebase/auth",w6="@firebase/auth-compat",_6="@firebase/database",b6="@firebase/data-connect",E6="@firebase/database-compat",T6="@firebase/functions",S6="@firebase/functions-compat",C6="@firebase/installations",I6="@firebase/installations-compat",k6="@firebase/messaging",P6="@firebase/messaging-compat",A6="@firebase/performance",R6="@firebase/performance-compat",N6="@firebase/remote-config",D6="@firebase/remote-config-compat",j6="@firebase/storage",M6="@firebase/storage-compat",O6="@firebase/firestore",L6="@firebase/vertexai",V6="@firebase/firestore-compat",F6="firebase",U6="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",z6={[bm]:"fire-core",[p6]:"fire-core-compat",[g6]:"fire-analytics",[m6]:"fire-analytics-compat",[v6]:"fire-app-check",[y6]:"fire-app-check-compat",[x6]:"fire-auth",[w6]:"fire-auth-compat",[_6]:"fire-rtdb",[b6]:"fire-data-connect",[E6]:"fire-rtdb-compat",[T6]:"fire-fn",[S6]:"fire-fn-compat",[C6]:"fire-iid",[I6]:"fire-iid-compat",[k6]:"fire-fcm",[P6]:"fire-fcm-compat",[A6]:"fire-perf",[R6]:"fire-perf-compat",[N6]:"fire-rc",[D6]:"fire-rc-compat",[j6]:"fire-gcs",[M6]:"fire-gcs-compat",[O6]:"fire-fst",[V6]:"fire-fst-compat",[L6]:"fire-vertex","fire-js":"fire-js",[F6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,B6=new Map,Tm=new Map;function j_(t,e){try{t.container.addComponent(e)}catch(n){Si.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(Tm.has(e))return Si.debug(`There were multiple attempts to register component ${e}.`),!1;Tm.set(e,t);for(const n of ih.values())j_(n,t);for(const n of B6.values())j_(n,t);return!0}function My(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new ql("app","Firebase",$6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=U6;function qS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw cr.create("bad-app-name",{appName:String(r)});if(n||(n=US()),!n)throw cr.create("no-options");const s=ih.get(r);if(s){if(cs(n,s.options)&&cs(i,s.config))return s;throw cr.create("duplicate-app",{appName:r})}const o=new Y5(r);for(const l of Tm.values())o.addComponent(l);const a=new q6(n,i,o);return ih.set(r,a),a}function HS(t=Em){const e=ih.get(t);if(!e&&t===Em&&US())return qS();if(!e)throw cr.create("no-app",{appName:t});return e}function ur(t,e,n){var i;let r=(i=z6[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Si.warn(a.join(" "));return}So(new us(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="firebase-heartbeat-database",W6=1,Sl="firebase-heartbeat-store";let Yf=null;function WS(){return Yf||(Yf=c6(H6,W6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),Yf}async function G6(t){try{const n=(await WS()).transaction(Sl),i=await n.objectStore(Sl).get(GS(t));return await n.done,i}catch(e){if(e instanceof Ri)Si.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Si.warn(n.message)}}}async function M_(t,e){try{const i=(await WS()).transaction(Sl,"readwrite");await i.objectStore(Sl).put(e,GS(t)),await i.done}catch(n){if(n instanceof Ri)Si.warn(n.message);else{const i=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Si.warn(i.message)}}}function GS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=1024,Q6=30;class Y6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new J6(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=O_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Q6){const o=Z6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Si.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O_(),{heartbeatsToSend:i,unsentEntries:r}=X6(this._heartbeatsCache.heartbeats),s=nh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Si.warn(n),""}}}function O_(){return new Date().toISOString().substring(0,10)}function X6(t,e=K6){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),L_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),L_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class J6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return V5()?F5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return M_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function L_(t){return nh(JSON.stringify({version:2,heartbeats:t})).length}function Z6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t){So(new us("platform-logger",e=>new d6(e),"PRIVATE")),So(new us("heartbeat",e=>new Y6(e),"PRIVATE")),ur(bm,D_,t),ur(bm,D_,"esm2017"),ur("fire-js","")}eF("");var V_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,KS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function k(){}k.prototype=b.prototype,C.D=b.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(P,D,j){for(var A=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)A[kt-2]=arguments[kt];return b.prototype[D].apply(P,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,b,k){k||(k=0);var P=Array(16);if(typeof b=="string")for(var D=0;16>D;++D)P[D]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(D=0;16>D;++D)P[D]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=C.g[0],k=C.g[1],D=C.g[2];var j=C.g[3],A=b+(j^k&(D^j))+P[0]+3614090360&4294967295;b=k+(A<<7&4294967295|A>>>25),A=j+(D^b&(k^D))+P[1]+3905402710&4294967295,j=b+(A<<12&4294967295|A>>>20),A=D+(k^j&(b^k))+P[2]+606105819&4294967295,D=j+(A<<17&4294967295|A>>>15),A=k+(b^D&(j^b))+P[3]+3250441966&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(j^k&(D^j))+P[4]+4118548399&4294967295,b=k+(A<<7&4294967295|A>>>25),A=j+(D^b&(k^D))+P[5]+1200080426&4294967295,j=b+(A<<12&4294967295|A>>>20),A=D+(k^j&(b^k))+P[6]+2821735955&4294967295,D=j+(A<<17&4294967295|A>>>15),A=k+(b^D&(j^b))+P[7]+4249261313&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(j^k&(D^j))+P[8]+1770035416&4294967295,b=k+(A<<7&4294967295|A>>>25),A=j+(D^b&(k^D))+P[9]+2336552879&4294967295,j=b+(A<<12&4294967295|A>>>20),A=D+(k^j&(b^k))+P[10]+4294925233&4294967295,D=j+(A<<17&4294967295|A>>>15),A=k+(b^D&(j^b))+P[11]+2304563134&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(j^k&(D^j))+P[12]+1804603682&4294967295,b=k+(A<<7&4294967295|A>>>25),A=j+(D^b&(k^D))+P[13]+4254626195&4294967295,j=b+(A<<12&4294967295|A>>>20),A=D+(k^j&(b^k))+P[14]+2792965006&4294967295,D=j+(A<<17&4294967295|A>>>15),A=k+(b^D&(j^b))+P[15]+1236535329&4294967295,k=D+(A<<22&4294967295|A>>>10),A=b+(D^j&(k^D))+P[1]+4129170786&4294967295,b=k+(A<<5&4294967295|A>>>27),A=j+(k^D&(b^k))+P[6]+3225465664&4294967295,j=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(j^b))+P[11]+643717713&4294967295,D=j+(A<<14&4294967295|A>>>18),A=k+(j^b&(D^j))+P[0]+3921069994&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(D^j&(k^D))+P[5]+3593408605&4294967295,b=k+(A<<5&4294967295|A>>>27),A=j+(k^D&(b^k))+P[10]+38016083&4294967295,j=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(j^b))+P[15]+3634488961&4294967295,D=j+(A<<14&4294967295|A>>>18),A=k+(j^b&(D^j))+P[4]+3889429448&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(D^j&(k^D))+P[9]+568446438&4294967295,b=k+(A<<5&4294967295|A>>>27),A=j+(k^D&(b^k))+P[14]+3275163606&4294967295,j=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(j^b))+P[3]+4107603335&4294967295,D=j+(A<<14&4294967295|A>>>18),A=k+(j^b&(D^j))+P[8]+1163531501&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(D^j&(k^D))+P[13]+2850285829&4294967295,b=k+(A<<5&4294967295|A>>>27),A=j+(k^D&(b^k))+P[2]+4243563512&4294967295,j=b+(A<<9&4294967295|A>>>23),A=D+(b^k&(j^b))+P[7]+1735328473&4294967295,D=j+(A<<14&4294967295|A>>>18),A=k+(j^b&(D^j))+P[12]+2368359562&4294967295,k=D+(A<<20&4294967295|A>>>12),A=b+(k^D^j)+P[5]+4294588738&4294967295,b=k+(A<<4&4294967295|A>>>28),A=j+(b^k^D)+P[8]+2272392833&4294967295,j=b+(A<<11&4294967295|A>>>21),A=D+(j^b^k)+P[11]+1839030562&4294967295,D=j+(A<<16&4294967295|A>>>16),A=k+(D^j^b)+P[14]+4259657740&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(k^D^j)+P[1]+2763975236&4294967295,b=k+(A<<4&4294967295|A>>>28),A=j+(b^k^D)+P[4]+1272893353&4294967295,j=b+(A<<11&4294967295|A>>>21),A=D+(j^b^k)+P[7]+4139469664&4294967295,D=j+(A<<16&4294967295|A>>>16),A=k+(D^j^b)+P[10]+3200236656&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(k^D^j)+P[13]+681279174&4294967295,b=k+(A<<4&4294967295|A>>>28),A=j+(b^k^D)+P[0]+3936430074&4294967295,j=b+(A<<11&4294967295|A>>>21),A=D+(j^b^k)+P[3]+3572445317&4294967295,D=j+(A<<16&4294967295|A>>>16),A=k+(D^j^b)+P[6]+76029189&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(k^D^j)+P[9]+3654602809&4294967295,b=k+(A<<4&4294967295|A>>>28),A=j+(b^k^D)+P[12]+3873151461&4294967295,j=b+(A<<11&4294967295|A>>>21),A=D+(j^b^k)+P[15]+530742520&4294967295,D=j+(A<<16&4294967295|A>>>16),A=k+(D^j^b)+P[2]+3299628645&4294967295,k=D+(A<<23&4294967295|A>>>9),A=b+(D^(k|~j))+P[0]+4096336452&4294967295,b=k+(A<<6&4294967295|A>>>26),A=j+(k^(b|~D))+P[7]+1126891415&4294967295,j=b+(A<<10&4294967295|A>>>22),A=D+(b^(j|~k))+P[14]+2878612391&4294967295,D=j+(A<<15&4294967295|A>>>17),A=k+(j^(D|~b))+P[5]+4237533241&4294967295,k=D+(A<<21&4294967295|A>>>11),A=b+(D^(k|~j))+P[12]+1700485571&4294967295,b=k+(A<<6&4294967295|A>>>26),A=j+(k^(b|~D))+P[3]+2399980690&4294967295,j=b+(A<<10&4294967295|A>>>22),A=D+(b^(j|~k))+P[10]+4293915773&4294967295,D=j+(A<<15&4294967295|A>>>17),A=k+(j^(D|~b))+P[1]+2240044497&4294967295,k=D+(A<<21&4294967295|A>>>11),A=b+(D^(k|~j))+P[8]+1873313359&4294967295,b=k+(A<<6&4294967295|A>>>26),A=j+(k^(b|~D))+P[15]+4264355552&4294967295,j=b+(A<<10&4294967295|A>>>22),A=D+(b^(j|~k))+P[6]+2734768916&4294967295,D=j+(A<<15&4294967295|A>>>17),A=k+(j^(D|~b))+P[13]+1309151649&4294967295,k=D+(A<<21&4294967295|A>>>11),A=b+(D^(k|~j))+P[4]+4149444226&4294967295,b=k+(A<<6&4294967295|A>>>26),A=j+(k^(b|~D))+P[11]+3174756917&4294967295,j=b+(A<<10&4294967295|A>>>22),A=D+(b^(j|~k))+P[2]+718787259&4294967295,D=j+(A<<15&4294967295|A>>>17),A=k+(j^(D|~b))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(D+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+j&4294967295}i.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var k=b-this.blockSize,P=this.B,D=this.h,j=0;j<b;){if(D==0)for(;j<=k;)r(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<b;)if(P[D++]=C.charCodeAt(j++),D==this.blockSize){r(this,P),D=0;break}}else for(;j<b;)if(P[D++]=C[j++],D==this.blockSize){r(this,P),D=0;break}}this.h=D,this.o+=b},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var k=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=k&255,k/=256;for(this.u(C),C=Array(16),b=k=0;4>b;++b)for(var P=0;32>P;P+=8)C[k++]=this.g[b]>>>P&255;return C};function s(C,b){var k=a;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=b(C)}function o(C,b){this.h=b;for(var k=[],P=!0,D=C.length-1;0<=D;D--){var j=C[D]|0;P&&j==b||(k[D]=j,P=!1)}this.g=k}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(c(-C));for(var b=[],k=1,P=0;C>=k;P++)b[P]=C/k|0,k*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return T(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(b,8)),P=f,D=0;D<C.length;D+=8){var j=Math.min(8,C.length-D),A=parseInt(C.substring(D,D+j),b);8>j?(j=c(Math.pow(b,j)),P=P.j(j).add(c(A))):(P=P.j(k),P=P.add(c(A)))}return P}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var C=0,b=1,k=0;k<this.g.length;k++){var P=this.i(k);C+=(0<=P?P:4294967296+P)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(w(this))return"-"+T(this).toString(C);for(var b=c(Math.pow(C,6)),k=this,P="";;){var D=I(k,b).g;k=x(k,D.j(b));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=D,v(k))return j+P;for(;6>j.length;)j="0"+j;P=j+P}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=x(this,C),w(C)?-1:v(C)?0:1};function T(C){for(var b=C.g.length,k=[],P=0;P<b;P++)k[P]=~C.g[P];return new o(k,~C.h).add(p)}t.abs=function(){return w(this)?T(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],P=0,D=0;D<=b;D++){var j=P+(this.i(D)&65535)+(C.i(D)&65535),A=(j>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);P=A>>>16,j&=65535,A&=65535,k[D]=A<<16|j}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(C,b){return C.add(T(b))}t.j=function(C){if(v(this)||v(C))return f;if(w(this))return w(C)?T(this).j(T(C)):T(T(this).j(C));if(w(C))return T(this.j(T(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,k=[],P=0;P<2*b;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var D=0;D<C.g.length;D++){var j=this.i(P)>>>16,A=this.i(P)&65535,kt=C.i(D)>>>16,Ni=C.i(D)&65535;k[2*P+2*D]+=A*Ni,_(k,2*P+2*D),k[2*P+2*D+1]+=j*Ni,_(k,2*P+2*D+1),k[2*P+2*D+1]+=A*kt,_(k,2*P+2*D+1),k[2*P+2*D+2]+=j*kt,_(k,2*P+2*D+2)}for(P=0;P<b;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=b;P<2*b;P++)k[P]=0;return new o(k,0)};function _(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function E(C,b){this.g=C,this.h=b}function I(C,b){if(v(b))throw Error("division by zero");if(v(C))return new E(f,f);if(w(C))return b=I(T(C),b),new E(T(b.g),T(b.h));if(w(b))return b=I(C,T(b)),new E(T(b.g),b.h);if(30<C.g.length){if(w(C)||w(b))throw Error("slowDivide_ only works with positive integers.");for(var k=p,P=b;0>=P.l(C);)k=N(k),P=N(P);var D=O(k,1),j=O(P,1);for(P=O(P,2),k=O(k,2);!v(P);){var A=j.add(P);0>=A.l(C)&&(D=D.add(k),j=A),P=O(P,1),k=O(k,1)}return b=x(C,D.j(b)),new E(D,b)}for(D=f;0<=C.l(b);){for(k=Math.max(1,Math.floor(C.m()/b.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),j=c(k),A=j.j(b);w(A)||0<A.l(C);)k-=P,j=c(k),A=j.j(b);v(j)&&(j=p),D=D.add(j),C=x(C,A)}return new E(D,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)&C.i(P);return new o(k,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)|C.i(P);return new o(k,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],P=0;P<b;P++)k[P]=this.i(P)^C.i(P);return new o(k,this.h^C.h)};function N(C){for(var b=C.g.length+1,k=[],P=0;P<b;P++)k[P]=C.i(P)<<1|C.i(P-1)>>>31;return new o(k,C.h)}function O(C,b){var k=b>>5;b%=32;for(var P=C.g.length-k,D=[],j=0;j<P;j++)D[j]=0<b?C.i(j+k)>>>b|C.i(j+k+1)<<32-b:C.i(j+k);return new o(D,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,KS=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,hr=o}).apply(typeof V_<"u"?V_:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,Sa,YS,cu,Sm,XS,JS,ZS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,y){return u==Array.prototype||u==Object.prototype||(u[g]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<u.length;++g){var y=u[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(u,g){if(g)e:{var y=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var M=u[S];if(!(M in y))break e;y=y[M]}u=u[u.length-1],S=y[u],g=g(S),g!=S&&g!=null&&e(y,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var y=0,S=!1,M={next:function(){if(!S&&y<u.length){var L=y++;return{value:g(L,u[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,y){return u.call.apply(u.bind,arguments)}function f(u,g,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,S),u.apply(g,M)}}return function(){return u.apply(g,arguments)}}function p(u,g,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(u,g){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function v(u,g){function y(){}y.prototype=g.prototype,u.aa=g.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,M,L){for(var B=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)B[ge-2]=arguments[ge];return g.prototype[M].apply(S,B)}}function w(u){const g=u.length;if(0<g){const y=Array(g);for(let S=0;S<g;S++)y[S]=u[S];return y}return[]}function T(u,g){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(l(S)){const M=u.length||0,L=S.length||0;u.length=M+L;for(let B=0;B<L;B++)u[M+B]=S[B]}else u.push(S)}}class x{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(u,g,y){for(const S in u)g.call(y,u[S],S,u)}function C(u,g){for(const y in u)g.call(void 0,u[y],y,u)}function b(u){const g={};for(const y in u)g[y]=u[y];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,g){let y,S;for(let M=1;M<arguments.length;M++){S=arguments[M];for(y in S)u[y]=S[y];for(let L=0;L<k.length;L++)y=k[L],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function D(u){var g=1;u=u.split(":");const y=[];for(;0<g&&u.length;)y.push(u.shift()),g--;return u.length&&y.push(u.join(":")),y}function j(u){a.setTimeout(()=>{throw u},0)}function A(){var u=Y;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class kt{constructor(){this.h=this.g=null}add(g,y){const S=Ni.get();S.set(g,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Ni=new x(()=>new Ss,u=>u.reset());class Ss{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,$=!1,Y=new kt,ee=()=>{const u=a.Promise.resolve(void 0);xe=()=>{u.then(Ce)}};var Ce=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){j(y)}var g=Ni;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}$=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var ti=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return u}();function ni(u,g){if(Oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(N){e:{try{I(g.nodeName);var M=!0;break e}catch{}M=!1}M||(g=null)}}else y=="mouseover"?g=u.fromElement:y=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ii[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ni.aa.h.call(this)}}v(ni,Oe);var ii={2:"touch",3:"pen",4:"mouse"};ni.prototype.h=function(){ni.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ri="closure_listenable_"+(1e6*Math.random()|0),ak=0;function lk(u,g,y,S,M){this.listener=u,this.proxy=null,this.src=g,this.type=y,this.capture=!!S,this.ha=M,this.key=++ak,this.da=this.fa=!1}function ec(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function tc(u){this.src=u,this.g={},this.h=0}tc.prototype.add=function(u,g,y,S,M){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var B=wd(u,g,S,M);return-1<B?(g=u[B],y||(g.fa=!1)):(g=new lk(g,this.src,L,!!S,M),g.fa=y,u.push(g)),g};function xd(u,g){var y=g.type;if(y in u.g){var S=u.g[y],M=Array.prototype.indexOf.call(S,g,void 0),L;(L=0<=M)&&Array.prototype.splice.call(S,M,1),L&&(ec(g),u.g[y].length==0&&(delete u.g[y],u.h--))}}function wd(u,g,y,S){for(var M=0;M<u.length;++M){var L=u[M];if(!L.da&&L.listener==g&&L.capture==!!y&&L.ha==S)return M}return-1}var _d="closure_lm_"+(1e6*Math.random()|0),bd={};function kv(u,g,y,S,M){if(Array.isArray(g)){for(var L=0;L<g.length;L++)kv(u,g[L],y,S,M);return null}return y=Rv(y),u&&u[ri]?u.K(g,y,c(S)?!!S.capture:!!S,M):ck(u,g,y,!1,S,M)}function ck(u,g,y,S,M,L){if(!g)throw Error("Invalid event type");var B=c(M)?!!M.capture:!!M,ge=Td(u);if(ge||(u[_d]=ge=new tc(u)),y=ge.add(g,y,S,B,L),y.proxy)return y;if(S=uk(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)ti||(M=B),M===void 0&&(M=!1),u.addEventListener(g.toString(),S,M);else if(u.attachEvent)u.attachEvent(Av(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function uk(){function u(y){return g.call(u.src,u.listener,y)}const g=hk;return u}function Pv(u,g,y,S,M){if(Array.isArray(g))for(var L=0;L<g.length;L++)Pv(u,g[L],y,S,M);else S=c(S)?!!S.capture:!!S,y=Rv(y),u&&u[ri]?(u=u.i,g=String(g).toString(),g in u.g&&(L=u.g[g],y=wd(L,y,S,M),-1<y&&(ec(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete u.g[g],u.h--)))):u&&(u=Td(u))&&(g=u.g[g.toString()],u=-1,g&&(u=wd(g,y,S,M)),(y=-1<u?g[u]:null)&&Ed(y))}function Ed(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ri])xd(g.i,u);else{var y=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(y,S,u.capture):g.detachEvent?g.detachEvent(Av(y),S):g.addListener&&g.removeListener&&g.removeListener(S),(y=Td(g))?(xd(y,u),y.h==0&&(y.src=null,g[_d]=null)):ec(u)}}}function Av(u){return u in bd?bd[u]:bd[u]="on"+u}function hk(u,g){if(u.da)u=!0;else{g=new ni(g,this);var y=u.listener,S=u.ha||u.src;u.fa&&Ed(u),u=y.call(S,g)}return u}function Td(u){return u=u[_d],u instanceof tc?u:null}var Sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rv(u){return typeof u=="function"?u:(u[Sd]||(u[Sd]=function(g){return u.handleEvent(g)}),u[Sd])}function ft(){me.call(this),this.i=new tc(this),this.M=this,this.F=null}v(ft,me),ft.prototype[ri]=!0,ft.prototype.removeEventListener=function(u,g,y,S){Pv(this,u,g,y,S)};function Pt(u,g){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new Oe(g,u);else if(g instanceof Oe)g.target=g.target||u;else{var M=g;g=new Oe(S,u),P(g,M)}if(M=!0,y)for(var L=y.length-1;0<=L;L--){var B=g.g=y[L];M=nc(B,S,!0,g)&&M}if(B=g.g=u,M=nc(B,S,!0,g)&&M,M=nc(B,S,!1,g)&&M,y)for(L=0;L<y.length;L++)B=g.g=y[L],M=nc(B,S,!1,g)&&M}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var y=u.g[g],S=0;S<y.length;S++)ec(y[S]);delete u.g[g],u.h--}}this.F=null},ft.prototype.K=function(u,g,y,S){return this.i.add(String(u),g,!1,y,S)},ft.prototype.L=function(u,g,y,S){return this.i.add(String(u),g,!0,y,S)};function nc(u,g,y,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var M=!0,L=0;L<g.length;++L){var B=g[L];if(B&&!B.da&&B.capture==y){var ge=B.listener,rt=B.ha||B.src;B.fa&&xd(u.i,B),M=ge.call(rt,S)!==!1&&M}}return M&&!S.defaultPrevented}function Nv(u,g,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function Dv(u){u.g=Nv(()=>{u.g=null,u.i&&(u.i=!1,Dv(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class dk extends me{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Dv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ko(u){me.call(this),this.h=u,this.g={}}v(Ko,me);var jv=[];function Mv(u){O(u.g,function(g,y){this.g.hasOwnProperty(y)&&Ed(g)},u),u.g={}}Ko.prototype.N=function(){Ko.aa.N.call(this),Mv(this)},Ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cd=a.JSON.stringify,fk=a.JSON.parse,pk=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Id(){}Id.prototype.h=null;function Ov(u){return u.h||(u.h=u.i())}function Lv(){}var Qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kd(){Oe.call(this,"d")}v(kd,Oe);function Pd(){Oe.call(this,"c")}v(Pd,Oe);var Mr={},Vv=null;function ic(){return Vv=Vv||new ft}Mr.La="serverreachability";function Fv(u){Oe.call(this,Mr.La,u)}v(Fv,Oe);function Yo(u){const g=ic();Pt(g,new Fv(g))}Mr.STAT_EVENT="statevent";function Uv(u,g){Oe.call(this,Mr.STAT_EVENT,u),this.stat=g}v(Uv,Oe);function At(u){const g=ic();Pt(g,new Uv(g,u))}Mr.Ma="timingevent";function zv(u,g){Oe.call(this,Mr.Ma,u),this.size=g}v(zv,Oe);function Xo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function Jo(){this.g=!0}Jo.prototype.xa=function(){this.g=!1};function mk(u,g,y,S,M,L){u.info(function(){if(u.g)if(L)for(var B="",ge=L.split("&"),rt=0;rt<ge.length;rt++){var he=ge[rt].split("=");if(1<he.length){var pt=he[0];he=he[1];var mt=pt.split("_");B=2<=mt.length&&mt[1]=="type"?B+(pt+"="+he+"&"):B+(pt+"=redacted&")}}else B=null;else B=L;return"XMLHTTP REQ ("+S+") [attempt "+M+"]: "+g+`
`+y+`
`+B})}function gk(u,g,y,S,M,L,B){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+M+"]: "+g+`
`+y+`
`+L+" "+B})}function Cs(u,g,y,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+vk(u,y)+(S?" "+S:"")})}function yk(u,g){u.info(function(){return"TIMEOUT: "+g})}Jo.prototype.info=function(){};function vk(u,g){if(!u.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var M=S[1];if(Array.isArray(M)&&!(1>M.length)){var L=M[0];if(L!="noop"&&L!="stop"&&L!="close")for(var B=1;B<M.length;B++)M[B]=""}}}}return Cd(y)}catch{return g}}var rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ad;function sc(){}v(sc,Id),sc.prototype.g=function(){return new XMLHttpRequest},sc.prototype.i=function(){return{}},Ad=new sc;function Di(u,g,y,S){this.j=u,this.i=g,this.l=y,this.R=S||1,this.U=new Ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $v}function $v(){this.i=null,this.g="",this.h=!1}var qv={},Rd={};function Nd(u,g,y){u.L=1,u.v=cc(si(g)),u.m=y,u.P=!0,Hv(u,null)}function Hv(u,g){u.F=Date.now(),oc(u),u.A=si(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),s0(y.i,"t",S),u.C=0,y=u.j.J,u.h=new $v,u.g=E0(u.j,y?g:null,!u.m),0<u.O&&(u.M=new dk(p(u.Y,u,u.g),u.O)),g=u.U,y=u.g,S=u.ca;var M="readystatechange";Array.isArray(M)||(M&&(jv[0]=M.toString()),M=jv);for(var L=0;L<M.length;L++){var B=kv(y,M[L],S||g.handleEvent,!1,g.h||g);if(!B)break;g.g[B.key]=B}g=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Yo(),mk(u.i,u.u,u.A,u.l,u.R,u.m)}Di.prototype.ca=function(u){u=u.target;const g=this.M;g&&oi(u)==3?g.j():this.Y(u)},Di.prototype.Y=function(u){try{if(u==this.g)e:{const mt=oi(this.g);var g=this.g.Ba();const Ps=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||d0(this.g)))){this.J||mt!=4||g==7||(g==8||0>=Ps?Yo(3):Yo(2)),Dd(this);var y=this.g.Z();this.X=y;t:if(Wv(this)){var S=d0(this.g);u="";var M=S.length,L=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Or(this),Zo(this);var B="";break t}this.h.i=new a.TextDecoder}for(g=0;g<M;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(L&&g==M-1)});S.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=y==200,gk(this.i,this.u,this.A,this.l,this.R,mt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,rt=this.g;if((ge=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ge)){var he=ge;break t}}he=null}if(y=he)Cs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jd(this,y);else{this.o=!1,this.s=3,At(12),Or(this),Zo(this);break e}}if(this.P){y=!0;let _n;for(;!this.J&&this.C<B.length;)if(_n=xk(this,B),_n==Rd){mt==4&&(this.s=4,At(14),y=!1),Cs(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==qv){this.s=4,At(15),Cs(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else Cs(this.i,this.l,_n,null),jd(this,_n);if(Wv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||B.length!=0||this.h.h||(this.s=1,At(16),y=!1),this.o=this.o&&y,!y)Cs(this.i,this.l,B,"[Invalid Chunked Response]"),Or(this),Zo(this);else if(0<B.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Ud(pt),pt.M=!0,At(11))}}else Cs(this.i,this.l,B,null),jd(this,B);mt==4&&Or(this),this.o&&!this.J&&(mt==4?x0(this.j,this):(this.o=!1,oc(this)))}else Ok(this.g),y==400&&0<B.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Or(this),Zo(this)}}}catch{}finally{}};function Wv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xk(u,g){var y=u.C,S=g.indexOf(`
`,y);return S==-1?Rd:(y=Number(g.substring(y,S)),isNaN(y)?qv:(S+=1,S+y>g.length?Rd:(g=g.slice(S,S+y),u.C=S+y,g)))}Di.prototype.cancel=function(){this.J=!0,Or(this)};function oc(u){u.S=Date.now()+u.I,Gv(u,u.I)}function Gv(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Xo(p(u.ba,u),g)}function Dd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Di.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(yk(this.i,this.A),this.L!=2&&(Yo(),At(17)),Or(this),this.s=2,Zo(this)):Gv(this,this.S-u)};function Zo(u){u.j.G==0||u.J||x0(u.j,u)}function Or(u){Dd(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Mv(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function jd(u,g){try{var y=u.j;if(y.G!=0&&(y.g==u||Md(y.h,u))){if(!u.K&&Md(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var M=S;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)mc(y),fc(y);else break e;Fd(y),At(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=Xo(p(y.Za,y),6e3));if(1>=Yv(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vr(y,11)}else if((u.K||y.g==u)&&mc(y),!_(g))for(M=y.Da.g.parse(g),g=0;g<M.length;g++){let he=M[g];if(y.T=he[0],he=he[1],y.G==2)if(he[0]=="c"){y.K=he[1],y.ia=he[2];const pt=he[3];pt!=null&&(y.la=pt,y.j.info("VER="+y.la));const mt=he[4];mt!=null&&(y.Aa=mt,y.j.info("SVER="+y.Aa));const Ps=he[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(S=1.5*Ps,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const _n=u.g;if(_n){const yc=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yc){var L=S.h;L.g||yc.indexOf("spdy")==-1&&yc.indexOf("quic")==-1&&yc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Od(L,L.h),L.h=null))}if(S.D){const zd=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;zd&&(S.ya=zd,we(S.I,S.D,zd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var B=u;if(S.qa=b0(S,S.J?S.ia:null,S.W),B.K){Xv(S.h,B);var ge=B,rt=S.L;rt&&(ge.I=rt),ge.B&&(Dd(ge),oc(ge)),S.g=B}else y0(S);0<y.i.length&&pc(y)}else he[0]!="stop"&&he[0]!="close"||Vr(y,7);else y.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?Vr(y,7):Vd(y):he[0]!="noop"&&y.l&&y.l.ta(he),y.v=0)}}Yo(4)}catch{}}var wk=class{constructor(u,g){this.g=u,this.map=g}};function Kv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Yv(u){return u.h?1:u.g?u.g.size:0}function Md(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Od(u,g){u.g?u.g.add(g):u.h=g}function Xv(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Kv.prototype.cancel=function(){if(this.i=Jv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Jv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const y of u.g.values())g=g.concat(y.D);return g}return w(u.i)}function _k(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],y=u.length,S=0;S<y;S++)g.push(u[S]);return g}g=[],y=0;for(S in u)g[y++]=u[S];return g}function bk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var y=0;y<u;y++)g.push(y);return g}g=[],y=0;for(const S in u)g[y++]=S;return g}}}function Zv(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var y=bk(u),S=_k(u),M=S.length,L=0;L<M;L++)g.call(void 0,S[L],y&&y[L],u)}var e0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ek(u,g){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),M=null;if(0<=S){var L=u[y].substring(0,S);M=u[y].substring(S+1)}else L=u[y];g(L,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Lr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Lr){this.h=u.h,ac(this,u.j),this.o=u.o,this.g=u.g,lc(this,u.s),this.l=u.l;var g=u.i,y=new na;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),t0(this,y),this.m=u.m}else u&&(g=String(u).match(e0))?(this.h=!1,ac(this,g[1]||"",!0),this.o=ea(g[2]||""),this.g=ea(g[3]||"",!0),lc(this,g[4]),this.l=ea(g[5]||"",!0),t0(this,g[6]||"",!0),this.m=ea(g[7]||"")):(this.h=!1,this.i=new na(null,this.h))}Lr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ta(g,n0,!0),":");var y=this.g;return(y||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ta(g,n0,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ta(y,y.charAt(0)=="/"?Ck:Sk,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ta(y,kk)),u.join("")};function si(u){return new Lr(u)}function ac(u,g,y){u.j=y?ea(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function lc(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function t0(u,g,y){g instanceof na?(u.i=g,Pk(u.i,u.h)):(y||(g=ta(g,Ik)),u.i=new na(g,u.h))}function we(u,g,y){u.i.set(g,y)}function cc(u){return we(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ea(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ta(u,g,y){return typeof u=="string"?(u=encodeURI(u).replace(g,Tk),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Tk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var n0=/[#\/\?@]/g,Sk=/[#\?:]/g,Ck=/[#\?]/g,Ik=/[#\?@]/g,kk=/#/g;function na(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function ji(u){u.g||(u.g=new Map,u.h=0,u.i&&Ek(u.i,function(g,y){u.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=na.prototype,t.add=function(u,g){ji(this),this.i=null,u=Is(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(g),this.h+=1,this};function i0(u,g){ji(u),g=Is(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function r0(u,g){return ji(u),g=Is(u,g),u.g.has(g)}t.forEach=function(u,g){ji(this),this.g.forEach(function(y,S){y.forEach(function(M){u.call(g,M,S,this)},this)},this)},t.na=function(){ji(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let S=0;S<g.length;S++){const M=u[S];for(let L=0;L<M.length;L++)y.push(g[S])}return y},t.V=function(u){ji(this);let g=[];if(typeof u=="string")r0(this,u)&&(g=g.concat(this.g.get(Is(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)g=g.concat(u[y])}return g},t.set=function(u,g){return ji(this),this.i=null,u=Is(this,u),r0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function s0(u,g,y){i0(u,g),0<y.length&&(u.i=null,u.g.set(Is(u,g),w(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var S=g[y];const L=encodeURIComponent(String(S)),B=this.V(S);for(S=0;S<B.length;S++){var M=L;B[S]!==""&&(M+="="+encodeURIComponent(String(B[S]))),u.push(M)}}return this.i=u.join("&")};function Is(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Pk(u,g){g&&!u.j&&(ji(u),u.i=null,u.g.forEach(function(y,S){var M=S.toLowerCase();S!=M&&(i0(this,S),s0(this,M,y))},u)),u.j=g}function Ak(u,g){const y=new Jo;if(a.Image){const S=new Image;S.onload=m(Mi,y,"TestLoadImage: loaded",!0,g,S),S.onerror=m(Mi,y,"TestLoadImage: error",!1,g,S),S.onabort=m(Mi,y,"TestLoadImage: abort",!1,g,S),S.ontimeout=m(Mi,y,"TestLoadImage: timeout",!1,g,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Rk(u,g){const y=new Jo,S=new AbortController,M=setTimeout(()=>{S.abort(),Mi(y,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(L=>{clearTimeout(M),L.ok?Mi(y,"TestPingServer: ok",!0,g):Mi(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(M),Mi(y,"TestPingServer: error",!1,g)})}function Mi(u,g,y,S,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),S(y)}catch{}}function Nk(){this.g=new pk}function Dk(u,g,y){const S=y||"";try{Zv(u,function(M,L){let B=M;c(M)&&(B=Cd(M)),g.push(S+L+"="+encodeURIComponent(B))})}catch(M){throw g.push(S+"type="+encodeURIComponent("_badmap")),M}}function uc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(uc,Id),uc.prototype.g=function(){return new hc(this.l,this.j)},uc.prototype.i=function(u){return function(){return u}}({});function hc(u,g){ft.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(hc,ft),t=hc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ra(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;o0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function o0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ia(this):ra(this),this.readyState==3&&o0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ia(this))},t.Qa=function(u){this.g&&(this.response=u,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ra(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=g.next();return u.join(`\r
`)};function ra(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function a0(u){let g="";return O(u,function(y,S){g+=S,g+=":",g+=y,g+=`\r
`}),g}function Ld(u,g,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=a0(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):we(u,g,y))}function De(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(De,ft);var jk=/^https?$/i,Mk=["POST","PUT"];t=De.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ad.g(),this.v=this.o?Ov(this.o):Ov(Ad),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(L){l0(this,L);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var M in S)y.set(M,S[M]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())y.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Mk,g,void 0))||S||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of y)this.g.setRequestHeader(L,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{h0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){l0(this,L)}};function l0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,c0(u),dc(u)}function c0(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pt(this,"complete"),Pt(this,"abort"),dc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dc(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?u0(this):this.bb())},t.bb=function(){u0(this)};function u0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||oi(u)!=4||u.Z()!=2)){if(u.u&&oi(u)==4)Nv(u.Ea,0,u);else if(Pt(u,"readystatechange"),oi(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var S;if(S=B===0){var M=String(u.D).match(e0)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),S=!jk.test(M?M.toLowerCase():"")}y=S}if(y)Pt(u,"complete"),Pt(u,"success");else{u.m=6;try{var L=2<oi(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",c0(u)}}finally{dc(u)}}}}function dc(u,g){if(u.g){h0(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Pt(u,"ready");try{y.onreadystatechange=S}catch{}}}function h0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function oi(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),fk(g)}};function d0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ok(u){const g={};u=(u.g&&2<=oi(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(_(u[S]))continue;var y=D(u[S]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=g[M]||[];g[M]=L,L.push(y)}C(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(u,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||g}function f0(u){this.Aa=0,this.i=[],this.j=new Jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,u),this.cb=sa("retryDelaySeedMs",1e4,u),this.Wa=sa("forwardChannelMaxRetries",2,u),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Kv(u&&u.concurrentRequestLimit),this.Da=new Nk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=f0.prototype,t.la=8,t.G=1,t.connect=function(u,g,y,S){At(0),this.W=u,this.H=g||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=b0(this,null,this.W),pc(this)};function Vd(u){if(p0(u),u.G==3){var g=u.U++,y=si(u.I);if(we(y,"SID",u.K),we(y,"RID",g),we(y,"TYPE","terminate"),oa(u,y),g=new Di(u,u.j,g),g.L=2,g.v=cc(si(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=E0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),oc(g)}_0(u)}function fc(u){u.g&&(Ud(u),u.g.cancel(),u.g=null)}function p0(u){fc(u),u.u&&(a.clearTimeout(u.u),u.u=null),mc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function pc(u){if(!Qv(u.h)&&!u.s){u.s=!0;var g=u.Ga;xe||ee(),$||(xe(),$=!0),Y.add(g,u),u.B=0}}function Lk(u,g){return Yv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Xo(p(u.Ga,u,g),w0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const M=new Di(this,this.j,u);let L=this.o;if(this.S&&(L?(L=b(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(M.H=L,L=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=g0(this,M,g),y=si(this.I),we(y,"RID",u),we(y,"CVER",22),this.D&&we(y,"X-HTTP-Session-Id",this.D),oa(this,y),L&&(this.O?g="headers="+encodeURIComponent(String(a0(L)))+"&"+g:this.m&&Ld(y,this.m,L)),Od(this.h,M),this.Ua&&we(y,"TYPE","init"),this.P?(we(y,"$req",g),we(y,"SID","null"),M.T=!0,Nd(M,y,null)):Nd(M,y,g),this.G=2}}else this.G==3&&(u?m0(this,u):this.i.length==0||Qv(this.h)||m0(this))};function m0(u,g){var y;g?y=g.l:y=u.U++;const S=si(u.I);we(S,"SID",u.K),we(S,"RID",y),we(S,"AID",u.T),oa(u,S),u.m&&u.o&&Ld(S,u.m,u.o),y=new Di(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),g&&(u.i=g.D.concat(u.i)),g=g0(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Od(u.h,y),Nd(y,S,g)}function oa(u,g){u.H&&O(u.H,function(y,S){we(g,S,y)}),u.l&&Zv({},function(y,S){we(g,S,y)})}function g0(u,g,y){y=Math.min(u.i.length,y);var S=u.l?p(u.l.Na,u.l,u):null;e:{var M=u.i;let L=-1;for(;;){const B=["count="+y];L==-1?0<y?(L=M[0].g,B.push("ofs="+L)):L=0:B.push("ofs="+L);let ge=!0;for(let rt=0;rt<y;rt++){let he=M[rt].g;const pt=M[rt].map;if(he-=L,0>he)L=Math.max(0,M[rt].g-100),ge=!1;else try{Dk(pt,B,"req"+he+"_")}catch{S&&S(pt)}}if(ge){S=B.join("&");break e}}}return u=u.i.splice(0,y),g.D=u,S}function y0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;xe||ee(),$||(xe(),$=!0),Y.add(g,u),u.v=0}}function Fd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Xo(p(u.Fa,u),w0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,v0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Xo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),fc(this),v0(this))};function Ud(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function v0(u){u.g=new Di(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=si(u.qa);we(g,"RID","rpc"),we(g,"SID",u.K),we(g,"AID",u.T),we(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&we(g,"TO",u.ja),we(g,"TYPE","xmlhttp"),oa(u,g),u.m&&u.o&&Ld(g,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=cc(si(g)),y.m=null,y.P=!0,Hv(y,u)}t.Za=function(){this.C!=null&&(this.C=null,fc(this),Fd(this),At(19))};function mc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function x0(u,g){var y=null;if(u.g==g){mc(u),Ud(u),u.g=null;var S=2}else if(Md(u.h,g))y=g.D,Xv(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var M=u.B;S=ic(),Pt(S,new zv(S,y)),pc(u)}else y0(u);else if(M=g.s,M==3||M==0&&0<g.X||!(S==1&&Lk(u,g)||S==2&&Fd(u)))switch(y&&0<y.length&&(g=u.h,g.i=g.i.concat(y)),M){case 1:Vr(u,5);break;case 4:Vr(u,10);break;case 3:Vr(u,6);break;default:Vr(u,2)}}}function w0(u,g){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*g}function Vr(u,g){if(u.j.info("Error code "+g),g==2){var y=p(u.fb,u),S=u.Xa;const M=!S;S=new Lr(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ac(S,"https"),cc(S),M?Ak(S.toString(),y):Rk(S.toString(),y)}else At(2);u.G=0,u.l&&u.l.sa(g),_0(u),p0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function _0(u){if(u.G=0,u.ka=[],u.l){const g=Jv(u.h);(g.length!=0||u.i.length!=0)&&(T(u.ka,g),T(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function b0(u,g,y){var S=y instanceof Lr?si(y):new Lr(y);if(S.g!="")g&&(S.g=g+"."+S.g),lc(S,S.s);else{var M=a.location;S=M.protocol,g=g?g+"."+M.hostname:M.hostname,M=+M.port;var L=new Lr(null);S&&ac(L,S),g&&(L.g=g),M&&lc(L,M),y&&(L.l=y),S=L}return y=u.D,g=u.ya,y&&g&&we(S,y,g),we(S,"VER",u.la),oa(u,S),S}function E0(u,g,y){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new De(new uc({eb:y})):new De(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T0(){}t=T0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gc(){}gc.prototype.g=function(u,g){return new Kt(u,g)};function Kt(u,g){ft.call(this),this.g=new f0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!_(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ks(this)}v(Kt,ft),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){Vd(this.g)},Kt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Cd(u),u=y);g.i.push(new wk(g.Ya++,u)),g.G==3&&pc(g)},Kt.prototype.N=function(){this.g.l=null,delete this.j,Vd(this.g),delete this.g,Kt.aa.N.call(this)};function S0(u){kd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const y in g){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}v(S0,kd);function C0(){Pd.call(this),this.status=1}v(C0,Pd);function ks(u){this.g=u}v(ks,T0),ks.prototype.ua=function(){Pt(this.g,"a")},ks.prototype.ta=function(u){Pt(this.g,new S0(u))},ks.prototype.sa=function(u){Pt(this.g,new C0)},ks.prototype.ra=function(){Pt(this.g,"b")},gc.prototype.createWebChannel=gc.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,ZS=function(){return new gc},JS=function(){return ic()},XS=Mr,Sm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,cu=rc,Bv.COMPLETE="complete",YS=Bv,Lv.EventType=Qo,Qo.OPEN="a",Qo.CLOSE="b",Qo.ERROR="c",Qo.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Sa=Lv,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,QS=De}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const F_="@firebase/firestore",U_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Dy("@firebase/firestore");function Ns(){return hs.logLevel}function q(t,...e){if(hs.logLevel<=oe.DEBUG){const n=e.map(Oy);hs.debug(`Firestore (${Bo}): ${t}`,...n)}}function Ci(t,...e){if(hs.logLevel<=oe.ERROR){const n=e.map(Oy);hs.error(`Firestore (${Bo}): ${t}`,...n)}}function Co(t,...e){if(hs.logLevel<=oe.WARN){const n=e.map(Oy);hs.warn(`Firestore (${Bo}): ${t}`,...n)}}function Oy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw Ci(e),new Error(e)}function de(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends Ri{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class nF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iF{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(de(typeof i.accessToken=="string"),new eC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new wt(e)}}class rF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new rF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oF{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,In(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){de(this.o===void 0);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new z_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new z_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=aF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function re(t,e){return t<e?-1:t>e?1:0}function Cm(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return re(i,r);{const s=tC(),o=lF(s.encode(B_(t,n)),s.encode(B_(e,n)));return o!==0?o:re(i,r)}}n+=i>65535?2:1}return re(t.length,e.length)}function B_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function lF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function Io(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,q_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*q_);return new Ye(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$_)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/q_}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ye(0,0))}static max(){return new te(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__name__";class Un{constructor(e,n,i){n===void 0?n=0:n>e.length&&J(),i===void 0?i=e.length-n:i>e.length-n&&J(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Un.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=Un.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return re(e.length,n.length)}static compareSegments(e,n){const i=Un.isNumericId(e),r=Un.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Un.extractNumericId(e).compare(Un.extractNumericId(n)):Cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}}class Se extends Un{construct(e,n,i){return new Se(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const cF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends Un{construct(e,n,i){return new lt(e,n,i)}static isValidIdentifier(e){return cF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H_}static keyField(){return new lt([H_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Se.fromString(e))}static fromName(e){return new G(Se.fromString(e).popFirst(5))}static empty(){return new G(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=-1;function uF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=te.fromTimestamp(i===1e9?new Ye(n+1,0):new Ye(n,i));return new vr(r,G.empty(),e)}function hF(t){return new vr(t.readTime,t.key,Cl)}class vr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new vr(te.min(),G.empty(),Cl)}static max(){return new vr(te.max(),G.empty(),Cl)}}function dF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==fF)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,i)=>{n(e)})}static reject(e){return new V((n,i)=>{i(e)})}static waitFor(e){return new V((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=V.resolve(!1);for(const i of e)n=n.next(r=>r?V.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new V((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new V((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function mF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=-1;function Yh(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function gF(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="";function yF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=W_(e)),e=vF(t.get(n),e);return W_(e)}function vF(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case iC:n+="";break;default:n+=s}}return n}function W_(t){return t+iC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Nr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??at.RED,this.left=r??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new at(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,n,i,r,s){return this}insert(e,n,i){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new K_(this.data.getIterator())}getIteratorFrom(e){return new K_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class K_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Jt([])}unionWith(e){let n=new Xe(lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Jt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sC("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const xF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(de(!!t),typeof t=="string"){let e=0;const n=xF.exec(t);if(de(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="server_timestamp",aC="__type__",lC="__previous_value__",cC="__local_write_time__";function Vy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[aC])===null||n===void 0?void 0:n.stringValue)===oC}function Xh(t){const e=t.mapValue.fields[lC];return Vy(e)?Xh(e):e}function Il(t){const e=xr(t.mapValue.fields[cC].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const sh="(default)";class kl{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="__type__",hC="__max__",zc={mapValue:{fields:{__type__:{stringValue:hC}}}},dC="__vector__",oh="value";function _r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vy(t)?4:bF(t)?9007199254740991:_F(t)?10:11:J()}function Xn(t,e){if(t===e)return!0;const n=_r(t);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Il(t).isEqual(Il(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=xr(r.timestampValue),a=xr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return wr(r.bytesValue).isEqual(wr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ve(r.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(r.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ve(r.integerValue)===Ve(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ve(r.doubleValue),a=Ve(s.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Io(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(G_(o)!==G_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return J()}}function Pl(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function ko(t,e){if(t===e)return 0;const n=_r(t),i=_r(e);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ve(s.integerValue||s.doubleValue),l=Ve(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Q_(t.timestampValue,e.timestampValue);case 4:return Q_(Il(t),Il(e));case 5:return Cm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=wr(s),l=wr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=re(a[c],l[c]);if(d!==0)return d}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ve(s.latitude),Ve(o.latitude));return a!==0?a:re(Ve(s.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Y_(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},m=(a=f[oh])===null||a===void 0?void 0:a.arrayValue,v=(l=p[oh])===null||l===void 0?void 0:l.arrayValue,w=re(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:Y_(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===zc.mapValue&&o===zc.mapValue)return 0;if(s===zc.mapValue)return 1;if(o===zc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Cm(l[f],d[f]);if(p!==0)return p;const m=ko(a[l[f]],c[d[f]]);if(m!==0)return m}return re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function Q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=xr(t),i=xr(e),r=re(n.seconds,i.seconds);return r!==0?r:re(n.nanos,i.nanos)}function Y_(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ko(n[r],i[r]);if(s)return s}return re(n.length,i.length)}function Po(t){return Im(t)}function Im(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=xr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Im(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Im(n.fields[o])}`;return r+"}"}(t.mapValue):J()}function uu(t){switch(_r(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(t);return e?16+uu(e):16;case 5:return 2*t.stringValue.length;case 6:return wr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+uu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Nr(i.fields,(s,o)=>{r+=s.length+uu(o)}),r}(t.mapValue);default:throw J()}}function km(t){return!!t&&"integerValue"in t}function Fy(t){return!!t&&"arrayValue"in t}function X_(t){return!!t&&"nullValue"in t}function J_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hu(t){return!!t&&"mapValue"in t}function _F(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[uC])===null||n===void 0?void 0:n.stringValue)===dC}function qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Nr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=qa(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!hu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qa(n)}setAll(e){let n=lt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=qa(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());hu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];hu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Nr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new zt(qa(this.value))}}function fC(t){const e=[];return Nr(t.fields,(n,i)=>{const r=new lt([n]);if(hu(i)){const s=fC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Jt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,te.min(),te.min(),te.min(),zt.empty(),0)}static newFoundDocument(e,n,i,r){return new bt(e,1,n,te.min(),i,r,0)}static newNoDocument(e,n){return new bt(e,2,n,te.min(),te.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,te.min(),te.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function Z_(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(o.referenceValue),n.key):i=ko(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function eb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function EF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{}class Ke extends pC{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new SF(e,n,i):n==="array-contains"?new kF(e,i):n==="in"?new PF(e,i):n==="not-in"?new AF(e,i):n==="array-contains-any"?new RF(e,i):new Ke(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new CF(e,i):new IF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends pC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return mC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function gC(t){return TF(t)&&mC(t)}function TF(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Pm(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Po(t.value);if(gC(t))return t.filters.map(e=>Pm(e)).join(",");{const e=t.filters.map(n=>Pm(n)).join(",");return`${t.op}(${e})`}}function yC(t,e){return t instanceof Ke?function(i,r){return r instanceof Ke&&i.op===r.op&&i.field.isEqual(r.field)&&Xn(i.value,r.value)}(t,e):t instanceof Jn?function(i,r){return r instanceof Jn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&yC(o,r.filters[a]),!0):!1}(t,e):void J()}function vC(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(vC).join(" ,")+"}"}(t):"Filter"}class SF extends Ke{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class CF extends Ke{constructor(e,n){super(e,"in",n),this.keys=xC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class IF extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=xC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function xC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class kF extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fy(n)&&Pl(n.arrayValue,this.value)}}class PF extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pl(this.value.arrayValue,n)}}class AF extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pl(this.value.arrayValue,n)}}class RF extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function tb(t,e=null,n=[],i=[],r=null,s=null,o=null){return new NF(t,e,n,i,r,s,o)}function Uy(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Pm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Po(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Po(i)).join(",")),e.le=n}return e.le}function zy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!EF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eb(t.startAt,e.startAt)&&eb(t.endAt,e.endAt)}function Am(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function DF(t,e,n,i,r,s,o,a){return new Jh(t,e,n,i,r,s,o,a)}function Zh(t){return new Jh(t)}function nb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jF(t){return t.collectionGroup!==null}function Ha(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(lt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new lh(s,i))}),n.has(lt.keyField().canonicalString())||e.he.push(new lh(lt.keyField(),i))}return e.he}function Wn(t){const e=ne(t);return e.Pe||(e.Pe=MF(e,Ha(t))),e.Pe}function MF(t,e){if(t.limitType==="F")return tb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new lh(r.field,s)});const n=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return tb(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Rm(t,e,n){return new Jh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ed(t,e){return zy(Wn(t),Wn(e))&&t.limitType===e.limitType}function wC(t){return`${Uy(Wn(t))}|lt:${t.limitType}`}function Ds(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>vC(r)).join(", ")}]`),Yh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>Po(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>Po(r)).join(",")),`Target(${i})`}(Wn(t))}; limitType=${t.limitType})`}function td(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Ha(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=Z_(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Ha(i),r)||i.endAt&&!function(o,a,l){const c=Z_(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Ha(i),r))}(t,e)}function OF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _C(t){return(e,n)=>{let i=!1;for(const r of Ha(t)){const s=LF(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function LF(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?ko(l,c):J()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Nr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return rC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new Ne(G.comparator);function Ii(){return VF}const bC=new Ne(G.comparator);function Ca(...t){let e=bC;for(const n of t)e=e.insert(n.key,n);return e}function EC(t){let e=bC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Qr(){return Wa()}function TC(){return Wa()}function Wa(){return new xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const FF=new Ne(G.comparator),UF=new Xe(G.comparator);function ae(...t){let e=UF;for(const n of t)e=e.add(n);return e}const zF=new Xe(re);function BF(){return zF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function SC(t){return{integerValue:""+t}}function $F(t,e){return gF(e)?SC(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this._=void 0}}function qF(t,e,n){return t instanceof ch?function(r,s){const o={fields:{[aC]:{stringValue:oC},[cC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Vy(s)&&(s=Xh(s)),s&&(o.fields[lC]=s),{mapValue:o}}(n,e):t instanceof Al?IC(t,e):t instanceof Rl?kC(t,e):function(r,s){const o=CC(r,s),a=ib(o)+ib(r.Ie);return km(o)&&km(r.Ie)?SC(a):By(r.serializer,a)}(t,e)}function HF(t,e,n){return t instanceof Al?IC(t,e):t instanceof Rl?kC(t,e):n}function CC(t,e){return t instanceof uh?function(i){return km(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class ch extends nd{}class Al extends nd{constructor(e){super(),this.elements=e}}function IC(t,e){const n=PC(e);for(const i of t.elements)n.some(r=>Xn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Rl extends nd{constructor(e){super(),this.elements=e}}function kC(t,e){let n=PC(e);for(const i of t.elements)n=n.filter(r=>!Xn(r,i));return{arrayValue:{values:n}}}class uh extends nd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ib(t){return Ve(t.integerValue||t.doubleValue)}function PC(t){return Fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function WF(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Al&&r instanceof Al||i instanceof Rl&&r instanceof Rl?Io(i.elements,r.elements,Xn):i instanceof uh&&r instanceof uh?Xn(i.Ie,r.Ie):i instanceof ch&&r instanceof ch}(t.transform,e.transform)}class GF{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class id{}function AC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $y(t.key,yn.none()):new Wl(t.key,t.data,yn.none());{const n=t.data,i=zt.empty();let r=new Xe(lt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Dr(t.key,i,new Jt(r.toArray()),yn.none())}}function KF(t,e,n){t instanceof Wl?function(r,s,o){const a=r.value.clone(),l=sb(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Dr?function(r,s,o){if(!du(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=sb(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(RC(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ga(t,e,n,i){return t instanceof Wl?function(s,o,a,l){if(!du(s.precondition,o))return a;const c=s.value.clone(),d=ob(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Dr?function(s,o,a,l){if(!du(s.precondition,o))return a;const c=ob(s.fieldTransforms,l,o),d=o.data;return d.setAll(RC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return du(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function QF(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=CC(i.transform,r||null);s!=null&&(n===null&&(n=zt.empty()),n.set(i.field,s))}return n||null}function rb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Io(i,r,(s,o)=>WF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wl extends id{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Dr extends id{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function RC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function sb(t,e,n){const i=new Map;de(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,HF(o,a,n[r]))}return i}function ob(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,qF(s,o,e))}return i}class $y extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YF extends id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&KF(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ga(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ga(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=TC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=AC(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(n,i)=>rb(n,i))&&Io(this.baseMutations,e.baseMutations,(n,i)=>rb(n,i))}}class qy{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){de(e.mutations.length===i.length);let r=function(){return FF}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new qy(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,ce;function eU(t){switch(t){case F.OK:return J();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return J()}}function NC(t){if(t===void 0)return Ci("GRPC error has no .code"),F.UNKNOWN;switch(t){case Be.OK:return F.OK;case Be.CANCELLED:return F.CANCELLED;case Be.UNKNOWN:return F.UNKNOWN;case Be.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Be.INTERNAL:return F.INTERNAL;case Be.UNAVAILABLE:return F.UNAVAILABLE;case Be.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Be.NOT_FOUND:return F.NOT_FOUND;case Be.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Be.ABORTED:return F.ABORTED;case Be.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Be.DATA_LOSS:return F.DATA_LOSS;default:return J()}}(ce=Be||(Be={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU=new hr([4294967295,4294967295],0);function ab(t){const e=tC().encode(t),n=new KS;return n.update(e),new Uint8Array(n.digest())}function lb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new hr([n,i],0),new hr([r,s],0)]}class Hy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ia(`Invalid padding: ${n}`);if(i<0)throw new Ia(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ia(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Ia(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=hr.fromNumber(this.Ee)}Ae(e,n,i){let r=e.add(n.multiply(hr.fromNumber(i)));return r.compare(tU)===1&&(r=new hr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=ab(e),[i,r]=lb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);if(!this.Re(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=ab(e),[i,r]=lb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Ia extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new rd(te.min(),r,new Ne(re),Ii(),ae())}}class Gl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Gl(i,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,i,r){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=r}}class DC{constructor(e,n){this.targetId=e,this.ge=n}}class jC{constructor(e,n,i=dt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class cb{constructor(){this.pe=0,this.ye=ub(),this.we=dt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ae(),n=ae(),i=ae();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:J()}}),new Gl(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=ub()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,de(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class nU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ii(),this.$e=Bc(),this.Ue=Bc(),this.Ke=new Ne(re)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,i=e.ge.count,r=this.Xe(n);if(r){const s=r.target;if(Am(s))if(i===0){const o=new G(s.path);this.ze(n,o,bt.newNoDocument(o,te.min()))}else de(i===1);else{const o=this.et(n);if(o!==i){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=wr(i).toUint8Array()}catch(l){if(l instanceof sC)return Co("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hy(o,r,s)}catch(l){return Co(l instanceof Ia?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Am(a.target)){const l=new G(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,bt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let i=ae();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const r=new rd(e,n,this.Ke,this.Qe,i);return this.Qe=Ii(),this.$e=Bc(),this.Ue=Bc(),this.Ke=new Ne(re),r}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new cb,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Xe(re),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xe(re),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new cb),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new Ne(G.comparator)}function ub(){return new Ne(G.comparator)}const iU={asc:"ASCENDING",desc:"DESCENDING"},rU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sU={and:"AND",or:"OR"};class oU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Nm(t,e){return t.useProto3Json||Yh(e)?e:{value:e}}function hh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function aU(t,e){return hh(t,e.toTimestamp())}function Gn(t){return de(!!t),te.fromTimestamp(function(n){const i=xr(n);return new Ye(i.seconds,i.nanos)}(t))}function Wy(t,e){return Dm(t,e).canonicalString()}function Dm(t,e){const n=function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function OC(t){const e=Se.fromString(t);return de(zC(e)),e}function jm(t,e){return Wy(t.databaseId,e.path)}function Xf(t,e){const n=OC(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(VC(n))}function LC(t,e){return Wy(t.databaseId,e)}function lU(t){const e=OC(t);return e.length===4?Se.emptyPath():VC(e)}function Mm(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VC(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function hb(t,e,n){return{name:jm(t,e),fields:n.value.mapValue.fields}}function cU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(de(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(de(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:NC(c.code);return new W(d,c.message||"")}(o);n=new jC(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=Xf(t,i.document.name),s=Gn(i.document.updateTime),o=i.document.createTime?Gn(i.document.createTime):te.min(),a=new zt({mapValue:{fields:i.document.fields}}),l=bt.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new fu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=Xf(t,i.document),s=i.readTime?Gn(i.readTime):te.min(),o=bt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=Xf(t,i.document),s=i.removedTargetIds||[];n=new fu([],s,r,null)}else{if(!("filter"in e))return J();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new ZF(r,s),a=i.targetId;n=new DC(a,o)}}return n}function uU(t,e){let n;if(e instanceof Wl)n={update:hb(t,e.key,e.value)};else if(e instanceof $y)n={delete:jm(t,e.key)};else if(e instanceof Dr)n={update:hb(t,e.key,e.data),updateMask:xU(e.fieldMask)};else{if(!(e instanceof YF))return J();n={verify:jm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Al)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Rl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof uh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw J()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:aU(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J()}(t,e.precondition)),n}function hU(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Gn(r.updateTime):Gn(s);return o.isEqual(te.min())&&(o=Gn(s)),new GF(o,r.transformResults||[])}(n,e))):[]}function dU(t,e){return{documents:[LC(t,e.path)]}}function fU(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=LC(t,r);const s=function(c){if(c.length!==0)return UC(Jn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:js(p.field),direction:gU(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Nm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:r}}function pU(t){let e=lU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){de(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=FC(f);return p instanceof Jn&&gC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new lh(Ms(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Yh(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new ah(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new ah(m,p)}(n.endAt)),DF(e,r,o,s,a,"F",l,c)}function mU(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Ms(n.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ms(n.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ms(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ms(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Ms(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(i=>FC(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return J()}}(n.compositeFilter.op))}(t):J()}function gU(t){return iU[t]}function yU(t){return rU[t]}function vU(t){return sU[t]}function js(t){return{fieldPath:t.canonicalString()}}function Ms(t){return lt.fromServerFormat(t.fieldPath)}function UC(t){return t instanceof Ke?function(n){if(n.op==="=="){if(J_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NAN"}};if(X_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(J_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NAN"}};if(X_(n.value))return{unaryFilter:{field:js(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(n.field),op:yU(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const i=n.getFilters().map(r=>UC(r));return i.length===1?i[0]:{compositeFilter:{op:vU(n.op),filters:i}}}(t):J()}function xU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,i,r,s=te.min(),o=te.min(),a=dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Xi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wU{constructor(e){this.Tt=e}}function _U(t){const e=pU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(){this.Tn=new EU}addToCollectionParentIndex(e,n){return this.Tn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(vr.min())}updateCollectionGroup(e,n,i){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class EU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(Se.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BC=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(BC,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ao(0)}static Kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="LruGarbageCollector",TU=1048576;function pb([t,e],[n,i]){const r=re(t,n);return r===0?re(e,i):r}class SU{constructor(e){this.Hn=e,this.buffer=new Xe(pb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();pb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class CU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(fb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qo(n)?q(fb,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.er(3e5)})}}class IU{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return V.resolve(Qh.ae);const i=new SU(n);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(db)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,r,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),Ns()<=oe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function kU(t,e){return new IU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(){this.changes=new xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ga(i.mutation,r,Jt.empty(),Ye.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ae()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ae()){const r=Qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Ca();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Qr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ae()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Ii();const o=Wa(),a=function(){return Wa()}();return n.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Dr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ga(d.mutation,c,d.mutation.getFieldMask(),Ye.now())):o.set(c.key,Jt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new AU(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Wa();let r=new Ne((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=i.get(l)||Jt.empty();d=a.applyToLocalView(c,d),i.set(l,d);const f=(r.get(a.batchId)||ae()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=TC();d.forEach(p=>{if(!s.has(p)){const m=AC(n.get(p),i.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return V.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):V.resolve(Qr());let a=Cl,l=s;return o.next(c=>V.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ae())).next(d=>({batchId:a,changes:EC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=Ca();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Ca();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const c=function(f,p){return new Jh(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,bt.newInvalidDocument(d)))});let a=Ca();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Ga(d.mutation,c,Jt.empty(),Ye.now()),td(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return V.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Gn(r.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:_U(r.bundledQuery),readTime:Gn(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.overlays=new Ne(G.comparator),this.Rr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Qr();return V.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.Et(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),V.resolve()}getOverlaysForCollection(e,n,i){const r=Qr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Qr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Qr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return V.resolve(a)}Et(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new JF(n,i));let s=this.Rr.get(n);s===void 0&&(s=ae(),this.Rr.set(n,s)),this.Rr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Vr=new Xe(Je.mr),this.gr=new Xe(Je.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Je(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Je(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new G(new Se([])),i=new Je(n,e),r=new Je(n,e+1),s=[];return this.gr.forEachInRange([i,r],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new G(new Se([])),i=new Je(n,e),r=new Je(n,e+1);let s=ae();return this.gr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Je{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return G.comparator(e.key,n.key)||re(e.Cr,n.Cr)}static pr(e,n){return re(e.Cr,n.Cr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xe(Je.mr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new XF(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Nr(i),s=r<0?0:r;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?Ly:this.Fr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Je(n,0),r=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],o=>{const a=this.Or(o.Cr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(re);return n.forEach(r=>{const s=new Je(r,0),o=new Je(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{i=i.add(a.Cr)})}),V.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const o=new Je(new G(s),0);let a=new Xe(re);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Cr)),!0)},o),V.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){de(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return V.forEach(n.mutations,r=>{const s=new Je(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Je(n,0),r=this.Mr.firstAfterOrEqual(i);return V.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.kr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let i=Ii();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():bt.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Ii();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||dF(hF(d),i)<=0||(r.has(d.key)||td(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,i,r){J()}qr(e,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new LU(this)}getSize(e){return V.resolve(this.size)}}class LU extends PU{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),V.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.persistence=e,this.Qr=new xs(n=>Uy(n),zy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Gy,this.targetCount=0,this.Kr=Ao.Un()}forEachTarget(e,n){return this.Qr.forEach((i,r)=>n(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),V.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ao(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.zn(n),V.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),V.waitFor(s).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return V.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),V.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),V.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return V.resolve(i)}containsKey(e,n){return V.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Qh(0),this.zr=!1,this.zr=!0,this.jr=new jU,this.referenceDelegate=e(this),this.Hr=new VU(this),this.indexManager=new bU,this.remoteDocumentCache=function(r){return new OU(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new wU(n),this.Yr=new NU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new MU(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new FU(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,n){return V.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class FU extends pF{constructor(e){super(),this.currentSequenceNumber=e}}class Ky{constructor(e){this.persistence=e,this.ti=new Gy,this.ni=null}static ri(e){return new Ky(e)}get ii(){if(this.ni)return this.ni;throw J()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),V.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),V.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.ii,i=>{const r=G.fromPath(i);return this.si(e,r).next(s=>{s||n.removeEntry(r,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return V.or([()=>V.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.oi=new xs(i=>yF(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=kU(this,n)}static ri(e,n){return new dh(e,n)}Zr(){}Xr(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return V.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?V.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,n).next(a=>{a||(i++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),V.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),V.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uu(e.data.value)),n}ar(e,n,i){return V.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return V.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(e,n){let i=ae(),r=ae();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Qy(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return L5()?8:mF(It())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new UU;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,i,r){return i.documentReadCount<this.es?(Ns()<=oe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),V.resolve()):(Ns()<=oe.DEBUG&&q("QueryEngine","Query:",Ds(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Ns()<=oe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wn(n))):V.resolve())}rs(e,n){if(nb(n))return V.resolve(null);let i=Wn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Rm(n,null,"F"),i=Wn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ae(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,Rm(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,i,r){return nb(n)||r.isEqual(te.min())?V.resolve(null):this.ns.getDocuments(e,i).next(s=>{const o=this.cs(n,s);return this.ls(n,o,i,r)?V.resolve(null):(Ns()<=oe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ds(n)),this.hs(e,o,n,uF(r,Cl)).next(a=>a))})}cs(e,n){let i=new Xe(_C(e));return n.forEach((r,s)=>{td(e,s)&&(i=i.add(s))}),i}ls(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,n,i){return Ns()<=oe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ds(n)),this.ns.getDocumentsMatchingQuery(e,n,vr.min(),i)}hs(e,n,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy="LocalStore",BU=3e8;class $U{constructor(e,n,i,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new Ne(re),this.Is=new xs(s=>Uy(s),zy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function qU(t,e,n,i){return new $U(t,e,n,i)}async function qC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ae();for(const c of r){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function HU(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=V.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(w=>{const T=c.docVersions.get(v);de(T!==null),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function HC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function WU(t,e){const n=ne(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,i)),r=r.insert(f,m),function(w,T,x){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=BU?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Hr.updateTargetData(s,m))});let l=Ii(),c=ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(GU(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!i.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=r,s))}function GU(t,e,n){let i=ae(),r=ae();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Ii();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(Yy,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:r}})}function KU(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ly),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function QU(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,e).next(s=>s?(r=s,V.resolve(r)):n.Hr.allocateTargetId(i).next(o=>(r=new Xi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Om(t,e,n){const i=ne(t),r=i.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!qo(o))throw o;q(Yy,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function mb(t,e,n){const i=ne(t);let r=te.min(),s=ae();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ne(l),p=f.Is.get(d);return p!==void 0?V.resolve(f.Ts.get(p)):f.Hr.getTargetData(c,d)}(i,o,Wn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,n?r:te.min(),n?s:ae())).next(a=>(YU(i,OF(e),a),{documents:a,gs:s})))}function YU(t,e,n){let i=t.Es.get(e)||te.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Es.set(e,i)}class gb{constructor(){this.activeTargetIds=BF()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XU{constructor(){this.ho=new gb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="ConnectivityMonitor";class vb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(yb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(yb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function Lm(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",ZU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ez{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===sh?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,n,i,r,s){const o=Lm(),a=this.bo(e,n.toUriEncodedString());q(Jf,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,r,s),this.vo(e,a,l,i).then(c=>(q(Jf,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Co(Jf,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}Co(e,n,i,r,s,o){return this.So(e,n,i,r,s)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}bo(e,n){const i=ZU[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class nz extends ez{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,r){const s=Lm();return new Promise((o,a)=>{const l=new QS;l.setWithCredentials(!0),l.listenOnce(YS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cu.NO_ERROR:const d=l.getResponseJson();q(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case cu.TIMEOUT:q(vt,`RPC '${e}' ${s} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const f=l.getStatus();if(q(vt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(x)>=0?x:F.UNKNOWN}(m.status);a(new W(v,m.message))}else a(new W(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{q(vt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);q(vt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Wo(e,n,i){const r=Lm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ZS(),a=JS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=s.join("");q(vt,`Creating RPC '${e}' stream ${r}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,m=!1;const v=new tz({Fo:T=>{m?q(vt,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(p||(q(vt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),q(vt,`RPC '${e}' stream ${r} sending:`,T),f.send(T))},Mo:()=>f.close()}),w=(T,x,_)=>{T.listen(x,E=>{try{_(E)}catch(I){setTimeout(()=>{throw I},0)}})};return w(f,Sa.EventType.OPEN,()=>{m||(q(vt,`RPC '${e}' stream ${r} transport opened.`),v.Qo())}),w(f,Sa.EventType.CLOSE,()=>{m||(m=!0,q(vt,`RPC '${e}' stream ${r} transport closed`),v.Uo())}),w(f,Sa.EventType.ERROR,T=>{m||(m=!0,Co(vt,`RPC '${e}' stream ${r} transport errored:`,T),v.Uo(new W(F.UNAVAILABLE,"The operation could not be completed")))}),w(f,Sa.EventType.MESSAGE,T=>{var x;if(!m){const _=T.data[0];de(!!_);const E=_,I=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(I){q(vt,`RPC '${e}' stream ${r} received error:`,I);const N=I.status;let O=function(k){const P=Be[k];if(P!==void 0)return NC(P)}(N),C=I.message;O===void 0&&(O=F.INTERNAL,C="Unknown error status: "+N+" with message "+I.message),m=!0,v.Uo(new W(O,C)),f.close()}else q(vt,`RPC '${e}' stream ${r} received:`,_),v.Ko(_)}}),w(a,XS.STAT_EVENT,T=>{T.stat===Sm.PROXY?q(vt,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Sm.NOPROXY&&q(vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){return new oU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="PersistentStream";class GC{constructor(e,n,i,r,s,o,a,l){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new WC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ci(n.toString()),Ci("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{e(()=>{const r=new W(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(xb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(xb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iz extends GC{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=cU(this.serializer,e),i=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Gn(o.readTime):te.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Am(l)?{documents:dU(s,l)}:{query:fU(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MC(s,o.resumeToken);const c=Nm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=hh(s,o.snapshotVersion.toTimestamp());const c=Nm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=mU(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.I_(n)}}class rz extends GC{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=hU(e.writeResults,e.commitTime),i=Gn(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Mm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>uU(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{}class oz extends sz{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Dm(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}Co(e,n,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Dm(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class az{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ci(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="RemoteStore";class lz{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{i.enqueueAndForget(async()=>{ws(this)&&(q(ds,"Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.W_.add(4),await Kl(c),c.j_.set("Unknown"),c.W_.delete(4),await od(c)}(this))})}),this.j_=new az(i,r)}}async function od(t){if(ws(t))for(const e of t.G_)await e(!0)}async function Kl(t){for(const e of t.G_)await e(!1)}function KC(t,e){const n=ne(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),ev(n)?Zy(n):Ho(n).c_()&&Jy(n,e))}function Xy(t,e){const n=ne(t),i=Ho(n);n.K_.delete(e),i.c_()&&QC(n,e),n.K_.size===0&&(i.c_()?i.P_():ws(n)&&n.j_.set("Unknown"))}function Jy(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).y_(e)}function QC(t,e){t.H_.Ne(e),Ho(t).w_(e)}function Zy(t){t.H_=new nU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.j_.B_()}function ev(t){return ws(t)&&!Ho(t).u_()&&t.K_.size>0}function ws(t){return ne(t).W_.size===0}function YC(t){t.H_=void 0}async function cz(t){t.j_.set("Online")}async function uz(t){t.K_.forEach((e,n)=>{Jy(t,e)})}async function hz(t,e){YC(t),ev(t)?(t.j_.q_(e),Zy(t)):t.j_.set("Unknown")}async function dz(t,e,n){if(t.j_.set("Online"),e instanceof jC&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.K_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.K_.delete(a),r.H_.removeTarget(a))}(t,e)}catch(i){q(ds,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await fh(t,i)}else if(e instanceof fu?t.H_.We(e):e instanceof DC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const i=await HC(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.K_.get(c);d&&s.K_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.K_.get(l);if(!d)return;s.K_.set(l,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),QC(s,l);const f=new Xi(d.target,l,c,d.sequenceNumber);Jy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){q(ds,"Failed to raise snapshot:",i),await fh(t,i)}}async function fh(t,e,n){if(!qo(e))throw e;t.W_.add(1),await Kl(t),t.j_.set("Offline"),n||(n=()=>HC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ds,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await od(t)})}function XC(t,e){return e().catch(n=>fh(t,n,e))}async function ad(t){const e=ne(t),n=br(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ly;for(;fz(e);)try{const r=await KU(e.localStore,i);if(r===null){e.U_.length===0&&n.P_();break}i=r.batchId,pz(e,r)}catch(r){await fh(e,r)}JC(e)&&ZC(e)}function fz(t){return ws(t)&&t.U_.length<10}function pz(t,e){t.U_.push(e);const n=br(t);n.c_()&&n.S_&&n.b_(e.mutations)}function JC(t){return ws(t)&&!br(t).u_()&&t.U_.length>0}function ZC(t){br(t).start()}async function mz(t){br(t).C_()}async function gz(t){const e=br(t);for(const n of t.U_)e.b_(n.mutations)}async function yz(t,e,n){const i=t.U_.shift(),r=qy.from(i,e,n);await XC(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ad(t)}async function vz(t,e){e&&br(t).S_&&await async function(i,r){if(function(o){return eU(o)&&o!==F.ABORTED}(r.code)){const s=i.U_.shift();br(i).h_(),await XC(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await ad(i)}}(t,e),JC(t)&&ZC(t)}async function wb(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q(ds,"RemoteStore received new credentials");const i=ws(n);n.W_.add(3),await Kl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await od(n)}async function xz(t,e){const n=ne(t);e?(n.W_.delete(2),await od(n)):e||(n.W_.add(2),await Kl(n),n.j_.set("Unknown"))}function Ho(t){return t.J_||(t.J_=function(n,i,r){const s=ne(n);return s.M_(),new iz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:cz.bind(null,t),No:uz.bind(null,t),Lo:hz.bind(null,t),p_:dz.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ev(t)?Zy(t):t.j_.set("Unknown")):(await t.J_.stop(),YC(t))})),t.J_}function br(t){return t.Y_||(t.Y_=function(n,i,r){const s=ne(n);return s.M_(),new rz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:mz.bind(null,t),Lo:vz.bind(null,t),D_:gz.bind(null,t),v_:yz.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await ad(t)):(await t.Y_.stop(),t.U_.length>0&&(q(ds,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new tv(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(Ci("AsyncQueue",`${e}: ${t}`),qo(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=Ca(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new lo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.Z_=new Ne(G.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):J():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ro{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ro(e,n,lo.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ed(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _z{constructor(){this.queries=bb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=ne(n),s=r.queries;r.queries=bb(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(i)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function bb(){return new xs(t=>wC(t),ed)}async function iv(t,e){const n=ne(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new wz,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(r,!0);break;case 1:s.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=nv(o,`Initialization of query '${Ds(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&sv(n)}async function rv(t,e){const n=ne(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function bz(t,e){const n=ne(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(r)&&(i=!0);o.ea=r}}i&&sv(n)}function Ez(t,e,n){const i=ne(t),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(n);i.queries.delete(e)}function sv(t){t.ia.forEach(e=>{e.next()})}var Vm,Eb;(Eb=Vm||(Vm={}))._a="default",Eb.Cache="cache";class ov{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Ro(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.key=e}}class tI{constructor(e){this.key=e}}class Tz{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ae(),this.mutatedKeys=ae(),this.ya=_C(e),this.wa=new lo(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new _b,r=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),m=td(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(i.track({type:3,doc:m}),T=!0):this.va(p,m)||(i.track({type:2,doc:m}),T=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),T=!0):p&&!m&&(i.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{wa:o,Da:i,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(m,v){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return w(m)-w(v)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(i),r=r!=null&&r;const a=n&&!r?this.Fa():[],l=this.pa.size===0&&this.current&&!r?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Ro(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new _b,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ae(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new tI(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new eI(i))}),n}Oa(e){this.fa=e.gs,this.pa=ae();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const av="SyncEngine";class Sz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Cz{constructor(e){this.key=e,this.Ba=!1}}class Iz{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new xs(a=>wC(a),ed),this.qa=new Map,this.Qa=new Set,this.$a=new Ne(G.comparator),this.Ua=new Map,this.Ka=new Gy,this.Wa={},this.Ga=new Map,this.za=Ao.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function kz(t,e,n=!0){const i=aI(t);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await nI(i,e,n,!0),r}async function Pz(t,e){const n=aI(t);await nI(n,e,!0,!1)}async function nI(t,e,n,i){const r=await QU(t.localStore,Wn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await Az(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&KC(t.remoteStore,r),a}async function Az(t,e,n,i,r){t.Ha=(f,p,m)=>async function(w,T,x,_){let E=T.view.ba(x);E.ls&&(E=await mb(w.localStore,T.query,!1).then(({documents:C})=>T.view.ba(C,E)));const I=_&&_.targetChanges.get(T.targetId),N=_&&_.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(E,w.isPrimaryClient,I,N);return Sb(w,T.targetId,O.Ma),O.snapshot}(t,f,p,m);const s=await mb(t.localStore,e,!0),o=new Tz(e,s.gs),a=o.ba(s.documents),l=Gl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Sb(t,n,c.Ma);const d=new Sz(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function Rz(t,e,n){const i=ne(t),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(o=>!ed(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Om(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Xy(i.remoteStore,r.targetId),Fm(i,r.targetId)}).catch($o)):(Fm(i,r.targetId),await Om(i.localStore,r.targetId,!0))}async function Nz(t,e){const n=ne(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Xy(n.remoteStore,i.targetId))}async function Dz(t,e,n){const i=Uz(t);try{const r=await function(o,a){const l=ne(o),c=Ye.now(),d=a.reduce((m,v)=>m.add(v.key),ae());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Ii(),w=ae();return l.ds.getEntries(m,d).next(T=>{v=T,v.forEach((x,_)=>{_.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(T=>{f=T;const x=[];for(const _ of a){const E=QF(_,f.get(_.key).overlayedDocument);E!=null&&x.push(new Dr(_.key,E,fC(E.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(T=>{p=T;const x=T.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,T.batchId,x)})}).then(()=>({batchId:p.batchId,changes:EC(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Ne(re)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(i,r.batchId,n),await Ql(i,r.changes),await ad(i.remoteStore)}catch(r){const s=nv(r,"Failed to persist write");n.reject(s)}}async function iI(t,e){const n=ne(t);try{const i=await WU(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Ua.get(s);o&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?de(o.Ba):r.removedDocuments.size>0&&(de(o.Ba),o.Ba=!1))}),await Ql(n,i,e)}catch(i){await $o(i)}}function Tb(t,e,n){const i=ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ta)p.sa(a)&&(c=!0)}),c&&sv(l)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function jz(t,e,n){const i=ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ua.get(e),s=r&&r.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,bt.newNoDocument(s,te.min()));const a=ae().add(s),l=new rd(te.min(),new Map,new Ne(re),o,a);await iI(i,l),i.$a=i.$a.remove(s),i.Ua.delete(e),lv(i)}else await Om(i.localStore,e,!1).then(()=>Fm(i,e,n)).catch($o)}async function Mz(t,e){const n=ne(t),i=e.batch.batchId;try{const r=await HU(n.localStore,e);sI(n,i,null),rI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ql(n,r)}catch(r){await $o(r)}}async function Oz(t,e,n){const i=ne(t);try{const r=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(de(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);sI(i,e,n),rI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ql(i,r)}catch(r){await $o(r)}}function rI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function sI(t,e,n){const i=ne(t);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function Fm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||oI(t,i)})}function oI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Xy(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),lv(t))}function Sb(t,e,n){for(const i of n)i instanceof eI?(t.Ka.addReference(i.key,e),Lz(t,i)):i instanceof tI?(q(av,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||oI(t,i.key)):J()}function Lz(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(q(av,"New document in limbo: "+n),t.Qa.add(i),lv(t))}function lv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new G(Se.fromString(e)),i=t.za.next();t.Ua.set(i,new Cz(n)),t.$a=t.$a.insert(n,i),KC(t.remoteStore,new Xi(Wn(Zh(n.path)),i,"TargetPurposeLimboResolution",Qh.ae))}}async function Ql(t,e,n){const i=ne(t),r=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach((a,l)=>{o.push(i.Ha(l,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Qy.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),i.La.p_(r),await async function(l,c){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(c,p=>V.forEach(p.Hi,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>V.forEach(p.Ji,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!qo(f))throw f;q(Yy,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ts.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.Ts=d.Ts.insert(p,w)}}}(i.localStore,s))}async function Vz(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q(av,"User change. New user:",e.toKey());const i=await qC(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new W(F.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ql(n,i.Rs)}}function Fz(t,e){const n=ne(t),i=n.Ua.get(e);if(i&&i.Ba)return ae().add(i.key);{let r=ae();const s=n.qa.get(e);if(!s)return r;for(const o of s){const a=n.ka.get(o);r=r.unionWith(a.view.Sa)}return r}}function aI(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jz.bind(null,e),e.La.p_=bz.bind(null,e.eventManager),e.La.Ja=Ez.bind(null,e.eventManager),e}function Uz(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Mz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oz.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return qU(this.persistence,new zU,e.initialUser,this.serializer)}Xa(e){return new $C(Ky.ri,this.serializer)}Za(e){return new XU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class zz extends ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){de(this.persistence.referenceDelegate instanceof dh);const i=this.persistence.referenceDelegate.garbageCollector;return new CU(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new $C(i=>dh.ri(i,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Tb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Vz.bind(null,this.syncEngine),await xz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _z}()}createDatastore(e){const n=sd(e.databaseInfo.databaseId),i=function(s){return new nz(s)}(e.databaseInfo);return function(s,o,a,l){return new oz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new lz(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Tb(this.syncEngine,n,0),function(){return vb.D()?new vb:new JU}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,d){const f=new Iz(r,s,o,a,l,c);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=ne(r);q(ds,"RemoteStore shutting down."),s.W_.add(5),await Kl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ci("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class Bz{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=wt.UNAUTHENTICATED,this.clientId=nC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{q(Er,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(q(Er,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=nv(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ep(t,e){t.asyncQueue.verifyOperationInProgress(),q(Er,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await qC(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Cb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $z(t);q(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>wb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>wb(e.remoteStore,r)),t._onlineComponents=e}async function $z(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Er,"Using user provided OfflineComponentProvider");try{await ep(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===F.FAILED_PRECONDITION||r.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await ep(t,new ph)}}else q(Er,"Using default OfflineComponentProvider"),await ep(t,new zz(void 0));return t._offlineComponents}async function lI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Er,"Using user provided OnlineComponentProvider"),await Cb(t,t._uninitializedComponentsProvider._online)):(q(Er,"Using default OnlineComponentProvider"),await Cb(t,new Um))),t._onlineComponents}function qz(t){return lI(t).then(e=>e.syncEngine)}async function mh(t){const e=await lI(t),n=e.eventManager;return n.onListen=kz.bind(null,e.syncEngine),n.onUnlisten=Rz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Nz.bind(null,e.syncEngine),n}function Hz(t,e,n={}){const i=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new cv({next:p=>{d.su(),o.enqueueAndForget(()=>rv(s,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ov(Zh(a.path),d,{includeMetadataChanges:!0,Ta:!0});return iv(s,f)}(await mh(t),t.asyncQueue,e,n,i)),i.promise}function Wz(t,e,n={}){const i=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new cv({next:p=>{d.su(),o.enqueueAndForget(()=>rv(s,f)),p.fromCache&&l.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ov(a,d,{includeMetadataChanges:!0,Ta:!0});return iv(s,f)}(await mh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Gz(t,e,n,i){if(e===!0&&i===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kb(t){if(!G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pb(t){if(G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function uv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uv(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="firestore.googleapis.com",Ab=!0;class Rb{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hI,this.ssl=Ab}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ab;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TU)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Gz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tF;switch(i.type){case"firstParty":return new sF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Ib.get(n);i&&(q("ComponentProvider","Removing Datastore"),Ib.delete(n),i.terminate())}(this),Promise.resolve()}}function Kz(t,e,n,i={}){var r;const s=(t=Gt(t,ld))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==hI&&s.host!==a&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:i});if(!cs(l,o)&&(t._setSettings(l),i.mockUserToken)){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=wt.MOCK_USER;else{c=A5(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new wt(f)}t._authCredentials=new nF(new eC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yl(this.firestore,e,this._query)}}class Mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class dr extends Yl{constructor(e,n,i){super(e,n,Zh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new G(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function pe(t,e,...n){if(t=it(t),uI("collection","path",e),t instanceof ld){const i=Se.fromString(e,...n);return Pb(i),new dr(t,null,i)}{if(!(t instanceof Mt||t instanceof dr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Se.fromString(e,...n));return Pb(i),new dr(t.firestore,null,i)}}function He(t,e,...n){if(t=it(t),arguments.length===1&&(e=nC.newId()),uI("doc","path",e),t instanceof ld){const i=Se.fromString(e,...n);return kb(i),new Mt(t,null,new G(i))}{if(!(t instanceof Mt||t instanceof dr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Se.fromString(e,...n));return kb(i),new Mt(t.firestore,t instanceof dr?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Db{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new WC(this,"async_queue_retry"),this.Su=()=>{const i=Zf();i&&q(Nb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=Zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!qo(e))throw e;q(Nb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ci("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=tv.createAndSchedule(this,e,n,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&J()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function jb(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ki extends ld{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Db,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Db(e),this._firestoreClient=void 0,await e}}}function Qz(t,e){const n=typeof t=="object"?t:HS(),i=typeof t=="string"?t:sh,r=My(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=k5("firestore");s&&Kz(r,...s)}return r}function cd(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Yz(t),t._firestoreClient}function Yz(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,d){return new wF(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,cI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new Bz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(dt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=/^__.*__$/;class Jz{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wl(e,this.data,n,this.fieldTransforms)}}class dI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Dr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function fI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class pv{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(fI(this.Lu)&&Xz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Zz{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||sd(e)}ju(e,n,i,r=!1){return new pv({Lu:e,methodName:n,zu:i,path:lt.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mv(t){const e=t._freezeSettings(),n=sd(t._databaseId);return new Zz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pI(t,e,n,i,r,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,r);gv("Data must be an object, but it was:",o,i);const a=mI(i,o);let l,c;if(s.merge)l=new Jt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=zm(e,f,n);if(!o.contains(p))throw new W(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);yI(d,p)||d.push(p)}l=new Jt(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new Jz(new zt(a),l,c)}class hd extends hv{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hd}}function eB(t,e,n,i){const r=t.ju(1,e,n);gv("Data must be an object, but it was:",r,i);const s=[],o=zt.empty();Nr(i,(l,c)=>{const d=yv(e,l,n);c=it(c);const f=r.Uu(d);if(c instanceof hd)s.push(d);else{const p=dd(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Jt(s);return new dI(o,a,r.fieldTransforms)}function tB(t,e,n,i,r,s){const o=t.ju(1,e,n),a=[zm(e,i,n)],l=[r];if(s.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(zm(e,s[p])),l.push(s[p+1]);const c=[],d=zt.empty();for(let p=a.length-1;p>=0;--p)if(!yI(c,a[p])){const m=a[p];let v=l[p];v=it(v);const w=o.Uu(m);if(v instanceof hd)c.push(m);else{const T=dd(v,w);T!=null&&(c.push(m),d.set(m,T))}}const f=new Jt(c);return new dI(d,f,o.fieldTransforms)}function dd(t,e){if(gI(t=it(t)))return gv("Unsupported field value:",e,t),mI(t,e);if(t instanceof hv)return function(i,r){if(!fI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=dd(a,r.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=it(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return $F(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ye.fromDate(i);return{timestampValue:hh(r.serializer,s)}}if(i instanceof Ye){const s=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hh(r.serializer,s)}}if(i instanceof dv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof No)return{bytesValue:MC(r.serializer,i._byteString)};if(i instanceof Mt){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof fv)return function(o,a){return{mapValue:{fields:{[uC]:{stringValue:dC},[oh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return By(a.serializer,c)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${uv(i)}`)}(t,e)}function mI(t,e){const n={};return rC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Nr(t,(i,r)=>{const s=dd(r,e.qu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function gI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof dv||t instanceof No||t instanceof Mt||t instanceof hv||t instanceof fv)}function gv(t,e,n){if(!gI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=uv(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function zm(t,e,n){if((e=it(e))instanceof ud)return e._internalPath;if(typeof e=="string")return yv(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const nB=new RegExp("[~\\*/\\[\\]]");function yv(t,e,n){if(e.search(nB)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ud(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new W(F.INVALID_ARGUMENT,a+t+l)}function yI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iB extends vI{data(){return super.data()}}function xI(t,e){return typeof e=="string"?yv(t,e):e instanceof ud?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rB{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Nr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[oh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ve(o.doubleValue));return new fv(s)}convertGeoPoint(e){return new dv(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Xh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){const n=xr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Se.fromString(e);de(zC(i));const r=new kl(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||Ci(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bI extends vI{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(xI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class pu extends bI{data(e={}){return super.data(e)}}class EI{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new ka(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new pu(this._firestore,this._userDataWriter,i.key,i,new ka(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new pu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ka(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new pu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ka(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:sB(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){t=Gt(t,Mt);const e=Gt(t.firestore,ki);return Hz(cd(e),t._key).then(n=>TI(e,t,n))}class vv extends rB{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function qe(t){t=Gt(t,Yl);const e=Gt(t.firestore,ki),n=cd(e),i=new vv(e);return wI(t._query),Wz(n,t._query).then(r=>new EI(e,i,t,r))}function Mb(t,e,n){t=Gt(t,Mt);const i=Gt(t.firestore,ki),r=_I(t.converter,e,n);return pd(i,[pI(mv(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,yn.none())])}function _s(t,e,n,...i){t=Gt(t,Mt);const r=Gt(t.firestore,ki),s=mv(r);let o;return o=typeof(e=it(e))=="string"||e instanceof ud?tB(s,"updateDoc",t._key,e,n,i):eB(s,"updateDoc",t._key,e),pd(r,[o.toMutation(t._key,yn.exists(!0))])}function bs(t){return pd(Gt(t.firestore,ki),[new $y(t._key,yn.none())])}function Es(t,e){const n=Gt(t.firestore,ki),i=He(t),r=_I(t.converter,e);return pd(n,[pI(mv(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,yn.exists(!1))]).then(()=>i)}function oB(t,...e){var n,i,r;t=it(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||jb(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(jb(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,c,d;if(t instanceof Mt)c=Gt(t.firestore,ki),d=Zh(t._key.path),l={next:f=>{e[o]&&e[o](TI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Gt(t,Yl);c=Gt(f.firestore,ki),d=f._query;const p=new vv(c);l={next:m=>{e[o]&&e[o](new EI(c,p,f,m))},error:e[o+1],complete:e[o+2]},wI(t._query)}return function(p,m,v,w){const T=new cv(w),x=new ov(m,T,v);return p.asyncQueue.enqueueAndForget(async()=>iv(await mh(p),x)),()=>{T.su(),p.asyncQueue.enqueueAndForget(async()=>rv(await mh(p),x))}}(cd(c),d,a,l)}function pd(t,e){return function(i,r){const s=new xi;return i.asyncQueue.enqueueAndForget(async()=>Dz(await qz(i),r,s)),s.promise}(cd(t),e)}function TI(t,e,n){const i=n.docs.get(e._key),r=new vv(t);return new bI(t,r,e._key,i,new ka(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){Bo=r})(zo),So(new us("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new ki(new iF(i.getProvider("auth-internal")),new oF(o,i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ur(F_,U_,e),ur(F_,U_,"esm2017")})();var aB="firebase",lB="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ur(aB,lB,"app");function xv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function SI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cB=SI,CI=new ql("auth","Firebase",SI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Dy("@firebase/auth");function uB(t,...e){yh.logLevel<=oe.WARN&&yh.warn(`Auth (${zo}): ${t}`,...e)}function mu(t,...e){yh.logLevel<=oe.ERROR&&yh.error(`Auth (${zo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw wv(t,...e)}function Kn(t,...e){return wv(t,...e)}function II(t,e,n){const i=Object.assign(Object.assign({},cB()),{[e]:n});return new ql("auth","Firebase",i).create(e,{appName:t.name})}function fr(t){return II(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return CI.create(t,...e)}function X(t,e,...n){if(!t)throw wv(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw mu(e),new Error(e)}function Pi(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hB(){return Ob()==="http:"||Ob()==="https:"}function Ob(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hB()||j5()||"connection"in navigator)?navigator.onLine:!0}function fB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pi(n>e,"Short delay should be less than long delay!"),this.isMobile=R5()||M5()}get(){return dB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){Pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=new Xl(3e4,6e4);function Ts(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function jr(t,e,n,i,r={}){return PI(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Hl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return D5()||(c.referrerPolicy="no-referrer"),kI.fetch()(AI(t,t.config.apiHost,n,a),c)})}async function PI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},pB),e);try{const r=new yB(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw qc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw qc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw qc(t,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw II(t,d,c);On(t,d)}}catch(r){if(r instanceof Ri)throw r;On(t,"network-request-failed",{message:String(r)})}}async function md(t,e,n,i,r={}){const s=await jr(t,e,n,i,r);return"mfaPendingCredential"in s&&On(t,"multi-factor-auth-required",{_serverResponse:s}),s}function AI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?_v(t.config,r):`${t.config.apiScheme}://${r}`}function gB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),mB.get())})}}function qc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Kn(t,e,i);return r.customData._tokenResponse=n,r}function Lb(t){return t!==void 0&&t.enterprise!==void 0}class vB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xB(t,e){return jr(t,"GET","/v2/recaptchaConfig",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(t,e){return jr(t,"POST","/v1/accounts:delete",e)}async function RI(t,e){return jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _B(t,e=!1){const n=it(t),i=await n.getIdToken(e),r=bv(i);X(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Ka(tp(r.auth_time)),issuedAtTime:Ka(tp(r.iat)),expirationTime:Ka(tp(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tp(t){return Number(t)*1e3}function bv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return mu("JWT malformed, contained fewer than 3 sections"),null;try{const r=VS(n);return r?JSON.parse(r):(mu("Failed to decode base64 JWT payload"),null)}catch(r){return mu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Vb(t){const e=bv(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ri&&bB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function bB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ka(this.lastLoginAt),this.creationTime=Ka(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Nl(t,RI(n,{idToken:i}));X(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?NI(s.providerUserInfo):[],a=SB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $m(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function TB(t){const e=it(t);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SB(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function NI(t){return t.map(e=>{var{providerId:n}=e,i=xv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CB(t,e){const n=await PI(t,{},async()=>{const i=Hl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=AI(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function IB(t,e){return jr(t,"POST","/v2/accounts:revokeToken",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=Vb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await CB(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new co;return i&&(X(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(X(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new co,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=xv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $m(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _B(this,e)}reload(){return TB(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await Nl(this,wB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,d;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:I,isAnonymous:N,providerData:O,stsTokenManager:C}=n;X(E&&C,e,"internal-error");const b=co.fromJSON(this.name,C);X(typeof E=="string",e,"internal-error"),Li(f,e.name),Li(p,e.name),X(typeof I=="boolean",e,"internal-error"),X(typeof N=="boolean",e,"internal-error"),Li(m,e.name),Li(v,e.name),Li(w,e.name),Li(T,e.name),Li(x,e.name),Li(_,e.name);const k=new di({uid:E,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:N,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:b,createdAt:x,lastLoginAt:_});return O&&Array.isArray(O)&&(k.providerData=O.map(P=>Object.assign({},P))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,n,i=!1){const r=new co;r.updateFromServerResponse(n);const s=new di({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await vh(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];X(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?NI(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new co;a.updateFromIdToken(i);const l=new di({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new $m(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new Map;function fi(t){Pi(t instanceof Function,"Expected a class definition");let e=Fb.get(t);return e?(Pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DI.type="NONE";const Ub=DI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t,e,n){return`firebase:${t}:${e}:${n}`}class uo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=gu(this.userKey,r.apiKey,s),this.fullPersistenceKey=gu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new uo(fi(Ub),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||fi(Ub);const o=gu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=di._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new uo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new uo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FI(e))return"Blackberry";if(UI(e))return"Webos";if(MI(e))return"Safari";if((e.includes("chrome/")||OI(e))&&!e.includes("edge/"))return"Chrome";if(VI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function jI(t=It()){return/firefox\//i.test(t)}function MI(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OI(t=It()){return/crios\//i.test(t)}function LI(t=It()){return/iemobile/i.test(t)}function VI(t=It()){return/android/i.test(t)}function FI(t=It()){return/blackberry/i.test(t)}function UI(t=It()){return/webos/i.test(t)}function Ev(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function kB(t=It()){var e;return Ev(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PB(){return O5()&&document.documentMode===10}function zI(t=It()){return Ev(t)||VI(t)||UI(t)||FI(t)||/windows phone/i.test(t)||LI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t,e=[]){let n;switch(t){case"Browser":n=zb(It());break;case"Worker":n=`${zb(It())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RB(t,e={}){return jr(t,"GET","/v2/passwordPolicy",Ts(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NB=6;class DB{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:NB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bb(this),this.idTokenSubscription=new Bb(this),this.beforeStateQueue=new AB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await RI(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(In(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(fr(this));const n=e?it(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RB(this),n=new DB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ql("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await IB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wo(t){return it(t)}class Bb{constructor(e){this.auth=e,this.observer=null,this.addObserver=q5(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MB(t){gd=t}function $I(t){return gd.loadJS(t)}function OB(){return gd.recaptchaEnterpriseScript}function LB(){return gd.gapiScript}function VB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class FB{constructor(){this.enterprise=new UB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zB="recaptcha-enterprise",qI="NO_RECAPTCHA";class BB{constructor(e){this.type=zB,this.auth=Wo(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{xB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new vB(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;Lb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(qI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FB().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Lb(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=OB();l.length!==0&&(l+=a),$I(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function $b(t,e,n,i=!1,r=!1){const s=new BB(t);let o;if(r)o=qI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function qb(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await $b(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await $b(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t,e){const n=My(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(cs(s,e??{}))return r;On(r,"already-initialized")}return n.initialize({options:e})}function qB(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function HB(t,e,n){const i=Wo(t);X(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=HI(e),{host:o,port:a}=WB(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){X(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),X(cs(c,i.config.emulator)&&cs(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,GB()}function HI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WB(t){const e=HI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Hb(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Hb(o)}}}function Hb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function GB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function KB(t,e){return jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QB(t,e){return md(t,"POST","/v1/accounts:signInWithPassword",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}async function XB(t,e){return md(t,"POST","/v1/accounts:signInWithEmailLink",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends Tv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Dl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Dl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qb(e,n,"signInWithPassword",QB);case"emailLink":return YB(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qb(e,i,"signUpPassword",KB);case"emailLink":return XB(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return md(t,"POST","/v1/accounts:signInWithIdp",Ts(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB="http://localhost";class fs extends Tv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=xv(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new fs(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ho(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:JB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e9(t){const e=Ea(Ta(t)).link,n=e?Ea(Ta(e)).deep_link_id:null,i=Ea(Ta(t)).deep_link_id;return(i?Ea(Ta(i)).link:null)||i||n||e||t}class Sv{constructor(e){var n,i,r,s,o,a;const l=Ea(Ta(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,f=ZB((r=l.mode)!==null&&r!==void 0?r:null);X(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=e9(e);try{return new Sv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Sv.parseLink(n);return X(i,"argument-error"),Dl._fromEmailAndCode(e,i.code,i.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends WI{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Jl{constructor(){super("facebook.com")}static credential(e){return fs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qi.credential(n,i)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Jl{constructor(){super("github.com")}static credential(e){return fs._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Jl{constructor(){super("twitter.com")}static credential(e,n){return fs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Wi.credential(n,i)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await di._fromIdTokenResponse(e,i,r),o=Wb(i);return new Do({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Wb(i);return new Do({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Wb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Ri{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new xh(e,n,i,r)}}function GI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(t,s,e,i):s})}async function t9(t,e,n=!1){const i=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Do._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e,n=!1){const{auth:i}=t;if(In(i.app))return Promise.reject(fr(i));const r="reauthenticate";try{const s=await Nl(t,GI(i,r,e,t),n);X(s.idToken,i,"internal-error");const o=bv(s.idToken);X(o,i,"internal-error");const{sub:a}=o;return X(t.uid===a,i,"user-mismatch"),Do._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&On(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(t,e,n=!1){if(In(t.app))return Promise.reject(fr(t));const i="signIn",r=await GI(t,i,e),s=await Do._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function i9(t,e){return KI(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function s9(t,e,n){return In(t.app)?Promise.reject(fr(t)):i9(it(t),Go.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&r9(t),i})}function o9(t,e,n,i){return it(t).onIdTokenChanged(e,n,i)}function a9(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function l9(t,e,n,i){return it(t).onAuthStateChanged(e,n,i)}function c9(t){return it(t).signOut()}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9=1e3,h9=10;class YI extends QI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);PB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,h9):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},u9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YI.type="LOCAL";const d9=YI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI extends QI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XI.type="SESSION";const JI=XI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await f9(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Cv("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function m9(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function g9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function v9(){return ZI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="firebaseLocalStorageDb",x9=1,_h="firebaseLocalStorage",tk="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vd(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function w9(){const t=indexedDB.deleteDatabase(ek);return new Zl(t).toPromise()}function qm(){const t=indexedDB.open(ek,x9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(_h,{keyPath:tk})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),await w9(),e(await qm()))})})}async function Gb(t,e,n){const i=vd(t,!0).put({[tk]:e,value:n});return new Zl(i).toPromise()}async function _9(t,e){const n=vd(t,!1).get(e),i=await new Zl(n).toPromise();return i===void 0?null:i.value}function Kb(t,e){const n=vd(t,!0).delete(e);return new Zl(n).toPromise()}const b9=800,E9=3;class nk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>E9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(v9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await g9(),!this.activeServiceWorker)return;this.sender=new p9(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await Gb(e,wh,"1"),await Kb(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gb(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>_9(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Kb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=vd(r,!1).getAll();return new Zl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nk.type="LOCAL";const T9=nk;new Xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t,e){return e?fi(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv extends Tv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function C9(t){return KI(t.auth,new Iv(t),t.bypassAuthState)}function I9(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),n9(n,new Iv(t),t.bypassAuthState)}async function k9(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),t9(n,new Iv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return C9;case"linkViaPopup":case"linkViaRedirect":return k9;case"reauthViaPopup":case"reauthViaRedirect":return I9;default:On(this.auth,"internal-error")}}resolve(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P9=new Xl(2e3,1e4);class to extends ik{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){Pi(this.filter.length===1,"Popup operations only handle one event");const e=Cv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P9.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="pendingRedirect",yu=new Map;class R9 extends ik{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=yu.get(this.auth._key());if(!e){try{const i=await N9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}yu.set(this.auth._key(),e)}return this.bypassAuthState||yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function N9(t,e){const n=M9(e),i=j9(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function D9(t,e){yu.set(t._key(),e)}function j9(t){return fi(t._redirectPersistence)}function M9(t){return gu(A9,t.config.apiKey,t.name)}async function O9(t,e,n=!1){if(In(t.app))return Promise.reject(fr(t));const i=Wo(t),r=S9(i,e),o=await new R9(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9=10*60*1e3;class V9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!rk(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=L9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qb(e))}saveEventToCache(e){this.cachedEventUids.add(Qb(e)),this.lastProcessedEventTime=Date.now()}}function Qb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e={}){return jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B9=/^https?/;async function $9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U9(t);for(const n of e)try{if(q9(n))return}catch{}On(t,"unauthorized-domain")}function q9(t){const e=Bm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!B9.test(n))return!1;if(z9.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new Xl(3e4,6e4);function Yb(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function W9(t){return new Promise((e,n)=>{var i,r,s;function o(){Yb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yb(),n(Kn(t,"network-request-failed"))},timeout:H9.get()})}if(!((r=(i=Qn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Qn().gapi)===null||s===void 0)&&s.load)o();else{const a=VB("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Kn(t,"network-request-failed"))},$I(`${LB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw vu=null,e})}let vu=null;function G9(t){return vu=vu||W9(t),vu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=new Xl(5e3,15e3),Q9="__/auth/iframe",Y9="emulator/auth/iframe",X9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},J9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z9(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_v(e,Y9):`https://${t.config.authDomain}/${Q9}`,i={apiKey:e.apiKey,appName:t.name,v:zo},r=J9.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Hl(i).slice(1)}`}async function e8(t){const e=await G9(t),n=Qn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:Z9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:X9,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Kn(t,"network-request-failed"),a=Qn().setTimeout(()=>{s(o)},K9.get());function l(){Qn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n8=500,i8=600,r8="_blank",s8="http://localhost";class Xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o8(t,e,n,i=n8,r=i8){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},t8),{width:i.toString(),height:r.toString(),top:s,left:o}),c=It().toLowerCase();n&&(a=OI(c)?r8:n),jI(c)&&(e=e||s8,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(kB(c)&&a!=="_self")return a8(e||"",a),new Xb(null);const f=window.open(e||"",a,d);X(f,t,"popup-blocked");try{f.focus()}catch{}return new Xb(f)}function a8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8="__/auth/handler",c8="emulator/auth/handler",u8=encodeURIComponent("fac");async function Jb(t,e,n,i,r,s){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:zo,eventId:r};if(e instanceof WI){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof Jl){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${u8}=${encodeURIComponent(l)}`:"";return`${h8(t)}?${Hl(a).slice(1)}${c}`}function h8({config:t}){return t.emulator?_v(t,c8):`https://${t.authDomain}/${l8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="webStorageSupport";class d8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JI,this._completeRedirectFn=O9,this._overrideRedirectResult=D9}async _openPopup(e,n,i,r){var s;Pi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Jb(e,n,i,Bm(),r);return o8(e,o,Cv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await Jb(e,n,i,Bm(),r);return m9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Pi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await e8(e),i=new V9(e);return n.register("authEvent",r=>(X(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(np,{type:np},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[np];o!==void 0&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zI()||MI()||Ev()}}const f8=d8;var Zb="@firebase/auth",e1="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g8(t){So(new us("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BI(t)},c=new jB(i,r,s,l);return qB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),So(new us("auth-internal",e=>{const n=Wo(e.getProvider("auth").getImmediate());return(i=>new p8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(Zb,e1,m8(t)),ur(Zb,e1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8=5*60,v8=zS("authIdTokenMaxAge")||y8;let t1=null;const x8=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>v8)return;const r=n==null?void 0:n.token;t1!==r&&(t1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function w8(t=HS()){const e=My(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$B(t,{popupRedirectResolver:f8,persistence:[T9,d9,JI]}),i=zS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=x8(s.toString());a9(n,o,()=>o(n.currentUser)),o9(n,a=>o(a))}}const r=FS("auth");return r&&HB(n,`http://${r}`),n}function _8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}MB({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Kn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",_8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g8("Browser");const b8={apiKey:"AIzaSyDyC18B907-b1H6dlgJNQHiLrsJN6g-k0Q",authDomain:"veilcode-labs.firebaseapp.com",projectId:"veilcode-labs",storageBucket:"veilcode-labs.firebasestorage.app",messagingSenderId:"875894459406",appId:"1:875894459406:web:fc712e6c33866e39fe005f"},sk=qS(b8),Hm=w8(sk),Z=Qz(sk),E8=[{name:"Course Information",description:"Access detailed course materials, syllabi, and learning objectives.",icon:rs,href:"/courses"},{name:"Resource Database",description:"Explore our curated collection of textbooks, papers, and tutorials.",icon:IT,href:"/resources"},{name:"Events",description:"Stay updated with upcoming conferences, seminars, and workshops.",icon:pl,href:"/events"},{name:"Members",description:"Connect with peers, discuss topics, and share knowledge.",icon:Yn,href:"/members"}];function T8(){var o,a;const[t,e]=R.useState(0),[n,i]=R.useState([]),[r,s]=R.useState(!0);return R.useEffect(()=>{(async()=>{try{const d=(await qe(pe(Z,"homeUpdates"))).docs.map(p=>p.data());i(d),s(!1);const f=oB(pe(Z,"homeUpdates"),p=>{const m=p.docs.map(v=>v.data());i(m)});return()=>f()}catch(c){console.error("Error loading updates:",c),s(!1)}})()},[]),R.useEffect(()=>{if(n.length===0)return;const l=setInterval(()=>{e(c=>(c+1)%n.length)},5e3);return()=>clearInterval(l)},[n]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative min-h-screen bg-transparent",children:[h.jsx(x5,{}),h.jsxs("div",{className:"relative z-10 space-y-12",children:[h.jsxs(z.div,{className:"text-center",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.2},children:[h.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl",children:"Welcome to VeilCode Labs"}),h.jsx("p",{className:"mt-6 text-lg leading-8 text-[rgb(224,204,250)]",children:"Your comprehensive resource for Applied Cryptography and Topics in Cryptanalysis at IIIT Delhi."}),h.jsxs(z.div,{className:"mt-10 flex items-center justify-center gap-x-6",whileHover:{scale:1.05},children:[h.jsx(Vt,{to:"/courses",className:"rounded-md bg-[rgb(136,58,234)] px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-[rgb(49,10,101)] transition-all duration-300",children:"Explore Courses"}),h.jsx(Vt,{to:"/about",className:"text-sm font-semibold leading-6 text-[rgb(224,204,250)] hover:text-white transition-colors duration-300",children:"Learn more →"})]})]}),h.jsxs(z.div,{className:"mx-auto max-w-7xl px-6 lg:px-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},children:[h.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[h.jsx("h2",{className:"text-base font-semibold text-[rgb(224,204,250)]",children:"Everything you need"}),h.jsx("p",{className:"mt-2 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Comprehensive Learning Resources"})]}),h.jsx("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none",children:h.jsx("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-2",children:E8.map((l,c)=>h.jsxs(z.div,{className:"group relative flex flex-col rounded-lg border border-[rgb(136,58,234)] p-6 hover:bg-[rgba(136,58,234,0.1)] transition",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.2,delay:c*.1},whileHover:{scale:1.05},children:[h.jsxs("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-white",children:[h.jsx(l.icon,{className:"h-5 w-5 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"}),l.name]}),h.jsx("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-[rgb(224,204,250)] group-hover:text-white transition-colors duration-300",children:h.jsx("p",{className:"flex-auto",children:l.description})})]},l.name))})})]}),r?h.jsx("div",{className:"text-center text-[rgb(224,204,250)]",children:"Loading updates..."}):n.length>0?h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Latest Updates"}),h.jsx("div",{className:"relative h-20 overflow-hidden flex items-center",children:h.jsx(jT,{mode:"wait",children:h.jsx(z.div,{className:"absolute w-full text-center",initial:{x:"100%",opacity:0},animate:{x:"0%",opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.7,ease:"easeInOut"},children:h.jsxs("div",{className:"border-l-4 border-[rgb(136,58,234)] pl-4 inline-block",children:[h.jsx("h3",{className:"font-semibold text-[rgb(224,204,250)]",children:((o=n[t])==null?void 0:o.title)||"No updates available"}),h.jsx("p",{className:"text-white",children:((a=n[t])==null?void 0:a.description)||""})]})},t)})})]}):h.jsx("div",{className:"text-center text-[rgb(224,204,250)]",children:"No updates available"})]})]})})}function S8(){var s,o,a,l;const[t,e]=R.useState([]),[n,i]=R.useState(null);an(),R.useEffect(()=>{(async()=>{const f=(await qe(pe(Z,"courses"))).docs.map(p=>({id:p.id,...p.data()}));e(f)})()},[]);const r=async c=>{const d=He(Z,"courses",c),f=await fd(d);f.exists()?i({id:f.id,...f.data()}):console.log("No such course!")};return n?h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[h.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:h.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(ml,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Courses"]})}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"md:col-span-2 space-y-6",children:[h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[h.jsx("div",{className:"h-64",children:h.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx(z.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-2",children:n.title}),h.jsxs("div",{className:"text-[rgb(224,204,250)] space-y-1",children:[h.jsxs("p",{children:["Course Code: ",n.courseCode]}),h.jsxs("p",{children:["Credits: ",n.credits]}),h.jsxs("p",{children:["Offered to: ",n.offeredTo]})]})]}),h.jsx(z.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:n.description}),h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[n.students," Students"]})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(ss,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:n.duration})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(rs,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:n.instructor})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Qx,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[n.rating,"/5.0"]})]})]})]})]}),((s=n.courseOutcomes)==null?void 0:s.length)>0&&h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Course Outcomes"}),h.jsx("div",{className:"grid gap-3",children:n.courseOutcomes.map((c,d)=>h.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},className:"flex items-start text-[rgb(224,204,250)] p-3 rounded-lg hover:bg-[rgba(49,10,101,0.2)] transition-colors duration-300",children:h.jsxs("span",{children:["CO",d+1,": ",c]})},d))})]})]}),h.jsxs("div",{className:"space-y-6",children:[n.prerequisites&&h.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prerequisites"}),Object.entries(n.prerequisites).map(([c,d])=>d.length>0&&h.jsxs("div",{className:"mb-4 last:mb-0",children:[h.jsxs("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2 capitalize",children:[c.replace(/([A-Z])/g," $1").trim(),":"]}),h.jsx("ul",{className:"space-y-2",children:d.map((f,p)=>h.jsx(z.li,{className:"flex items-center text-white",children:f},p))})]},c))]}),((o=n.assessment)==null?void 0:o.length)>0&&h.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Assessment Plan"}),h.jsx("div",{className:"space-y-3",children:n.assessment.map(({type:c,contribution:d})=>h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-[rgb(224,204,250)]",children:c}),h.jsxs("span",{className:"text-white",children:[d,"%"]})]},c))})]}),((l=(a=n.resources)==null?void 0:a.textbooks)==null?void 0:l.length)>0&&h.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Resource Material"}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{children:[h.jsx("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2",children:"Textbooks"}),h.jsx("ul",{className:"space-y-2",children:n.resources.textbooks.map((c,d)=>h.jsx(z.li,{className:"text-white",children:c},d))})]})})]}),h.jsx(z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Enroll Now"})]})]})]}):h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"text-center",children:h.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Courses"})}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.length>0?t.map((c,d)=>h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:[h.jsx("div",{className:"h-48",children:h.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:c.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:c.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(Yn,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[c.students," Students"]})]}),h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(ss,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:c.duration})]}),h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(rs,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:c.instructor})]}),h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(Qx,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[c.rating,"/5.0"]})]})]}),h.jsxs("button",{onClick:()=>r(c.id),className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View Course Details",h.jsx(ml,{className:"ml-2 h-4 w-4"})]})]})]},c.id)):h.jsx("p",{className:"text-white text-center col-span-2",children:"No courses available"})})]})}function C8(){var p;const[t,e]=R.useState([]),[n,i]=R.useState(!0),[r,s]=R.useState(null),[o,a]=R.useState(null),l=R.useRef();R.useEffect(()=>{(async()=>{const w=(await qe(pe(Z,"events"))).docs.map(T=>({id:T.id,...T.data(),gallery:T.data().gallery||[]}));e(w),i(!1)})()},[]),R.useEffect(()=>{const m=v=>{o&&l.current&&!l.current.contains(v.target)&&f()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[o]);const c=async m=>{const v=He(Z,"events",m),w=await fd(v);w.exists()?s({id:w.id,...w.data(),gallery:w.data().gallery||[]}):console.log("No such event!")},d=m=>{a(m),document.body.style.overflow="hidden"},f=()=>{a(null),document.body.style.overflow="auto"};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading events..."})}):r?h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[h.jsx(z.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:h.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(ml,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Events"]})}),o&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",ref:l,children:[h.jsx("button",{onClick:f,className:"absolute -top-10 right-0 text-white hover:text-[rgb(136,58,234)] transition-colors duration-300 z-10",children:h.jsx(Hg,{className:"h-8 w-8"})}),h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx("img",{src:o,alt:"Enlarged gallery view",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})})]})}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsx("div",{className:"md:col-span-2 space-y-6",children:h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[h.jsx("div",{className:"h-64",children:h.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsx(z.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-4",children:r.title}),h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(pl,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.date})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(ss,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.time})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Gx,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.location})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[r.registered||0,"/",r.capacity||0," Registered"]})]})]}),h.jsx(z.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:r.description})]})]})}),h.jsxs("div",{className:"space-y-6",children:[r.eventLink&&h.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Link"}),h.jsxs(z.a,{href:r.eventLink,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["Visit Event Site",h.jsx(vN,{className:"ml-2 h-4 w-4"})]})]}),((p=r.gallery)==null?void 0:p.length)>0&&h.jsxs(z.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Gallery"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.gallery.map((m,v)=>h.jsx(z.div,{whileHover:{scale:1.05},className:"h-48 cursor-pointer",onClick:()=>d(m),children:h.jsx("img",{src:m,alt:`Event gallery ${v+1}`,className:"w-full h-full object-cover rounded-md hover:ring-2 hover:ring-[rgb(136,58,234)] transition-all duration-300"})},v))})]})]})]})]}):h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Past Events"}),h.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Stay updated with the latest cryptography events, workshops, and conferences."})]}),h.jsx("div",{className:"grid gap-8",children:t.map((m,v)=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:v*.2},whileHover:{scale:1.05},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(pl,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:m.date})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(ss,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:m.time})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Gx,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:m.location})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[m.registered||0,"/",m.capacity||0," Registered"]})]})]}),h.jsxs(z.button,{onClick:()=>c(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View More Details",h.jsx(ml,{className:"ml-2 h-4 w-4"})]})]})]})},m.id))})]})}const I8=({isOpen:t,onClose:e,videoUrl:n})=>{const i=r=>{if(!r)return"";const s=r.match(/[?&]v=([^&]+)/);return s?s[1]:""};return h.jsx(jT,{children:t&&h.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:h.jsxs(z.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl bg-[#23262d] rounded-lg overflow-hidden",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Hg,{className:"h-6 w-6"})}),h.jsx("div",{className:"relative pt-[56.25%]",children:h.jsx("iframe",{src:`https://www.youtube.com/embed/${i(n)}?autoplay=1`,title:"YouTube video player",className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})})};function k8(){const[t,e]=R.useState("lectures"),[n,i]=R.useState(null),[r,s]=R.useState({lectures:{},books:{},videos:{},researchPapers:{}}),o=[{id:"lectures",label:"Lectures",icon:xN},{id:"books",label:"Books",icon:gN},{id:"videos",label:"Videos",icon:kN},{id:"researchPapers",label:"Research Papers",icon:Wx}],a=c=>{const d={};return c.forEach(f=>{const p=f.data().year||"Uncategorized";d[p]||(d[p]=[]),d[p].push({id:f.id,...f.data()})}),d};R.useEffect(()=>{(async()=>{const d=await qe(pe(Z,"lectures")),f=await qe(pe(Z,"books")),p=await qe(pe(Z,"videos")),m=await qe(pe(Z,"researchPapers"));s({lectures:a(d),books:a(f),videos:a(p),researchPapers:a(m)})})()},[]);const l=c=>Object.keys(c).sort((f,p)=>p.localeCompare(f)).map(f=>h.jsxs("div",{className:"mb-12",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-6 border-b border-[rgb(136,58,234)] pb-2",children:f==="Uncategorized"?"Other Resources":f}),t==="lectures"&&h.jsx("div",{className:"space-y-6",children:c[f].map((p,m)=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:p.title}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:p.description}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(ss,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),p.duration]}),h.jsx("div",{children:p.instructor})]})]}),h.jsxs(z.a,{href:p.pdfUrl,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-[rgb(136,58,234)] text-white px-4 py-2 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:[h.jsx(yN,{className:"h-4 w-4"}),h.jsx("span",{children:"Download PDF"})]})]})},p.id))}),t==="books"&&h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:p.title}),h.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:["by ",p.authors]}),h.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[h.jsxs("div",{children:[p.edition," • ",p.year]}),h.jsxs(z.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(Wx,{className:"h-4 w-4"}),h.jsx("span",{children:"Access Book"})]})]})]},p.id))}),t==="videos"&&h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[h.jsxs("div",{className:"relative h-48",children:[h.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover"}),h.jsx(z.button,{onClick:()=>i(p.videoUrl),className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 hover:bg-opacity-40 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(SN,{className:"h-12 w-12 text-white"})})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:p.title}),h.jsxs("div",{className:"flex justify-between items-center text-sm text-[rgb(224,204,250)]",children:[h.jsx("div",{children:p.instructor}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(ss,{className:"h-4 w-4 mr-2"}),p.duration]})]})]})]},p.id))}),t==="researchPapers"&&h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>h.jsx(z.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"group bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:p.title}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:p.description})]}),h.jsx(ml,{className:"h-6 w-6 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"})]})},p.id))})]},f));return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Course Resources"}),h.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Access all course materials, recommended readings, and additional resources."})]}),h.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)] overflow-x-auto pb-2",children:o.map(c=>h.jsxs(z.button,{onClick:()=>e(c.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${t===c.id?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:[h.jsx(c.icon,{className:"h-5 w-5"}),h.jsx("span",{className:"hidden md:inline",children:c.label})]},c.id))}),h.jsx("div",{className:"min-h-[400px]",children:l(r[t])}),h.jsx(I8,{isOpen:!!n,onClose:()=>i(null),videoUrl:n})]})}const n1=({member:t,index:e,isHead:n})=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:e*.1},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${n?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:`flex ${n?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[h.jsx(z.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:e*.1+.2},src:t.image,alt:t.name,className:`${n?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),h.jsxs("div",{className:`${n?"text-center md:text-left mt-4 md:mt-0":""}`,children:[h.jsx("h3",{className:`${n?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:e*.1+.4},className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&h.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(RT,{className:"h-5 w-5"})}),t.github&&h.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(PT,{className:"h-5 w-5"})}),t.linkedin&&h.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(AT,{className:"h-5 w-5"})})]})]})});function P8(){const[t,e]=R.useState([]),[n,i]=R.useState(!0);if(R.useEffect(()=>{(async()=>{const l=(await qe(pe(Z,"members"))).docs.map(c=>({id:c.id,...c.data()}));e(l),i(!1)})()},[]),n)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading members..."})});const r=t.find(o=>o.isHead),s=t.filter(o=>!o.isHead);return h.jsx(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8",children:h.jsxs("div",{className:"space-y-12",children:[h.jsxs(z.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Our Members"}),h.jsx("p",{className:"text-[rgb(224,204,250)] text-lg",children:"Meet our distinguished faculty members and researchers in cryptography."})]}),r&&h.jsx("div",{className:"px-4",children:h.jsx(n1,{member:r,index:0,isHead:!0})}),h.jsx("div",{className:"grid gap-8 md:grid-cols-2 px-4",children:s.map((o,a)=>h.jsx(n1,{member:o,index:a+1,isHead:!1},o.id))}),h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6 mt-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Join Our Community"}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:"Interested in joining our research group? We're always looking for passionate researchers and students."}),h.jsx(z.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"View Opportunities"})]})]})})}function A8(){const[t,e]=R.useState({stats:[],researchAreas:[],contact:{location:"",details:""},loading:!0});return R.useEffect(()=>{(async()=>{try{const i=He(Z,"content","about"),r=await fd(i);r.exists()&&e({...r.data(),loading:!1})}catch(i){console.error("Error fetching about data:",i),e(r=>({...r,loading:!1}))}})()},[]),t.loading?h.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading..."}):h.jsxs(z.div,{className:"space-y-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[h.jsxs(z.div,{className:"text-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},children:[h.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"About VeilCode Labs"}),h.jsx("p",{className:"text-[rgb(224,204,250)] text-lg max-w-3xl mx-auto",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.stats.map((n,i)=>h.jsxs(z.div,{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 text-center",whileHover:{scale:1.05},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.2},children:[n.icon==="Users"&&h.jsx(Yn,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="BookOpen"&&h.jsx(rs,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="Award"&&h.jsx(ST,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="Building"&&h.jsx(CT,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),h.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:n.value}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:n.name})]},n.name||i))}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:["Our Mission","Our Vision"].map((n,i)=>h.jsxs(z.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{x:i%2===0?-50:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:i*.2},children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:n==="Our Mission"?"To provide world-class education and research opportunities in cryptography, fostering innovation and excellence in information security.":"To be a leading center of excellence in cryptography research and education, contributing to secure communication technologies."})]},n))}),h.jsxs(z.div,{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)]",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Research Areas"}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.researchAreas.map((n,i)=>h.jsxs(z.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:i*.3},children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:n.title}),h.jsx("ul",{className:"list-disc list-inside text-white space-y-2",children:n.points.map((r,s)=>h.jsx("li",{children:r},s))})]},n.title||i))})]}),h.jsxs(z.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Us"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[h.jsxs(z.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:"Location"}),h.jsx("p",{className:"text-white whitespace-pre-line",children:t.contact.location})]}),h.jsxs(z.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2,delay:.2},children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:"Get in Touch"}),h.jsx("p",{className:"text-white whitespace-pre-line",children:t.contact.details})]})]})]})]})}function R8(){const[t,e]=R.useState([]),[n,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{const o=(await qe(pe(Z,"blogs"))).docs.map(a=>({id:a.id,...a.data()}));e(o),i(!1)})()},[]),n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading blogs..."})}):h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Blog"}),h.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Latest insights, research, and developments in cryptography."})]}),h.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},whileHover:{scale:1.05},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:r.image,alt:r.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:r.content}),r.tags&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map((o,a)=>h.jsx(z.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:o},a))}),h.jsxs("div",{className:"flex items-center justify-between text-[rgb(224,204,250)]",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(IN,{className:"h-4 w-4 mr-2"}),r.author]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(pl,{className:"h-4 w-4 mr-2"}),r.date]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(EN,{className:"h-4 w-4 mr-2"}),r.comments||0," Comments"]})]})]})]})},r.id))})]})}function N8(){const[t,e]=R.useState([]),[n,i]=R.useState(!0);return R.useEffect(()=>{(async()=>{const o=(await qe(pe(Z,"labs"))).docs.map(a=>({id:a.id,...a.data()}));e(o),i(!1)})()},[]),n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading labs..."})}):h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(z.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Labs"}),h.jsx(z.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Hands-on laboratory sessions for practical cryptography implementation."})]}),h.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>{var o;return h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:r.image,alt:r.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:r.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(ss,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.duration})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[r.enrolled||0,"/",r.capacity||0," Enrolled"]})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(rs,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.instructor})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(kT,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:((o=r.tools)==null?void 0:o.join(", "))||""})]})]}),r.prerequisites&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),h.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:r.prerequisites.map((a,l)=>h.jsx("li",{children:a},l))})]})]})]})},r.id)})})]})}const D8=()=>{const{pathname:t}=ys();return R.useEffect(()=>{window.scrollTo(0,0)},[t]),null},j8=()=>{const[t,e]=R.useState(""),[n,i]=R.useState(""),[r,s]=R.useState(""),o=an(),a=async l=>{l.preventDefault(),s("");try{await s9(Hm,t,n),o("/admin")}catch(c){console.error("Login error:",c.code,c.message),s(c.message)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#13151a]",children:h.jsxs("div",{className:"bg-[#23262d] p-8 rounded-lg border border-[rgb(136,58,234)] w-96",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login"}),r&&h.jsx("p",{className:"text-red-500 mb-4",children:r}),h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:l=>e(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>i(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("button",{type:"submit",className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Login"})]})]})})},ok=R.createContext(),M8=({children:t})=>{const[e,n]=R.useState(null);R.useEffect(()=>{const r=l9(Hm,s=>{n(s)});return()=>r()},[]);const i=async()=>{try{return await c9(Hm),!0}catch(r){return console.error("Logout error:",r),!1}};return h.jsx(ok.Provider,{value:{user:e,logout:i},children:t})},ei=()=>R.useContext(ok),O8=()=>{const{user:t,logout:e}=ei(),[n,i]=R.useState(!1),[r,s]=R.useState(!1);if(!t)return h.jsx(Vn,{to:"/admin-login"});const o=async()=>{i(!0);try{await e()}catch(a){console.error("Logout failed:",a)}finally{i(!1),s(!1)}};return h.jsxs("div",{className:"p-8 relative",children:[r&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] max-w-md w-full",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-6",children:"Are you sure you want to log out of the admin panel?"}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded-md bg-gray-600 text-white hover:bg-gray-700 transition-colors duration-300",disabled:n,children:"Cancel"}),h.jsx("button",{onClick:o,className:`px-4 py-2 rounded-md ${n?"bg-red-700 cursor-not-allowed":"bg-red-500 hover:bg-red-600"} text-white transition-colors duration-300`,disabled:n,children:n?"Logging Out...":"Logout"})]})]})}),h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("button",{onClick:()=>s(!0),className:`bg-red-500 text-white px-4 py-2 rounded-md ${n?"cursor-not-allowed opacity-75":"hover:bg-red-600"} transition-colors duration-300`,disabled:n,children:"Logout"})}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Admin Panel"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[h.jsx(Vt,{to:"/admin/home",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Home"})}),h.jsx(Vt,{to:"/admin/courses",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Courses"})}),h.jsx(Vt,{to:"/admin/blogs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Blogs"})}),h.jsx(Vt,{to:"/admin/events",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Events"})}),h.jsx(Vt,{to:"/admin/labs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Labs"})}),h.jsx(Vt,{to:"/admin/resources",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Resources"})}),h.jsx(Vt,{to:"/admin/members",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Members"})}),h.jsx(Vt,{to:"/admin/about",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage About"})})]})]})};function L8(){const[t,e]=R.useState([]),[n,i]=R.useState({title:"",description:""}),[r,s]=R.useState(null),[o,a]=R.useState(!0),[l,c]=R.useState(!1),{user:d}=ei(),f=an();R.useEffect(()=>{(async()=>{try{const E=await qe(pe(Z,"homeUpdates")),I=[];E.forEach(N=>{I.push({id:N.id,...N.data()})}),e(I)}catch(E){console.error("Error fetching updates: ",E)}finally{a(!1)}})()},[]);const p=async()=>{if(!(!n.title||!n.description))try{const _=await Es(pe(Z,"homeUpdates"),n);e([...t,{id:_.id,...n}]),i({title:"",description:""}),c(!1)}catch(_){console.error("Error adding update: ",_)}},m=async()=>{if(!(!r||!n.title||!n.description))try{await _s(He(Z,"homeUpdates",r),n),e(t.map(_=>_.id===r?{..._,...n}:_)),i({title:"",description:""}),c(!1)}catch(_){console.error("Error updating document: ",_)}},v=async _=>{try{await bs(He(Z,"homeUpdates",_)),e(t.filter(E=>E.id!==_))}catch(E){console.error("Error deleting document: ",E)}},w=()=>{s(null),i({title:"",description:""}),c(!0)},T=_=>{s(_.id),i({title:_.title,description:_.description}),c(!0)},x=()=>{c(!1),s(null),i({title:"",description:""})};return o?h.jsx("div",{className:"min-h-screen bg-[#13151a] flex items-center justify-center text-white",children:"Loading..."}):h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"bg-[#13151a] min-h-screen p-8 text-white",children:[h.jsx("div",{className:"flex justify-between items-center mb-8",children:h.jsxs("button",{onClick:()=>f("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-[rgb(224,204,250)]",children:"Manage Homepage Updates"}),d&&h.jsxs("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center mb-8",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add New Update"]}),h.jsx("div",{className:"space-y-6",children:t.length===0?h.jsx("div",{className:"text-center text-[rgb(224,204,250)] py-8",children:"No updates added yet"}):t.map(_=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:_.title}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:_.description})]}),d&&h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>T(_),className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(iu,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>v(_.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]})},_.id))}),l&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4 z-50",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:r?"Edit Update":"Add New Update"}),h.jsx("button",{onClick:x,className:"text-[rgb(224,204,250)] hover:text-white text-xl",children:"×"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-[rgb(224,204,250)]",children:"Title"}),h.jsx("input",{type:"text",value:n.title,onChange:_=>i({...n,title:_.target.value}),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Update title",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-[rgb(224,204,250)]",children:"Description"}),h.jsx("textarea",{value:n.description,onChange:_=>i({...n,description:_.target.value}),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Update description",rows:4,required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:x,className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{type:"button",onClick:r?m:p,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:r?"Update":"Add"})]})]})]})})]})}function V8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""}),{user:o}=ei(),a=an();R.useEffect(()=>{(async()=>{const w=(await qe(pe(Z,"courses"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;if(v.includes("resources.")){const[T,x]=v.split(".");s(_=>({..._,resources:{..._.resources,[x]:w.split(",").map(E=>E.trim()).filter(E=>E!=="")}}))}else if(v.includes("prerequisites.")){const[T,x]=v.split(".");s(_=>({..._,prerequisites:{..._.prerequisites,[x]:w.split(",").map(E=>E.trim())}}))}else s({...r,[v]:w})},c=(m,v)=>{const{value:w}=m.target;s(T=>({...T,[v]:w.split(",").map(x=>x.trim())}))},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await _s(He(Z,"courses",n.id),r),e(v=>v.map(w=>w.id===n.id?{...w,...r}:w));else{const v=await Es(pe(Z,"courses"),r);e(w=>[...w,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving course:",v)}},f=()=>{s({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""})},p=async m=>{await bs(He(Z,"courses",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Courses"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add Course"]}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map(m=>h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:m.description}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Course Code:"})," ",m.courseCode]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Instructor:"})," ",m.instructor]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Duration:"})," ",m.duration]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Students:"})," ",m.students]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Rating:"})," ",m.rating]}),m.image&&h.jsx("img",{src:m.image,alt:m.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Vo,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]},m.id))}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Course":"Add Course"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"courseCode",placeholder:"Course Code",value:r.courseCode,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"credits",placeholder:"Credits",type:"number",value:r.credits,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"offeredTo",placeholder:"Offered To",value:r.offeredTo,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"students",placeholder:"Number of Students",type:"number",value:r.students,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"rating",placeholder:"Rating (1-5)",type:"number",step:"0.1",min:"1",max:"5",value:r.rating,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"nextStart",placeholder:"Next Start Date (YYYY-MM-DD)",value:r.nextStart,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Prerequisites"}),h.jsx("input",{name:"prerequisites.mandatory",placeholder:"Mandatory (comma separated)",value:r.prerequisites.mandatory.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"prerequisites.desirable",placeholder:"Desirable (comma separated)",value:r.prerequisites.desirable.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"prerequisites.other",placeholder:"Other (comma separated)",value:r.prerequisites.other.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Course Outcomes (comma separated)"}),h.jsx("textarea",{name:"courseOutcomes",placeholder:"CO1: Outcome 1, CO2: Outcome 2, ...",value:r.courseOutcomes.join(", "),onChange:m=>c(m,"courseOutcomes"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Assessment Plan (format: Type:Contribution, ...)"}),h.jsx("textarea",{name:"assessment",placeholder:"Mid-sem:25, End-sem:35, ...",value:r.assessment.map(m=>`${m.type}:${m.contribution}`).join(", "),onChange:m=>{const w=m.target.value.split(",").map(T=>{const[x,_]=T.split(":").map(E=>E.trim());return{type:x,contribution:parseInt(_)||0}});s({...r,assessment:w})},className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Resources"}),h.jsx("textarea",{name:"resources.textbooks",placeholder:"Textbooks (comma separated)",value:r.resources.textbooks.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function F8(){const[t,e]=R.useState({lectures:{},books:{},videos:{},researchPapers:{}}),[n,i]=R.useState(null),[r,s]=R.useState({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:""}),{user:o}=ei(),a=an(),l=v=>{const w={};return v.forEach(T=>{const x=T.data().year||"Uncategorized";w[x]||(w[x]=[]),w[x].push({id:T.id,...T.data()})}),w};R.useEffect(()=>{(async()=>{const w=await qe(pe(Z,"lectures")),T=await qe(pe(Z,"books")),x=await qe(pe(Z,"videos")),_=await qe(pe(Z,"researchPapers"));e({lectures:l(w),books:l(T),videos:l(x),researchPapers:l(_)})})()},[]);const c=v=>{s({...r,[v.target.name]:v.target.value})},d=async v=>{v.preventDefault();try{const w={...r,year:r.year||new Date().getFullYear().toString()};if(n!=null&&n.id)await _s(He(Z,r.type,n.id),w),e(T=>{var _,E;const x={...T};return n.year&&n.year!==w.year&&(x[r.type][n.year]=((_=x[r.type][n.year])==null?void 0:_.filter(I=>I.id!==n.id))||[]),x[r.type][w.year]||(x[r.type][w.year]=[]),x[r.type][w.year]=[...((E=x[r.type][w.year])==null?void 0:E.filter(I=>I.id!==n.id))??[],{id:n.id,...w}],x});else{const T=await Es(pe(Z,r.type),w);e(x=>{const _={...x},E=w.year;return _[r.type][E]||(_[r.type][E]=[]),_[r.type][E]=[..._[r.type][E],{id:T.id,...w}],_})}i(null),s({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:""})}catch(w){console.error("Error saving resource:",w)}},f=async(v,w,T)=>{await bs(He(Z,w,v)),e(x=>{const _={...x};return _[w][T]=_[w][T].filter(E=>E.id!==v),_[w][T].length===0&&delete _[w][T],_})},p=()=>{switch(r.type){case"lectures":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"pdfUrl",placeholder:"PDF URL",value:r.pdfUrl,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"books":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"authors",placeholder:"Authors",value:r.authors,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"edition",placeholder:"Edition",value:r.edition,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"url",placeholder:"Link",value:r.url,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"videos":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"thumbnail",placeholder:"Thumbnail URL",value:r.thumbnail,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"videoUrl",placeholder:"Video URL",value:r.videoUrl,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"researchPapers":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"url",placeholder:"URL",value:r.url,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});default:return null}},m=v=>Object.keys(t[v]).sort((T,x)=>x.localeCompare(T)).map(T=>h.jsxs("div",{className:"mb-8",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-[rgb(136,58,234)] pb-2",children:T==="Uncategorized"?"Uncategorized":`Year: ${T}`}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t[v][T].map(x=>h.jsxs(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:x.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:x.description}),x.instructor&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Instructor:"})," ",x.instructor]}),x.duration&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Duration:"})," ",x.duration]}),x.authors&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Authors:"})," ",x.authors]}),x.edition&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Edition:"})," ",x.edition]}),x.year&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Year:"})," ",x.year]}),x.url&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Link:"}),h.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] ml-2",children:x.url})]}),x.thumbnail&&h.jsx("img",{src:x.thumbnail,alt:x.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(x),s({...x,type:v})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Vo,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>f(x.id,v,T),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]},x.id))})]},T));return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Resources"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add Resource"]}),h.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)]",children:["lectures","books","videos","researchPapers"].map(v=>h.jsx(z.button,{onClick:()=>s(w=>({...w,type:v})),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${r.type===v?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:h.jsx("span",{children:v.charAt(0).toUpperCase()+v.slice(1)})},v))}),h.jsx("div",{className:"space-y-8",children:m(r.type)}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Resource":"Add Resource"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("select",{name:"type",value:r.type,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",children:[h.jsx("option",{value:"lectures",children:"Lectures"}),h.jsx("option",{value:"books",children:"Books"}),h.jsx("option",{value:"videos",children:"Videos"}),h.jsx("option",{value:"researchPapers",children:"Research Papers"})]}),p(),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function U8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]}),{user:o}=ei(),a=an();R.useEffect(()=>{(async()=>{const w=(await qe(pe(Z,"labs"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;s({...r,[v]:w})},c=(m,v)=>{const{value:w}=m.target;s({...r,[v]:w.split(",").map(T=>T.trim())})},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await _s(He(Z,"labs",n.id),r),e(t.map(v=>v.id===n.id?{...v,...r}:v));else{const v=await Es(pe(Z,"labs"),r);e([...t,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving lab:",v)}},f=()=>{s({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]})},p=async m=>{await bs(He(Z,"labs",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Labs"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add Lab"]}),h.jsx("div",{className:"grid gap-8",children:t.map(m=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.duration})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsxs("span",{children:[m.enrolled,"/",m.capacity," Enrolled"]})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.instructor})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.tools.join(", ")})})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),h.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:m.prerequisites.map((v,w)=>h.jsx("li",{children:v},w))})]}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Vo,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Lab":"Add Lab"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("input",{name:"enrolled",type:"number",placeholder:"Enrolled",value:r.enrolled,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsx("input",{name:"prerequisites",placeholder:"Prerequisites (comma separated)",value:r.prerequisites.join(", "),onChange:m=>c(m,"prerequisites"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"tools",placeholder:"Tools (comma separated)",value:r.tools.join(", "),onChange:m=>c(m,"tools"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function z8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]}),{user:o}=ei(),a=an();R.useEffect(()=>{(async()=>{const w=(await qe(pe(Z,"events"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;s({...r,[v]:w})},c=m=>{const{value:v}=m.target;s({...r,gallery:v.split(",").map(w=>w.trim())})},d=async m=>{m.preventDefault();try{const v={...r,date:r.startDate===r.endDate||!r.endDate?r.startDate:`${r.startDate} to ${r.endDate}`};if(n!=null&&n.id)await _s(He(Z,"events",n.id),v),e(t.map(w=>w.id===n.id?{...w,...v}:w));else{const w=await Es(pe(Z,"events"),v);e([...t,{id:w.id,...v}])}i(null),f()}catch(v){console.error("Error saving event:",v)}},f=()=>{s({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]})},p=async m=>{await bs(He(Z,"events",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Events"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add Event"]}),h.jsx("div",{className:"grid gap-8",children:t.map(m=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.date})}),m.time&&h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.time})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.location})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsxs("span",{children:[m.registered,"/",m.capacity," Registered"]})})]}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{var w;i(m);const v=(w=m.date)!=null&&w.includes(" to ")?m.date.split(" to "):[m.date,m.date];s({...m,startDate:v[0],endDate:v[1]})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Vo,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Event":"Add Event"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Start Date"}),h.jsx("input",{name:"startDate",type:"date",value:r.startDate,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"End Date (optional)"}),h.jsx("input",{name:"endDate",type:"date",value:r.endDate,onChange:l,min:r.startDate,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsx("input",{name:"time",placeholder:"Time (optional, e.g., 10:00 AM - 4:00 PM)",value:r.time,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"location",placeholder:"Location",value:r.location,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"eventLink",placeholder:"Event Website URL",value:r.eventLink,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Capacity"}),h.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,min:"0",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Registered"}),h.jsx("input",{name:"registered",type:"number",placeholder:"Registered",value:r.registered,onChange:l,min:"0",max:r.capacity,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Gallery Image URLs (comma separated)"}),h.jsx("textarea",{name:"gallery",placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",value:(r.gallery||[]).join(", "),onChange:c,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function B8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1}),{user:o}=ei(),a=an();R.useEffect(()=>{(async()=>{const v=(await qe(pe(Z,"members"))).docs.map(w=>({id:w.id,...w.data()}));e(v)})()},[]);const l=p=>{const{name:m,value:v,type:w,checked:T}=p.target;s({...r,[m]:w==="checkbox"?T:v})},c=async p=>{p.preventDefault();try{if(n!=null&&n.id)await _s(He(Z,"members",n.id),r),e(t.map(m=>m.id===n.id?{...m,...r}:m));else{const m=await Es(pe(Z,"members"),r);e([...t,{id:m.id,...r}])}i(null),d()}catch(m){console.error("Error saving member:",m)}},d=()=>{s({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1})},f=async p=>{await bs(He(Z,"members",p)),e(t.filter(m=>m.id!==p))};return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Members"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add Member"]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Head Faculty"}),t.filter(p=>p.isHead).map(p=>h.jsx(i1,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!0},p.id))]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Team Members"}),h.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.filter(p=>!p.isHead).map(p=>h.jsx(i1,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!1},p.id))})]})]}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Member":"Add Member"}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Name"}),h.jsx("input",{name:"name",value:r.name,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Role"}),h.jsx("input",{name:"role",value:r.role,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Specialization"}),h.jsx("input",{name:"specialization",value:r.specialization,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Email"}),h.jsx("input",{name:"email",type:"email",value:r.email,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"GitHub Username"}),h.jsx("input",{name:"github",value:r.github,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"LinkedIn Username"}),h.jsx("input",{name:"linkedin",value:r.linkedin,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Image URL"}),h.jsx("input",{name:"image",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{name:"isHead",type:"checkbox",checked:r.isHead,onChange:l,className:"h-4 w-4 text-[rgb(136,58,234)] rounded border-gray-300 focus:ring-[rgb(136,58,234)]"}),h.jsx("label",{className:"ml-2 text-[rgb(224,204,250)]",children:"Is Head Faculty Member"})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),d()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}const i1=({member:t,onEdit:e,onDelete:n,isAdmin:i,isHead:r})=>h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${r?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:`flex ${r?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[h.jsx("img",{src:t.image,alt:t.name,className:`${r?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),h.jsxs("div",{className:`${r?"text-center md:text-left mt-4 md:mt-0":""}`,children:[h.jsx("h3",{className:`${r?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),h.jsxs("div",{className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&h.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(RT,{className:"h-5 w-5"})}),t.github&&h.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(PT,{className:"h-5 w-5"})}),t.linkedin&&h.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(AT,{className:"h-5 w-5"})})]}),i&&h.jsxs("div",{className:"flex space-x-2 mt-4 justify-center md:justify-start",children:[h.jsx("button",{onClick:e,className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Vo,{className:"h-5 w-5"})}),h.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]})});function $8(){const[t,e]=R.useState([]),[n,i]=R.useState(null),[r,s]=R.useState({title:"",content:"",author:"",date:"",image:"",tags:[],comments:0}),{user:o}=ei(),a=an();R.useEffect(()=>{(async()=>{const w=(await qe(pe(Z,"blogs"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;s({...r,[v]:w})},c=(m,v)=>{const{value:w}=m.target;s({...r,[v]:w.split(",").map(T=>T.trim())})},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await _s(He(Z,"blogs",n.id),r),e(t.map(v=>v.id===n.id?{...v,...r}:v));else{const v=await Es(pe(Z,"blogs"),{...r,date:new Date().toISOString().split("T")[0]});e([...t,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving blog:",v)}},f=()=>{s({title:"",content:"",author:"",date:"",image:"",tags:[],comments:0})},p=async m=>{await bs(He(Z,"blogs",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Blogs"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-2"}),"Add Blog Post"]}),h.jsx("div",{className:"grid gap-8",children:t.map(m=>{var v;return h.jsx(z.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 line-clamp-2",children:m.content}),h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(v=m.tags)==null?void 0:v.map((w,T)=>h.jsx("span",{className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:w},T))}),h.jsx("div",{className:"flex items-center justify-between text-[rgb(224,204,250)]",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx("div",{className:"flex items-center",children:h.jsx("span",{children:m.author})}),h.jsx("div",{className:"flex items-center",children:h.jsx("span",{children:m.date})})]})}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Vo,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]})]})]})},m.id)})}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Blog":"Add Blog"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"content",placeholder:"Content",value:r.content,onChange:l,required:!0,rows:"6",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"author",placeholder:"Author",value:r.author,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"date",type:"date",value:r.date,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"tags",placeholder:"Tags (comma separated)",value:r.tags.join(", "),onChange:m=>c(m,"tags"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"comments",type:"number",placeholder:"Comments count",value:r.comments,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}const q8={Users:Yn,BookOpen:rs,Award:ST,Building:CT};function H8(){const[t,e]=R.useState({stats:[],researchAreas:[],contact:{location:"",details:""}}),[n,i]=R.useState(null),[r,s]=R.useState(null),[o,a]=R.useState(!0),[l,c]=R.useState({success:null,message:""}),{user:d}=ei(),f=an();R.useEffect(()=>{(async()=>{try{const N=He(Z,"content","about"),O=await fd(N);if(O.exists()){const C=O.data();e({stats:C.stats||[],researchAreas:C.researchAreas||[],contact:C.contact||{location:"",details:""}})}else{const C={stats:[{name:"Active Students",value:"500+",icon:"Users"},{name:"Research Papers",value:"150+",icon:"BookOpen"},{name:"Awards",value:"25+",icon:"Award"},{name:"Partner Institutions",value:"10+",icon:"Building"}],researchAreas:[{title:"Applied Cryptography",points:["Public Key Infrastructure","Secure Communication Protocols","Blockchain Technology","Zero-Knowledge Proofs"]},{title:"Cryptanalysis",points:["Side-Channel Attacks","Quantum Cryptanalysis","Mathematical Cryptanalysis","Hardware Security"]}],contact:{location:"Cryptography Research Lab, IIIT Delhi, Okhla Industrial Estate, Phase III, New Delhi, India",details:`Email: Under-Development
Phone: Under-Development
Office Hours: Under-Development`}};await Mb(N,C),e(C)}}catch(N){console.error("Error fetching about data:",N),c({success:!1,message:"Failed to load data"})}finally{a(!1)}})()},[]);const p=async()=>{c({success:null,message:"Saving..."});try{const I=He(Z,"content","about");await Mb(I,t,{merge:!0}),c({success:!0,message:"Saved successfully!"}),setTimeout(()=>{c({success:null,message:""})},3e3)}catch(I){console.error("Error saving about data:",I),c({success:!1,message:`Error saving data: ${I.message}`})}},m=(I,N)=>{i(I),s(JSON.parse(JSON.stringify(N)))},v=(I,N,O)=>{if(Array.isArray(r)){const C=[...r];N?C[O]={...C[O],[N]:I.target.value}:C[O]=I.target.value,s(C)}else s(typeof r=="object"&&r!==null?{...r,[N]:I.target.value}:I.target.value)},w=()=>{let I={...t};switch(n){case"stats":case"researchAreas":I[n]=r;break;case"contactLocation":I.contact.location=r;break;case"contactDetails":I.contact.details=r;break}e(I),i(null)},T=()=>{const I=[...t.stats,{name:"",value:"",icon:"Users"}];e({...t,stats:I})},x=I=>{const N=t.stats.filter((O,C)=>C!==I);e({...t,stats:N})},_=()=>{const I=[...t.researchAreas,{title:"",points:[""]}];e({...t,researchAreas:I})},E=I=>{const N=t.researchAreas.filter((O,C)=>C!==I);e({...t,researchAreas:N})};return o?h.jsx("div",{className:"min-h-screen bg-[#13151a] flex items-center justify-center text-white",children:"Loading..."}):h.jsxs(z.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"bg-[#13151a] min-h-screen p-8 text-white",children:[l.message&&h.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md ${l.success===!0?"bg-green-600":l.success===!1?"bg-red-600":"bg-blue-600"} text-white z-50 transition-opacity duration-300`,children:l.message}),h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("button",{onClick:()=>f("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Pr,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]}),d&&h.jsx("button",{onClick:p,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",disabled:l.message==="Saving...",children:l.message==="Saving..."?"Saving...":h.jsxs(h.Fragment,{children:[h.jsx(CN,{className:"h-4 w-4 mr-2"}),"Save All Changes"]})})]}),h.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-[rgb(224,204,250)]",children:"Manage About Page Content"}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 mb-8 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"About VeilCode Labs"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Our Mission"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"To provide world-class education and research opportunities in cryptography, fostering innovation and excellence in information security."})]}),h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Our Vision"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"To be a leading center of excellence in cryptography research and education, contributing to secure communication technologies."})]})]}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 mb-8 border border-[rgb(136,58,234)]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-bold text-white",children:"Statistics"}),d&&h.jsxs("div",{className:"flex gap-2",children:[n!=="stats"&&h.jsxs("button",{onClick:()=>m("stats",[...t.stats]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(iu,{className:"h-4 w-4 mr-1"})," Edit"]}),h.jsxs("button",{onClick:T,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-1"})," Add"]})]})]}),n==="stats"?h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((I,N)=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:I.name,onChange:O=>v(O,"name",N),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Stat name"}),h.jsx("button",{onClick:()=>{const O=r.filter((C,b)=>b!==N);s(O)},className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]}),h.jsx("input",{type:"text",value:I.value,onChange:O=>v(O,"value",N),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Stat value"}),h.jsxs("select",{value:I.icon,onChange:O=>v(O,"icon",N),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",children:[h.jsx("option",{value:"Users",children:"Users Icon"}),h.jsx("option",{value:"BookOpen",children:"Book Icon"}),h.jsx("option",{value:"Award",children:"Award Icon"}),h.jsx("option",{value:"Building",children:"Building Icon"})]})]},N))}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("button",{onClick:()=>s([...r,{name:"",value:"",icon:"Users"}]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-1"})," Add Stat"]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]})]}):h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.stats.length>0?t.stats.map((I,N)=>{const O=q8[I.icon]||Yn;return h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] p-4 rounded-lg text-center relative",children:[h.jsx(O,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),h.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:I.value||"Value"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:I.name||"Stat Name"}),d&&h.jsx("button",{onClick:()=>x(N),className:"absolute top-1 right-1 text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-4 w-4"})})]},N)}):h.jsx("div",{className:"col-span-4 text-center text-[rgb(224,204,250)] py-4",children:"No statistics added yet"})})]}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)] mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Research Areas"}),d&&h.jsxs("div",{className:"flex gap-2",children:[n!=="researchAreas"&&h.jsxs("button",{onClick:()=>m("researchAreas",[...t.researchAreas]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(iu,{className:"h-4 w-4 mr-1"})," Edit"]}),h.jsxs("button",{onClick:_,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-1"})," Add"]})]})]}),n==="researchAreas"?h.jsxs("div",{className:"space-y-8",children:[r.map((I,N)=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"text",value:I.title,onChange:O=>{const C=[...r];C[N].title=O.target.value,s(C)},className:"flex-1 bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)] text-xl font-semibold",placeholder:"Research Area Title"}),h.jsx("button",{onClick:()=>{const O=r.filter((C,b)=>b!==N);s(O)},className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"space-y-2 ml-6",children:[I.points.map((O,C)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[rgb(224,204,250)]",children:"•"}),h.jsx("input",{type:"text",value:O,onChange:b=>{const k=[...r];k[N].points[C]=b.target.value,s(k)},className:"flex-1 bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]"}),h.jsx("button",{onClick:()=>{const b=[...r];b[N].points=b[N].points.filter((k,P)=>P!==C),s(b)},className:"text-red-500 hover:text-red-400 transition-colors duration-300",children:h.jsx(pn,{className:"h-4 w-4"})})]},C)),h.jsxs("button",{onClick:()=>{const O=[...r];O[N].points.push(""),s(O)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300 flex items-center text-sm mt-2",children:[h.jsx(fn,{className:"h-3 w-3 mr-1"})," Add Point"]})]})]},N)),h.jsxs("div",{className:"flex justify-between pt-4",children:[h.jsxs("button",{onClick:()=>{s([...r,{title:"",points:[""]}])},className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(fn,{className:"h-4 w-4 mr-1"})," Add Research Area"]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]})]}):h.jsx("div",{className:"space-y-8",children:t.researchAreas.length>0?t.researchAreas.map((I,N)=>h.jsxs("div",{className:"relative",children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title||"Research Area Title"}),h.jsx("ul",{className:"list-disc list-inside text-white space-y-2 ml-4",children:I.points.map((O,C)=>h.jsx("li",{children:O||"Research point..."},C))}),d&&h.jsx("button",{onClick:()=>E(N),className:"absolute top-0 right-0 text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(pn,{className:"h-5 w-5"})})]},N)):h.jsx("div",{className:"text-center text-[rgb(224,204,250)] py-4",children:"No research areas added yet"})})]}),h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Information"}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{section:"contactLocation",title:"Location",content:t.contact.location},{section:"contactDetails",title:"Get in Touch",content:t.contact.details}].map(I=>h.jsx("div",{className:"relative",children:n===I.section?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title}),h.jsx("textarea",{value:r,onChange:N=>s(N.target.value),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)] h-32"}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title}),h.jsx("p",{className:"text-white whitespace-pre-line",children:I.content||`${I.title} information...`}),d&&h.jsx("button",{onClick:()=>m(I.section,I.content),className:"absolute top-0 right-0 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(iu,{className:"h-5 w-5"})})]})},I.section))})]})]})}function W8(){const{user:t}=ei();return h.jsxs(cN,{children:[h.jsx(D8,{}),h.jsx(PN,{children:h.jsxs(nN,{children:[h.jsx(We,{path:"/",element:h.jsx(T8,{})}),h.jsx(We,{path:"/courses",element:h.jsx(S8,{})}),h.jsx(We,{path:"/resources",element:h.jsx(k8,{})}),h.jsx(We,{path:"/events",element:h.jsx(C8,{})}),h.jsx(We,{path:"/members",element:h.jsx(P8,{})}),h.jsx(We,{path:"/about",element:h.jsx(A8,{})}),h.jsx(We,{path:"/blog",element:h.jsx(R8,{})}),h.jsx(We,{path:"/labs",element:h.jsx(N8,{})}),h.jsx(We,{path:"/admin-login",element:h.jsx(j8,{})}),h.jsx(We,{path:"/admin",element:t?h.jsx(O8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/home",element:t?h.jsx(L8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/courses",element:t?h.jsx(V8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/resources",element:t?h.jsx(F8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/labs",element:t?h.jsx(U8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/events",element:t?h.jsx(z8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/members",element:t?h.jsx(B8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/blogs",element:t?h.jsx($8,{}):h.jsx(Vn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/about",element:t?h.jsx(H8,{}):h.jsx(Vn,{to:"/admin-login"})})]})})]})}gT(document.getElementById("root")).render(h.jsx(M8,{children:h.jsx(R.StrictMode,{children:h.jsx(W8,{})})}));

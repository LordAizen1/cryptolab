function Hk(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Wk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var h1={exports:{}},Ih={},d1={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),Gk=Symbol.for("react.portal"),Kk=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),Yk=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Jk=Symbol.for("react.context"),Zk=Symbol.for("react.forward_ref"),eP=Symbol.for("react.suspense"),tP=Symbol.for("react.memo"),nP=Symbol.for("react.lazy"),j0=Symbol.iterator;function iP(t){return t===null||typeof t!="object"?null:(t=j0&&t[j0]||t["@@iterator"],typeof t=="function"?t:null)}var f1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p1=Object.assign,m1={};function Vo(t,e,n){this.props=t,this.context=e,this.refs=m1,this.updater=n||f1}Vo.prototype.isReactComponent={};Vo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function g1(){}g1.prototype=Vo.prototype;function Xm(t,e,n){this.props=t,this.context=e,this.refs=m1,this.updater=n||f1}var Jm=Xm.prototype=new g1;Jm.constructor=Xm;p1(Jm,Vo.prototype);Jm.isPureReactComponent=!0;var D0=Array.isArray,y1=Object.prototype.hasOwnProperty,Zm={current:null},v1={key:!0,ref:!0,__self:!0,__source:!0};function x1(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)y1.call(e,i)&&!v1.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Ll,type:t,key:s,ref:o,props:r,_owner:Zm.current}}function rP(t,e){return{$$typeof:Ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ll}function sP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M0=/\/+/g;function Gd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sP(""+t.key):e.toString(36)}function Qc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ll:case Gk:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Gd(o,0):i,D0(r)?(n="",t!=null&&(n=t.replace(M0,"$&/")+"/"),Qc(r,e,n,"",function(c){return c})):r!=null&&(eg(r)&&(r=rP(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(M0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",D0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Gd(s,a);o+=Qc(s,e,n,l,r)}else if(l=iP(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Gd(s,a++),o+=Qc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bc(t,e,n){if(t==null)return t;var i=[],r=0;return Qc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function oP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ot={current:null},Yc={transition:null},aP={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:Yc,ReactCurrentOwner:Zm};function w1(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:bc,forEach:function(t,e,n){bc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bc(t,function(){e++}),e},toArray:function(t){return bc(t,function(e){return e})||[]},only:function(t){if(!eg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=Vo;se.Fragment=Kk;se.Profiler=Yk;se.PureComponent=Xm;se.StrictMode=Qk;se.Suspense=eP;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aP;se.act=w1;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=p1({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Zm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)y1.call(e,l)&&!v1.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Ll,type:t.type,key:r,ref:s,props:i,_owner:o}};se.createContext=function(t){return t={$$typeof:Jk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xk,_context:t},t.Consumer=t};se.createElement=x1;se.createFactory=function(t){var e=x1.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:Zk,render:t}};se.isValidElement=eg;se.lazy=function(t){return{$$typeof:nP,_payload:{_status:-1,_result:t},_init:oP}};se.memo=function(t,e){return{$$typeof:tP,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Yc.transition;Yc.transition={};try{t()}finally{Yc.transition=e}};se.unstable_act=w1;se.useCallback=function(t,e){return Ot.current.useCallback(t,e)};se.useContext=function(t){return Ot.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Ot.current.useDeferredValue(t)};se.useEffect=function(t,e){return Ot.current.useEffect(t,e)};se.useId=function(){return Ot.current.useId()};se.useImperativeHandle=function(t,e,n){return Ot.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ot.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ot.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ot.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Ot.current.useReducer(t,e,n)};se.useRef=function(t){return Ot.current.useRef(t)};se.useState=function(t){return Ot.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ot.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ot.current.useTransition()};se.version="18.3.1";d1.exports=se;var N=d1.exports;const Eu=Wk(N),lP=Hk({__proto__:null,default:Eu},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cP=N,uP=Symbol.for("react.element"),hP=Symbol.for("react.fragment"),dP=Object.prototype.hasOwnProperty,fP=cP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pP={key:!0,ref:!0,__self:!0,__source:!0};function _1(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)dP.call(e,i)&&!pP.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:uP,type:t,key:s,ref:o,props:r,_owner:fP.current}}Ih.Fragment=hP;Ih.jsx=_1;Ih.jsxs=_1;h1.exports=Ih;var h=h1.exports,b1={exports:{}},on={},E1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,X){var ee=$.length;$.push(X);e:for(;0<ee;){var Ce=ee-1>>>1,me=$[Ce];if(0<r(me,X))$[Ce]=X,$[ee]=me,ee=Ce;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var X=$[0],ee=$.pop();if(ee!==X){$[0]=ee;e:for(var Ce=0,me=$.length,Ve=me>>>1;Ce<Ve;){var ei=2*(Ce+1)-1,ti=$[ei],ni=ei+1,ii=$[ni];if(0>r(ti,ee))ni<me&&0>r(ii,ti)?($[Ce]=ii,$[ni]=ee,Ce=ni):($[Ce]=ti,$[ei]=ee,Ce=ei);else if(ni<me&&0>r(ii,ee))$[Ce]=ii,$[ni]=ee,Ce=ni;else break e}}return X}function r($,X){var ee=$.sortIndex-X.sortIndex;return ee!==0?ee:$.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,m=!1,v=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var X=n(c);X!==null;){if(X.callback===null)i(c);else if(X.startTime<=$)i(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=n(c)}}function I($){if(w=!1,E($),!v)if(n(l)!==null)v=!0,As(P);else{var X=n(c);X!==null&&xe(I,X.startTime-$)}}function P($,X){v=!1,w&&(w=!1,x(b),b=-1),m=!0;var ee=p;try{for(E(X),f=n(l);f!==null&&(!(f.expirationTime>X)||$&&!j());){var Ce=f.callback;if(typeof Ce=="function"){f.callback=null,p=f.priorityLevel;var me=Ce(f.expirationTime<=X);X=t.unstable_now(),typeof me=="function"?f.callback=me:f===n(l)&&i(l),E(X)}else i(l);f=n(l)}if(f!==null)var Ve=!0;else{var ei=n(c);ei!==null&&xe(I,ei.startTime-X),Ve=!1}return Ve}finally{f=null,p=ee,m=!1}}var D=!1,C=null,b=-1,k=5,A=-1;function j(){return!(t.unstable_now()-A<k)}function M(){if(C!==null){var $=t.unstable_now();A=$;var X=!0;try{X=C(!0,$)}finally{X?R():(D=!1,C=null)}}else D=!1}var R;if(typeof _=="function")R=function(){_(M)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Mi=kt.port2;kt.port1.onmessage=M,R=function(){Mi.postMessage(null)}}else R=function(){T(M,0)};function As($){C=$,D||(D=!0,R())}function xe($,X){b=T(function(){$(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,As(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var ee=p;p=X;try{return $()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=p;p=$;try{return X()}finally{p=ee}},t.unstable_scheduleCallback=function($,X,ee){var Ce=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Ce+ee:Ce):ee=Ce,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,$={id:d++,callback:X,priorityLevel:$,startTime:ee,expirationTime:me,sortIndex:-1},ee>Ce?($.sortIndex=ee,e(c,$),n(l)===null&&$===n(c)&&(w?(x(b),b=-1):w=!0,xe(I,ee-Ce))):($.sortIndex=me,e(l,$),v||m||(v=!0,As(P))),$},t.unstable_shouldYield=j,t.unstable_wrapCallback=function($){var X=p;return function(){var ee=p;p=X;try{return $.apply(this,arguments)}finally{p=ee}}}})(T1);E1.exports=T1;var mP=E1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=N,sn=mP;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S1=new Set,Ja={};function xs(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(Ja[t]=e,t=0;t<e.length;t++)S1.add(e[t])}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,yP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O0={},L0={};function vP(t){return lp.call(L0,t)?!0:lp.call(O0,t)?!1:yP.test(t)?L0[t]=!0:(O0[t]=!0,!1)}function xP(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wP(t,e,n,i){if(e===null||typeof e>"u"||xP(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var tg=/[\-:]([a-z])/g;function ng(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tg,ng);ut[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tg,ng);ut[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tg,ng);ut[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ig(t,e,n,i){var r=ut.hasOwnProperty(e)?ut[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wP(e,n,r,i)&&(n=null),i||r===null?vP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Ni=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),zs=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),rg=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),I1=Symbol.for("react.context"),sg=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),hp=Symbol.for("react.suspense_list"),og=Symbol.for("react.memo"),Bi=Symbol.for("react.lazy"),k1=Symbol.for("react.offscreen"),V0=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=V0&&t[V0]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Kd;function va(t){if(Kd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kd=e&&e[1]||""}return`
`+Kd+t}var Qd=!1;function Yd(t,e){if(!t||Qd)return"";Qd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?va(t):""}function _P(t){switch(t.tag){case 5:return va(t.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return t=Yd(t.type,!1),t;case 11:return t=Yd(t.type.render,!1),t;case 1:return t=Yd(t.type,!0),t;default:return""}}function dp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case zs:return"Portal";case cp:return"Profiler";case rg:return"StrictMode";case up:return"Suspense";case hp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I1:return(t.displayName||"Context")+".Consumer";case C1:return(t._context.displayName||"Context")+".Provider";case sg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case og:return e=t.displayName||null,e!==null?e:dp(t.type)||"Memo";case Bi:e=t._payload,t=t._init;try{return dp(t(e))}catch{}}return null}function bP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dp(e);case 8:return e===rg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EP(t){var e=P1(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=EP(t))}function A1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=P1(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Tu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fp(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function F0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function R1(t,e){e=e.checked,e!=null&&ig(t,"checked",e,!1)}function pp(t,e){R1(t,e);var n=gr(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&mp(t,e.type,gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function U0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mp(t,e,n){(e!=="number"||Tu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function oo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+gr(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(xa(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gr(n)}}function N1(t,e){var n=gr(e.value),i=gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function B0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,D1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Za(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Na={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TP=["Webkit","ms","Moz","O"];Object.keys(Na).forEach(function(t){TP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Na[e]=Na[t]})});function M1(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Na.hasOwnProperty(t)&&Na[t]?(""+e).trim():e+"px"}function O1(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=M1(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var SP=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(t,e){if(e){if(SP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _p=null,ao=null,lo=null;function $0(t){if(t=Ul(t)){if(typeof _p!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Nh(e),_p(t.stateNode,t.type,e))}}function L1(t){ao?lo?lo.push(t):lo=[t]:ao=t}function V1(){if(ao){var t=ao,e=lo;if(lo=ao=null,$0(t),e)for(t=0;t<e.length;t++)$0(e[t])}}function F1(t,e){return t(e)}function U1(){}var Xd=!1;function z1(t,e,n){if(Xd)return t(e,n);Xd=!0;try{return F1(t,e,n)}finally{Xd=!1,(ao!==null||lo!==null)&&(U1(),V1())}}function el(t,e){var n=t.stateNode;if(n===null)return null;var i=Nh(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var bp=!1;if(wi)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){bp=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{bp=!1}function CP(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var ja=!1,Su=null,Cu=!1,Ep=null,IP={onError:function(t){ja=!0,Su=t}};function kP(t,e,n,i,r,s,o,a,l){ja=!1,Su=null,CP.apply(IP,arguments)}function PP(t,e,n,i,r,s,o,a,l){if(kP.apply(this,arguments),ja){if(ja){var c=Su;ja=!1,Su=null}else throw Error(z(198));Cu||(Cu=!0,Ep=c)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q0(t){if(ws(t)!==t)throw Error(z(188))}function AP(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return q0(r),t;if(s===i)return q0(r),e;s=s.sibling}throw Error(z(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==i)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function $1(t){return t=AP(t),t!==null?q1(t):null}function q1(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=q1(t);if(e!==null)return e;t=t.sibling}return null}var H1=sn.unstable_scheduleCallback,H0=sn.unstable_cancelCallback,RP=sn.unstable_shouldYield,NP=sn.unstable_requestPaint,ze=sn.unstable_now,jP=sn.unstable_getCurrentPriorityLevel,lg=sn.unstable_ImmediatePriority,W1=sn.unstable_UserBlockingPriority,Iu=sn.unstable_NormalPriority,DP=sn.unstable_LowPriority,G1=sn.unstable_IdlePriority,kh=null,$n=null;function MP(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(kh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:VP,OP=Math.log,LP=Math.LN2;function VP(t){return t>>>=0,t===0?32:31-(OP(t)/LP|0)|0}var Cc=64,Ic=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ku(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=wa(a):(s&=o,s!==0&&(i=wa(s)))}else o=n&~r,o!==0?i=wa(o):s!==0&&(i=wa(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Pn(e),r=1<<n,i|=t[n],e&=~r;return i}function FP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UP(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=FP(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Tp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function K1(){var t=Cc;return Cc<<=1,!(Cc&4194240)&&(Cc=64),t}function Jd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function zP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Pn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function cg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Pn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var pe=0;function Q1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Y1,ug,X1,J1,Z1,Sp=!1,kc=[],er=null,tr=null,nr=null,tl=new Map,nl=new Map,qi=[],BP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W0(t,e){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":tl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":nl.delete(e.pointerId)}}function ha(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Ul(e),e!==null&&ug(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function $P(t,e,n,i,r){switch(e){case"focusin":return er=ha(er,t,e,n,i,r),!0;case"dragenter":return tr=ha(tr,t,e,n,i,r),!0;case"mouseover":return nr=ha(nr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return tl.set(s,ha(tl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,nl.set(s,ha(nl.get(s)||null,t,e,n,i,r)),!0}return!1}function eE(t){var e=Kr(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=B1(n),e!==null){t.blockedOn=e,Z1(t.priority,function(){X1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);wp=i,n.target.dispatchEvent(i),wp=null}else return e=Ul(n),e!==null&&ug(e),t.blockedOn=n,!1;e.shift()}return!0}function G0(t,e,n){Xc(t)&&n.delete(e)}function qP(){Sp=!1,er!==null&&Xc(er)&&(er=null),tr!==null&&Xc(tr)&&(tr=null),nr!==null&&Xc(nr)&&(nr=null),tl.forEach(G0),nl.forEach(G0)}function da(t,e){t.blockedOn===e&&(t.blockedOn=null,Sp||(Sp=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,qP)))}function il(t){function e(r){return da(r,t)}if(0<kc.length){da(kc[0],t);for(var n=1;n<kc.length;n++){var i=kc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(er!==null&&da(er,t),tr!==null&&da(tr,t),nr!==null&&da(nr,t),tl.forEach(e),nl.forEach(e),n=0;n<qi.length;n++)i=qi[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<qi.length&&(n=qi[0],n.blockedOn===null);)eE(n),n.blockedOn===null&&qi.shift()}var co=Ni.ReactCurrentBatchConfig,Pu=!0;function HP(t,e,n,i){var r=pe,s=co.transition;co.transition=null;try{pe=1,hg(t,e,n,i)}finally{pe=r,co.transition=s}}function WP(t,e,n,i){var r=pe,s=co.transition;co.transition=null;try{pe=4,hg(t,e,n,i)}finally{pe=r,co.transition=s}}function hg(t,e,n,i){if(Pu){var r=Cp(t,e,n,i);if(r===null)cf(t,e,i,Au,n),W0(t,i);else if($P(r,t,e,n,i))i.stopPropagation();else if(W0(t,i),e&4&&-1<BP.indexOf(t)){for(;r!==null;){var s=Ul(r);if(s!==null&&Y1(s),s=Cp(t,e,n,i),s===null&&cf(t,e,i,Au,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else cf(t,e,i,null,n)}}var Au=null;function Cp(t,e,n,i){if(Au=null,t=ag(i),t=Kr(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B1(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Au=t,null}function tE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jP()){case lg:return 1;case W1:return 4;case Iu:case DP:return 16;case G1:return 536870912;default:return 16}default:return 16}}var Qi=null,dg=null,Jc=null;function nE(){if(Jc)return Jc;var t,e=dg,n=e.length,i,r="value"in Qi?Qi.value:Qi.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Jc=r.slice(t,1<i?1-i:void 0)}function Zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pc(){return!0}function K0(){return!1}function an(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pc:K0,this.isPropagationStopped=K0,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pc)},persist:function(){},isPersistent:Pc}),e}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fg=an(Fo),Fl=Re({},Fo,{view:0,detail:0}),GP=an(Fl),Zd,ef,fa,Ph=Re({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fa&&(fa&&t.type==="mousemove"?(Zd=t.screenX-fa.screenX,ef=t.screenY-fa.screenY):ef=Zd=0,fa=t),Zd)},movementY:function(t){return"movementY"in t?t.movementY:ef}}),Q0=an(Ph),KP=Re({},Ph,{dataTransfer:0}),QP=an(KP),YP=Re({},Fl,{relatedTarget:0}),tf=an(YP),XP=Re({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),JP=an(XP),ZP=Re({},Fo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eA=an(ZP),tA=Re({},Fo,{data:0}),Y0=an(tA),nA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rA[t])?!!e[t]:!1}function pg(){return sA}var oA=Re({},Fl,{key:function(t){if(t.key){var e=nA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pg,charCode:function(t){return t.type==="keypress"?Zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aA=an(oA),lA=Re({},Ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X0=an(lA),cA=Re({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pg}),uA=an(cA),hA=Re({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),dA=an(hA),fA=Re({},Ph,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=an(fA),mA=[9,13,27,32],mg=wi&&"CompositionEvent"in window,Da=null;wi&&"documentMode"in document&&(Da=document.documentMode);var gA=wi&&"TextEvent"in window&&!Da,iE=wi&&(!mg||Da&&8<Da&&11>=Da),J0=" ",Z0=!1;function rE(t,e){switch(t){case"keyup":return mA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function yA(t,e){switch(t){case"compositionend":return sE(e);case"keypress":return e.which!==32?null:(Z0=!0,J0);case"textInput":return t=e.data,t===J0&&Z0?null:t;default:return null}}function vA(t,e){if($s)return t==="compositionend"||!mg&&rE(t,e)?(t=nE(),Jc=dg=Qi=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return iE&&e.locale!=="ko"?null:e.data;default:return null}}var xA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ex(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xA[t.type]:e==="textarea"}function oE(t,e,n,i){L1(i),e=Ru(e,"onChange"),0<e.length&&(n=new fg("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ma=null,rl=null;function wA(t){yE(t,0)}function Ah(t){var e=Ws(t);if(A1(e))return t}function _A(t,e){if(t==="change")return e}var aE=!1;if(wi){var nf;if(wi){var rf="oninput"in document;if(!rf){var tx=document.createElement("div");tx.setAttribute("oninput","return;"),rf=typeof tx.oninput=="function"}nf=rf}else nf=!1;aE=nf&&(!document.documentMode||9<document.documentMode)}function nx(){Ma&&(Ma.detachEvent("onpropertychange",lE),rl=Ma=null)}function lE(t){if(t.propertyName==="value"&&Ah(rl)){var e=[];oE(e,rl,t,ag(t)),z1(wA,e)}}function bA(t,e,n){t==="focusin"?(nx(),Ma=e,rl=n,Ma.attachEvent("onpropertychange",lE)):t==="focusout"&&nx()}function EA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ah(rl)}function TA(t,e){if(t==="click")return Ah(e)}function SA(t,e){if(t==="input"||t==="change")return Ah(e)}function CA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mn=typeof Object.is=="function"?Object.is:CA;function sl(t,e){if(Mn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!lp.call(e,r)||!Mn(t[r],e[r]))return!1}return!0}function ix(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rx(t,e){var n=ix(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ix(n)}}function cE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?cE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function uE(){for(var t=window,e=Tu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tu(t.document)}return e}function gg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IA(t){var e=uE(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&cE(n.ownerDocument.documentElement,n)){if(i!==null&&gg(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=rx(n,s);var o=rx(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kA=wi&&"documentMode"in document&&11>=document.documentMode,qs=null,Ip=null,Oa=null,kp=!1;function sx(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kp||qs==null||qs!==Tu(i)||(i=qs,"selectionStart"in i&&gg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Oa&&sl(Oa,i)||(Oa=i,i=Ru(Ip,"onSelect"),0<i.length&&(e=new fg("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=qs)))}function Ac(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:Ac("Animation","AnimationEnd"),animationiteration:Ac("Animation","AnimationIteration"),animationstart:Ac("Animation","AnimationStart"),transitionend:Ac("Transition","TransitionEnd")},sf={},hE={};wi&&(hE=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function Rh(t){if(sf[t])return sf[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hE)return sf[t]=e[n];return t}var dE=Rh("animationend"),fE=Rh("animationiteration"),pE=Rh("animationstart"),mE=Rh("transitionend"),gE=new Map,ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){gE.set(t,e),xs(e,[t])}for(var of=0;of<ox.length;of++){var af=ox[of],PA=af.toLowerCase(),AA=af[0].toUpperCase()+af.slice(1);Ir(PA,"on"+AA)}Ir(dE,"onAnimationEnd");Ir(fE,"onAnimationIteration");Ir(pE,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(mE,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xs("onBeforeInput",["compositionend","keypress","textInput","paste"]);xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RA=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function ax(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,PP(i,e,void 0,t),t.currentTarget=null}function yE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;ax(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;ax(r,a,c),s=l}}}if(Cu)throw t=Ep,Cu=!1,Ep=null,t}function _e(t,e){var n=e[jp];n===void 0&&(n=e[jp]=new Set);var i=t+"__bubble";n.has(i)||(vE(e,t,2,!1),n.add(i))}function lf(t,e,n){var i=0;e&&(i|=4),vE(n,t,i,e)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function ol(t){if(!t[Rc]){t[Rc]=!0,S1.forEach(function(n){n!=="selectionchange"&&(RA.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rc]||(e[Rc]=!0,lf("selectionchange",!1,e))}}function vE(t,e,n,i){switch(tE(e)){case 1:var r=HP;break;case 4:r=WP;break;default:r=hg}n=r.bind(null,e,n,t),r=void 0,!bp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function cf(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Kr(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}z1(function(){var c=s,d=ag(n),f=[];e:{var p=gE.get(t);if(p!==void 0){var m=fg,v=t;switch(t){case"keypress":if(Zc(n)===0)break e;case"keydown":case"keyup":m=aA;break;case"focusin":v="focus",m=tf;break;case"focusout":v="blur",m=tf;break;case"beforeblur":case"afterblur":m=tf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Q0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=QP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uA;break;case dE:case fE:case pE:m=JP;break;case mE:m=dA;break;case"scroll":m=GP;break;case"wheel":m=pA;break;case"copy":case"cut":case"paste":m=eA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=X0}var w=(e&4)!==0,T=!w&&t==="scroll",x=w?p!==null?p+"Capture":null:p;w=[];for(var _=c,E;_!==null;){E=_;var I=E.stateNode;if(E.tag===5&&I!==null&&(E=I,x!==null&&(I=el(_,x),I!=null&&w.push(al(_,I,E)))),T)break;_=_.return}0<w.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==wp&&(v=n.relatedTarget||n.fromElement)&&(Kr(v)||v[_i]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Kr(v):null,v!==null&&(T=ws(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(w=Q0,I="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(w=X0,I="onPointerLeave",x="onPointerEnter",_="pointer"),T=m==null?p:Ws(m),E=v==null?p:Ws(v),p=new w(I,_+"leave",m,n,d),p.target=T,p.relatedTarget=E,I=null,Kr(d)===c&&(w=new w(x,_+"enter",v,n,d),w.target=E,w.relatedTarget=T,I=w),T=I,m&&v)t:{for(w=m,x=v,_=0,E=w;E;E=Ms(E))_++;for(E=0,I=x;I;I=Ms(I))E++;for(;0<_-E;)w=Ms(w),_--;for(;0<E-_;)x=Ms(x),E--;for(;_--;){if(w===x||x!==null&&w===x.alternate)break t;w=Ms(w),x=Ms(x)}w=null}else w=null;m!==null&&lx(f,p,m,w,!1),v!==null&&T!==null&&lx(f,T,v,w,!0)}}e:{if(p=c?Ws(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=_A;else if(ex(p))if(aE)P=SA;else{P=EA;var D=bA}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=TA);if(P&&(P=P(t,c))){oE(f,P,n,d);break e}D&&D(t,p,c),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&mp(p,"number",p.value)}switch(D=c?Ws(c):window,t){case"focusin":(ex(D)||D.contentEditable==="true")&&(qs=D,Ip=c,Oa=null);break;case"focusout":Oa=Ip=qs=null;break;case"mousedown":kp=!0;break;case"contextmenu":case"mouseup":case"dragend":kp=!1,sx(f,n,d);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":sx(f,n,d)}var C;if(mg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else $s?rE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(iE&&n.locale!=="ko"&&($s||b!=="onCompositionStart"?b==="onCompositionEnd"&&$s&&(C=nE()):(Qi=d,dg="value"in Qi?Qi.value:Qi.textContent,$s=!0)),D=Ru(c,b),0<D.length&&(b=new Y0(b,t,null,n,d),f.push({event:b,listeners:D}),C?b.data=C:(C=sE(n),C!==null&&(b.data=C)))),(C=gA?yA(t,n):vA(t,n))&&(c=Ru(c,"onBeforeInput"),0<c.length&&(d=new Y0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}yE(f,e)})}function al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ru(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=el(t,n),s!=null&&i.unshift(al(t,s,r)),s=el(t,e),s!=null&&i.push(al(t,s,r))),t=t.return}return i}function Ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lx(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=el(n,s),l!=null&&o.unshift(al(n,l,a))):r||(l=el(n,s),l!=null&&o.push(al(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NA=/\r\n?/g,jA=/\u0000|\uFFFD/g;function cx(t){return(typeof t=="string"?t:""+t).replace(NA,`
`).replace(jA,"")}function Nc(t,e,n){if(e=cx(e),cx(t)!==e&&n)throw Error(z(425))}function Nu(){}var Pp=null,Ap=null;function Rp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Np=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,ux=typeof Promise=="function"?Promise:void 0,MA=typeof queueMicrotask=="function"?queueMicrotask:typeof ux<"u"?function(t){return ux.resolve(null).then(t).catch(OA)}:Np;function OA(t){setTimeout(function(){throw t})}function uf(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),il(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);il(e)}function ir(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function hx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Bn="__reactFiber$"+Uo,ll="__reactProps$"+Uo,_i="__reactContainer$"+Uo,jp="__reactEvents$"+Uo,LA="__reactListeners$"+Uo,VA="__reactHandles$"+Uo;function Kr(t){var e=t[Bn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_i]||n[Bn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=hx(t);t!==null;){if(n=t[Bn])return n;t=hx(t)}return e}t=n,n=t.parentNode}return null}function Ul(t){return t=t[Bn]||t[_i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Nh(t){return t[ll]||null}var Dp=[],Gs=-1;function kr(t){return{current:t}}function be(t){0>Gs||(t.current=Dp[Gs],Dp[Gs]=null,Gs--)}function ye(t,e){Gs++,Dp[Gs]=t.current,t.current=e}var yr={},Ct=kr(yr),qt=kr(!1),is=yr;function vo(t,e){var n=t.type.contextTypes;if(!n)return yr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Ht(t){return t=t.childContextTypes,t!=null}function ju(){be(qt),be(Ct)}function dx(t,e,n){if(Ct.current!==yr)throw Error(z(168));ye(Ct,e),ye(qt,n)}function xE(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(z(108,bP(t)||"Unknown",r));return Re({},n,i)}function Du(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,is=Ct.current,ye(Ct,t),ye(qt,qt.current),!0}function fx(t,e,n){var i=t.stateNode;if(!i)throw Error(z(169));n?(t=xE(t,e,is),i.__reactInternalMemoizedMergedChildContext=t,be(qt),be(Ct),ye(Ct,t)):be(qt),ye(qt,n)}var ai=null,jh=!1,hf=!1;function wE(t){ai===null?ai=[t]:ai.push(t)}function FA(t){jh=!0,wE(t)}function Pr(){if(!hf&&ai!==null){hf=!0;var t=0,e=pe;try{var n=ai;for(pe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}ai=null,jh=!1}catch(r){throw ai!==null&&(ai=ai.slice(t+1)),H1(lg,Pr),r}finally{pe=e,hf=!1}}return null}var Ks=[],Qs=0,Mu=null,Ou=0,dn=[],fn=0,rs=null,ci=1,ui="";function $r(t,e){Ks[Qs++]=Ou,Ks[Qs++]=Mu,Mu=t,Ou=e}function _E(t,e,n){dn[fn++]=ci,dn[fn++]=ui,dn[fn++]=rs,rs=t;var i=ci;t=ui;var r=32-Pn(i)-1;i&=~(1<<r),n+=1;var s=32-Pn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,ci=1<<32-Pn(e)+r|n<<r|i,ui=s+t}else ci=1<<s|n<<r|i,ui=t}function yg(t){t.return!==null&&($r(t,1),_E(t,1,0))}function vg(t){for(;t===Mu;)Mu=Ks[--Qs],Ks[Qs]=null,Ou=Ks[--Qs],Ks[Qs]=null;for(;t===rs;)rs=dn[--fn],dn[fn]=null,ui=dn[--fn],dn[fn]=null,ci=dn[--fn],dn[fn]=null}var en=null,Jt=null,Te=!1,kn=null;function bE(t,e){var n=gn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function px(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,en=t,Jt=ir(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,en=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rs!==null?{id:ci,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,en=t,Jt=null,!0):!1;default:return!1}}function Mp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Op(t){if(Te){var e=Jt;if(e){var n=e;if(!px(t,e)){if(Mp(t))throw Error(z(418));e=ir(n.nextSibling);var i=en;e&&px(t,e)?bE(i,n):(t.flags=t.flags&-4097|2,Te=!1,en=t)}}else{if(Mp(t))throw Error(z(418));t.flags=t.flags&-4097|2,Te=!1,en=t}}}function mx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;en=t}function jc(t){if(t!==en)return!1;if(!Te)return mx(t),Te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rp(t.type,t.memoizedProps)),e&&(e=Jt)){if(Mp(t))throw EE(),Error(z(418));for(;e;)bE(t,e),e=ir(e.nextSibling)}if(mx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=ir(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=en?ir(t.stateNode.nextSibling):null;return!0}function EE(){for(var t=Jt;t;)t=ir(t.nextSibling)}function xo(){Jt=en=null,Te=!1}function xg(t){kn===null?kn=[t]:kn.push(t)}var UA=Ni.ReactCurrentBatchConfig;function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var i=n.stateNode}if(!i)throw Error(z(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Dc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function gx(t){var e=t._init;return e(t._payload)}function TE(t){function e(x,_){if(t){var E=x.deletions;E===null?(x.deletions=[_],x.flags|=16):E.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function i(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function r(x,_){return x=ar(x,_),x.index=0,x.sibling=null,x}function s(x,_,E){return x.index=E,t?(E=x.alternate,E!==null?(E=E.index,E<_?(x.flags|=2,_):E):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,E,I){return _===null||_.tag!==6?(_=vf(E,x.mode,I),_.return=x,_):(_=r(_,E),_.return=x,_)}function l(x,_,E,I){var P=E.type;return P===Bs?d(x,_,E.props.children,I,E.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bi&&gx(P)===_.type)?(I=r(_,E.props),I.ref=pa(x,_,E),I.return=x,I):(I=ou(E.type,E.key,E.props,null,x.mode,I),I.ref=pa(x,_,E),I.return=x,I)}function c(x,_,E,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=xf(E,x.mode,I),_.return=x,_):(_=r(_,E.children||[]),_.return=x,_)}function d(x,_,E,I,P){return _===null||_.tag!==7?(_=ts(E,x.mode,I,P),_.return=x,_):(_=r(_,E),_.return=x,_)}function f(x,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=vf(""+_,x.mode,E),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ec:return E=ou(_.type,_.key,_.props,null,x.mode,E),E.ref=pa(x,null,_),E.return=x,E;case zs:return _=xf(_,x.mode,E),_.return=x,_;case Bi:var I=_._init;return f(x,I(_._payload),E)}if(xa(_)||ca(_))return _=ts(_,x.mode,E,null),_.return=x,_;Dc(x,_)}return null}function p(x,_,E,I){var P=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return P!==null?null:a(x,_,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:return E.key===P?l(x,_,E,I):null;case zs:return E.key===P?c(x,_,E,I):null;case Bi:return P=E._init,p(x,_,P(E._payload),I)}if(xa(E)||ca(E))return P!==null?null:d(x,_,E,I,null);Dc(x,E)}return null}function m(x,_,E,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return x=x.get(E)||null,a(_,x,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ec:return x=x.get(I.key===null?E:I.key)||null,l(_,x,I,P);case zs:return x=x.get(I.key===null?E:I.key)||null,c(_,x,I,P);case Bi:var D=I._init;return m(x,_,E,D(I._payload),P)}if(xa(I)||ca(I))return x=x.get(E)||null,d(_,x,I,P,null);Dc(_,I)}return null}function v(x,_,E,I){for(var P=null,D=null,C=_,b=_=0,k=null;C!==null&&b<E.length;b++){C.index>b?(k=C,C=null):k=C.sibling;var A=p(x,C,E[b],I);if(A===null){C===null&&(C=k);break}t&&C&&A.alternate===null&&e(x,C),_=s(A,_,b),D===null?P=A:D.sibling=A,D=A,C=k}if(b===E.length)return n(x,C),Te&&$r(x,b),P;if(C===null){for(;b<E.length;b++)C=f(x,E[b],I),C!==null&&(_=s(C,_,b),D===null?P=C:D.sibling=C,D=C);return Te&&$r(x,b),P}for(C=i(x,C);b<E.length;b++)k=m(C,x,b,E[b],I),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?b:k.key),_=s(k,_,b),D===null?P=k:D.sibling=k,D=k);return t&&C.forEach(function(j){return e(x,j)}),Te&&$r(x,b),P}function w(x,_,E,I){var P=ca(E);if(typeof P!="function")throw Error(z(150));if(E=P.call(E),E==null)throw Error(z(151));for(var D=P=null,C=_,b=_=0,k=null,A=E.next();C!==null&&!A.done;b++,A=E.next()){C.index>b?(k=C,C=null):k=C.sibling;var j=p(x,C,A.value,I);if(j===null){C===null&&(C=k);break}t&&C&&j.alternate===null&&e(x,C),_=s(j,_,b),D===null?P=j:D.sibling=j,D=j,C=k}if(A.done)return n(x,C),Te&&$r(x,b),P;if(C===null){for(;!A.done;b++,A=E.next())A=f(x,A.value,I),A!==null&&(_=s(A,_,b),D===null?P=A:D.sibling=A,D=A);return Te&&$r(x,b),P}for(C=i(x,C);!A.done;b++,A=E.next())A=m(C,x,b,A.value,I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?b:A.key),_=s(A,_,b),D===null?P=A:D.sibling=A,D=A);return t&&C.forEach(function(M){return e(x,M)}),Te&&$r(x,b),P}function T(x,_,E,I){if(typeof E=="object"&&E!==null&&E.type===Bs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ec:e:{for(var P=E.key,D=_;D!==null;){if(D.key===P){if(P=E.type,P===Bs){if(D.tag===7){n(x,D.sibling),_=r(D,E.props.children),_.return=x,x=_;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Bi&&gx(P)===D.type){n(x,D.sibling),_=r(D,E.props),_.ref=pa(x,D,E),_.return=x,x=_;break e}n(x,D);break}else e(x,D);D=D.sibling}E.type===Bs?(_=ts(E.props.children,x.mode,I,E.key),_.return=x,x=_):(I=ou(E.type,E.key,E.props,null,x.mode,I),I.ref=pa(x,_,E),I.return=x,x=I)}return o(x);case zs:e:{for(D=E.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(x,_.sibling),_=r(_,E.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=xf(E,x.mode,I),_.return=x,x=_}return o(x);case Bi:return D=E._init,T(x,_,D(E._payload),I)}if(xa(E))return v(x,_,E,I);if(ca(E))return w(x,_,E,I);Dc(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(x,_.sibling),_=r(_,E),_.return=x,x=_):(n(x,_),_=vf(E,x.mode,I),_.return=x,x=_),o(x)):n(x,_)}return T}var wo=TE(!0),SE=TE(!1),Lu=kr(null),Vu=null,Ys=null,wg=null;function _g(){wg=Ys=Vu=null}function bg(t){var e=Lu.current;be(Lu),t._currentValue=e}function Lp(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){Vu=t,wg=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function xn(t){var e=t._currentValue;if(wg!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(Vu===null)throw Error(z(308));Ys=t,Vu.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var Qr=null;function Eg(t){Qr===null?Qr=[t]:Qr.push(t)}function CE(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,Eg(e)):(n.next=r.next,r.next=n),e.interleaved=n,bi(t,i)}function bi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var $i=!1;function Tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,bi(t,n)}return r=i.interleaved,r===null?(e.next=e,Eg(i)):(e.next=r.next,r.next=e),i.interleaved=e,bi(t,n)}function eu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cg(t,n)}}function yx(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fu(t,e,n,i){var r=t.updateQueue;$i=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((i&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(p=e,m=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Re({},f,p);break e;case 2:$i=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;p=a,a=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(d===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);os|=o,t.lanes=o,t.memoizedState=f}}function vx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(z(191,r));r.call(i)}}}var zl={},qn=kr(zl),cl=kr(zl),ul=kr(zl);function Yr(t){if(t===zl)throw Error(z(174));return t}function Sg(t,e){switch(ye(ul,e),ye(cl,t),ye(qn,zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yp(e,t)}be(qn),ye(qn,e)}function _o(){be(qn),be(cl),be(ul)}function kE(t){Yr(ul.current);var e=Yr(qn.current),n=yp(e,t.type);e!==n&&(ye(cl,t),ye(qn,n))}function Cg(t){cl.current===t&&(be(qn),be(cl))}var ke=kr(0);function Uu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var df=[];function Ig(){for(var t=0;t<df.length;t++)df[t]._workInProgressVersionPrimary=null;df.length=0}var tu=Ni.ReactCurrentDispatcher,ff=Ni.ReactCurrentBatchConfig,ss=0,Ae=null,Ge=null,Ze=null,zu=!1,La=!1,hl=0,zA=0;function gt(){throw Error(z(321))}function kg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mn(t[n],e[n]))return!1;return!0}function Pg(t,e,n,i,r,s){if(ss=s,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,tu.current=t===null||t.memoizedState===null?HA:WA,t=n(i,r),La){s=0;do{if(La=!1,hl=0,25<=s)throw Error(z(301));s+=1,Ze=Ge=null,e.updateQueue=null,tu.current=GA,t=n(i,r)}while(La)}if(tu.current=Bu,e=Ge!==null&&Ge.next!==null,ss=0,Ze=Ge=Ae=null,zu=!1,e)throw Error(z(300));return t}function Ag(){var t=hl!==0;return hl=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?Ae.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function wn(){if(Ge===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var e=Ze===null?Ae.memoizedState:Ze.next;if(e!==null)Ze=e,Ge=t;else{if(t===null)throw Error(z(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},Ze===null?Ae.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function dl(t,e){return typeof e=="function"?e(t):e}function pf(t){var e=wn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=Ge,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((ss&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=i):l=l.next=f,Ae.lanes|=d,os|=d}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Mn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Ae.lanes|=s,os|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mf(t){var e=wn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Mn(s,e.memoizedState)||(Bt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function PE(){}function AE(t,e){var n=Ae,i=wn(),r=e(),s=!Mn(i.memoizedState,r);if(s&&(i.memoizedState=r,Bt=!0),i=i.queue,Rg(jE.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(n.flags|=2048,fl(9,NE.bind(null,n,i,r,e),void 0,null),et===null)throw Error(z(349));ss&30||RE(n,e,r)}return r}function RE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NE(t,e,n,i){e.value=n,e.getSnapshot=i,DE(e)&&ME(t)}function jE(t,e,n){return n(function(){DE(e)&&ME(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mn(t,n)}catch{return!0}}function ME(t){var e=bi(t,1);e!==null&&An(e,t,1,-1)}function xx(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:t},e.queue=t,t=t.dispatch=qA.bind(null,Ae,t),[e.memoizedState,t]}function fl(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function OE(){return wn().memoizedState}function nu(t,e,n,i){var r=Un();Ae.flags|=t,r.memoizedState=fl(1|e,n,void 0,i===void 0?null:i)}function Dh(t,e,n,i){var r=wn();i=i===void 0?null:i;var s=void 0;if(Ge!==null){var o=Ge.memoizedState;if(s=o.destroy,i!==null&&kg(i,o.deps)){r.memoizedState=fl(e,n,s,i);return}}Ae.flags|=t,r.memoizedState=fl(1|e,n,s,i)}function wx(t,e){return nu(8390656,8,t,e)}function Rg(t,e){return Dh(2048,8,t,e)}function LE(t,e){return Dh(4,2,t,e)}function VE(t,e){return Dh(4,4,t,e)}function FE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UE(t,e,n){return n=n!=null?n.concat([t]):null,Dh(4,4,FE.bind(null,e,t),n)}function Ng(){}function zE(t,e){var n=wn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&kg(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function BE(t,e){var n=wn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&kg(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function $E(t,e,n){return ss&21?(Mn(n,e)||(n=K1(),Ae.lanes|=n,os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function BA(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var i=ff.transition;ff.transition={};try{t(!1),e()}finally{pe=n,ff.transition=i}}function qE(){return wn().memoizedState}function $A(t,e,n){var i=or(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},HE(t))WE(e,n);else if(n=CE(t,e,n,i),n!==null){var r=jt();An(n,t,i,r),GE(n,e,i)}}function qA(t,e,n){var i=or(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(HE(t))WE(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Mn(a,o)){var l=e.interleaved;l===null?(r.next=r,Eg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=CE(t,e,r,i),n!==null&&(r=jt(),An(n,t,i,r),GE(n,e,i))}}function HE(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function WE(t,e){La=zu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GE(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,cg(t,n)}}var Bu={readContext:xn,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useInsertionEffect:gt,useLayoutEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useMutableSource:gt,useSyncExternalStore:gt,useId:gt,unstable_isNewReconciler:!1},HA={readContext:xn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:xn,useEffect:wx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nu(4194308,4,FE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nu(4194308,4,t,e)},useInsertionEffect:function(t,e){return nu(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Un();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=$A.bind(null,Ae,t),[i.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:xx,useDebugValue:Ng,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=xx(!1),e=t[0];return t=BA.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Ae,r=Un();if(Te){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),et===null)throw Error(z(349));ss&30||RE(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,wx(jE.bind(null,i,s,t),[t]),i.flags|=2048,fl(9,NE.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Un(),e=et.identifierPrefix;if(Te){var n=ui,i=ci;n=(i&~(1<<32-Pn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=hl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WA={readContext:xn,useCallback:zE,useContext:xn,useEffect:Rg,useImperativeHandle:UE,useInsertionEffect:LE,useLayoutEffect:VE,useMemo:BE,useReducer:pf,useRef:OE,useState:function(){return pf(dl)},useDebugValue:Ng,useDeferredValue:function(t){var e=wn();return $E(e,Ge.memoizedState,t)},useTransition:function(){var t=pf(dl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:AE,useId:qE,unstable_isNewReconciler:!1},GA={readContext:xn,useCallback:zE,useContext:xn,useEffect:Rg,useImperativeHandle:UE,useInsertionEffect:LE,useLayoutEffect:VE,useMemo:BE,useReducer:mf,useRef:OE,useState:function(){return mf(dl)},useDebugValue:Ng,useDeferredValue:function(t){var e=wn();return Ge===null?e.memoizedState=t:$E(e,Ge.memoizedState,t)},useTransition:function(){var t=mf(dl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:PE,useSyncExternalStore:AE,useId:qE,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vp(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mh={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=jt(),r=or(t),s=pi(i,r);s.payload=e,n!=null&&(s.callback=n),e=rr(t,s,r),e!==null&&(An(e,t,r,i),eu(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=jt(),r=or(t),s=pi(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rr(t,s,r),e!==null&&(An(e,t,r,i),eu(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=jt(),i=or(t),r=pi(n,i);r.tag=2,e!=null&&(r.callback=e),e=rr(t,r,i),e!==null&&(An(e,t,i,n),eu(e,t,i))}};function _x(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!sl(n,i)||!sl(r,s):!0}function KE(t,e,n){var i=!1,r=yr,s=e.contextType;return typeof s=="object"&&s!==null?s=xn(s):(r=Ht(e)?is:Ct.current,i=e.contextTypes,s=(i=i!=null)?vo(t,r):yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mh,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function bx(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Mh.enqueueReplaceState(e,e.state,null)}function Fp(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},Tg(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=xn(s):(s=Ht(e)?is:Ct.current,r.context=vo(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vp(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Mh.enqueueReplaceState(r,r.state,null),Fu(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,e){try{var n="",i=e;do n+=_P(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function gf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Up(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KA=typeof WeakMap=="function"?WeakMap:Map;function QE(t,e,n){n=pi(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){qu||(qu=!0,Yp=i),Up(t,e)},n}function YE(t,e,n){n=pi(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Up(t,e),typeof i!="function"&&(sr===null?sr=new Set([this]):sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Ex(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new KA;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=lR.bind(null,t,e,n),e.then(t,t))}function Tx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Sx(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pi(-1,1),e.tag=2,rr(n,e,1))),n.lanes|=1),t)}var QA=Ni.ReactCurrentOwner,Bt=!1;function Rt(t,e,n,i){e.child=t===null?SE(e,null,n,i):wo(e,t.child,n,i)}function Cx(t,e,n,i,r){n=n.render;var s=e.ref;return uo(e,r),i=Pg(t,e,n,i,s,r),n=Ag(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ei(t,e,r)):(Te&&n&&yg(e),e.flags|=1,Rt(t,e,i,r),e.child)}function Ix(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,XE(t,e,s,i,r)):(t=ou(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:sl,n(o,i)&&t.ref===e.ref)return Ei(t,e,r)}return e.flags|=1,t=ar(s,i),t.ref=e.ref,t.return=e,e.child=t}function XE(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(sl(s,i)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,Ei(t,e,r)}return zp(t,e,n,i,r)}function JE(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Js,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Js,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,ye(Js,Yt),Yt|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,ye(Js,Yt),Yt|=i;return Rt(t,e,r,n),e.child}function ZE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zp(t,e,n,i,r){var s=Ht(n)?is:Ct.current;return s=vo(e,s),uo(e,r),n=Pg(t,e,n,i,s,r),i=Ag(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ei(t,e,r)):(Te&&i&&yg(e),e.flags|=1,Rt(t,e,n,r),e.child)}function kx(t,e,n,i,r){if(Ht(n)){var s=!0;Du(e)}else s=!1;if(uo(e,r),e.stateNode===null)iu(t,e),KE(e,n,i),Fp(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=xn(c):(c=Ht(n)?is:Ct.current,c=vo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&bx(e,o,i,c),$i=!1;var p=e.memoizedState;o.state=p,Fu(e,i,o,r),l=e.memoizedState,a!==i||p!==l||qt.current||$i?(typeof d=="function"&&(Vp(e,n,d,i),l=e.memoizedState),(a=$i||_x(e,n,a,i,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,IE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Cn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=xn(l):(l=Ht(n)?is:Ct.current,l=vo(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&bx(e,o,i,l),$i=!1,p=e.memoizedState,o.state=p,Fu(e,i,o,r);var v=e.memoizedState;a!==f||p!==v||qt.current||$i?(typeof m=="function"&&(Vp(e,n,m,i),v=e.memoizedState),(c=$i||_x(e,n,c,i,p,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return Bp(t,e,n,i,s,r)}function Bp(t,e,n,i,r,s){ZE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&fx(e,n,!1),Ei(t,e,s);i=e.stateNode,QA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=wo(e,t.child,null,s),e.child=wo(e,null,a,s)):Rt(t,e,a,s),e.memoizedState=i.state,r&&fx(e,n,!0),e.child}function e2(t){var e=t.stateNode;e.pendingContext?dx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dx(t,e.context,!1),Sg(t,e.containerInfo)}function Px(t,e,n,i,r){return xo(),xg(r),e.flags|=256,Rt(t,e,n,i),e.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function t2(t,e,n){var i=e.pendingProps,r=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),ye(ke,r&1),t===null)return Op(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vh(o,i,0,null),t=ts(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qp(n),e.memoizedState=$p,t):jg(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return YA(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=ar(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=ar(a,s):(s=ts(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$p,i}return s=t.child,t=s.sibling,i=ar(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function jg(t,e){return e=Vh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mc(t,e,n,i){return i!==null&&xg(i),wo(e,t.child,null,n),t=jg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YA(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=gf(Error(z(422))),Mc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Vh({mode:"visible",children:i.children},r,0,null),s=ts(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&wo(e,t.child,null,o),e.child.memoizedState=qp(o),e.memoizedState=$p,s);if(!(e.mode&1))return Mc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(z(419)),i=gf(s,i,void 0),Mc(t,e,o,i)}if(a=(o&t.childLanes)!==0,Bt||a){if(i=et,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,bi(t,r),An(i,t,r,-1))}return Fg(),i=gf(Error(z(421))),Mc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=cR.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Jt=ir(r.nextSibling),en=e,Te=!0,kn=null,t!==null&&(dn[fn++]=ci,dn[fn++]=ui,dn[fn++]=rs,ci=t.id,ui=t.overflow,rs=e),e=jg(e,i.children),e.flags|=4096,e)}function Ax(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Lp(t.return,e,n)}function yf(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function n2(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Rt(t,e,i.children,n),i=ke.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ax(t,n,e);else if(t.tag===19)Ax(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(ye(ke,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Uu(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),yf(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Uu(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}yf(e,!0,n,null,s);break;case"together":yf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ar(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ar(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XA(t,e,n){switch(e.tag){case 3:e2(e),xo();break;case 5:kE(e);break;case 1:Ht(e.type)&&Du(e);break;case 4:Sg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ye(Lu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ye(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?t2(t,e,n):(ye(ke,ke.current&1),t=Ei(t,e,n),t!==null?t.sibling:null);ye(ke,ke.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return n2(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ye(ke,ke.current),i)break;return null;case 22:case 23:return e.lanes=0,JE(t,e,n)}return Ei(t,e,n)}var i2,Hp,r2,s2;i2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hp=function(){};r2=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Yr(qn.current);var s=null;switch(n){case"input":r=fp(t,r),i=fp(t,i),s=[];break;case"select":r=Re({},r,{value:void 0}),i=Re({},i,{value:void 0}),s=[];break;case"textarea":r=gp(t,r),i=gp(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Nu)}vp(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ja.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_e("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};s2=function(t,e,n,i){n!==i&&(e.flags|=4)};function ma(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function yt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function JA(t,e,n){var i=e.pendingProps;switch(vg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(e),null;case 1:return Ht(e.type)&&ju(),yt(e),null;case 3:return i=e.stateNode,_o(),be(qt),be(Ct),Ig(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(jc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kn!==null&&(Zp(kn),kn=null))),Hp(t,e),yt(e),null;case 5:Cg(e);var r=Yr(ul.current);if(n=e.type,t!==null&&e.stateNode!=null)r2(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(z(166));return yt(e),null}if(t=Yr(qn.current),jc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Bn]=e,i[ll]=s,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(r=0;r<_a.length;r++)_e(_a[r],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":F0(i,s),_e("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},_e("invalid",i);break;case"textarea":z0(i,s),_e("invalid",i)}vp(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Nc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Nc(i.textContent,a,t),r=["children",""+a]):Ja.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",i)}switch(n){case"input":Tc(i),U0(i,s,!0);break;case"textarea":Tc(i),B0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Nu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j1(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Bn]=e,t[ll]=i,i2(t,e,!1,!1),e.stateNode=t;e:{switch(o=xp(n,i),n){case"dialog":_e("cancel",t),_e("close",t),r=i;break;case"iframe":case"object":case"embed":_e("load",t),r=i;break;case"video":case"audio":for(r=0;r<_a.length;r++)_e(_a[r],t);r=i;break;case"source":_e("error",t),r=i;break;case"img":case"image":case"link":_e("error",t),_e("load",t),r=i;break;case"details":_e("toggle",t),r=i;break;case"input":F0(t,i),r=fp(t,i),_e("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Re({},i,{value:void 0}),_e("invalid",t);break;case"textarea":z0(t,i),r=gp(t,i),_e("invalid",t);break;default:r=i}vp(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?O1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&D1(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Za(t,l):typeof l=="number"&&Za(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ja.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_e("scroll",t):l!=null&&ig(t,s,l,o))}switch(n){case"input":Tc(t),U0(t,i,!1);break;case"textarea":Tc(t),B0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+gr(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?oo(t,!!i.multiple,s,!1):i.defaultValue!=null&&oo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Nu)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return yt(e),null;case 6:if(t&&e.stateNode!=null)s2(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(z(166));if(n=Yr(ul.current),Yr(qn.current),jc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Bn]=e,(s=i.nodeValue!==n)&&(t=en,t!==null))switch(t.tag){case 3:Nc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Bn]=e,e.stateNode=i}return yt(e),null;case 13:if(be(ke),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&Jt!==null&&e.mode&1&&!(e.flags&128))EE(),xo(),e.flags|=98560,s=!1;else if(s=jc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Bn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;yt(e),s=!1}else kn!==null&&(Zp(kn),kn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Qe===0&&(Qe=3):Fg())),e.updateQueue!==null&&(e.flags|=4),yt(e),null);case 4:return _o(),Hp(t,e),t===null&&ol(e.stateNode.containerInfo),yt(e),null;case 10:return bg(e.type._context),yt(e),null;case 17:return Ht(e.type)&&ju(),yt(e),null;case 19:if(be(ke),s=e.memoizedState,s===null)return yt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)ma(s,!1);else{if(Qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Uu(t),o!==null){for(e.flags|=128,ma(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&ze()>Eo&&(e.flags|=128,i=!0,ma(s,!1),e.lanes=4194304)}else{if(!i)if(t=Uu(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Te)return yt(e),null}else 2*ze()-s.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,i=!0,ma(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ze(),e.sibling=null,n=ke.current,ye(ke,i?n&1|2:n&1),e):(yt(e),null);case 22:case 23:return Vg(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Yt&1073741824&&(yt(e),e.subtreeFlags&6&&(e.flags|=8192)):yt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function ZA(t,e){switch(vg(e),e.tag){case 1:return Ht(e.type)&&ju(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _o(),be(qt),be(Ct),Ig(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cg(e),null;case 13:if(be(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(ke),null;case 4:return _o(),null;case 10:return bg(e.type._context),null;case 22:case 23:return Vg(),null;case 24:return null;default:return null}}var Oc=!1,_t=!1,eR=typeof WeakSet=="function"?WeakSet:Set,H=null;function Xs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Me(t,e,i)}else n.current=null}function Wp(t,e,n){try{n()}catch(i){Me(t,e,i)}}var Rx=!1;function tR(t,e){if(Pp=Pu,t=uE(),gg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==n||r!==0&&f.nodeType!==3||(a=o+r),f!==s||i!==0&&f.nodeType!==3||(l=o+i),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===r&&(a=o),p===s&&++d===i&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ap={focusedElem:t,selectionRange:n},Pu=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,T=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?w:Cn(e.type,w),T);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(I){Me(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return v=Rx,Rx=!1,v}function Va(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Wp(e,n,s)}r=r.next}while(r!==i)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Gp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function o2(t){var e=t.alternate;e!==null&&(t.alternate=null,o2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bn],delete e[ll],delete e[jp],delete e[LA],delete e[VA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function a2(t){return t.tag===5||t.tag===3||t.tag===4}function Nx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nu));else if(i!==4&&(t=t.child,t!==null))for(Kp(t,e,n),t=t.sibling;t!==null;)Kp(t,e,n),t=t.sibling}function Qp(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Qp(t,e,n),t=t.sibling;t!==null;)Qp(t,e,n),t=t.sibling}var st=null,In=!1;function Fi(t,e,n){for(n=n.child;n!==null;)l2(t,e,n),n=n.sibling}function l2(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(kh,n)}catch{}switch(n.tag){case 5:_t||Xs(n,e);case 6:var i=st,r=In;st=null,Fi(t,e,n),st=i,In=r,st!==null&&(In?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(In?(t=st,n=n.stateNode,t.nodeType===8?uf(t.parentNode,n):t.nodeType===1&&uf(t,n),il(t)):uf(st,n.stateNode));break;case 4:i=st,r=In,st=n.stateNode.containerInfo,In=!0,Fi(t,e,n),st=i,In=r;break;case 0:case 11:case 14:case 15:if(!_t&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wp(n,e,o),r=r.next}while(r!==i)}Fi(t,e,n);break;case 1:if(!_t&&(Xs(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Me(n,e,a)}Fi(t,e,n);break;case 21:Fi(t,e,n);break;case 22:n.mode&1?(_t=(i=_t)||n.memoizedState!==null,Fi(t,e,n),_t=i):Fi(t,e,n);break;default:Fi(t,e,n)}}function jx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eR),e.forEach(function(i){var r=uR.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,In=!1;break e;case 3:st=a.stateNode.containerInfo,In=!0;break e;case 4:st=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(st===null)throw Error(z(160));l2(s,o,r),st=null,In=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Me(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)c2(e,t),e=e.sibling}function c2(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),Vn(t),i&4){try{Va(3,t,t.return),Oh(3,t)}catch(w){Me(t,t.return,w)}try{Va(5,t,t.return)}catch(w){Me(t,t.return,w)}}break;case 1:Tn(e,t),Vn(t),i&512&&n!==null&&Xs(n,n.return);break;case 5:if(Tn(e,t),Vn(t),i&512&&n!==null&&Xs(n,n.return),t.flags&32){var r=t.stateNode;try{Za(r,"")}catch(w){Me(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&R1(r,s),xp(a,o);var c=xp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?O1(r,f):d==="dangerouslySetInnerHTML"?D1(r,f):d==="children"?Za(r,f):ig(r,d,f,c)}switch(a){case"input":pp(r,s);break;case"textarea":N1(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?oo(r,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?oo(r,!!s.multiple,s.defaultValue,!0):oo(r,!!s.multiple,s.multiple?[]:"",!1))}r[ll]=s}catch(w){Me(t,t.return,w)}}break;case 6:if(Tn(e,t),Vn(t),i&4){if(t.stateNode===null)throw Error(z(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Me(t,t.return,w)}}break;case 3:if(Tn(e,t),Vn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{il(e.containerInfo)}catch(w){Me(t,t.return,w)}break;case 4:Tn(e,t),Vn(t);break;case 13:Tn(e,t),Vn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Og=ze())),i&4&&jx(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(_t=(c=_t)||d,Tn(e,t),_t=c):Tn(e,t),Vn(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(H=t,d=t.child;d!==null;){for(f=H=d;H!==null;){switch(p=H,m=p.child,p.tag){case 0:case 11:case 14:case 15:Va(4,p,p.return);break;case 1:Xs(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){i=p,n=p.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){Me(i,n,w)}}break;case 5:Xs(p,p.return);break;case 22:if(p.memoizedState!==null){Mx(f);continue}}m!==null?(m.return=p,H=m):Mx(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{r=f.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=M1("display",o))}catch(w){Me(t,t.return,w)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(w){Me(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Tn(e,t),Vn(t),i&4&&jx(t);break;case 21:break;default:Tn(e,t),Vn(t)}}function Vn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(a2(n)){var i=n;break e}n=n.return}throw Error(z(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Za(r,""),i.flags&=-33);var s=Nx(t);Qp(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Nx(t);Kp(t,a,o);break;default:throw Error(z(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nR(t,e,n){H=t,u2(t)}function u2(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var r=H,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Oc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||_t;a=Oc;var c=_t;if(Oc=o,(_t=l)&&!c)for(H=r;H!==null;)o=H,l=o.child,o.tag===22&&o.memoizedState!==null?Ox(r):l!==null?(l.return=o,H=l):Ox(r);for(;s!==null;)H=s,u2(s),s=s.sibling;H=r,Oc=a,_t=c}Dx(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,H=s):Dx(t)}}function Dx(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_t||Oh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_t)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vx(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&il(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}_t||e.flags&512&&Gp(e)}catch(p){Me(e,e.return,p)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Mx(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Ox(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(l){Me(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Me(e,r,l)}}var s=e.return;try{Gp(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{Gp(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var iR=Math.ceil,$u=Ni.ReactCurrentDispatcher,Dg=Ni.ReactCurrentOwner,yn=Ni.ReactCurrentBatchConfig,ue=0,et=null,He=null,ct=0,Yt=0,Js=kr(0),Qe=0,pl=null,os=0,Lh=0,Mg=0,Fa=null,Ut=null,Og=0,Eo=1/0,oi=null,qu=!1,Yp=null,sr=null,Lc=!1,Yi=null,Hu=0,Ua=0,Xp=null,ru=-1,su=0;function jt(){return ue&6?ze():ru!==-1?ru:ru=ze()}function or(t){return t.mode&1?ue&2&&ct!==0?ct&-ct:UA.transition!==null?(su===0&&(su=K1()),su):(t=pe,t!==0||(t=window.event,t=t===void 0?16:tE(t.type)),t):1}function An(t,e,n,i){if(50<Ua)throw Ua=0,Xp=null,Error(z(185));Vl(t,n,i),(!(ue&2)||t!==et)&&(t===et&&(!(ue&2)&&(Lh|=n),Qe===4&&Hi(t,ct)),Wt(t,i),n===1&&ue===0&&!(e.mode&1)&&(Eo=ze()+500,jh&&Pr()))}function Wt(t,e){var n=t.callbackNode;UP(t,e);var i=ku(t,t===et?ct:0);if(i===0)n!==null&&H0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&H0(n),e===1)t.tag===0?FA(Lx.bind(null,t)):wE(Lx.bind(null,t)),MA(function(){!(ue&6)&&Pr()}),n=null;else{switch(Q1(i)){case 1:n=lg;break;case 4:n=W1;break;case 16:n=Iu;break;case 536870912:n=G1;break;default:n=Iu}n=v2(n,h2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function h2(t,e){if(ru=-1,su=0,ue&6)throw Error(z(327));var n=t.callbackNode;if(ho()&&t.callbackNode!==n)return null;var i=ku(t,t===et?ct:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Wu(t,i);else{e=i;var r=ue;ue|=2;var s=f2();(et!==t||ct!==e)&&(oi=null,Eo=ze()+500,es(t,e));do try{oR();break}catch(a){d2(t,a)}while(!0);_g(),$u.current=s,ue=r,He!==null?e=0:(et=null,ct=0,e=Qe)}if(e!==0){if(e===2&&(r=Tp(t),r!==0&&(i=r,e=Jp(t,r))),e===1)throw n=pl,es(t,0),Hi(t,i),Wt(t,ze()),n;if(e===6)Hi(t,i);else{if(r=t.current.alternate,!(i&30)&&!rR(r)&&(e=Wu(t,i),e===2&&(s=Tp(t),s!==0&&(i=s,e=Jp(t,s))),e===1))throw n=pl,es(t,0),Hi(t,i),Wt(t,ze()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(z(345));case 2:qr(t,Ut,oi);break;case 3:if(Hi(t,i),(i&130023424)===i&&(e=Og+500-ze(),10<e)){if(ku(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){jt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Np(qr.bind(null,t,Ut,oi),e);break}qr(t,Ut,oi);break;case 4:if(Hi(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Pn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=ze()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*iR(i/1960))-i,10<i){t.timeoutHandle=Np(qr.bind(null,t,Ut,oi),i);break}qr(t,Ut,oi);break;case 5:qr(t,Ut,oi);break;default:throw Error(z(329))}}}return Wt(t,ze()),t.callbackNode===n?h2.bind(null,t):null}function Jp(t,e){var n=Fa;return t.current.memoizedState.isDehydrated&&(es(t,e).flags|=256),t=Wu(t,e),t!==2&&(e=Ut,Ut=n,e!==null&&Zp(e)),t}function Zp(t){Ut===null?Ut=t:Ut.push.apply(Ut,t)}function rR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Mn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~Mg,e&=~Lh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),i=1<<n;t[n]=-1,e&=~i}}function Lx(t){if(ue&6)throw Error(z(327));ho();var e=ku(t,0);if(!(e&1))return Wt(t,ze()),null;var n=Wu(t,e);if(t.tag!==0&&n===2){var i=Tp(t);i!==0&&(e=i,n=Jp(t,i))}if(n===1)throw n=pl,es(t,0),Hi(t,e),Wt(t,ze()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qr(t,Ut,oi),Wt(t,ze()),null}function Lg(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Eo=ze()+500,jh&&Pr())}}function as(t){Yi!==null&&Yi.tag===0&&!(ue&6)&&ho();var e=ue;ue|=1;var n=yn.transition,i=pe;try{if(yn.transition=null,pe=1,t)return t()}finally{pe=i,yn.transition=n,ue=e,!(ue&6)&&Pr()}}function Vg(){Yt=Js.current,be(Js)}function es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,DA(n)),He!==null)for(n=He.return;n!==null;){var i=n;switch(vg(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ju();break;case 3:_o(),be(qt),be(Ct),Ig();break;case 5:Cg(i);break;case 4:_o();break;case 13:be(ke);break;case 19:be(ke);break;case 10:bg(i.type._context);break;case 22:case 23:Vg()}n=n.return}if(et=t,He=t=ar(t.current,null),ct=Yt=e,Qe=0,pl=null,Mg=Lh=os=0,Ut=Fa=null,Qr!==null){for(e=0;e<Qr.length;e++)if(n=Qr[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}Qr=null}return t}function d2(t,e){do{var n=He;try{if(_g(),tu.current=Bu,zu){for(var i=Ae.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}zu=!1}if(ss=0,Ze=Ge=Ae=null,La=!1,hl=0,Dg.current=null,n===null||n.return===null){Qe=1,pl=e,He=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Tx(o);if(m!==null){m.flags&=-257,Sx(m,o,a,s,e),m.mode&1&&Ex(s,c,e),e=m,l=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){Ex(s,c,e),Fg();break e}l=Error(z(426))}}else if(Te&&a.mode&1){var T=Tx(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Sx(T,o,a,s,e),xg(bo(l,a));break e}}s=l=bo(l,a),Qe!==4&&(Qe=2),Fa===null?Fa=[s]:Fa.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=QE(s,l,e);yx(s,x);break e;case 1:a=l;var _=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(sr===null||!sr.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=YE(s,a,e);yx(s,I);break e}}s=s.return}while(s!==null)}m2(n)}catch(P){e=P,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function f2(){var t=$u.current;return $u.current=Bu,t===null?Bu:t}function Fg(){(Qe===0||Qe===3||Qe===2)&&(Qe=4),et===null||!(os&268435455)&&!(Lh&268435455)||Hi(et,ct)}function Wu(t,e){var n=ue;ue|=2;var i=f2();(et!==t||ct!==e)&&(oi=null,es(t,e));do try{sR();break}catch(r){d2(t,r)}while(!0);if(_g(),ue=n,$u.current=i,He!==null)throw Error(z(261));return et=null,ct=0,Qe}function sR(){for(;He!==null;)p2(He)}function oR(){for(;He!==null&&!RP();)p2(He)}function p2(t){var e=y2(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?m2(t):He=e,Dg.current=null}function m2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZA(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qe=6,He=null;return}}else if(n=JA(n,e,Yt),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Qe===0&&(Qe=5)}function qr(t,e,n){var i=pe,r=yn.transition;try{yn.transition=null,pe=1,aR(t,e,n,i)}finally{yn.transition=r,pe=i}return null}function aR(t,e,n,i){do ho();while(Yi!==null);if(ue&6)throw Error(z(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zP(t,s),t===et&&(He=et=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Lc||(Lc=!0,v2(Iu,function(){return ho(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=yn.transition,yn.transition=null;var o=pe;pe=1;var a=ue;ue|=4,Dg.current=null,tR(t,n),c2(n,t),IA(Ap),Pu=!!Pp,Ap=Pp=null,t.current=n,nR(n),NP(),ue=a,pe=o,yn.transition=s}else t.current=n;if(Lc&&(Lc=!1,Yi=t,Hu=r),s=t.pendingLanes,s===0&&(sr=null),MP(n.stateNode),Wt(t,ze()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(qu)throw qu=!1,t=Yp,Yp=null,t;return Hu&1&&t.tag!==0&&ho(),s=t.pendingLanes,s&1?t===Xp?Ua++:(Ua=0,Xp=t):Ua=0,Pr(),null}function ho(){if(Yi!==null){var t=Q1(Hu),e=yn.transition,n=pe;try{if(yn.transition=null,pe=16>t?16:t,Yi===null)var i=!1;else{if(t=Yi,Yi=null,Hu=0,ue&6)throw Error(z(331));var r=ue;for(ue|=4,H=t.current;H!==null;){var s=H,o=s.child;if(H.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(H=c;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Va(8,d,s)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var p=d.sibling,m=d.return;if(o2(d),d===c){H=null;break}if(p!==null){p.return=m,H=p;break}H=m}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}H=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,H=o;else e:for(;H!==null;){if(s=H,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Va(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,H=x;break e}H=s.return}}var _=t.current;for(H=_;H!==null;){o=H;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,H=E;else e:for(o=_;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Oh(9,a)}}catch(P){Me(a,a.return,P)}if(a===o){H=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,H=I;break e}H=a.return}}if(ue=r,Pr(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(kh,t)}catch{}i=!0}return i}finally{pe=n,yn.transition=e}}return!1}function Vx(t,e,n){e=bo(n,e),e=QE(t,e,1),t=rr(t,e,1),e=jt(),t!==null&&(Vl(t,1,e),Wt(t,e))}function Me(t,e,n){if(t.tag===3)Vx(t,t,n);else for(;e!==null;){if(e.tag===3){Vx(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(sr===null||!sr.has(i))){t=bo(n,t),t=YE(e,t,1),e=rr(e,t,1),t=jt(),e!==null&&(Vl(e,1,t),Wt(e,t));break}}e=e.return}}function lR(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=jt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(ct&n)===n&&(Qe===4||Qe===3&&(ct&130023424)===ct&&500>ze()-Og?es(t,0):Mg|=n),Wt(t,e)}function g2(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var n=jt();t=bi(t,e),t!==null&&(Vl(t,e,n),Wt(t,n))}function cR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),g2(t,n)}function uR(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(z(314))}i!==null&&i.delete(e),g2(t,n)}var y2;y2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,XA(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Te&&e.flags&1048576&&_E(e,Ou,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;iu(t,e),t=e.pendingProps;var r=vo(e,Ct.current);uo(e,n),r=Pg(null,e,i,t,r,n);var s=Ag();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ht(i)?(s=!0,Du(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tg(e),r.updater=Mh,e.stateNode=r,r._reactInternals=e,Fp(e,i,t,n),e=Bp(null,e,i,!0,s,n)):(e.tag=0,Te&&s&&yg(e),Rt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(iu(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=dR(i),t=Cn(i,t),r){case 0:e=zp(null,e,i,t,n);break e;case 1:e=kx(null,e,i,t,n);break e;case 11:e=Cx(null,e,i,t,n);break e;case 14:e=Ix(null,e,i,Cn(i.type,t),n);break e}throw Error(z(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cn(i,r),zp(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cn(i,r),kx(t,e,i,r,n);case 3:e:{if(e2(e),t===null)throw Error(z(387));i=e.pendingProps,s=e.memoizedState,r=s.element,IE(t,e),Fu(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=bo(Error(z(423)),e),e=Px(t,e,i,n,r);break e}else if(i!==r){r=bo(Error(z(424)),e),e=Px(t,e,i,n,r);break e}else for(Jt=ir(e.stateNode.containerInfo.firstChild),en=e,Te=!0,kn=null,n=SE(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),i===r){e=Ei(t,e,n);break e}Rt(t,e,i,n)}e=e.child}return e;case 5:return kE(e),t===null&&Op(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Rp(i,r)?o=null:s!==null&&Rp(i,s)&&(e.flags|=32),ZE(t,e),Rt(t,e,o,n),e.child;case 6:return t===null&&Op(e),null;case 13:return t2(t,e,n);case 4:return Sg(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=wo(e,null,i,n):Rt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cn(i,r),Cx(t,e,i,r,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ye(Lu,i._currentValue),i._currentValue=o,s!==null)if(Mn(s.value,o)){if(s.children===r.children&&!qt.current){e=Ei(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=pi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Lp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,uo(e,n),r=xn(r),i=i(r),e.flags|=1,Rt(t,e,i,n),e.child;case 14:return i=e.type,r=Cn(i,e.pendingProps),r=Cn(i.type,r),Ix(t,e,i,r,n);case 15:return XE(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Cn(i,r),iu(t,e),e.tag=1,Ht(i)?(t=!0,Du(e)):t=!1,uo(e,n),KE(e,i,r),Fp(e,i,r,n),Bp(null,e,i,!0,t,n);case 19:return n2(t,e,n);case 22:return JE(t,e,n)}throw Error(z(156,e.tag))};function v2(t,e){return H1(t,e)}function hR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,e,n,i){return new hR(t,e,n,i)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dR(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sg)return 11;if(t===og)return 14}return 2}function ar(t,e){var n=t.alternate;return n===null?(n=gn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ou(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Bs:return ts(n.children,r,s,e);case rg:o=8,r|=8;break;case cp:return t=gn(12,n,e,r|2),t.elementType=cp,t.lanes=s,t;case up:return t=gn(13,n,e,r),t.elementType=up,t.lanes=s,t;case hp:return t=gn(19,n,e,r),t.elementType=hp,t.lanes=s,t;case k1:return Vh(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C1:o=10;break e;case I1:o=9;break e;case sg:o=11;break e;case og:o=14;break e;case Bi:o=16,i=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=gn(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ts(t,e,n,i){return t=gn(7,t,i,e),t.lanes=n,t}function Vh(t,e,n,i){return t=gn(22,t,i,e),t.elementType=k1,t.lanes=n,t.stateNode={isHidden:!1},t}function vf(t,e,n){return t=gn(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=gn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function fR(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jd(0),this.expirationTimes=Jd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jd(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function zg(t,e,n,i,r,s,o,a,l){return t=new fR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=gn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tg(s),t}function pR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zs,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function x2(t){if(!t)return yr;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ht(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Ht(n))return xE(t,n,e)}return e}function w2(t,e,n,i,r,s,o,a,l){return t=zg(n,i,!0,t,r,s,o,a,l),t.context=x2(null),n=t.current,i=jt(),r=or(n),s=pi(i,r),s.callback=e??null,rr(n,s,r),t.current.lanes=r,Vl(t,r,i),Wt(t,i),t}function Fh(t,e,n,i){var r=e.current,s=jt(),o=or(r);return n=x2(n),e.context===null?e.context=n:e.pendingContext=n,e=pi(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=rr(r,e,o),t!==null&&(An(t,r,o,s),eu(t,r,o)),o}function Gu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bg(t,e){Fx(t,e),(t=t.alternate)&&Fx(t,e)}function mR(){return null}var _2=typeof reportError=="function"?reportError:function(t){console.error(t)};function $g(t){this._internalRoot=t}Uh.prototype.render=$g.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Fh(t,e,null,null)};Uh.prototype.unmount=$g.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;as(function(){Fh(null,t,null,null)}),e[_i]=null}};function Uh(t){this._internalRoot=t}Uh.prototype.unstable_scheduleHydration=function(t){if(t){var e=J1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<qi.length&&e!==0&&e<qi[n].priority;n++);qi.splice(n,0,t),n===0&&eE(t)}};function qg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ux(){}function gR(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Gu(o);s.call(c)}}var o=w2(e,i,t,0,null,!1,!1,"",Ux);return t._reactRootContainer=o,t[_i]=o.current,ol(t.nodeType===8?t.parentNode:t),as(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Gu(l);a.call(c)}}var l=zg(t,0,!1,null,null,!1,!1,"",Ux);return t._reactRootContainer=l,t[_i]=l.current,ol(t.nodeType===8?t.parentNode:t),as(function(){Fh(e,l,n,i)}),l}function Bh(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Gu(o);a.call(l)}}Fh(e,o,t,r)}else o=gR(n,e,t,r,i);return Gu(o)}Y1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(cg(e,n|1),Wt(e,ze()),!(ue&6)&&(Eo=ze()+500,Pr()))}break;case 13:as(function(){var i=bi(t,1);if(i!==null){var r=jt();An(i,t,1,r)}}),Bg(t,1)}};ug=function(t){if(t.tag===13){var e=bi(t,134217728);if(e!==null){var n=jt();An(e,t,134217728,n)}Bg(t,134217728)}};X1=function(t){if(t.tag===13){var e=or(t),n=bi(t,e);if(n!==null){var i=jt();An(n,t,e,i)}Bg(t,e)}};J1=function(){return pe};Z1=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};_p=function(t,e,n){switch(e){case"input":if(pp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Nh(i);if(!r)throw Error(z(90));A1(i),pp(i,r)}}}break;case"textarea":N1(t,n);break;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}};F1=Lg;U1=as;var yR={usingClientEntryPoint:!1,Events:[Ul,Ws,Nh,L1,V1,Lg]},ga={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vR={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$1(t),t===null?null:t.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{kh=Vc.inject(vR),$n=Vc}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yR;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qg(e))throw Error(z(200));return pR(t,e,null,n)};on.createRoot=function(t,e){if(!qg(t))throw Error(z(299));var n=!1,i="",r=_2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=zg(t,1,!1,null,null,n,!1,i,r),t[_i]=e.current,ol(t.nodeType===8?t.parentNode:t),new $g(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=$1(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return as(t)};on.hydrate=function(t,e,n){if(!zh(e))throw Error(z(200));return Bh(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!qg(t))throw Error(z(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=_2;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=w2(e,null,t,1,n??null,r,!1,s,o),t[_i]=e.current,ol(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Uh(e)};on.render=function(t,e,n){if(!zh(e))throw Error(z(200));return Bh(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!zh(t))throw Error(z(40));return t._reactRootContainer?(as(function(){Bh(null,null,t,!1,function(){t._reactRootContainer=null,t[_i]=null})}),!0):!1};on.unstable_batchedUpdates=Lg;on.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!zh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Bh(t,e,n,!1,i)};on.version="18.3.1-next-f1338f8080-20240426";function b2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b2)}catch(t){console.error(t)}}b2(),b1.exports=on;var xR=b1.exports,E2,zx=xR;E2=zx.createRoot,zx.hydrateRoot;/**
 * @remix-run/router v1.21.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ml.apply(this,arguments)}var Xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xi||(Xi={}));const Bx="popstate";function wR(t){t===void 0&&(t={});function e(r,s){let{pathname:o="/",search:a="",hash:l=""}=_s(r.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),em("",{pathname:o,search:a,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){let o=r.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=r.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof s=="string"?s:Ku(s))}function i(r,s){Hg(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return bR(e,n,i,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _R(){return Math.random().toString(36).substr(2,8)}function $x(t,e){return{usr:t.state,key:t.key,idx:e}}function em(t,e,n,i){return n===void 0&&(n=null),ml({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_s(e):e,{state:n,key:e&&e.key||i||_R()})}function Ku(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function bR(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=Xi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ml({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Xi.Pop;let T=d(),x=T==null?null:T-c;c=T,l&&l({action:a,location:w.location,delta:x})}function p(T,x){a=Xi.Push;let _=em(w.location,T,x);n&&n(_,T),c=d()+1;let E=$x(_,c),I=w.createHref(_);try{o.pushState(E,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;r.location.assign(I)}s&&l&&l({action:a,location:w.location,delta:1})}function m(T,x){a=Xi.Replace;let _=em(w.location,T,x);n&&n(_,T),c=d();let E=$x(_,c),I=w.createHref(_);o.replaceState(E,"",I),s&&l&&l({action:a,location:w.location,delta:0})}function v(T){let x=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof T=="string"?T:Ku(T);return _=_.replace(/ $/,"%20"),$e(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let w={get action(){return a},get location(){return t(r,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(Bx,f),l=T,()=>{r.removeEventListener(Bx,f),l=null}},createHref(T){return e(r,T)},createURL:v,encodeLocation(T){let x=v(T);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:m,go(T){return o.go(T)}};return w}var qx;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qx||(qx={}));function ER(t,e,n){return n===void 0&&(n="/"),TR(t,e,n,!1)}function TR(t,e,n,i){let r=typeof e=="string"?_s(e):e,s=Wg(r.pathname||"/",n);if(s==null)return null;let o=T2(t);SR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=OR(s);a=DR(o[l],c,i)}return a}function T2(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&($e(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=lr([i,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&($e(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),T2(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:NR(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of S2(s.path))r(s,o,l)}),e}function S2(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=S2(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jR(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const CR=/^:[\w-]+$/,IR=3,kR=2,PR=1,AR=10,RR=-2,Hx=t=>t==="*";function NR(t,e){let n=t.split("/"),i=n.length;return n.some(Hx)&&(i+=RR),e&&(i+=kR),n.filter(r=>!Hx(r)).reduce((r,s)=>r+(CR.test(s)?IR:s===""?PR:AR),i)}function jR(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function DR(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Wx({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),p=l.route;if(!f&&c&&n&&!i[i.length-1].route.index&&(f=Wx({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(r,f.params),o.push({params:r,pathname:lr([s,f.pathname]),pathnameBase:UR(lr([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=lr([s,f.pathnameBase]))}return o}function Wx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=MR(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,d,f)=>{let{paramName:p,isOptional:m}=d;if(p==="*"){let w=a[f]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=a[f];return m&&!v?c[p]=void 0:c[p]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function MR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function OR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function LR(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?_s(t):t;return{pathname:n?n.startsWith("/")?n:VR(n,e):e,search:zR(i),hash:BR(r)}}function VR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function wf(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gg(t,e){let n=FR(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Kg(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=_s(t):(r=ml({},t),$e(!r.pathname||!r.pathname.includes("?"),wf("?","pathname","search",r)),$e(!r.pathname||!r.pathname.includes("#"),wf("#","pathname","hash",r)),$e(!r.search||!r.search.includes("#"),wf("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!i&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;r.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=LR(r,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const lr=t=>t.join("/").replace(/\/\/+/g,"/"),UR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $R(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C2=["post","put","patch","delete"];new Set(C2);const qR=["get",...C2];new Set(qR);/**
 * React Router v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},gl.apply(this,arguments)}const Qg=N.createContext(null),HR=N.createContext(null),Ar=N.createContext(null),$h=N.createContext(null),Rr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),I2=N.createContext(null);function WR(t,e){let{relative:n}=e===void 0?{}:e;zo()||$e(!1);let{basename:i,navigator:r}=N.useContext(Ar),{hash:s,pathname:o,search:a}=P2(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:lr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function zo(){return N.useContext($h)!=null}function bs(){return zo()||$e(!1),N.useContext($h).location}function k2(t){N.useContext(Ar).static||N.useLayoutEffect(t)}function ln(){let{isDataRoute:t}=N.useContext(Rr);return t?sN():GR()}function GR(){zo()||$e(!1);let t=N.useContext(Qg),{basename:e,future:n,navigator:i}=N.useContext(Ar),{matches:r}=N.useContext(Rr),{pathname:s}=bs(),o=JSON.stringify(Gg(r,n.v7_relativeSplatPath)),a=N.useRef(!1);return k2(()=>{a.current=!0}),N.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let f=Kg(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:lr([e,f.pathname])),(d.replace?i.replace:i.push)(f,d.state,d)},[e,i,o,s,t])}function P2(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=N.useContext(Ar),{matches:r}=N.useContext(Rr),{pathname:s}=bs(),o=JSON.stringify(Gg(r,i.v7_relativeSplatPath));return N.useMemo(()=>Kg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function KR(t,e){return QR(t,e)}function QR(t,e,n,i){zo()||$e(!1);let{navigator:r}=N.useContext(Ar),{matches:s}=N.useContext(Rr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=bs(),d;if(e){var f;let T=typeof e=="string"?_s(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||$e(!1),d=T}else d=c;let p=d.pathname||"/",m=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let v=ER(t,{pathname:m}),w=eN(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:lr([l,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:lr([l,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,i);return e&&w?N.createElement($h.Provider,{value:{location:gl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xi.Pop}},w):w}function YR(){let t=rN(),e=$R(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:r},n):null,null)}const XR=N.createElement(YR,null);class JR extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(Rr.Provider,{value:this.props.routeContext},N.createElement(I2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZR(t){let{routeContext:e,match:n,children:i}=t,r=N.useContext(Qg);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(Rr.Provider,{value:e},i)}function eN(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||$e(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:m}=n,v=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let m,v=!1,w=null,T=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||XR,l&&(c<0&&p===0?(v=!0,T=null):c===p&&(v=!0,T=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,p+1)),_=()=>{let E;return m?E=w:v?E=T:f.route.Component?E=N.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=d,N.createElement(ZR,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?N.createElement(JR,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var A2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A2||{}),Qu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Qu||{});function tN(t){let e=N.useContext(Qg);return e||$e(!1),e}function nN(t){let e=N.useContext(HR);return e||$e(!1),e}function iN(t){let e=N.useContext(Rr);return e||$e(!1),e}function R2(t){let e=iN(),n=e.matches[e.matches.length-1];return n.route.id||$e(!1),n.route.id}function rN(){var t;let e=N.useContext(I2),n=nN(Qu.UseRouteError),i=R2(Qu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function sN(){let{router:t}=tN(A2.UseNavigateStable),e=R2(Qu.UseNavigateStable),n=N.useRef(!1);return k2(()=>{n.current=!0}),N.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,gl({fromRouteId:e},s)))},[t,e])}const Gx={};function oN(t,e){Gx[e]||(Gx[e]=!0,console.warn(e))}const Kx=(t,e,n)=>oN(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function aN(t,e){(t==null?void 0:t.v7_startTransition)===void 0&&Kx("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),(t==null?void 0:t.v7_relativeSplatPath)===void 0&&!e&&Kx("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function Fn(t){let{to:e,replace:n,state:i,relative:r}=t;zo()||$e(!1);let{future:s,static:o}=N.useContext(Ar),{matches:a}=N.useContext(Rr),{pathname:l}=bs(),c=ln(),d=Kg(e,Gg(a,s.v7_relativeSplatPath),l,r==="path"),f=JSON.stringify(d);return N.useEffect(()=>c(JSON.parse(f),{replace:n,state:i,relative:r}),[c,f,r,n,i]),null}function We(t){$e(!1)}function lN(t){let{basename:e="/",children:n=null,location:i,navigationType:r=Xi.Pop,navigator:s,static:o=!1,future:a}=t;zo()&&$e(!1);let l=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:s,static:o,future:gl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=_s(i));let{pathname:d="/",search:f="",hash:p="",state:m=null,key:v="default"}=i,w=N.useMemo(()=>{let T=Wg(d,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:m,key:v},navigationType:r}},[l,d,f,p,m,v,r]);return w==null?null:N.createElement(Ar.Provider,{value:c},N.createElement($h.Provider,{children:n,value:w}))}function cN(t){let{children:e,location:n}=t;return KR(tm(e),n)}new Promise(()=>{});function tm(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(i,r)=>{if(!N.isValidElement(i))return;let s=[...e,r];if(i.type===N.Fragment){n.push.apply(n,tm(i.props.children,s));return}i.type!==We&&$e(!1),!i.props.index||!i.props.children||$e(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=tm(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},nm.apply(this,arguments)}function uN(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function hN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dN(t,e){return t.button===0&&(!e||e==="_self")&&!hN(t)}const fN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],pN="6";try{window.__reactRouterVersion=pN}catch{}const mN="startTransition",Qx=lP[mN];function gN(t){let{basename:e,children:n,future:i,window:r}=t,s=N.useRef();s.current==null&&(s.current=wR({window:r,v5Compat:!0}));let o=s.current,[a,l]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},d=N.useCallback(f=>{c&&Qx?Qx(()=>l(f)):l(f)},[l,c]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.useEffect(()=>aN(i),[i]),N.createElement(lN,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const yN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=N.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:f}=e,p=uN(e,fN),{basename:m}=N.useContext(Ar),v,w=!1;if(typeof c=="string"&&vN.test(c)&&(v=c,yN))try{let E=new URL(window.location.href),I=c.startsWith("//")?new URL(E.protocol+c):new URL(c),P=Wg(I.pathname,m);I.origin===E.origin&&P!=null?c=P+I.search+I.hash:w=!0}catch{}let T=WR(c,{relative:r}),x=xN(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:r,viewTransition:f});function _(E){i&&i(E),E.defaultPrevented||x(E)}return N.createElement("a",nm({},p,{href:v||T,onClick:w||s?i:_,ref:n,target:l}))});var Yx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yx||(Yx={}));var Xx;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xx||(Xx={}));function xN(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=ln(),c=bs(),d=P2(t,{relative:o});return N.useCallback(f=>{if(dN(f,n)){f.preventDefault();let p=i!==void 0?i:Ku(c)===Ku(d);l(t,{replace:p,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,d,i,r,n,t,s,o,a])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),oe=(t,e)=>{const n=N.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>N.createElement("svg",{ref:d,...wN,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${_N(t)}`,a].join(" "),...c},[...e.map(([f,p])=>N.createElement(f,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=oe("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=oe("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=oe("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=oe("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=oe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=oe("FlaskRound",[["path",{d:"M10 2v7.31",key:"5d1hyh"}],["path",{d:"M14 9.3V1.99",key:"14k4l0"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14 9.3a6.5 6.5 0 1 1-4 0",key:"1r8fvy"}],["path",{d:"M5.52 16h12.96",key:"46hh1i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=oe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=oe("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=oe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=oe("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=oe("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_f=[{name:"Home",href:"/",icon:IN},{name:"Courses",href:"/courses",icon:ls},{name:"Resources",href:"/resources",icon:D2},{name:"Events",href:"/events",icon:vr},{name:"Members",href:"/members",icon:Yn},{name:"Blog",href:"/blog",icon:NN},{name:"Labs",href:"/labs",icon:M2},{name:"About",href:"/about",icon:kN}];function ON({children:t}){const e=bs(),n=ln(),[i,r]=N.useState(!1),s=N.useRef(null),[o,a]=N.useState({}),l=N.useRef({}),[c,d]=N.useState(!1);N.useEffect(()=>{const m=()=>{window.scrollY>300?d(!0):d(!1)};return window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]);const f=()=>{window.scrollTo({top:0,behavior:"smooth"})},p=()=>{n("/admin-login")};return N.useEffect(()=>{const m=l.current[e.pathname];if(m){const v=m.getBoundingClientRect(),w=m.parentElement.getBoundingClientRect();a({width:`${v.width}px`,transform:`translateX(${v.left-w.left}px)`})}},[e]),N.useEffect(()=>{r(!1)},[e]),h.jsxs("div",{className:"min-h-screen bg-[#13151a]",children:[h.jsx("nav",{className:"bg-[#23262d] border-b border-[rgb(136,58,234)]",children:h.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex h-16 items-center justify-between",children:[h.jsx("div",{className:"flex items-center",children:h.jsx(Vt,{to:"/",className:"flex items-center",children:h.jsx("span",{className:"ml-2 text-xl font-bold text-white",children:"VeilCode Labs"})})}),h.jsxs("div",{className:"hidden md:flex items-center",children:[h.jsxs("div",{className:"flex items-baseline space-x-4 relative",children:[h.jsx("div",{className:"absolute bottom-0 h-1 bg-[rgb(136,58,234)] transition-all duration-300 ease-in-out rounded-full",style:o}),_f.map(m=>{const v=e.pathname===m.href;return h.jsx(Vt,{ref:w=>l.current[m.href]=w,to:m.href,className:`${v?"text-[rgb(224,204,250)]":"text-white hover:text-[rgb(224,204,250)]"} rounded-md px-3 py-2 text-sm font-medium transition-all duration-300`,children:m.name},m.name)})]}),h.jsx("button",{onClick:p,className:"ml-4 bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center","aria-label":"Admin login",children:h.jsx(ew,{className:"h-5 w-5"})})]}),h.jsx("div",{className:"md:hidden flex items-center gap-2",children:h.jsxs("div",{className:"relative",ref:s,children:[h.jsx("button",{onClick:()=>r(!i),className:"text-white hover:text-[rgb(224,204,250)] focus:outline-none p-2 rounded-md hover:bg-[rgb(49,10,101)] transition-all duration-300",children:i?h.jsx(yl,{className:"h-6 w-6"}):h.jsx(RN,{className:"h-6 w-6"})}),i&&h.jsx("div",{className:"absolute right-0 mt-2 w-64 rounded-lg shadow-lg bg-[#23262d] ring-1 ring-black ring-opacity-5 border border-[rgb(136,58,234)] z-50",children:h.jsxs("div",{className:"p-2",children:[h.jsx("div",{className:"grid grid-cols-2 gap-1",children:_f.map(m=>{const v=e.pathname===m.href;return h.jsxs(Vt,{to:m.href,className:`${v?"bg-[rgb(49,10,101)] text-[rgb(224,204,250)]":"text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)]"} flex flex-col items-center justify-center p-3 rounded-md text-sm font-medium transition-all duration-300`,children:[h.jsx(m.icon,{className:"h-5 w-5 mb-1"}),h.jsx("span",{className:"text-xs",children:m.name})]},m.name)})}),h.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center p-3 rounded-md text-sm font-medium text-white hover:bg-[rgb(49,10,101)] hover:text-[rgb(224,204,250)] mt-2",children:[h.jsx(ew,{className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"text-xs",children:"Admin"})]})]})})]})})]})})}),h.jsx("main",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:t}),c&&h.jsx("button",{onClick:f,className:"fixed bottom-8 right-8 p-3 bg-[rgb(136,58,234)] text-white rounded-full shadow-lg hover:bg-[rgb(49,10,101)] transition-all duration-300",children:h.jsx(bN,{className:"h-6 w-6"})}),h.jsx("footer",{className:"bg-[#23262d] text-white mt-auto",children:h.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-white",children:"VeilCode Labs"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"A comprehensive resource for cryptography students at IIIT Delhi"})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Quick Links"}),h.jsx("ul",{className:"grid grid-cols-2 gap-2",children:_f.map(m=>h.jsx("li",{children:h.jsx(Vt,{to:m.href,className:"text-white hover:text-[rgb(224,204,250)] hover:bg-[rgb(49,10,101)] px-2 py-1 rounded transition-all duration-300 inline-block",children:m.name})},m.name))})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold mb-4 text-[rgb(224,204,250)]",children:"Contact"}),h.jsxs("p",{className:"text-white",children:["IIIT Delhi",h.jsx("br",{}),"Okhla Industrial Estate, Phase III",h.jsx("br",{}),"New Delhi, India"]})]})]})})})]})}const Yg=N.createContext({});function Xg(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const qh=N.createContext(null),Jg=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class LN extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=i instanceof HTMLElement&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function VN({children:t,isPresent:e,anchorX:n}){const i=N.useId(),r=N.useRef(null),s=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=N.useContext(Jg);return N.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:d,right:f}=s.current;if(e||!r.current||!a||!l)return;const p=n==="left"?`left: ${d}`:`right: ${f}`;r.current.dataset.motionPopId=i;const m=document.createElement("style");return o&&(m.nonce=o),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${p}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),h.jsx(LN,{isPresent:e,childRef:r,sizeRef:s,children:N.cloneElement(t,{ref:r})})}const FN=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a})=>{const l=Xg(UN),c=N.useId(),d=N.useCallback(p=>{l.set(p,!0);for(const m of l.values())if(!m)return;i&&i()},[l,i]),f=N.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:d,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),d]:[n,d]);return N.useMemo(()=>{l.forEach((p,m)=>l.set(m,!1))},[n]),N.useEffect(()=>{!n&&!l.size&&i&&i()},[n]),o==="popLayout"&&(t=h.jsx(VN,{isPresent:n,anchorX:a,children:t})),h.jsx(qh.Provider,{value:f,children:t})};function UN(){return new Map}function F2(t=!0){const e=N.useContext(qh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=N.useId();N.useEffect(()=>{t&&r(s)},[t]);const o=N.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const Fc=t=>t.key||"";function nw(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Zg=typeof window<"u",U2=Zg?N.useLayoutEffect:N.useEffect,z2=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left"})=>{const[l,c]=F2(o),d=N.useMemo(()=>nw(t),[t]),f=o&&!l?[]:d.map(Fc),p=N.useRef(!0),m=N.useRef(d),v=Xg(()=>new Map),[w,T]=N.useState(d),[x,_]=N.useState(d);U2(()=>{p.current=!1,m.current=d;for(let P=0;P<x.length;P++){const D=Fc(x[P]);f.includes(D)?v.delete(D):v.get(D)!==!0&&v.set(D,!1)}},[x,f.length,f.join("-")]);const E=[];if(d!==w){let P=[...d];for(let D=0;D<x.length;D++){const C=x[D],b=Fc(C);f.includes(b)||(P.splice(D,0,C),E.push(C))}return s==="wait"&&E.length&&(P=E),_(nw(P)),T(d),null}const{forceRender:I}=N.useContext(Yg);return h.jsx(h.Fragment,{children:x.map(P=>{const D=Fc(P),C=o&&!l?!1:d===x||f.includes(D),b=()=>{if(v.has(D))v.set(D,!0);else return;let k=!0;v.forEach(A=>{A||(k=!1)}),k&&(I==null||I(),_(m.current),o&&(c==null||c()),i&&i())};return h.jsx(FN,{isPresent:C,initial:!p.current||n?void 0:!1,custom:C?void 0:e,presenceAffectsLayout:r,mode:s,onExitComplete:C?void 0:b,anchorX:a,children:P},D)})})},tn=t=>t;let im=tn;function ey(t){let e;return()=>(e===void 0&&(e=t()),e)}const To=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i},mi=t=>t*1e3,gi=t=>t/1e3,zN={skipAnimations:!1,useManualTiming:!1};function BN(t){let e=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,d=!1,f=!1)=>{const m=f&&i?e:n;return d&&s.add(c),m.has(c)||m.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,i){r=!0;return}i=!0,[e,n]=[n,e],e.forEach(a),e.clear(),i=!1,r&&(r=!1,l.process(c))}};return l}const Uc=["read","resolveKeyframes","update","preRender","render","postRender"],$N=40;function B2(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Uc.reduce((x,_)=>(x[_]=BN(s),x),{}),{read:a,resolveKeyframes:l,update:c,preRender:d,render:f,postRender:p}=o,m=()=>{const x=performance.now();n=!1,r.delta=i?1e3/60:Math.max(Math.min(x-r.timestamp,$N),1),r.timestamp=x,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),d.process(r),f.process(r),p.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},v=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:Uc.reduce((x,_)=>{const E=o[_];return x[_]=(I,P=!1,D=!1)=>(n||v(),E.schedule(I,P,D)),x},{}),cancel:x=>{for(let _=0;_<Uc.length;_++)o[Uc[_]].cancel(x)},state:r,steps:o}}const{schedule:ve,cancel:xr,state:ot,steps:bf}=B2(typeof requestAnimationFrame<"u"?requestAnimationFrame:tn,!0),$2=N.createContext({strict:!1}),iw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const t in iw)So[t]={isEnabled:e=>iw[t].some(n=>!!e[n])};function qN(t){for(const e in t)So[e]={...So[e],...t[e]}}const HN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||HN.has(t)}let q2=t=>!Xu(t);function WN(t){t&&(q2=e=>e.startsWith("on")?!Xu(e):t(e))}try{WN(require("@emotion/is-prop-valid").default)}catch{}function GN(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(q2(r)||n===!0&&Xu(r)||!e&&!Xu(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}function KN(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Hh=N.createContext({});function Wh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vl(t){return typeof t=="string"||Array.isArray(t)}const ty=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ny=["initial",...ty];function Gh(t){return Wh(t.animate)||ny.some(e=>vl(t[e]))}function H2(t){return!!(Gh(t)||t.variants)}function QN(t,e){if(Gh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vl(n)?n:void 0,animate:vl(i)?i:void 0}}return t.inherit!==!1?e:{}}function YN(t){const{initial:e,animate:n}=QN(t,N.useContext(Hh));return N.useMemo(()=>({initial:e,animate:n}),[rw(e),rw(n)])}function rw(t){return Array.isArray(t)?t.join(" "):t}const XN=Symbol.for("motionComponentSymbol");function Zs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function JN(t,e,n){return N.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Zs(n)&&(n.current=i))},[e])}const iy=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ZN="framerAppearId",W2="data-"+iy(ZN),{schedule:ry,cancel:e$}=B2(queueMicrotask,!1),G2=N.createContext({});function e4(t,e,n,i,r){var s,o;const{visualElement:a}=N.useContext(Hh),l=N.useContext($2),c=N.useContext(qh),d=N.useContext(Jg).reducedMotion,f=N.useRef(null);i=i||l.renderer,!f.current&&i&&(f.current=i(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,m=N.useContext(G2);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&t4(f.current,n,r,m);const v=N.useRef(!1);N.useInsertionEffect(()=>{p&&v.current&&p.update(n,c)});const w=n[W2],T=N.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return U2(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ry.render(p.render),T.current&&p.animationState&&p.animationState.animateChanges())}),N.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,w)}),T.current=!1))}),p}function t4(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:K2(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&Zs(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,layoutScroll:l,layoutRoot:c})}function K2(t){if(t)return t.options.allowProjection!==!1?t.projection:K2(t.parent)}function n4({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:r}){var s,o;t&&qN(t);function a(c,d){let f;const p={...N.useContext(Jg),...c,layoutId:i4(c)},{isStatic:m}=p,v=YN(c),w=i(c,m);if(!m&&Zg){r4();const T=s4(p);f=T.MeasureLayout,v.visualElement=e4(r,w,p,e,T.ProjectionNode)}return h.jsxs(Hh.Provider,{value:v,children:[f&&v.visualElement?h.jsx(f,{visualElement:v.visualElement,...p}):null,n(r,c,JN(w,v.visualElement,d),w,m,v.visualElement)]})}a.displayName=`motion.${typeof r=="string"?r:`create(${(o=(s=r.displayName)!==null&&s!==void 0?s:r.name)!==null&&o!==void 0?o:""})`}`;const l=N.forwardRef(a);return l[XN]=r,l}function i4({layoutId:t}){const e=N.useContext(Yg).id;return e&&t!==void 0?e+"-"+t:t}function r4(t,e){N.useContext($2).strict}function s4(t){const{drag:e,layout:n}=So;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Q2=t=>e=>typeof e=="string"&&e.startsWith(t),sy=Q2("--"),o4=Q2("var(--"),oy=t=>o4(t)?a4.test(t.split("/*")[0].trim()):!1,a4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,xl={};function l4(t){for(const e in t)xl[e]=t[e],sy(e)&&(xl[e].isCSSVariable=!0)}const Bo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Es=new Set(Bo);function Y2(t,{layout:e,layoutId:n}){return Es.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!xl[t]||t==="opacity")}const Et=t=>!!(t&&t.getVelocity),X2=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ci=(t,e,n)=>n>e?e:n<t?t:n,$o={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wl={...$o,transform:t=>Ci(0,1,t)},zc={...$o,default:1},Bl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zi=Bl("deg"),Hn=Bl("%"),Y=Bl("px"),c4=Bl("vh"),u4=Bl("vw"),sw={...Hn,parse:t=>Hn.parse(t)/100,transform:t=>Hn.transform(t*100)},h4={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},d4={rotate:zi,rotateX:zi,rotateY:zi,rotateZ:zi,scale:zc,scaleX:zc,scaleY:zc,scaleZ:zc,skew:zi,skewX:zi,skewY:zi,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:wl,originX:sw,originY:sw,originZ:Y},ow={...$o,transform:Math.round},ay={...h4,...d4,zIndex:ow,size:Y,fillOpacity:wl,strokeOpacity:wl,numOctaves:ow},f4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},p4=Bo.length;function m4(t,e,n){let i="",r=!0;for(let s=0;s<p4;s++){const o=Bo[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=X2(a,ay[o]);if(!l){r=!1;const d=f4[o]||o;i+=`${d}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function ly(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Es.has(l)){o=!0;continue}else if(sy(l)){r[l]=c;continue}else{const d=X2(c,ay[l]);l.startsWith("origin")?(a=!0,s[l]=d):i[l]=d}}if(e.transform||(o||n?i.transform=m4(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;i.transformOrigin=`${l} ${c} ${d}`}}const cy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function J2(t,e,n){for(const i in e)!Et(e[i])&&!Y2(i,n)&&(t[i]=e[i])}function g4({transformTemplate:t},e){return N.useMemo(()=>{const n=cy();return ly(n,e,t),Object.assign({},n.vars,n.style)},[e])}function y4(t,e){const n=t.style||{},i={};return J2(i,n,t),Object.assign(i,g4(t,e)),i}function v4(t,e){const n={},i=y4(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const x4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function uy(t){return typeof t!="string"||t.includes("-")?!1:!!(x4.indexOf(t)>-1||/[A-Z]/u.test(t))}const w4={offset:"stroke-dashoffset",array:"stroke-dasharray"},_4={offset:"strokeDashoffset",array:"strokeDasharray"};function b4(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?w4:_4;t[s.offset]=Y.transform(-i);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function aw(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function E4(t,e,n){const i=aw(e,t.x,t.width),r=aw(n,t.y,t.height);return`${i} ${r}`}function hy(t,{attrX:e,attrY:n,attrScale:i,originX:r,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f){if(ly(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:m,dimensions:v}=t;p.transform&&(v&&(m.transform=p.transform),delete p.transform),v&&(r!==void 0||s!==void 0||m.transform)&&(m.transformOrigin=E4(v,r!==void 0?r:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),i!==void 0&&(p.scale=i),o!==void 0&&b4(p,o,a,l,!1)}const Z2=()=>({...cy(),attrs:{}}),dy=t=>typeof t=="string"&&t.toLowerCase()==="svg";function T4(t,e,n,i){const r=N.useMemo(()=>{const s=Z2();return hy(s,e,dy(i),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};J2(s,t.style,t),r.style={...s,...r.style}}return r}function S4(t=!1){return(n,i,r,{latestValues:s},o)=>{const l=(uy(n)?T4:v4)(i,s,o,n),c=GN(i,typeof n=="string",t),d=n!==N.Fragment?{...c,...l,ref:r}:{},{children:f}=i,p=N.useMemo(()=>Et(f)?f.get():f,[f]);return N.createElement(n,{...d,children:p})}}function lw(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function fy(t,e,n,i){if(typeof e=="function"){const[r,s]=lw(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=lw(i);e=e(n!==void 0?n:t.custom,r,s)}return e}const rm=t=>Array.isArray(t),C4=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),I4=t=>rm(t)?t[t.length-1]||0:t;function lu(t){const e=Et(t)?t.get():t;return C4(e)?e.toValue():e}function k4({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,r,s){const o={latestValues:P4(i,r,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:i,current:a,...o}),o.onUpdate=a=>n(a)),o}const eT=t=>(e,n)=>{const i=N.useContext(Hh),r=N.useContext(qh),s=()=>k4(t,e,i,r);return n?s():Xg(s)};function P4(t,e,n,i){const r={},s=i(t,{});for(const p in s)r[p]=lu(s[p]);let{initial:o,animate:a}=t;const l=Gh(t),c=H2(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Wh(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const v=fy(t,p[m]);if(v){const{transitionEnd:w,transition:T,...x}=v;for(const _ in x){let E=x[_];if(Array.isArray(E)){const I=d?E.length-1:0;E=E[I]}E!==null&&(r[_]=E)}for(const _ in w)r[_]=w[_]}}}return r}function py(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(Et(r[o])||e.style&&Et(e.style[o])||Y2(o,t)||((i=n==null?void 0:n.getValue(o))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const A4={useVisualState:eT({scrapeMotionValuesFromProps:py,createRenderState:cy})};function tT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function nT(t,{style:e,vars:n},i,r){Object.assign(t.style,e,r&&r.getProjectionStyles(i));for(const s in n)t.style.setProperty(s,n[s])}const iT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function rT(t,e,n,i){nT(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(iT.has(r)?r:iy(r),e.attrs[r])}function sT(t,e,n){const i=py(t,e,n);for(const r in t)if(Et(t[r])||Et(e[r])){const s=Bo.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const cw=["x","y","width","height","cx","cy","r"],R4={useVisualState:eT({scrapeMotionValuesFromProps:sT,createRenderState:Z2,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:r})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in r)if(Es.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<cw.length;a++){const l=cw[a];t[l]!==e[l]&&(o=!0)}o&&ve.read(()=>{tT(n,i),ve.render(()=>{hy(i,r,dy(n.tagName),t.transformTemplate),rT(n,i)})})}})};function N4(t,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const o={...uy(i)?R4:A4,preloadedFeatures:t,useRender:S4(r),createVisualElement:e,Component:i};return n4(o)}}function Kh(t,e,n){const i=t.getProps();return fy(i,e,n!==void 0?n:i.custom,t)}const j4=ey(()=>window.ScrollTimeline!==void 0);class D4{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(r=>{if(j4()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{i.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class M4 extends D4{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function my(t,e){return t?t[e]||t.default||t:void 0}const sm=2e4;function oT(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<sm;)e+=n,i=t.next(e);return e>=sm?1/0:e}function gy(t){return typeof t=="function"}function uw(t,e){t.timeline=e,t.onfinish=null}const yy=t=>Array.isArray(t)&&typeof t[0]=="number",O4={linearEasing:void 0};function L4(t,e){const n=ey(t);return()=>{var i;return(i=O4[e])!==null&&i!==void 0?i:n()}}const Ju=L4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),aT=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=t(To(0,r-1,s))+", ";return`linear(${i.substring(0,i.length-2)})`};function lT(t){return!!(typeof t=="function"&&Ju()||!t||typeof t=="string"&&(t in om||Ju())||yy(t)||Array.isArray(t)&&t.every(lT))}const ba=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,om={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ba([0,.65,.55,1]),circOut:ba([.55,0,1,.45]),backIn:ba([.31,.01,.66,-.59]),backOut:ba([.33,1.53,.69,.99])};function cT(t,e){if(t)return typeof t=="function"&&Ju()?aT(t,e):yy(t)?ba(t):Array.isArray(t)?t.map(n=>cT(n,e)||om.easeOut):om[t]}const Sn={x:!1,y:!1};function uT(){return Sn.x||Sn.y}function V4(t,e,n){var i;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;const s=(i=void 0)!==null&&i!==void 0?i:r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function hT(t,e){const n=V4(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function hw(t){return!(t.pointerType==="touch"||uT())}function F4(t,e,n={}){const[i,r,s]=hT(t,n),o=a=>{if(!hw(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const d=f=>{hw(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const dT=(t,e)=>e?t===e?!0:dT(t,e.parentElement):!1,vy=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,U4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z4(t){return U4.has(t.tagName)||t.tabIndex!==-1}const Ea=new WeakSet;function dw(t){return e=>{e.key==="Enter"&&t(e)}}function Ef(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const B4=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=dw(()=>{if(Ea.has(n))return;Ef(n,"down");const r=dw(()=>{Ef(n,"up")}),s=()=>Ef(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function fw(t){return vy(t)&&!uT()}function $4(t,e,n={}){const[i,r,s]=hT(t,n),o=a=>{const l=a.currentTarget;if(!fw(a)||Ea.has(l))return;Ea.add(l);const c=e(l,a),d=(m,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),!(!fw(m)||!Ea.has(l))&&(Ea.delete(l),typeof c=="function"&&c(m,{success:v}))},f=m=>{d(m,n.useGlobalTarget||dT(l,m.target))},p=m=>{d(m,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",p,r)};return i.forEach(a=>{!z4(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),a.addEventListener("focus",c=>B4(c,r),r)}),s}function q4(t){return t==="x"||t==="y"?Sn[t]?null:(Sn[t]=!0,()=>{Sn[t]=!1}):Sn.x||Sn.y?null:(Sn.x=Sn.y=!0,()=>{Sn.x=Sn.y=!1})}const fT=new Set(["width","height","top","left","right","bottom",...Bo]);let cu;function H4(){cu=void 0}const Wn={now:()=>(cu===void 0&&Wn.set(ot.isProcessing||zN.useManualTiming?ot.timestamp:performance.now()),cu),set:t=>{cu=t,queueMicrotask(H4)}};function xy(t,e){t.indexOf(e)===-1&&t.push(e)}function wy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _y{constructor(){this.subscriptions=[]}add(e){return xy(this.subscriptions,e),()=>wy(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pT(t,e){return e?t*(1e3/e):0}const pw=30,W4=t=>!isNaN(parseFloat(t));class G4{constructor(e,n={}){this.version="12.1.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{const s=Wn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=W4(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _y);const i=this.events[e].add(n);return e==="change"?()=>{i(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pw)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,pw);return pT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _l(t,e){return new G4(t,e)}function K4(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_l(n))}function Q4(t,e){const n=Kh(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=I4(s[o]);K4(t,o,a)}}function Y4(t){return!!(Et(t)&&t.add)}function am(t,e){const n=t.getValue("willChange");if(Y4(n))return n.add(e)}function mT(t){return t.props[W2]}const gT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,X4=1e-7,J4=12;function Z4(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=gT(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>X4&&++a<J4);return o}function $l(t,e,n,i){if(t===e&&n===i)return tn;const r=s=>Z4(s,0,1,t,n);return s=>s===0||s===1?s:gT(r(s),e,i)}const yT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vT=t=>e=>1-t(1-e),xT=$l(.33,1.53,.69,.99),by=vT(xT),wT=yT(by),_T=t=>(t*=2)<1?.5*by(t):.5*(2-Math.pow(2,-10*(t-1))),Ey=t=>1-Math.sin(Math.acos(t)),bT=vT(Ey),ET=yT(Ey),TT=t=>/^0[^.\s]+$/u.test(t);function ej(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||TT(t):!0}const za=t=>Math.round(t*1e5)/1e5,Ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tj(t){return t==null}const nj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Sy=(t,e)=>n=>!!(typeof n=="string"&&nj.test(n)&&n.startsWith(t)||e&&!tj(n)&&Object.prototype.hasOwnProperty.call(n,e)),ST=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(Ty);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ij=t=>Ci(0,255,t),Tf={...$o,transform:t=>Math.round(ij(t))},Xr={test:Sy("rgb","red"),parse:ST("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Tf.transform(t)+", "+Tf.transform(e)+", "+Tf.transform(n)+", "+za(wl.transform(i))+")"};function rj(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const lm={test:Sy("#"),parse:rj,transform:Xr.transform},eo={test:Sy("hsl","hue"),parse:ST("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Hn.transform(za(e))+", "+Hn.transform(za(n))+", "+za(wl.transform(i))+")"},xt={test:t=>Xr.test(t)||lm.test(t)||eo.test(t),parse:t=>Xr.test(t)?Xr.parse(t):eo.test(t)?eo.parse(t):lm.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Xr.transform(t):eo.transform(t)},sj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oj(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Ty))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(sj))===null||n===void 0?void 0:n.length)||0)>0}const CT="number",IT="color",aj="var",lj="var(",mw="${}",cj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(cj,l=>(xt.test(l)?(i.color.push(s),r.push(IT),n.push(xt.parse(l))):l.startsWith(lj)?(i.var.push(s),r.push(aj),n.push(l)):(i.number.push(s),r.push(CT),n.push(parseFloat(l))),++s,mw)).split(mw);return{values:n,split:a,indexes:i,types:r}}function kT(t){return bl(t).values}function PT(t){const{split:e,types:n}=bl(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===CT?s+=za(r[o]):a===IT?s+=xt.transform(r[o]):s+=r[o]}return s}}const uj=t=>typeof t=="number"?0:t;function hj(t){const e=kT(t);return PT(t)(e.map(uj))}const wr={test:oj,parse:kT,createTransformer:PT,getAnimatableNone:hj},dj=new Set(["brightness","contrast","saturate","opacity"]);function fj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Ty)||[];if(!i)return t;const r=n.replace(i,"");let s=dj.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const pj=/\b([a-z-]*)\(.*?\)/gu,cm={...wr,getAnimatableNone:t=>{const e=t.match(pj);return e?e.map(fj).join(" "):t}},mj={...ay,color:xt,backgroundColor:xt,outlineColor:xt,fill:xt,stroke:xt,borderColor:xt,borderTopColor:xt,borderRightColor:xt,borderBottomColor:xt,borderLeftColor:xt,filter:cm,WebkitFilter:cm},Cy=t=>mj[t];function AT(t,e){let n=Cy(t);return n!==cm&&(n=wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const gj=new Set(["auto","none","0"]);function yj(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!gj.has(s)&&bl(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=AT(n,r)}const gw=t=>t===$o||t===Y,yw=(t,e)=>parseFloat(t.split(", ")[e]),vw=(t,e)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const r=i.match(/^matrix3d\((.+)\)$/u);if(r)return yw(r[1],e);{const s=i.match(/^matrix\((.+)\)$/u);return s?yw(s[1],t):0}},vj=new Set(["x","y","z"]),xj=Bo.filter(t=>!vj.has(t));function wj(t){const e=[];return xj.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Co={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:vw(4,13),y:vw(5,14)};Co.translateX=Co.x;Co.translateY=Co.y;const ns=new Set;let um=!1,hm=!1;function RT(){if(hm){const t=Array.from(ns).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=wj(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hm=!1,um=!1,ns.forEach(t=>t.complete()),ns.clear()}function NT(){ns.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hm=!0)})}function _j(){NT(),RT()}class Iy{constructor(e,n,i,r,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ns.add(this),um||(um=!0,ve.read(NT),ve.resolveKeyframes(RT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=r==null?void 0:r.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&n){const l=i.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),r&&o===void 0&&r.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ns.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ns.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),bj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ej(t){const e=bj.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function DT(t,e,n=1){const[i,r]=Ej(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return jT(o)?parseFloat(o):o}return oy(r)?DT(r,e,n+1):r}const MT=t=>e=>e.test(t),Tj={test:t=>t==="auto",parse:t=>t},OT=[$o,Y,Hn,zi,u4,c4,Tj],xw=t=>OT.find(MT(t));class LT extends Iy{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),oy(c))){const d=DT(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!fT.has(i)||e.length!==2)return;const[r,s]=e,o=xw(r),a=xw(s);if(o!==a)if(gw(o)&&gw(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)ej(e[r])&&i.push(r);i.length&&yj(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Co[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const s=n.getValue(i);s&&s.jump(this.measuredOrigin,!1);const o=r.length-1,a=r[o];r[o]=Co[i](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const ww=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wr.test(t)||t==="0")&&!t.startsWith("url("));function Sj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Cj(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=ww(r,e),a=ww(s,e);return!o||!a?!1:Sj(t)||(n==="spring"||gy(n))&&i}const Ij=t=>t!==null;function Qh(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(Ij),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const kj=40;class VT{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Wn.now(),this.options={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>kj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_j(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Wn.now(),this.hasAttemptedResolve=!0;const{name:i,type:r,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!Cj(e,i,r,s))if(o)this.options.duration=0;else{l&&l(Qh(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pe=(t,e,n)=>t+(e-t)*n;function Sf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Pj({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=Sf(l,a,t+1/3),s=Sf(l,a,t),o=Sf(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function Zu(t,e){return n=>n>0?e:t}const Cf=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},Aj=[lm,Xr,eo],Rj=t=>Aj.find(e=>e.test(t));function _w(t){const e=Rj(t);if(!e)return!1;let n=e.parse(t);return e===eo&&(n=Pj(n)),n}const bw=(t,e)=>{const n=_w(t),i=_w(e);if(!n||!i)return Zu(t,e);const r={...n};return s=>(r.red=Cf(n.red,i.red,s),r.green=Cf(n.green,i.green,s),r.blue=Cf(n.blue,i.blue,s),r.alpha=Pe(n.alpha,i.alpha,s),Xr.transform(r))},Nj=(t,e)=>n=>e(t(n)),ql=(...t)=>t.reduce(Nj),dm=new Set(["none","hidden"]);function jj(t,e){return dm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Dj(t,e){return n=>Pe(t,e,n)}function ky(t){return typeof t=="number"?Dj:typeof t=="string"?oy(t)?Zu:xt.test(t)?bw:Lj:Array.isArray(t)?FT:typeof t=="object"?xt.test(t)?bw:Mj:Zu}function FT(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>ky(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function Mj(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=ky(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function Oj(t,e){var n;const i=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][r[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;i[s]=l,r[o]++}return i}const Lj=(t,e)=>{const n=wr.createTransformer(e),i=bl(t),r=bl(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?dm.has(t)&&!r.values.length||dm.has(e)&&!i.values.length?jj(t,e):ql(FT(Oj(i,r),r.values),n):Zu(t,e)};function UT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pe(t,e,n):ky(t)(t,e)}const Vj=5;function zT(t,e,n){const i=Math.max(e-Vj,0);return pT(n-t(i),e-i)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},If=.001;function Fj({duration:t=De.duration,bounce:e=De.bounce,velocity:n=De.velocity,mass:i=De.mass}){let r,s,o=1-e;o=Ci(De.minDamping,De.maxDamping,o),t=Ci(De.minDuration,De.maxDuration,gi(t)),o<1?(r=c=>{const d=c*o,f=d*t,p=d-n,m=fm(c,o),v=Math.exp(-f);return If-p/m*v},s=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-f),w=fm(Math.pow(c,2),o);return(-r(c)+If>0?-1:1)*((p-m)*v)/w}):(r=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-If+d*f},s=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=zj(r,s,a);if(t=mi(t),isNaN(l))return{stiffness:De.stiffness,damping:De.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const Uj=12;function zj(t,e,n){let i=n;for(let r=1;r<Uj;r++)i=i-t(i)/e(i);return i}function fm(t,e){return t*Math.sqrt(1-e*e)}const Bj=["duration","bounce"],$j=["stiffness","damping","mass"];function Ew(t,e){return e.some(n=>t[n]!==void 0)}function qj(t){let e={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...t};if(!Ew(t,$j)&&Ew(t,Bj))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Ci(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:De.mass,stiffness:r,damping:s}}else{const n=Fj(t);e={...e,...n,mass:De.mass},e.isResolvedFromDuration=!0}return e}function BT(t=De.visualDuration,e=De.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:p,isResolvedFromDuration:m}=qj({...n,velocity:-gi(n.velocity||0)}),v=p||0,w=c/(2*Math.sqrt(l*d)),T=o-s,x=gi(Math.sqrt(l/d)),_=Math.abs(T)<5;i||(i=_?De.restSpeed.granular:De.restSpeed.default),r||(r=_?De.restDelta.granular:De.restDelta.default);let E;if(w<1){const P=fm(x,w);E=D=>{const C=Math.exp(-w*x*D);return o-C*((v+w*x*T)/P*Math.sin(P*D)+T*Math.cos(P*D))}}else if(w===1)E=P=>o-Math.exp(-x*P)*(T+(v+x*T)*P);else{const P=x*Math.sqrt(w*w-1);E=D=>{const C=Math.exp(-w*x*D),b=Math.min(P*D,300);return o-C*((v+w*x*T)*Math.sinh(b)+P*T*Math.cosh(b))/P}}const I={calculatedDuration:m&&f||null,next:P=>{const D=E(P);if(m)a.done=P>=f;else{let C=0;w<1&&(C=P===0?mi(v):zT(E,P,D));const b=Math.abs(C)<=i,k=Math.abs(o-D)<=r;a.done=b&&k}return a.value=a.done?o:D,a},toString:()=>{const P=Math.min(oT(I),sm),D=aT(C=>I.next(P*C).value,P,30);return P+"ms "+D}};return I}function Tw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],p={done:!1,value:f},m=b=>a!==void 0&&b<a||l!==void 0&&b>l,v=b=>a===void 0?l:l===void 0||Math.abs(a-b)<Math.abs(l-b)?a:l;let w=n*e;const T=f+w,x=o===void 0?T:o(T);x!==T&&(w=x-f);const _=b=>-w*Math.exp(-b/i),E=b=>x+_(b),I=b=>{const k=_(b),A=E(b);p.done=Math.abs(k)<=c,p.value=p.done?x:A};let P,D;const C=b=>{m(p.value)&&(P=b,D=BT({keyframes:[p.value,v(p.value)],velocity:zT(E,b,p.value),damping:r,stiffness:s,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:b=>{let k=!1;return!D&&P===void 0&&(k=!0,I(b),C(b)),P!==void 0&&b>=P?D.next(b-P):(!k&&I(b),p)}}}const Hj=$l(.42,0,1,1),Wj=$l(0,0,.58,1),$T=$l(.42,0,.58,1),Gj=t=>Array.isArray(t)&&typeof t[0]!="number",Sw={linear:tn,easeIn:Hj,easeInOut:$T,easeOut:Wj,circIn:Ey,circInOut:ET,circOut:bT,backIn:by,backInOut:wT,backOut:xT,anticipate:_T},Cw=t=>{if(yy(t)){im(t.length===4);const[e,n,i,r]=t;return $l(e,n,i,r)}else if(typeof t=="string")return im(Sw[t]!==void 0),Sw[t];return t};function Kj(t,e,n){const i=[],r=n||UT,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||tn:e;a=ql(l,a)}i.push(a)}return i}function Qj(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(im(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Kj(e,i,r),l=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const p=To(t[f],t[f+1],d);return a[f](p)};return n?d=>c(Ci(t[0],t[s-1],d)):c}function Yj(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=To(0,e,i);t.push(Pe(n,1,r))}}function Xj(t){const e=[0];return Yj(e,t.length-1),e}function Jj(t,e){return t.map(n=>n*e)}function Zj(t,e){return t.map(()=>e||$T).splice(0,t.length-1)}function eh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=Gj(i)?i.map(Cw):Cw(i),s={done:!1,value:e[0]},o=Jj(n&&n.length===e.length?n:Xj(e),t),a=Qj(o,e,{ease:Array.isArray(r)?r:Zj(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const eD=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ve.update(e,!0),stop:()=>xr(e),now:()=>ot.isProcessing?ot.timestamp:Wn.now()}},tD={decay:Tw,inertia:Tw,tween:eh,keyframes:eh,spring:BT},nD=t=>t/100;class Py extends VT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:i,element:r,keyframes:s}=this.options,o=(r==null?void 0:r.KeyframeResolver)||Iy,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,i,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=this.options,a=gy(n)?n:tD[n]||eh;let l,c;a!==eh&&typeof e[0]!="number"&&(l=ql(nD,UT(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=oT(d));const{calculatedDuration:f}=d,p=f+r,m=p*(i+1)-r;return{generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:p,totalDuration:m}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:b}=this.options;return{done:!0,value:b[b.length-1]}}const{finalKeyframe:r,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:d,resolvedDuration:f}=i;if(this.startTime===null)return s.next(0);const{delay:p,repeat:m,repeatType:v,repeatDelay:w,onUpdate:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const x=this.currentTime-p*(this.speed>=0?1:-1),_=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,I=s;if(m){const b=Math.min(this.currentTime,d)/f;let k=Math.floor(b),A=b%1;!A&&b>=1&&(A=1),A===1&&k--,k=Math.min(k,m+1),!!(k%2)&&(v==="reverse"?(A=1-A,w&&(A-=w/f)):v==="mirror"&&(I=o)),E=Ci(0,1,A)*f}const P=_?{done:!1,value:l[0]}:I.next(E);a&&(P.value=a(P.value));let{done:D}=P;!_&&c!==null&&(D=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return C&&r!==void 0&&(P.value=Qh(l,this.options,r)),T&&T(P.value),C&&this.finish(),P}get duration(){const{resolved:e}=this;return e?gi(e.calculatedDuration):0}get time(){return gi(this.currentTime)}set time(e){e=mi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=gi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eD,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const iD=new Set(["opacity","clipPath","filter","transform"]);function rD(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=cT(a,r);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const sD=ey(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),th=10,oD=2e4;function aD(t){return gy(t.type)||t.type==="spring"||!lT(t.ease)}function lD(t,e){const n=new Py({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const r=[];let s=0;for(;!i.done&&s<oD;)i=n.sample(s),r.push(i.value),s+=th;return{times:void 0,keyframes:r,duration:s-th,ease:"linear"}}const qT={anticipate:_T,backInOut:wT,circInOut:ET};function cD(t){return t in qT}class Iw extends VT{constructor(e){super(e);const{name:n,motionValue:i,element:r,keyframes:s}=this.options;this.resolver=new LT(s,(o,a)=>this.onKeyframesResolved(o,a),n,i,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:r,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Ju()&&cD(s)&&(s=qT[s]),aD(this.options)){const{onComplete:f,onUpdate:p,motionValue:m,element:v,...w}=this.options,T=lD(e,w);e=T.keyframes,e.length===1&&(e[1]=e[0]),i=T.duration,r=T.times,s=T.ease,o="keyframes"}const d=rD(a.owner.current,l,e,{...this.options,duration:i,times:r,ease:s});return d.startTime=c??this.calcStartTime(),this.pendingTimeline?(uw(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;a.set(Qh(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:r,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return gi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return gi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=mi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return tn;const{animation:i}=n;uw(i,e)}return tn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:r,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:d,onComplete:f,element:p,...m}=this.options,v=new Py({...m,keyframes:i,duration:r,type:s,ease:o,times:a,isGenerator:!0}),w=mi(this.time);c.setWithVelocity(v.sample(w-th).value,v.sample(w).value,th)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return sD()&&i&&iD.has(i)&&!l&&!c&&!r&&s!=="mirror"&&o!==0&&a!=="inertia"}}const uD={type:"spring",stiffness:500,damping:25,restSpeed:10},hD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),dD={type:"keyframes",duration:.8},fD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pD=(t,{keyframes:e})=>e.length>2?dD:Es.has(t)?t.startsWith("scale")?hD(e[1]):uD:fD;function mD({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const Ay=(t,e,n,i={},r,s)=>o=>{const a=my(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-mi(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};mD(a)||(d={...d,...pD(t,d)}),d.duration&&(d.duration=mi(d.duration)),d.repeatDelay&&(d.repeatDelay=mi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const p=Qh(d.keyframes,a);if(p!==void 0)return ve.update(()=>{d.onUpdate(p),d.onComplete()}),new M4([])}return!s&&Iw.supports(d)?new Iw(d):new Py(d)};function gD({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function HT(t,e,{delay:n=0,transitionOverride:i,type:r}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;i&&(o=i);const c=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const f in l){const p=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),m=l[f];if(m===void 0||d&&gD(d,f))continue;const v={delay:n,...my(o||{},f)};let w=!1;if(window.MotionHandoffAnimation){const x=mT(t);if(x){const _=window.MotionHandoffAnimation(x,f,ve);_!==null&&(v.startTime=_,w=!0)}}am(t,f),p.start(Ay(f,p,m,t.shouldReduceMotion&&fT.has(f)?{type:!1}:v,t,w));const T=p.animation;T&&c.push(T)}return a&&Promise.all(c).then(()=>{ve.update(()=>{a&&Q4(t,a)})}),c}function pm(t,e,n={}){var i;const r=Kh(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const o=r?()=>Promise.all(HT(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:p}=s;return yD(t,e,d+c,f,p,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,d]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function yD(t,e,n=0,i=0,r=1,s){const o=[],a=(t.variantChildren.size-1)*i,l=r===1?(c=0)=>c*i:(c=0)=>a-c*i;return Array.from(t.variantChildren).sort(vD).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(pm(c,e,{...s,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function vD(t,e){return t.sortNodePosition(e)}function xD(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>pm(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=pm(t,e,n);else{const r=typeof e=="function"?Kh(t,e,n.custom):e;i=Promise.all(HT(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function WT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const wD=ny.length;function GT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?GT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wD;n++){const i=ny[n],r=t.props[i];(vl(r)||r===!1)&&(e[i]=r)}return e}const _D=[...ty].reverse(),bD=ty.length;function ED(t){return e=>Promise.all(e.map(({animation:n,options:i})=>xD(t,n,i)))}function TD(t){let e=ED(t),n=kw(),i=!0;const r=l=>(c,d)=>{var f;const p=Kh(t,d,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(p){const{transition:m,transitionEnd:v,...w}=p;c={...c,...w,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,d=GT(t.parent)||{},f=[],p=new Set;let m={},v=1/0;for(let T=0;T<bD;T++){const x=_D[T],_=n[x],E=c[x]!==void 0?c[x]:d[x],I=vl(E),P=x===l?_.isActive:null;P===!1&&(v=T);let D=E===d[x]&&E!==c[x]&&I;if(D&&i&&t.manuallyAnimateOnMount&&(D=!1),_.protectedKeys={...m},!_.isActive&&P===null||!E&&!_.prevProp||Wh(E)||typeof E=="boolean")continue;const C=SD(_.prevProp,E);let b=C||x===l&&_.isActive&&!D&&I||T>v&&I,k=!1;const A=Array.isArray(E)?E:[E];let j=A.reduce(r(x),{});P===!1&&(j={});const{prevResolvedValues:M={}}=_,R={...M,...j},kt=xe=>{b=!0,p.has(xe)&&(k=!0,p.delete(xe)),_.needsAnimating[xe]=!0;const $=t.getValue(xe);$&&($.liveStyle=!1)};for(const xe in R){const $=j[xe],X=M[xe];if(m.hasOwnProperty(xe))continue;let ee=!1;rm($)&&rm(X)?ee=!WT($,X):ee=$!==X,ee?$!=null?kt(xe):p.add(xe):$!==void 0&&p.has(xe)?kt(xe):_.protectedKeys[xe]=!0}_.prevProp=E,_.prevResolvedValues=j,_.isActive&&(m={...m,...j}),i&&t.blockInitialAnimation&&(b=!1),b&&(!(D&&C)||k)&&f.push(...A.map(xe=>({animation:xe,options:{type:x}})))}if(p.size){const T={};p.forEach(x=>{const _=t.getBaseTarget(x),E=t.getValue(x);E&&(E.liveStyle=!0),T[x]=_??null}),f.push({animation:T})}let w=!!f.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),i=!1,w?e(f):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=kw(),i=!0}}}function SD(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!WT(e,t):!1}function Br(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kw(){return{animate:Br(!0),whileInView:Br(),whileHover:Br(),whileTap:Br(),whileDrag:Br(),whileFocus:Br(),exit:Br()}}class Nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CD extends Nr{constructor(e){super(e),e.animationState||(e.animationState=TD(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ID=0;class kD extends Nr{constructor(){super(...arguments),this.id=ID++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PD={animation:{Feature:CD},exit:{Feature:kD}};function El(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Hl(t){return{point:{x:t.pageX,y:t.pageY}}}const AD=t=>e=>vy(e)&&t(e,Hl(e));function Ba(t,e,n,i){return El(t,e,AD(n),i)}const Pw=(t,e)=>Math.abs(t-e);function RD(t,e){const n=Pw(t.x,e.x),i=Pw(t.y,e.y);return Math.sqrt(n**2+i**2)}class KT{constructor(e,n,{transformPagePoint:i,contextWindow:r,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Pf(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=RD(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:v}=f,{timestamp:w}=ot;this.history.push({...v,timestamp:w});const{onStart:T,onMove:x}=this.handlers;p||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=kf(p,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Pf(f.type==="pointercancel"?this.lastMoveEventInfo:kf(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,T),v&&v(f,T)},!vy(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.contextWindow=r||window;const o=Hl(e),a=kf(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ot;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,Pf(a,this.history)),this.removeListeners=ql(Ba(this.contextWindow,"pointermove",this.handlePointerMove),Ba(this.contextWindow,"pointerup",this.handlePointerUp),Ba(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}}function kf(t,e){return e?{point:e(t.point)}:t}function Aw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pf({point:t},e){return{point:t,delta:Aw(t,QT(e)),offset:Aw(t,ND(e)),velocity:jD(e,.1)}}function ND(t){return t[0]}function QT(t){return t[t.length-1]}function jD(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=QT(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>mi(e)));)n--;if(!i)return{x:0,y:0};const s=gi(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const YT=1e-4,DD=1-YT,MD=1+YT,XT=.01,OD=0-XT,LD=0+XT;function Nt(t){return t.max-t.min}function VD(t,e,n){return Math.abs(t-e)<=n}function Rw(t,e,n,i=.5){t.origin=i,t.originPoint=Pe(e.min,e.max,t.origin),t.scale=Nt(n)/Nt(e),t.translate=Pe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=DD&&t.scale<=MD||isNaN(t.scale))&&(t.scale=1),(t.translate>=OD&&t.translate<=LD||isNaN(t.translate))&&(t.translate=0)}function $a(t,e,n,i){Rw(t.x,e.x,n.x,i?i.originX:void 0),Rw(t.y,e.y,n.y,i?i.originY:void 0)}function Nw(t,e,n){t.min=n.min+e.min,t.max=t.min+Nt(e)}function FD(t,e,n){Nw(t.x,e.x,n.x),Nw(t.y,e.y,n.y)}function jw(t,e,n){t.min=e.min-n.min,t.max=t.min+Nt(e)}function qa(t,e,n){jw(t.x,e.x,n.x),jw(t.y,e.y,n.y)}function UD(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Pe(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Pe(n,t,i.max):Math.min(t,n)),t}function Dw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zD(t,{top:e,left:n,bottom:i,right:r}){return{x:Dw(t.x,n,r),y:Dw(t.y,e,i)}}function Mw(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function BD(t,e){return{x:Mw(t.x,e.x),y:Mw(t.y,e.y)}}function $D(t,e){let n=.5;const i=Nt(t),r=Nt(e);return r>i?n=To(e.min,e.max-i,t.min):i>r&&(n=To(t.min,t.max-r,e.min)),Ci(0,1,n)}function qD(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mm=.35;function HD(t=mm){return t===!1?t=0:t===!0&&(t=mm),{x:Ow(t,"left","right"),y:Ow(t,"top","bottom")}}function Ow(t,e,n){return{min:Lw(t,e),max:Lw(t,n)}}function Lw(t,e){return typeof t=="number"?t:t[e]||0}const Vw=()=>({translate:0,scale:1,origin:0,originPoint:0}),to=()=>({x:Vw(),y:Vw()}),Fw=()=>({min:0,max:0}),Fe=()=>({x:Fw(),y:Fw()});function hn(t){return[t("x"),t("y")]}function JT({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function WD({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GD(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function Af(t){return t===void 0||t===1}function gm({scale:t,scaleX:e,scaleY:n}){return!Af(t)||!Af(e)||!Af(n)}function Hr(t){return gm(t)||ZT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZT(t){return Uw(t.x)||Uw(t.y)}function Uw(t){return t&&t!=="0%"}function nh(t,e,n){const i=t-n,r=e*i;return n+r}function zw(t,e,n,i,r){return r!==void 0&&(t=nh(t,r,i)),nh(t,n,i)+e}function ym(t,e=0,n=1,i,r){t.min=zw(t.min,e,n,i,r),t.max=zw(t.max,e,n,i,r)}function eS(t,{x:e,y:n}){ym(t.x,e.translate,e.scale,e.originPoint),ym(t.y,n.translate,n.scale,n.originPoint)}const Bw=.999999999999,$w=1.0000000000001;function KD(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&io(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,eS(t,o)),i&&Hr(s.latestValues)&&io(t,s.latestValues))}e.x<$w&&e.x>Bw&&(e.x=1),e.y<$w&&e.y>Bw&&(e.y=1)}function no(t,e){t.min=t.min+e,t.max=t.max+e}function qw(t,e,n,i,r=.5){const s=Pe(t.min,t.max,r);ym(t,e,n,s,i)}function io(t,e){qw(t.x,e.x,e.scaleX,e.scale,e.originX),qw(t.y,e.y,e.scaleY,e.scale,e.originY)}function tS(t,e){return JT(GD(t.getBoundingClientRect(),e))}function QD(t,e,n){const i=tS(t,n),{scroll:r}=e;return r&&(no(i.x,r.offset.x),no(i.y,r.offset.y)),i}const nS=({current:t})=>t?t.ownerDocument.defaultView:null,YD=new WeakMap;class XD{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hl(d).point)},s=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q4(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hn(T=>{let x=this.getAxisMotionValue(T).get()||0;if(Hn.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[T];E&&(x=Nt(E)*(parseFloat(x)/100))}}this.originPoint[T]=x}),v&&ve.postRender(()=>v(d,f)),am(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:T}=f;if(m&&this.currentDirection===null){this.currentDirection=JD(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),w&&w(d,f)},a=(d,f)=>this.stop(d,f),l=()=>hn(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new KT(e,{onSessionStart:r,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:nS(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:s}=this.getProps();s&&ve.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!Bc(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=UD(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Zs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=zD(r.layoutBox,n):this.constraints=!1,this.elastic=HD(i),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qD(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Zs(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=QD(i,r.root,this.visualElement.getTransformPagePoint());let o=BD(r.layout.layoutBox,s);if(n){const a=n(WD(o));this.hasMutatedConstraints=!!a,a&&(o=JT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hn(d=>{if(!Bc(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=r?200:1e6,m=r?40:1e7,v={type:"inertia",velocity:i?e[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return am(this.visualElement,e),i.start(Ay(e,i,0,n,this.visualElement,!1))}stopAnimation(){hn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){hn(n=>{const{drag:i}=this.getProps();if(!Bc(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Pe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Zs(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};hn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=$D({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),hn(o=>{if(!Bc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Pe(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;YD.set(this.visualElement,this);const e=this.visualElement.current,n=Ba(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();Zs(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ve.read(i);const o=El(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hn(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=mm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JD(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZD extends Nr{constructor(e){super(e),this.removeGroupControls=tn,this.removeListeners=tn,this.controls=new XD(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||tn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hw=t=>(e,n)=>{t&&ve.postRender(()=>t(e,n))};class eM extends Nr{constructor(){super(...arguments),this.removePointerDownListener=tn}onPointerDown(e){this.session=new KT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nS(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:Hw(e),onStart:Hw(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&ve.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Ba(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ww(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ya={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=Ww(t,e.target.x),i=Ww(t,e.target.y);return`${n}% ${i}%`}},tM={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=wr.parse(t);if(r.length>5)return i;const s=wr.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Pe(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};class nM extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;l4(iM),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,o=i.projection;return o&&(o.isPresent=s,r||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ry.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iS(t){const[e,n]=F2(),i=N.useContext(Yg);return h.jsx(nM,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(G2),isPresent:e,safeToRemove:n})}const iM={borderRadius:{...ya,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ya,borderTopRightRadius:ya,borderBottomLeftRadius:ya,borderBottomRightRadius:ya,boxShadow:tM};function rM(t,e,n){const i=Et(t)?t:_l(t);return i.start(Ay("",i,e,n)),i.animation}function sM(t){return t instanceof SVGElement&&t.tagName!=="svg"}const oM=(t,e)=>t.depth-e.depth;class aM{constructor(){this.children=[],this.isDirty=!1}add(e){xy(this.children,e),this.isDirty=!0}remove(e){wy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oM),this.isDirty=!1,this.children.forEach(e)}}function lM(t,e){const n=Wn.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(xr(i),t(s-e))};return ve.read(i,!0),()=>xr(i)}const rS=["TopLeft","TopRight","BottomLeft","BottomRight"],cM=rS.length,Gw=t=>typeof t=="string"?parseFloat(t):t,Kw=t=>typeof t=="number"||Y.test(t);function uM(t,e,n,i,r,s){r?(t.opacity=Pe(0,n.opacity!==void 0?n.opacity:1,hM(i)),t.opacityExit=Pe(e.opacity!==void 0?e.opacity:1,0,dM(i))):s&&(t.opacity=Pe(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let o=0;o<cM;o++){const a=`border${rS[o]}Radius`;let l=Qw(e,a),c=Qw(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Kw(l)===Kw(c)?(t[a]=Math.max(Pe(Gw(l),Gw(c),i),0),(Hn.test(c)||Hn.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Pe(e.rotate||0,n.rotate||0,i))}function Qw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const hM=sS(0,.5,bT),dM=sS(.5,.95,tn);function sS(t,e,n){return i=>i<t?0:i>e?1:n(To(t,e,i))}function Yw(t,e){t.min=e.min,t.max=e.max}function cn(t,e){Yw(t.x,e.x),Yw(t.y,e.y)}function Xw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Jw(t,e,n,i,r){return t-=e,t=nh(t,1/n,i),r!==void 0&&(t=nh(t,1/r,i)),t}function fM(t,e=0,n=1,i=.5,r,s=t,o=t){if(Hn.test(e)&&(e=parseFloat(e),e=Pe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Pe(s.min,s.max,i);t===s&&(a-=e),t.min=Jw(t.min,e,n,a,r),t.max=Jw(t.max,e,n,a,r)}function Zw(t,e,[n,i,r],s,o){fM(t,e[n],e[i],e[r],e.scale,s,o)}const pM=["x","scaleX","originX"],mM=["y","scaleY","originY"];function e_(t,e,n,i){Zw(t.x,e,pM,n?n.x:void 0,i?i.x:void 0),Zw(t.y,e,mM,n?n.y:void 0,i?i.y:void 0)}function t_(t){return t.translate===0&&t.scale===1}function oS(t){return t_(t.x)&&t_(t.y)}function n_(t,e){return t.min===e.min&&t.max===e.max}function gM(t,e){return n_(t.x,e.x)&&n_(t.y,e.y)}function i_(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aS(t,e){return i_(t.x,e.x)&&i_(t.y,e.y)}function r_(t){return Nt(t.x)/Nt(t.y)}function s_(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class yM{constructor(){this.members=[]}add(e){xy(this.members,e),e.scheduleRender()}remove(e){if(wy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vM(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:p,skewX:m,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),d&&(i+=`rotate(${d}deg) `),f&&(i+=`rotateX(${f}deg) `),p&&(i+=`rotateY(${p}deg) `),m&&(i+=`skewX(${m}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const Wr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ta=typeof window<"u"&&window.MotionDebug!==void 0,Rf=["","X","Y","Z"],xM={visibility:"hidden"},o_=1e3;let wM=0;function Nf(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function lS(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&lS(i)}function cS({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=wM++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ta&&(Wr.totalNodes=Wr.resolvedTargetDeltas=Wr.recalculatedProjection=0),this.nodes.forEach(EM),this.nodes.forEach(kM),this.nodes.forEach(PM),this.nodes.forEach(TM),Ta&&window.MotionDebug.record(Wr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new aM)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new _y),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sM(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lM(p,250),uu.hasAnimatedSinceResize&&(uu.hasAnimatedSinceResize=!1,this.nodes.forEach(l_))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||DM,{onLayoutAnimationStart:T,onLayoutAnimationComplete:x}=d.getProps(),_=!this.targetLayout||!aS(this.targetLayout,v),E=!p&&m;if(this.options.layoutRoot||this.resumeFrom||E||p&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const I={...my(w,"layout"),onPlay:T,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else p||l_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AM),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lS(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a_);return}this.isUpdating||this.nodes.forEach(CM),this.isUpdating=!1,this.nodes.forEach(IM),this.nodes.forEach(_M),this.nodes.forEach(bM),this.clearAllSnapshots();const a=Wn.now();ot.delta=Ci(0,1e3/60,a-ot.timestamp),ot.timestamp=a,ot.isProcessing=!0,bf.update.process(ot),bf.preRender.process(ot),bf.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ry.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SM),this.sharedNodes.forEach(RM)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Nt(this.snapshot.measuredBox.x)&&!Nt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!oS(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||Hr(this.latestValues)||d)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),MM(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Fe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(OM))){const{scroll:d}=this.root;d&&(no(l.x,d.offset.x),no(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=Fe();if(cn(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:p}=d;d!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&cn(l,o),no(l.x,f.offset.x),no(l.y,f.offset.y))}return l}applyTransform(o,a=!1){const l=Fe();cn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&io(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hr(d.latestValues)&&io(l,d.latestValues)}return Hr(this.latestValues)&&io(l,this.latestValues),l}removeTransform(o){const a=Fe();cn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Hr(c.latestValues))continue;gm(c.latestValues)&&c.updateSnapshot();const d=Fe(),f=c.measurePageBox();cn(d,f),e_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Hr(this.latestValues)&&e_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),qa(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Fe(),this.targetWithTransforms=Fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FD(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):cn(this.target,this.layout.layoutBox),eS(this.target,this.targetDelta)):cn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fe(),this.relativeTargetOrigin=Fe(),qa(this.relativeTargetOrigin,this.target,m.target),cn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ta&&Wr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gm(this.parent.latestValues)||ZT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;cn(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;KD(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Fe());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Xw(this.prevProjectionDelta.x,this.projectionDelta.x),Xw(this.prevProjectionDelta.y,this.projectionDelta.y)),$a(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==m||!s_(this.projectionDelta.x,this.prevProjectionDelta.x)||!s_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Ta&&Wr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=to(),this.projectionDelta=to(),this.projectionDeltaWithTransform=to()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=to();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Fe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=m!==v,T=this.getStack(),x=!T||T.members.length<=1,_=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(jM));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const P=I/1e3;c_(f.x,o.x,P),c_(f.y,o.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qa(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NM(this.relativeTarget,this.relativeTargetOrigin,p,P),E&&gM(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Fe()),cn(E,this.relativeTarget)),w&&(this.animationValues=d,uM(d,c,this.latestValues,P,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{uu.hasAnimatedSinceResize=!0,this.currentAnimation=rM(0,o_,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&uS(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fe();const f=Nt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Nt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}cn(a,l),io(a,d),$a(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yM),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Nf("z",o,c,this.animationValues);for(let d=0;d<Rf.length;d++)Nf(`rotate${Rf[d]}`,o,c,this.animationValues),Nf(`skew${Rf[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xM;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=lu(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=lu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Hr(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=vM(this.projectionDeltaWithTransform,this.treeScale,p),d&&(c.transform=d(p,c.transform));const{x:m,y:v}=this.projectionDelta;c.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in xl){if(p[w]===void 0)continue;const{correct:T,applyTo:x,isCSSVariable:_}=xl[w],E=c.transform==="none"?p[w]:T(p[w],f);if(x){const I=x.length;for(let P=0;P<I;P++)c[x[P]]=E}else _?this.options.visualElement.renderState.vars[w]=E:c[w]=E}return this.options.layoutId&&(c.pointerEvents=f===this?lu(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(a_),this.root.sharedNodes.clear()}}}function _M(t){t.updateLayout()}function bM(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?hn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Nt(p);p.min=i[f].min,p.max=p.min+m}):uS(s,n.layoutBox,i)&&hn(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Nt(i[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=to();$a(a,i,n.layoutBox);const l=to();o?$a(l,t.applyTransform(r,!0),n.measuredBox):$a(l,i,n.layoutBox);const c=!oS(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=Fe();qa(v,n.layoutBox,p.layoutBox);const w=Fe();qa(w,i,m.layoutBox),aS(v,w)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function EM(t){Ta&&Wr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function TM(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SM(t){t.clearSnapshot()}function a_(t){t.clearMeasurements()}function CM(t){t.isLayoutDirty=!1}function IM(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function l_(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function kM(t){t.resolveTargetDelta()}function PM(t){t.calcProjection()}function AM(t){t.resetSkewAndRotation()}function RM(t){t.removeLeadSnapshot()}function c_(t,e,n){t.translate=Pe(e.translate,0,n),t.scale=Pe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function u_(t,e,n,i){t.min=Pe(e.min,n.min,i),t.max=Pe(e.max,n.max,i)}function NM(t,e,n,i){u_(t.x,e.x,n.x,i),u_(t.y,e.y,n.y,i)}function jM(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DM={duration:.45,ease:[.4,0,.1,1]},h_=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),d_=h_("applewebkit/")&&!h_("chrome/")?Math.round:tn;function f_(t){t.min=d_(t.min),t.max=d_(t.max)}function MM(t){f_(t.x),f_(t.y)}function uS(t,e,n){return t==="position"||t==="preserve-aspect"&&!VD(r_(e),r_(n),.2)}function OM(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const LM=cS({attachResizeListener:(t,e)=>El(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jf={current:void 0},hS=cS({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!jf.current){const t=new LM({});t.mount(window),t.setOptions({layoutScroll:!0}),jf.current=t}return jf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),VM={pan:{Feature:eM},drag:{Feature:ZD,ProjectionNode:hS,MeasureLayout:iS}};function p_(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&ve.postRender(()=>s(e,Hl(e)))}class FM extends Nr{mount(){const{current:e}=this.node;e&&(this.unmount=F4(e,(n,i)=>(p_(this.node,i,"Start"),r=>p_(this.node,r,"End"))))}unmount(){}}class UM extends Nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ql(El(this.node.current,"focus",()=>this.onFocus()),El(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function m_(t,e,n){const{props:i}=t;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&ve.postRender(()=>s(e,Hl(e)))}class zM extends Nr{mount(){const{current:e}=this.node;e&&(this.unmount=$4(e,(n,i)=>(m_(this.node,i,"Start"),(r,{success:s})=>m_(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vm=new WeakMap,Df=new WeakMap,BM=t=>{const e=vm.get(t.target);e&&e(t)},$M=t=>{t.forEach(BM)};function qM({root:t,...e}){const n=t||document;Df.has(n)||Df.set(n,{});const i=Df.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver($M,{root:t,...e})),i[r]}function HM(t,e,n){const i=qM(e);return vm.set(t,n),i.observe(t),()=>{vm.delete(t),i.unobserve(t)}}const WM={some:0,all:1};class GM extends Nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:WM[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=c?d:f;p&&p(l)};return HM(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(KM(e,n))&&this.startObserver()}unmount(){}}function KM({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const QM={inView:{Feature:GM},tap:{Feature:zM},focus:{Feature:UM},hover:{Feature:FM}},YM={layout:{ProjectionNode:hS,MeasureLayout:iS}},xm={current:null},dS={current:!1};function XM(){if(dS.current=!0,!!Zg)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xm.current=t.matches;t.addListener(e),e()}else xm.current=!1}const JM=[...OT,xt,wr],ZM=t=>JM.find(MT(t)),e3=new WeakMap;function t3(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Et(r))t.addValue(i,r);else if(Et(s))t.addValue(i,_l(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,_l(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const g_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class n3{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Iy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Wn.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,ve.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Gh(n),this.isVariantNode=H2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in p){const v=p[m];l[m]!==void 0&&Et(v)&&v.set(l[m],!1)}}mount(e){this.current=e,e3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),dS.current||XM(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Es.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in So){const n=So[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<g_.length;i++){const r=g_[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=t3(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=_l(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(jT(r)||TT(r))?r=parseFloat(r):!ZM(r)&&wr.test(n)&&(r=AT(e,n)),this.setBaseTarget(e,Et(r)?r.get():r)),Et(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let r;if(typeof i=="string"||typeof i=="object"){const o=fy(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(r=o[e])}if(i&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Et(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _y),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fS extends n3{constructor(){super(...arguments),this.KeyframeResolver=LT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Et(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function i3(t){return window.getComputedStyle(t)}class r3 extends fS{constructor(){super(...arguments),this.type="html",this.renderInstance=nT}readValueFromInstance(e,n){if(Es.has(n)){const i=Cy(n);return i&&i.default||0}else{const i=i3(e),r=(sy(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tS(e,n)}build(e,n,i){ly(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return py(e,n,i)}}class s3 extends fS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fe,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&tT(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Es.has(n)){const i=Cy(n);return i&&i.default||0}return n=iT.has(n)?n:iy(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return sT(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ve.postRender(this.updateDimensions)}build(e,n,i){hy(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,r){rT(e,n,i,r)}mount(e){this.isSVGTag=dy(e.tagName),super.mount(e)}}const o3=(t,e)=>uy(t)?new s3(e):new r3(e,{allowProjection:t!==N.Fragment}),a3=N4({...PD,...QM,...VM,...YM},o3),U=KN(a3),Ha="generated",l3="pointerdown",c3="pointerup",wm="pointerleave",u3="pointerout",hs="pointermove",h3="touchstart",y_="touchend",d3="touchmove",f3="touchcancel",p3="resize",m3="visibilitychange",_n="tsParticles - Error";class Qt{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Nn(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:0}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??0;else throw new Error(`${_n} Vector3d not initialized correctly`)}static get origin(){return Qt.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Qt.create(e.x,e.y,e.z)}static create(e,n,i){return new Qt(e,n,i)}add(e){return Qt.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Qt.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Qt.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Qt.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=0&&this.multTo(1/e)}rotate(e){return Qt.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}sub(e){return Qt.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class tt extends Qt{constructor(e,n){super(e,n,0)}static get origin(){return tt.create(0,0)}static clone(e){return tt.create(e.x,e.y)}static create(e,n){return new tt(e,n)}}let g3=Math.random;const _m=new Map;function Mf(t,e){_m.get(t)||_m.set(t,e)}function pS(t){return _m.get(t)||(e=>e)}function Ee(){return On(g3(),0,1-1e-16)}function On(t,e,n){return Math.min(Math.max(t,e),n)}function Of(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function $t(t){const e=Ji(t);let n=Ry(t);return e===n&&(n=0),Ee()*(e-n)+n}function K(t){return Nn(t)?t:$t(t)}function Ry(t){return Nn(t)?t:t.min}function Ji(t){return Nn(t)?t:t.max}function ie(t,e){if(t===e||e===void 0&&Nn(t))return t;const n=Ry(t),i=Ji(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:ie(n,i)}function ds(t){const e=t.random,{enable:n,minimumValue:i}=cr(e)?{enable:e,minimumValue:0}:e;return K(n?ie(t.value,i):t.value)}function Dt(t,e){const n=t.x-e.x,i=t.y-e.y;return{dx:n,dy:i,distance:Math.sqrt(n**2+i**2)}}function nn(t,e){return Dt(t,e).distance}function y3(t,e,n){if(Nn(t))return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(n.y-e.y,n.x-e.x);case"outside":return Math.atan2(e.y-n.y,e.x-n.x);default:return Ee()*Math.PI*2}}function v3(t){const e=tt.origin;return e.length=1,e.angle=t,e}function v_(t,e,n,i){return tt.create(t.x*(n-i)/(n+i)+e.x*2*i/(n+i),t.y)}function x3(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Ee()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Ee()*t.size.height}}function mS(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}const w3={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function fs(){return w3}function x_(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)/2&&o>0||n.min<=r.max&&n.min>(r.max+r.min)/2&&o<0)&&(e.velocity=o*-a,e.bounced=!0),e}function _3(t,e){const n=nt(e,i=>t.matches(i));return rn(n)?n.some(i=>i):n}function Io(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function b3(){return!Io()&&typeof matchMedia<"u"}function gS(t){if(b3())return matchMedia(t)}function E3(t){if(!(Io()||typeof MutationObserver>"u"))return new MutationObserver(t)}function Be(t,e){return t===e||rn(e)&&e.indexOf(t)>-1}async function T3(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function S3(t){return Math.floor(Ee()*t.length)}function Yh(t,e,n=!0){return t[e!==void 0&&n?e%t.length:S3(t)]}function Ny(t,e,n,i,r){return C3(Wl(t,i??0),e,n,r)}function C3(t,e,n,i){let r=!0;return(!i||i==="bottom")&&(r=t.top<e.height+n.x),r&&(!i||i==="left")&&(r=t.right>n.x),r&&(!i||i==="right")&&(r=t.left<e.width+n.y),r&&(!i||i==="top")&&(r=t.bottom>n.y),r}function Wl(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Tt(t,...e){for(const n of e){if(n==null)continue;if(!ro(n)){t=n;continue}const i=Array.isArray(n);i&&(ro(t)||!t||!Array.isArray(t))?t=[]:!i&&(ro(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=ro(o)&&Array.isArray(o)?o.map(l=>Tt(a[r],l)):Tt(a[r],o)}}return t}function jy(t,e){return!!xS(e,n=>n.enable&&Be(t,n.mode))}function Dy(t,e,n){nt(e,i=>{const r=i.mode;i.enable&&Be(t,r)&&I3(i,n)})}function I3(t,e){const n=t.selectors;nt(n,i=>{e(i,t)})}function yS(t,e){if(!(!e||!t))return xS(t,n=>_3(e,n.selectors))}function bm(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:tt.create(ds(t.options.bounce.horizontal),ds(t.options.bounce.vertical))}}function vS(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=Dt(s,r);if(n*o+i*a<0)return;const l=-Math.atan2(a,o),c=t.mass,d=e.mass,f=t.velocity.rotate(l),p=e.velocity.rotate(l),m=v_(f,p,c,d),v=v_(p,f,c,d),w=m.rotate(-l),T=v.rotate(-l);t.velocity.x=w.x*t.factor.x,t.velocity.y=w.y*t.factor.y,e.velocity.x=T.x*e.factor.x,e.velocity.y=T.y*e.factor.y}function k3(t,e){const n=t.getPosition(),i=t.getRadius(),r=Wl(n,i),s=x_({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:ds(t.options.bounce.horizontal)});s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const o=x_({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:ds(t.options.bounce.vertical)});o.bounced&&(o.velocity!==void 0&&(t.velocity.y=o.velocity),o.position!==void 0&&(t.position.y=o.position))}function nt(t,e){return rn(t)?t.map((n,i)=>e(n,i)):e(t,0)}function yi(t,e,n){return rn(t)?Yh(t,e,n):t}function xS(t,e){return rn(t)?t.find((n,i)=>e(n,i)):e(t,0)?t:void 0}function wS(t,e){const n=t.value,i=t.animation,r={delayTime:K(i.delay)*1e3,enable:i.enable,value:K(t.value)*e,max:Ji(n)*e,min:Ry(n)*e,loops:0,maxLoops:K(i.count),time:0};if(i.enable){switch(r.decay=1-K(i.decay),i.mode){case"increase":r.status="increasing";break;case"decrease":r.status="decreasing";break;case"random":r.status=Ee()>=.5?"increasing":"decreasing";break}const s=i.mode==="auto";switch(i.startValue){case"min":r.value=r.min,s&&(r.status="increasing");break;case"max":r.value=r.max,s&&(r.status="decreasing");break;case"random":default:r.value=$t(r),s&&(r.status=Ee()>=.5?"increasing":"decreasing");break}}return r.initialValue=r.value,r}function P3(t,e){if(!(t.mode==="percent")){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/100*e.width,y:t.y/100*e.height}:{width:t.width/100*e.width,height:t.height/100*e.height}}function _S(t,e){return P3(t,e)}function cr(t){return typeof t=="boolean"}function Rn(t){return typeof t=="string"}function Nn(t){return typeof t=="number"}function bS(t){return typeof t=="function"}function ro(t){return typeof t=="object"&&t!==null}function rn(t){return Array.isArray(t)}const ih="random",hu="mid",Xh=new Map;function w_(t){Xh.set(t.key,t)}function Lf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function A3(t){for(const[,s]of Xh)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,n=t.replace(e,(s,o,a,l,c)=>o+o+a+a+l+l+(c!==void 0?c+c:"")),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,r=i.exec(n);return r?{a:r[4]!==void 0?parseInt(r[4],16)/255:1,b:parseInt(r[3],16),g:parseInt(r[2],16),r:parseInt(r[1],16)}:void 0}function jn(t,e,n=!0){if(!t)return;const i=Rn(t)?{value:t}:t;if(Rn(i.value))return ES(i.value,e,n);if(rn(i.value))return jn({value:Yh(i.value,e,n)});for(const[,r]of Xh){const s=r.handleRangeColor(i);if(s)return s}}function ES(t,e,n=!0){if(!t)return;const i=Rn(t)?{value:t}:t;if(Rn(i.value))return i.value===ih?SS():R3(i.value);if(rn(i.value))return ES({value:Yh(i.value,e,n)});for(const[,r]of Xh){const s=r.handleColor(i);if(s)return s}}function Tl(t,e,n=!0){const i=jn(t,e,n);return i?TS(i):void 0}function TS(t){const e=t.r/255,n=t.g/255,i=t.b/255,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:0,l:(r+s)/2,s:0};return r!==s&&(o.s=o.l<.5?(r-s)/(r+s):(r-s)/(2-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?2+(i-e)/(r-s):4+(e-n)/(r-s)),o.l*=100,o.s*=100,o.h*=60,o.h<0&&(o.h+=360),o.h>=360&&(o.h-=360),o}function R3(t){return A3(t)}function ko(t){const e={b:0,g:0,r:0},n={h:t.h/360,l:t.l/100,s:t.s/100};if(!n.s)e.r=e.g=e.b=n.l;else{const i=n.l<.5?n.l*(1+n.s):n.l+n.s-n.l*n.s,r=2*n.l-i;e.r=Lf(r,i,n.h+1/3),e.g=Lf(r,i,n.h),e.b=Lf(r,i,n.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function N3(t){const e=ko(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function SS(t){return{b:Math.floor($t(ie(0,256))),g:Math.floor($t(ie(0,256))),r:Math.floor($t(ie(0,256)))}}function vi(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function Sl(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function My(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=ko(t)),s.r===void 0&&(s=ko(e)),{b:Of(r.b,s.b,n,i),g:Of(r.g,s.g,n,i),r:Of(r.r,s.r,n,i)}}function Em(t,e,n){if(n===ih)return SS();if(n===hu){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return My(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return ko(s)}}else return n}function CS(t,e,n){const i=Rn(t)?t:t.value;return i===ih?n?jn({value:i}):e?ih:hu:i===hu?hu:jn({value:i})}function __(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function IS(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Vf(i.h,e.h,n),Vf(i.s,e.s,n),Vf(i.l,e.l,n)),i}function Vf(t,e,n){t.enable=e.enable,t.enable?(t.velocity=K(e.speed)/100*n,t.decay=1-K(e.decay),t.status="increasing",t.loops=0,t.maxLoops=K(e.count),t.time=0,t.delayTime=K(e.delay)*1e3,e.sync||(t.velocity*=Ee(),t.value*=Ee()),t.initialValue=t.value):t.velocity=0}function Wa(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function j3(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function D3(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function M3(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,0,0,e.width,e.height),t.globalAlpha=1)}function Ff(t,e){t.clearRect(0,0,e.width,e.height)}function O3(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:d,transform:f}=t,p=i.getPosition(),m=i.rotation+(i.pathRotation?i.velocity.angle:0),v={sin:Math.sin(m),cos:Math.cos(m)},w={a:v.cos*(f.a??1),b:v.sin*(f.b??1),c:-v.sin*(f.c??1),d:v.cos*(f.d??1)};n.setTransform(w.a,w.b,w.c,w.d,p.x,p.y),n.beginPath(),o&&(n.globalCompositeOperation=a);const T=i.shadowColor;d.enable&&T&&(n.shadowBlur=d.blur,n.shadowColor=vi(T),n.shadowOffsetX=d.offset.x,n.shadowOffsetY=d.offset.y),s.fill&&(n.fillStyle=s.fill);const x=i.strokeWidth??0;n.lineWidth=x,s.stroke&&(n.strokeStyle=s.stroke),L3(e,n,i,l,c,r),x>0&&n.stroke(),i.close&&n.closePath(),i.fill&&n.fill(),V3(e,n,i,l,c,r),n.globalCompositeOperation="source-over",n.setTransform(1,0,0,1,0,0)}function L3(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);o&&o.draw(e,n,i,r,s,t.retina.pixelRatio)}function V3(t,e,n,i,r,s){if(!n.shape)return;const o=t.drawers.get(n.shape);!o||!o.afterEffect||o.afterEffect(e,n,i,r,s,t.retina.pixelRatio)}function F3(t,e,n){e.draw&&e.draw(t,n)}function U3(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function z3(t,e,n){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*n}}function B3(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??1)*i)}class $3{constructor(e){this.container=e,this._applyPostDrawUpdaters=n=>{for(const i of this._postDrawUpdaters)i.afterDraw&&i.afterDraw(n)},this._applyPreDrawUpdaters=(n,i,r,s,o,a)=>{for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:c,stroke:d}=l.getColorStyles(i,n,r,s);c&&(o.fill=c),d&&(o.stroke=d)}if(l.getTransformValues){const c=l.getTransformValues(i);for(const d in c)B3(a,c,d)}l.beforeDraw&&l.beforeDraw(i)}},this._applyResizePlugins=()=>{for(const n of this._resizePlugins)n.resize&&n.resize()},this._getPluginParticleColors=n=>{let i,r;for(const s of this._colorPlugins)if(!i&&s.particleFillColor&&(i=Tl(s.particleFillColor(n))),!r&&s.particleStrokeColor&&(r=Tl(s.particleStrokeColor(n))),i&&r)break;return[i,r]},this._initCover=()=>{const n=this.container.actualOptions,i=n.backgroundMask.cover,r=i.color,s=jn(r);if(s){const o={...s,a:i.opacity};this._coverColorStyle=vi(o,o.a)}},this._initStyle=()=>{const n=this.element,i=this.container.actualOptions;if(n){this._fullScreen?(this._originalStyle=Tt({},n.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const s=i.style[r];s&&n.style.setProperty(r,s,"important")}}},this._initTrail=async()=>{const n=this.container.actualOptions,i=n.particles.move.trail,r=i.fill;if(i.enable)if(r.color){const s=jn(r.color);if(!s)return;const o=n.particles.move.trail;this._trailFill={color:{...s},opacity:1/o.length}}else await new Promise((s,o)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},s()}),a.addEventListener("error",l=>{o(l.error)}),a.src=r.image})},this._paintBase=n=>{this.draw(i=>D3(i,this.size,n))},this._paintImage=(n,i)=>{this.draw(r=>M3(r,this.size,n,i))},this._repairStyle=()=>{const n=this.element;n&&(this._safeMutationObserver(i=>i.disconnect()),this._initStyle(),this.initBackground(),this._safeMutationObserver(i=>i.observe(n,{attributes:!0})))},this._resetOriginalStyle=()=>{const n=this.element,i=this._originalStyle;if(!(n&&i))return;const r=n.style;r.position=i.position,r.zIndex=i.zIndex,r.top=i.top,r.left=i.left,r.width=i.width,r.height=i.height},this._safeMutationObserver=n=>{this._mutationObserver&&n(this._mutationObserver)},this._setFullScreenStyle=()=>{const n=this.element;if(!n)return;const i="important",r=n.style;r.setProperty("position","fixed",i),r.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),r.setProperty("top","0",i),r.setProperty("left","0",i),r.setProperty("width","100%",i),r.setProperty("height","100%",i)},this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>0&&i?i.color?this._paintBase(vi(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):this.draw(r=>{Ff(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e&&e.remove()}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=0)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var E;const c=this.container,d=c.actualOptions,f=e.options.zIndex,p=(1-e.zIndexFactor)**f.opacityRate,m=e.bubble.opacity??((E=e.opacity)==null?void 0:E.value)??1,v=e.strokeOpacity??m,w=m*p,T=v*p,x={},_={fill:o?Sl(o,w):void 0};_.stroke=a?Sl(a,T):_.fill,this._applyPreDrawUpdaters(l,e,i,w,_,x),O3({container:c,context:l,particle:e,delta:n,colorStyles:_,backgroundMask:d.backgroundMask.enable,composite:d.backgroundMask.composite,radius:i*(1-e.zIndexFactor)**f.sizeRate,opacity:w,shadow:e.options.shadow,transform:x}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>U3(r,e,n,i))}drawPlugin(e,n){this.draw(i=>F3(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=E3(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(e){fs().error(e)}this.initBackground(),this._safeMutationObserver(e=>{this.element&&e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=jn(n.color);r.backgroundColor=s?vi(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Ha in e.dataset?e.dataset[Ha]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Tt({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),this._safeMutationObserver(n=>{this.element&&n.observe(this.element,{attributes:!0})}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Ff(n,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.retina.pixelRatio,i=e.canvas.size,r={width:this.element.offsetWidth*n,height:this.element.offsetHeight*n};if(r.height===i.height&&r.width===i.width&&r.height===this.element.height&&r.width===this.element.width)return!1;const s={...i};return this.element.width=i.width=this.element.offsetWidth*n,this.element.height=i.height=this.element.offsetHeight*n,this.container.started&&(this.resizeFactor={width:i.width/s.width,height:i.height/s.height}),!0}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>Ff(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}function un(t,e,n,i,r){if(i){let s={passive:!0};cr(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class q3{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;nt(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),500)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.getAnimationStatus()?n.play(!0):n.draw(!0)))},this._handleWindowResize=async()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout),this._resizeTimeout=setTimeout(async()=>{const n=this.container.canvas;n&&await n.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas.element;c&&(c.style.pointerEvents=l===c?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(un(a,hs,r.mouseMove,i),un(a,h3,r.touchStart,i),un(a,d3,r.touchMove,i),o.interactivity.events.onClick.enable?(un(a,y_,r.touchEndClick,i),un(a,c3,r.mouseUp,i),un(a,l3,r.mouseDown,i)):un(a,y_,r.touchEnd,i),un(a,n,r.mouseLeave,i),un(a,f3,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=wm;o==="window"?(r.interactivity.element=window,l=u3):o==="parent"&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&un(document,m3,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=gS("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){un(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){un(window,p3,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(async a=>{a.find(c=>c.target===o)&&await this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,l]of i.plugins)if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=wm,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!s||!s.element)return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const d=o.getBoundingClientRect();a={x:c.clientX-d.left,y:c.clientY-d.top}}}else if(r.interactivity.detectsOn==="parent"){const d=c.target,f=c.currentTarget;if(d&&f&&o){const p=d.getBoundingClientRect(),m=f.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+2*p.left-(m.left+v.left),y:c.offsetY+2*p.top-(m.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,d=c.touches[c.touches.length-1],f=o.getBoundingClientRect();a={x:d.clientX-(f.left??0),y:d.clientY-(f.top??0)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=hs},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}class ht{constructor(){this.value=""}static create(e,n){const i=new ht;return i.load(e),n!==void 0&&(Rn(n)||rn(n)?i.load({value:n}):i.load(n)),i}load(e){(e==null?void 0:e.value)!==void 0&&(this.value=e.value)}}class H3{constructor(){this.color=new ht,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class W3{constructor(){this.color=new ht,this.color.value="#fff",this.opacity=1}load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class G3{constructor(){this.composite="destination-out",this.cover=new W3,this.enable=!1}load(e){if(e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Rn(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class K3{constructor(){this.enable=!0,this.zIndex=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class Q3{constructor(){this.enable=!1,this.mode=[]}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class b_{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return nt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=nt(e,n=>`#${n}`)}load(e){if(!e)return;const n=e.ids??e.elementId??e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class Y3{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class X3{constructor(){this.enable=!1,this.mode=[],this.parallax=new Y3}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class J3{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}let Z3=class{constructor(){this.onClick=new Q3,this.onDiv=new b_,this.onHover=new X3,this.resize=new J3}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){if(!e)return;this.onClick.load(e.onClick??e.onclick);const n=e.onDiv??e.ondiv;n!==void 0&&(this.onDiv=nt(n,i=>{const r=new b_;return r.load(i),r})),this.onHover.load(e.onHover??e.onhover),cr(e.resize)?this.resize.enable=e.resize:this.resize.load(e.resize)}};class eO{constructor(e,n){this._engine=e,this._container=n}load(e){if(!e||!this._container)return;const n=this._engine.plugins.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class kS{constructor(e,n){this.detectsOn="window",this.events=new Z3,this.modes=new eO(e,n)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){if(!e)return;const n=e.detectsOn??e.detect_on;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class tO{load(e){e&&(e.position&&(this.position={x:e.position.x??50,y:e.position.y??50,mode:e.position.mode??"percent"}),e.options&&(this.options=Tt({},e.options)))}}class nO{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){e&&(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Tt({},e.options)))}}class iO{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){e&&(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class rO{constructor(){this.name="",this.default=new iO}load(e){e&&(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Tt({},e.options)))}}class Uf{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.delay=0,this.decay=0,this.sync=!0}load(e){e&&(e.count!==void 0&&(this.count=ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=ie(e.offset)),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.delay!==void 0&&(this.delay=ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class sO{constructor(){this.h=new Uf,this.s=new Uf,this.l=new Uf}load(e){e&&(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class Cl extends ht{constructor(){super(),this.animation=new sO}static create(e,n){const i=new Cl;return i.load(e),n!==void 0&&(Rn(n)||rn(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),!e)return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}class oO{constructor(){this.speed=2}load(e){e&&e.speed!==void 0&&(this.speed=e.speed)}}class aO{constructor(){this.enable=!0,this.retries=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class lO{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){e&&(e.count!==void 0&&(this.count=ie(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.delay!==void 0&&(this.delay=ie(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class PS extends lO{constructor(){super(),this.mode="auto",this.startValue="random"}load(e){super.load(e),e&&(e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue),e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class cO{constructor(){this.enable=!1,this.minimumValue=0}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class jr{constructor(){this.random=new cO,this.value=0}load(e){e&&(cr(e.random)?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=ie(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class E_ extends jr{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class AS{constructor(){this.horizontal=new E_,this.vertical=new E_}load(e){e&&(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class uO{constructor(){this.absorb=new oO,this.bounce=new AS,this.enable=!1,this.maxSpeed=50,this.mode="bounce",this.overlap=new aO}load(e){e&&(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=ie(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class hO{constructor(){this.offset=0,this.value=90}load(e){e&&(e.offset!==void 0&&(this.offset=ie(e.offset)),e.value!==void 0&&(this.value=ie(e.value)))}}class dO{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var r,s;if(!e)return;e.distance!==void 0&&(this.distance=ie(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const n=((r=e.rotate)==null?void 0:r.x)??e.rotateX;n!==void 0&&(this.rotate.x=n);const i=((s=e.rotate)==null?void 0:s.y)??e.rotateY;i!==void 0&&(this.rotate.y=i)}}class fO{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){e&&(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class pO{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=ie(e.maxSpeed)))}}class mO{constructor(){this.clamp=!0,this.delay=new jr,this.enable=!1,this.options={}}load(e){e&&(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Tt(this.options,e.options)))}}class gO{load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class yO{constructor(){this.enable=!1,this.length=10,this.fill=new gO}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class vO{constructor(){this.default="out"}load(e){e&&(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class xO{constructor(){this.acceleration=0,this.enable=!1}load(e){e&&(e.acceleration!==void 0&&(this.acceleration=ie(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=Tt({},e.position)))}}class wO{constructor(){this.angle=new hO,this.attract=new dO,this.center=new fO,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new pO,this.path=new mO,this.outModes=new vO,this.random=!1,this.size=!1,this.speed=2,this.spin=new xO,this.straight=!1,this.trail=new yO,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){if(!e)return;this.angle.load(Nn(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=ie(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Nn(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=ie(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes??e.outMode??e.out_mode;n!==void 0&&(ro(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path??e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=ie(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class _O extends PS{constructor(){super(),this.destroy="none",this.speed=2}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.opacity_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.opacity_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class bO extends jr{constructor(){super(),this.animation=new _O,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(!e)return;super.load(e);const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class EO{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width??e.area??e.value_area;n!==void 0&&(this.width=n);const i=e.height??e.factor;i!==void 0&&(this.height=i)}}class TO{constructor(){this.density=new EO,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){if(!e)return;this.density.load(e.density);const n=e.limit??e.max;n!==void 0&&(this.limit=n),e.value!==void 0&&(this.value=e.value)}}class SO{constructor(){this.blur=0,this.color=new ht,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ht.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const zf="character",Bf="char",$f="image",qf="images",Hf="polygon",Wf="star";class CO{constructor(){this.loadShape=(e,n,i,r)=>{if(!e)return;const s=rn(e),o=s?[]:{},a=s!==rn(this.options[n]),l=s!==rn(this.options[i]);a&&(this.options[n]=o),l&&r&&(this.options[i]=o),this.options[n]=Tt(this.options[n]??o,e),(!this.options[i]||r)&&(this.options[i]=Tt(this.options[i]??o,e))},this.close=!0,this.fill=!0,this.options={},this.type="circle"}get character(){return this.options[zf]??this.options[Bf]}set character(e){this.options[Bf]=this.options[zf]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){return this.options[$f]??this.options[qf]}set image(e){this.options[qf]=this.options[$f]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){return this.options[Hf]??this.options[Wf]}set polygon(e){this.options[Wf]=this.options[Hf]=e}get stroke(){return[]}set stroke(e){}load(e){if(!e)return;const n=e.options??e.custom;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=Tt(this.options[i]??{},r))}this.loadShape(e.character,zf,Bf,!0),this.loadShape(e.polygon,Hf,Wf,!1),this.loadShape(e.image??e.images,$f,qf,!0),e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class IO extends PS{constructor(){super(),this.destroy="none",this.speed=5}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){(e==null?void 0:e.size_min)!==void 0&&e.minimumValue===void 0&&(e.minimumValue=e.size_min),super.load(e),e&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class kO extends jr{constructor(){super(),this.animation=new IO,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){if(super.load(e),!e)return;const n=e.animation??e.anim;n!==void 0&&(this.animation.load(n),this.value=ie(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class T_{constructor(){this.width=0}load(e){e&&(e.color!==void 0&&(this.color=Cl.create(this.color,e.color)),e.width!==void 0&&(this.width=ie(e.width)),e.opacity!==void 0&&(this.opacity=ie(e.opacity)))}}class PO extends jr{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class AO{constructor(e,n){this._engine=e,this._container=n,this.bounce=new AS,this.collisions=new uO,this.color=new Cl,this.color.value="#fff",this.groups={},this.move=new wO,this.number=new TO,this.opacity=new bO,this.reduceDuplicates=!1,this.shadow=new SO,this.shape=new CO,this.size=new kO,this.stroke=new T_,this.zIndex=new PO}load(e){var r,s,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(Cl.create(this.color,e.color)),e.groups!==void 0)for(const a in e.groups){const l=e.groups[a];l!==void 0&&(this.groups[a]=Tt(this.groups[a]??{},l))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const n=((r=e.move)==null?void 0:r.collisions)??((s=e.move)==null?void 0:s.bounce);n!==void 0&&(this.collisions.enable=n),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Tt({},e.interactivity));const i=e.stroke??((o=e.shape)==null?void 0:o.stroke);if(i&&(this.stroke=nt(i,a=>{const l=new T_;return l.load(a),l})),this._container){const a=this._engine.plugins.updaters.get(this._container);if(a)for(const c of a)c.loadOptions&&c.loadOptions(this,e);const l=this._engine.plugins.interactors.get(this._container);if(l)for(const c of l)c.loadParticlesOptions&&c.loadParticlesOptions(this,e)}}}function RS(t,...e){for(const n of e)t.load(n)}function NS(t,e,...n){const i=new AO(t,e);return RS(i,...n),i}class RO{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode==="any"),this._importPreset=i=>{this.load(this._engine.plugins.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new H3,this.backgroundMask=new G3,this.defaultThemes={},this.delay=0,this.fullScreen=new K3,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new kS(e,n),this.manualParticles=[],this.particles=NS(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var o,a;if(!e)return;e.preset!==void 0&&nt(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=ie(e.delay));const n=e.detectRetina??e.retina_detect;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=ie(e.duration));const i=e.fpsLimit??e.fps_limit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen??e.backgroundMode;cr(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new tO;return c.load(l),c})),this.particles.load(e.particles),this.style=Tt(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.plugins.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new nO;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(d=>d.name===l.name);if(c)c.load(l);else{const d=new rO;d.load(l),this.themes.push(d)}}this.defaultThemes.dark=(o=this._findDefaultTheme("dark"))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=gS("(prefers-color-scheme: dark)"),i=n&&n.matches,r=this._findDefaultTheme(i?"dark":"light");r&&this.load(r.options)}}}class NO{constructor(e,n){this.container=n,this._engine=e,this._interactors=e.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&await n.interact(e)}handleClickMode(e){for(const n of this._externalInteractors)n.handleClickMode&&n.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.interact(e,n)}async reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}const S_=t=>{if(!Be(t.outMode,t.checkModes))return;const e=t.radius*2;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)};class jO{constructor(e,n,i,r,s,o){this.container=i,this._calcPosition=(a,l,c,d=0)=>{for(const[,_]of a.plugins){const E=_.particlePosition!==void 0?_.particlePosition(l,this):void 0;if(E)return Qt.create(E.x,E.y,c)}const f=a.canvas.size,p=x3({size:f,position:l}),m=Qt.create(p.x,p.y,c),v=this.getRadius(),w=this.options.move.outModes,T=_=>{S_({outMode:_,checkModes:["bounce","bounce-horizontal"],coord:m.x,maxCoord:a.canvas.size.width,setCb:E=>m.x+=E,radius:v})},x=_=>{S_({outMode:_,checkModes:["bounce","bounce-vertical"],coord:m.y,maxCoord:a.canvas.size.height,setCb:E=>m.y+=E,radius:v})};return T(w.left??w.default),T(w.right??w.default),x(w.top??w.default),x(w.bottom??w.default),this._checkOverlap(m,d)?this._calcPosition(a,void 0,c,d+1):m},this._calculateVelocity=()=>{const a=v3(this.direction),l=a.copy(),c=this.options.move;if(c.direction==="inside"||c.direction==="outside")return l;const d=Math.PI/180*K(c.angle.value),f=Math.PI/180*K(c.angle.offset),p={left:f-d/2,right:f+d/2};return c.straight||(l.angle+=$t(ie(p.left,p.right))),c.random&&typeof c.speed=="number"&&(l.length*=Ee()),l},this._checkOverlap=(a,l=0)=>{const c=this.options.collisions,d=this.getRadius();if(!c.enable)return!1;const f=c.overlap;if(f.enable)return!1;const p=f.retries;if(p>=0&&l>p)throw new Error(`${_n} particle is overlapping and can't be placed`);return!!this.container.particles.find(m=>nn(a,m.position)<d+m.getRadius())},this._getRollColor=a=>{if(!a||!this.roll||!this.backColor&&!this.roll.alter)return a;const l=this.roll.horizontal&&this.roll.vertical?2:1,c=this.roll.horizontal?Math.PI/2:0;return Math.floor(((this.roll.angle??0)+c)/(Math.PI/l))%2?this.backColor?this.backColor:this.roll.alter?z3(a,this.roll.alter.type,this.roll.alter.value):a:a},this._initPosition=a=>{const l=this.container,c=K(this.options.zIndex.value);this.position=this._calcPosition(l,a,On(c,0,l.zLayers)),this.initialPosition=this.position.copy();const d=l.canvas.size;switch(this.moveCenter={..._S(this.options.move.center,d),radius:this.options.move.center.radius??0,mode:this.options.move.center.mode??"percent"},this.direction=y3(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.offset=tt.origin},this._loadShapeData=(a,l)=>{const c=a.options[this.shape];if(c)return Tt({close:a.close,fill:a.fill},yi(c,this.id,l))},this._engine=e,this.init(n,r,s,o)}destroy(e){if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator;for(const[,r]of n.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of n.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);i&&i.reset(this)}draw(e){const n=this.container;for(const[,i]of n.plugins)n.canvas.drawParticlePlugin(i,this,e);n.canvas.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??__(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??__(this.strokeColor))}init(e,n,i,r){const s=this.container,o=this._engine;this.id=e,this.group=r,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=NS(this._engine,s,l.particles),d=c.shape.type,{reduceDuplicates:f}=c;this.shape=yi(d,this.id,f);const p=c.shape;if(i&&i.shape&&i.shape.type){const E=i.shape.type,I=yi(E,this.id,f);I&&(this.shape=I,p.load(i.shape))}this.shapeData=this._loadShapeData(p,f),c.load(i);const m=this.shapeData;m&&c.load(m.particles);const v=new kS(o,s);v.load(s.actualOptions.interactivity),v.load(c.interactivity),this.interactivity=v,this.fill=(m==null?void 0:m.fill)??c.shape.fill,this.close=(m==null?void 0:m.close)??c.shape.close,this.options=c;const w=this.options.move.path;this.pathDelay=ds(w.delay)*1e3,w.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(w.generator),this.pathGenerator&&s.addPath(w.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=wS(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-K(this.options.move.decay);const T=s.particles;T.needsSort=T.needsSort||T.lastZIndex<this.position.z,T.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let x=s.drawers.get(this.shape);x||(x=this._engine.plugins.getShapeDrawer(this.shape),x&&s.drawers.set(this.shape,x)),x&&x.loadShape&&x.loadShape(this);const _=x==null?void 0:x.getSidesCount;_&&(this.sides=_(this)),this.spawning=!1,this.shadowColor=jn(this.options.shadow.color);for(const E of s.particles.updaters)E.init(this);for(const E of s.particles.movers)E.init&&E.init(this);x&&x.particleInit&&x.particleInit(s,this);for(const[,E]of s.plugins)E.particleCreated&&E.particleCreated(this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){for(const e of this.container.particles.updaters)e.reset&&e.reset(this)}}class DO{constructor(e,n){this.position=e,this.particle=n}}class jS{constructor(e,n){this.position={x:e,y:n}}}class Ln extends jS{constructor(e,n,i,r){super(e,n),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){e instanceof St&&e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof Ln?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class St extends jS{constructor(e,n,i){super(e,n),this.radius=i}contains(e){return nn(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof St){const o=s+e.radius,a=Math.sqrt(r.x**2+r.y**2);return o>a}else if(e instanceof Ln){const{width:o,height:a}=e.size;return Math.pow(r.x-o,2)+Math.pow(r.y-a,2)<=s**2||r.x<=s+o&&r.y<=s+a||r.x<=o||r.y<=a}return!1}}class rh{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<4;l++)this._subs.push(new rh(new Ln(i+s/2*(l%2),r+o/2*(Math.round(l/2)-l%2),s/2,o/2),a));this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n,i){const r=i||[];if(!e.intersects(this.rectangle))return[];for(const s of this._points)!e.contains(s.position)&&nn(e.position,s.position)>s.particle.getRadius()&&(!n||n(s.particle))||r.push(s.particle);if(this._divided)for(const s of this._subs)s.query(e,n,r);return r}queryCircle(e,n,i){return this.query(new St(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new Ln(e.x,e.y,n.width,n.height),i)}}const C_=4,I_=t=>new Ln(-t.width/4,-t.height/4,t.width*3/2,t.height*3/2);let MO=class{constructor(e,n){this._applyDensity=(r,s,o)=>{var m;if(!((m=r.number.density)!=null&&m.enable))return;const a=r.number,l=this._initDensityFactor(a.density),c=a.value,d=a.limit>0?a.limit:c,f=Math.min(c,d)*l+s,p=Math.min(this.count,this.filter(v=>v.group===o).length);this.limit=a.limit*l,p<f?this.push(Math.abs(f-p),void 0,r,o):p>f&&this.removeQuantity(p-f,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return 1;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.factor*a**2*r.area)},this._pushParticle=(r,s,o,a)=>{try{let l=this.pool.pop();l?l.init(this._nextId,r,s,o):l=new jO(this._engine,this._nextId,this._container,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent("particleAdded",{container:this._container,data:{particle:l}}),l):void 0}catch(l){fs().warning(`${_n} adding particle: ${l}`);return}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;a.destroy(o);const l=this._zArray.indexOf(a);return this._array.splice(r,1),this._zArray.splice(l,1),this.pool.push(a),this._engine.dispatchEvent("particleRemoved",{container:this._container,data:{particle:a}}),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this._interactionManager=new NO(e,n);const i=n.canvas.size;this.quadTree=new rh(I_(i),C_),this.movers=this._engine.plugins.getMovers(n,!0),this.updaters=this._engine.plugins.getUpdaters(n,!0)}get count(){return this._array.length}addManualParticles(){const e=this._container,n=e.actualOptions;for(const i of n.manualParticles)this.addParticle(i.position?_S(i.position,e.canvas.size):void 0,i.options)}addParticle(e,n,i,r){const s=this._container,o=s.actualOptions,a=o.particles.number.limit;if(a>0){const l=this.count+1-a;l>0&&this.removeQuantity(l)}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[]}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}async draw(e){const n=this._container;n.canvas.clear(),await this.update(e);for(const[,i]of n.plugins)n.canvas.drawPlugin(i,e);for(const i of this._zArray)i.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}handleClickMode(e){this._interactionManager.handleClickMode(e)}init(){var r;const e=this._container,n=e.actualOptions;this.lastZIndex=0,this.needsSort=!1;let i=!1;this.updaters=this._engine.plugins.getUpdaters(e,!0),this._interactionManager.init();for(const[,s]of e.plugins)if(s.particlesInitialization!==void 0&&(i=s.particlesInitialization()),i)break;this._interactionManager.init();for(const[,s]of e.pathGenerators)s.init(e);if(this.addManualParticles(),!i){for(const s in n.particles.groups){const o=n.particles.groups[s];for(let a=this.count,l=0;l<((r=o.number)==null?void 0:r.value)&&a<n.particles.number.value;a++,l++)this.addParticle(void 0,o,s)}for(let s=this.count;s<n.particles.number.value;s++)this.addParticle()}}push(e,n,i,r){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=1,i,r){if(e<0||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o--,i,r)&&s++}removeQuantity(e,n){this.removeAt(0,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups;for(const i in n)this._applyDensity(n[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){const n=this._container,i=new Set;this.quadTree=new rh(I_(n.canvas.size),C_);for(const[,r]of n.pathGenerators)r.update();for(const[,r]of n.plugins)r.update&&r.update(e);for(const r of this._array){const s=n.canvas.resizeFactor;s&&!r.ignoresResizeRatio&&(r.position.x*=s.width,r.position.y*=s.height,r.initialPosition.x*=s.width,r.initialPosition.y*=s.height),r.ignoresResizeRatio=!1,await this._interactionManager.reset(r);for(const[,o]of this._container.plugins){if(r.destroyed)break;o.particleUpdate&&o.particleUpdate(r,e)}for(const o of this.movers)o.isEnabled(r)&&o.move(r,e);if(r.destroyed){i.add(r);continue}this.quadTree.insert(new DO(r.getPosition(),r))}if(i.size){const r=s=>!i.has(s);this._array=this.filter(r),this._zArray=this._zArray.filter(r),this.pool.push(...i)}await this._interactionManager.externalInteract(e);for(const r of this._array){for(const s of this.updaters)s.update(r,e);!r.destroyed&&!r.spawning&&await this._interactionManager.particlesInteract(r,e)}if(delete n.canvas.resizeFactor,this.needsSort){const r=this._zArray;r.sort((s,o)=>o.position.z-s.position.z||s.id-o.id),this.lastZIndex=r[r.length-1].position.z,this.needsSort=!1}}};class OO{constructor(e){this.container=e,this.pixelRatio=1,this.reduceFactor=1}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Io()?1:window.devicePixelRatio,this.reduceFactor=1;const i=this.pixelRatio;if(e.canvas.element){const o=e.canvas.element;e.canvas.size.width=o.offsetWidth*i,e.canvas.size.height=o.offsetHeight*i}const r=n.particles,s=r.move;this.attractDistance=K(s.attract.distance)*i,this.maxSpeed=K(s.gravity.maxSpeed)*i,this.sizeAnimationSpeed=K(r.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.attractDistance=K(r.attract.distance)*i,o.moveDrift=K(r.drift)*i,o.moveSpeed=K(r.speed)*i,o.sizeAnimationSpeed=K(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=K(r.gravity.maxSpeed)*i}}function Ie(t){return t&&!t.destroyed}function LO(t,e=60,n=!1){return{value:t,factor:n?60/e:60*t/1e3}}function Os(t,e,...n){const i=new RO(t,e);return RS(i,...n),i}const VO="default",k_={generate:t=>t.velocity,init:()=>{},update:()=>{},reset:()=>{}};class FO{constructor(e,n,i){this.id=n,this._intersectionManager=r=>{if(!(!Ie(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play:this.pause)()},this._nextFrame=async r=>{try{if(!this.smooth&&this.lastFrameTime!==void 0&&r<this.lastFrameTime+1e3/this.fpsLimit){this.draw(!1);return}this.lastFrameTime??(this.lastFrameTime=r);const s=LO(r-this.lastFrameTime,this.fpsLimit,this.smooth);if(this.addLifeTime(s.value),this.lastFrameTime=r,s.value>1e3){this.draw(!1);return}if(await this.particles.draw(s),!this.alive()){this.destroy();return}this.getAnimationStatus()&&this.draw(!1)}catch(s){fs().error(`${_n} in animation loop`,s)}},this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new OO(this),this.canvas=new $3(this),this.particles=new MO(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=Os(this._engine,this),this.actualOptions=Os(this._engine,this),this._eventListeners=new q3(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(r=>this._intersectionManager(r))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!Ie(this))return;const n=this.interactivity.element;if(!n)return;const i=(f,p,m)=>{if(!Ie(this))return;const v=this.retina.pixelRatio,w={x:p.x*v,y:p.y*v},T=this.particles.quadTree.queryCircle(w,m*v);e(f,T)},r=f=>{if(!Ie(this))return;const p=f,m={x:p.offsetX||p.clientX,y:p.offsetY||p.clientY};i(f,m,1)},s=()=>{Ie(this)&&(c=!0,d=!1)},o=()=>{Ie(this)&&(d=!0)},a=f=>{if(Ie(this)){if(c&&!d){const p=f;let m=p.touches[p.touches.length-1];if(!m&&(m=p.changedTouches[p.changedTouches.length-1],!m))return;const v=this.canvas.element,w=v?v.getBoundingClientRect():void 0,T={x:m.clientX-(w?w.left:0),y:m.clientY-(w?w.top:0)};i(f,T,Math.max(m.radiusX,m.radiusY))}c=!1,d=!1}},l=()=>{Ie(this)&&(c=!1,d=!1)};let c=!1,d=!1;n.addEventListener("click",r),n.addEventListener("touchstart",s),n.addEventListener("touchmove",o),n.addEventListener("touchend",a),n.addEventListener("touchcancel",l)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!Ie(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n??k_),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}destroy(){if(!Ie(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,i]of this.drawers)i.destroy&&i.destroy(this);for(const i of this.drawers.keys())this.drawers.delete(i);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),n=e.findIndex(i=>i===this);n>=0&&e.splice(n,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!Ie(this))return;let n=e;this._drawAnimationFrame=requestAnimationFrame(async i=>{n&&(this.lastFrameTime=void 0,n=!1),await this._nextFrame(i)})}async export(e,n={}){for(const[,i]of this.plugins){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}fs().error(`${_n} - Export plugin with type ${e} not found`)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&Ie(this)}handleClickMode(e){if(Ie(this)){this.particles.handleClickMode(e);for(const[,n]of this.plugins)n.handleClickMode&&n.handleClickMode(e)}}async init(){if(!Ie(this))return;const e=this._engine.plugins.getSupportedShapes();for(const i of e){const r=this._engine.plugins.getShapeDrawer(i);r&&this.drawers.set(i,r)}this._options=Os(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Os(this._engine,this,this._options);const n=this._engine.plugins.getAvailablePlugins(this);for(const[i,r]of n)this.plugins.set(i,r);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this._duration=K(this.actualOptions.duration)*1e3,this._delay=K(this.actualOptions.delay)*1e3,this._lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,i]of this.drawers)i.init&&await i.init(this);for(const[,i]of this.plugins)i.init&&await i.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,i]of this.plugins)i.particlesSetup&&i.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){Ie(this)&&(this._currentTheme=e,await this.refresh())}pause(){if(Ie(this)&&(this._drawAnimationFrame!==void 0&&(cancelAnimationFrame(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!Ie(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const[,i]of this.plugins)i.play&&i.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(n||!1)}async refresh(){if(Ie(this))return this.stop(),this.start()}async reset(){if(Ie(this))return this._initialSourceOptions=void 0,this._options=Os(this._engine,this),this.actualOptions=Os(this._engine,this,this._options),this.refresh()}setNoise(e,n,i){Ie(this)&&this.setPath(e,n,i)}setPath(e,n,i){if(!e||!Ie(this))return;const r={...k_};if(bS(e))r.generate=e,n&&(r.init=n),i&&(r.update=i);else{const s=r;r.generate=e.generate||s.generate,r.init=e.init||s.init,r.update=e.update||s.update}this.addPath(VO,r,!0)}async start(){!Ie(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,n]of this.plugins)n.start&&await n.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!Ie(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}}class UO{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i&&i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<0||(r===1?this._listeners.delete(e):i.splice(s,1))}}function Gf(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=[...n.values()].map(s=>s(t)),e.set(t,r)),r}class zO{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,n){this._initializers.interactors.set(e,n)}addParticleMover(e,n){this._initializers.movers.set(e,n)}addParticleUpdater(e,n){this._initializers.updaters.set(e,n)}addPathGenerator(e,n){!this.getPathGenerator(e)&&this.pathGenerators.set(e,n)}addPlugin(e){!this.getPlugin(e.id)&&this.plugins.push(e)}addPreset(e,n,i=!1){(i||!this.getPreset(e))&&this.presets.set(e,n)}addShapeDrawer(e,n){nt(e,i=>{!this.getShapeDrawer(i)&&this.drawers.set(i,n)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,i.getPlugin(e));return n}getInteractors(e,n=!1){return Gf(e,this.interactors,this._initializers.interactors,n)}getMovers(e,n=!1){return Gf(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,n=!1){return Gf(e,this.updaters,this._initializers.updaters,n)}loadOptions(e,n){for(const i of this.plugins)i.loadOptions(e,n)}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);if(r)for(const s of r)s.loadOptions&&s.loadOptions(n,...i)}}async function BO(t){const e=yi(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?n.json():(fs().error(`${_n} ${n.status} while retrieving config file`),t.fallback)}function $O(t){return!t.id&&!t.element&&!t.url&&!t.options}function qO(t){return!$O(t)}class HO{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new UO,this._initialized=!1,this.plugins=new zO(this)}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get version(){return"2.12.0"}addConfig(e,n){Rn(e)?n&&(n.name=e,this._configs.set(e,n)):this._configs.set(e.name??"default",e)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this.plugins.addInteractor(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this.plugins.addParticleMover(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this.plugins.addParticleUpdater(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.plugins.addPathGenerator(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.plugins.addPlugin(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){this.plugins.addPreset(e,n,i),await this.refresh(r)}async addShape(e,n,i,r,s,o=!0){let a,l=o,c,d,f;cr(i)?(l=i,c=void 0):c=i,cr(r)?(l=r,d=void 0):d=r,cr(s)?(l=s,f=void 0):f=s,bS(n)?a={afterEffect:d,destroy:f,draw:n,init:c}:a=n,this.plugins.addShapeDrawer(e,a),await this.refresh(l)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this._domArray}domItem(e){const n=this.dom(),i=n[e];if(!i||i.destroyed){n.splice(e,1);return}return i}init(){this._initialized||(this._initialized=!0)}async load(e,n){return this.loadFromArray(e,n)}async loadFromArray(e,n,i){let r;return qO(e)?r=e:(r={},Rn(e)?r.id=e:r.options=e,Nn(n)?r.index=n:r.options=n??r.options,r.index=i??r.index),this._loadParams(r)}async loadJSON(e,n,i){let r,s;return Nn(n)||n===void 0?r=e:(s=e,r=n),this._loadParams({id:s,url:r,index:i})}async refresh(e=!0){e&&this.dom().forEach(n=>n.refresh())}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}async set(e,n,i,r){const s={index:r};return Rn(e)?s.id=e:s.element=e,n instanceof HTMLElement?s.element=n:s.options=n,Nn(i)?s.index=i:s.options=i??s.options,this._loadParams(s)}async setJSON(e,n,i,r){const s={};return e instanceof HTMLElement?(s.element=e,s.url=n,s.index=i):(s.id=e,s.element=n,s.url=i,s.index=r),this._loadParams(s)}setOnClickHandler(e){const n=this.dom();if(!n.length)throw new Error(`${_n} can only set click handlers after calling tsParticles.load()`);for(const i of n)i.addClickHandler(e)}async _loadParams(e){const n=e.id??`tsparticles${Math.floor(Ee()*1e4)}`,{index:i,url:r}=e,s=r?await BO({fallback:e.options,url:r,index:i}):e.options;let o=e.element??document.getElementById(n);o||(o=document.createElement("div"),o.id=n,document.body.append(o));const a=yi(s,i),l=this.dom(),c=l.findIndex(p=>p.id===n);if(c>=0){const p=this.domItem(c);p&&!p.destroyed&&(p.destroy(),l.splice(c,1))}let d;if(o.tagName.toLowerCase()==="canvas")d=o,d.dataset[Ha]="false";else{const p=o.getElementsByTagName("canvas");p.length?(d=p[0],d.dataset[Ha]="false"):(d=document.createElement("canvas"),d.dataset[Ha]="true",o.appendChild(d))}d.style.width||(d.style.width="100%"),d.style.height||(d.style.height="100%");const f=new FO(this,n,a);return c>=0?l.splice(c,0,f):l.push(f),f.canvas.loadCanvas(d),await f.start(),f}}class WO{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return ko(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return ko({h:K(i.h),l:K(i.l),s:K(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?N3({a:i.length>4?mS(i[5]):1,h:parseInt(i[1],10),l:parseInt(i[3],10),s:parseInt(i[2],10)}):void 0}}class GO{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:K(i.r),g:K(i.g),b:K(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,i=n.exec(e);return i?{a:i.length>4?mS(i[5]):1,b:parseInt(i[3],10),g:parseInt(i[2],10),r:parseInt(i[1],10)}:void 0}}function KO(){const t=new GO,e=new WO;w_(t),w_(e);const n=new HO;return n.init(),n}class Zn{constructor(e){this.container=e,this.type="external"}}class Oy{constructor(e){this.container=e,this.type="particles"}}const sh=KO();Io()||(window.tsParticles=sh);const so=t=>typeof t=="object"&&t!==null;function oh(t,e,n=()=>!1){if(!so(t)||!so(e))return t===e;const i=Object.keys(t).filter(s=>!n(s)),r=Object.keys(e).filter(s=>!n(s));if(i.length!==r.length)return!1;for(const s of i){console.log("key");const o=t[s],a=e[s];if(so(o)&&so(a)){if(o===e&&a===t)continue;if(!oh(o,a,n))return!1}else if(Array.isArray(o)&&Array.isArray(a)){if(!DS(o,a,n))return!1}else if(o!==a)return!1}return!0}function DS(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){const r=t[i],s=e[i];if(Array.isArray(r)&&Array.isArray(s)){if(!DS(r,s,n))return!1}else if(so(r)&&so(s)){if(!oh(r,s,n))return!1}else if(r!==s)return!1}return!0}const MS="tsparticles";let OS=class LS extends N.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){this.state.library&&(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return console.log("should update"),e.url!==this.props.url&&e.id!==this.props.id&&e.canvasClassName!==this.props.canvasClassName&&e.className!==this.props.className&&e.height!==this.props.height&&e.width!==this.props.width&&!oh(e.style,this.props.style)&&e.init!==this.props.init&&e.loaded!==this.props.loaded&&!oh(e.options??e.params,this.props.options&&this.props.params)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(sh),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:n,className:i,canvasClassName:r,id:s}=this.props;return Eu.createElement("div",{className:i,id:s},Eu.createElement("canvas",{className:r,style:{...this.props.style,width:e,height:n}}))}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){if(!this.state.init)return;const e=this.props.id??LS.defaultProps.id??MS,n=await sh.load({url:this.props.url,id:e,options:this.props.options??this.props.params});this.props.container&&(this.props.container.current=n),this.setState({library:n}),this.props.loaded&&await this.props.loaded(n)}};OS.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:MS};class ah{static init(e){var s;const n=new ah,i=e.selector;if(!i)throw new Error("No selector provided");const r=document.querySelector(i);if(!r)throw new Error("No element found for selector");return sh.set(i.replace(".","").replace("!",""),r,{fullScreen:{enable:!1},particles:{color:{value:e.color??"!000000"},links:{color:"random",distance:e.minDistance??120,enable:e.connectParticles??!1},move:{enable:!0,speed:e.speed??.5},number:{value:e.maxParticles??100},size:{value:{min:1,max:e.sizeVariations??3}}},responsive:(s=e.responsive)==null?void 0:s.map(o=>{var a,l,c,d,f;return{maxWidth:o.breakpoint,options:{particles:{color:{value:(a=o.options)==null?void 0:a.color},links:{distance:(l=o.options)==null?void 0:l.minDistance,enable:(c=o.options)==null?void 0:c.connectParticles},number:{value:e.maxParticles},move:{enable:!0,speed:(d=o.options)==null?void 0:d.speed},size:{value:(f=o.options)==null?void 0:f.sizeVariations}}}}})}).then(o=>{n._container=o}),n}destroy(){const e=this._container;e&&e.destroy()}pauseAnimation(){const e=this._container;e&&e.pause()}resumeAnimation(){const e=this._container;e&&e.play()}}const QO=t=>{const e=(i,r)=>t.load(i,r);e.load=(i,r,s)=>{t.loadJSON(i,r).then(o=>{o&&s(o)}).catch(()=>{s(void 0)})},e.setOnClickHandler=i=>{t.setOnClickHandler(i)};const n=t.dom();return{particlesJS:e,pJSDom:n}},YO=t=>{const{particlesJS:e,pJSDom:n}=QO(t);return window.particlesJS=e,window.pJSDom=n,window.Particles=ah,{particlesJS:e,pJSDom:n,Particles:ah}};function XO(t){const e=t.initialPosition,{dx:n,dy:i}=Dt(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!(!a&&!l)){if((a&&r>=a||l&&s>=l)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),l&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const c=t.position,d=t.velocity;a&&(c.x<e.x&&d.x<0||c.x>e.x&&d.x>0)&&(d.x*=-Ee()),l&&(c.y<e.y&&d.y<0||c.y>e.y&&d.y>0)&&(d.y*=-Ee())}}}function JO(t,e,n,i,r,s){eL(t,s);const o=t.gravity,a=o!=null&&o.enable&&o.inverse?-1:1;r&&n&&(t.velocity.x+=r*s.factor/(60*n)),o!=null&&o.enable&&n&&(t.velocity.y+=a*(o.acceleration*s.factor)/(60*n));const l=t.moveDecay;t.velocity.multTo(l);const c=t.velocity.mult(n);o!=null&&o.enable&&i>0&&(!o.inverse&&c.y>=0&&c.y>=i||o.inverse&&c.y<=0&&c.y<=-i)&&(c.y=a*i,n&&(t.velocity.y=c.y/n));const d=t.options.zIndex,f=(1-t.zIndexFactor)**d.velocityRate;c.multTo(f);const{position:p}=t;p.addTo(c),e.vibrate&&(p.x+=Math.sin(p.x*Math.cos(p.y)),p.y+=Math.cos(p.y*Math.sin(p.x)))}function ZO(t,e){const n=t.container;if(!t.spin)return;const i={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*i.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*i.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const r=Math.max(n.canvas.size.width,n.canvas.size.height);t.spin.radius>r/2?(t.spin.radius=r/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/r)}function eL(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=On(t.velocity.x,-1,1),t.velocity.y=On(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function tL(t){return t.slow.inRange?t.slow.factor:1}const nL=2;class iL{constructor(){this._initSpin=e=>{const n=e.container,i=e.options,r=i.move.spin;if(!r.enable)return;const s=r.position??{x:50,y:50},o={x:s.x/100*n.canvas.size.width,y:s.y/100*n.canvas.size.height},a=e.getPosition(),l=nn(a,o),c=K(r.acceleration);e.retina.spinAcceleration=c*n.retina.pixelRatio,e.spin={center:o,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:l,acceleration:e.retina.spinAcceleration}}}init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:K(i.acceleration),inverse:i.inverse},this._initSpin(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var v,w;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio,a=tL(e),l=((v=e.retina).moveSpeed??(v.moveSpeed=K(r.speed)*o))*s.retina.reduceFactor,c=(w=e.retina).moveDrift??(w.moveDrift=K(e.options.move.drift)*o),d=Ji(i.size.value)*o,f=r.size?e.getRadius()/d:1,p=l*f*a*(n.factor||1)/nL,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?ZO(e,p):JO(e,r,p,m,c,n),XO(e)}}async function rL(t,e=!0){await t.addMover("base",()=>new iL,e)}class sL{draw(e,n,i){n.circleRange||(n.circleRange={min:0,max:Math.PI*2});const r=n.circleRange;e.arc(0,0,i,r.min,r.max,!1)}getSidesCount(){return 12}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:360,min:0};n.circleRange=ro(r)?{min:r.min*Math.PI/180,max:r.max*Math.PI/180}:{min:0,max:r*Math.PI/180}}}async function oL(t,e=!0){await t.addShape("circle",new sL,e)}function Kf(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=$t(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function aL(t,e){const{h:n,s:i,l:r}=t.options.color.animation,{color:s}=t;if(!s)return;const{h:o,s:a,l}=s;o&&Kf(e,o,n,360,!1),a&&Kf(e,a,i,100,!0),l&&Kf(e,l,r,100,!0)}class lL{constructor(e){this.container=e}init(e){const n=Tl(e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=IS(n,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){aL(e,n)}}async function cL(t,e=!0){await t.addParticleUpdater("color",n=>new lL(n),e)}function uL(t,e,n,i){switch(t.options.opacity.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function hL(t,e){const n=t.opacity;if(t.destroyed||!(n!=null&&n.enable)||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=n.min,r=n.max,s=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=r?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=(n.velocity??0)*e.factor;break;case"decreasing":n.value<=i?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=(n.velocity??0)*e.factor;break}n.velocity&&n.decay!==1&&(n.velocity*=s),uL(t,n.value,i,r),t.destroyed||(n.value=On(n.value,i,r))}}class dL{constructor(e){this.container=e}init(e){const n=e.options.opacity;e.opacity=wS(n,1);const i=n.animation;i.enable&&(e.opacity.velocity=K(i.speed)/100*this.container.retina.reduceFactor,i.sync||(e.opacity.velocity*=Ee()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){this.isEnabled(e)&&hL(e,n)}}async function fL(t,e=!0){await t.addParticleUpdater("opacity",n=>new dL(n),e)}function pL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split"||t.direction!=="left"&&t.direction!=="right")return;t.bounds.right<0&&t.direction==="left"?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction==="right"&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const r=ds(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction==="right"?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=0&&t.direction==="left"&&(t.particle.position.x=i),t.outMode==="split"&&t.particle.destroy()}function mL(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split"||t.direction!=="bottom"&&t.direction!=="top")return;t.bounds.bottom<0&&t.direction==="top"?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction==="bottom"&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const r=ds(t.particle.options.bounce.vertical);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction==="bottom"?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=0&&t.direction==="top"&&(t.particle.position.y=i),t.outMode==="split"&&t.particle.destroy()}class gL{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const[,p]of s.plugins)if(p.particleBounce!==void 0&&(o=p.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),d=Wl(a,c),f=s.canvas.size;pL({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c}),mL({particle:e,outMode:r,direction:n,bounds:d,canvasSize:f,offset:l,size:c})}}class yL{constructor(e){this.container=e,this.modes=["destroy"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(Ny(e.position,s.canvas.size,tt.origin,e.getRadius(),n))return;break;case"inside":{const{dx:o,dy:a}=Dt(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<0&&o>e.moveCenter.radius||c<0&&a>e.moveCenter.radius||l>=0&&o<-e.moveCenter.radius||c>=0&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class vL{constructor(e){this.container=e,this.modes=["none"]}update(e,n,i,r){if(!this.modes.includes(r)||e.options.move.distance.horizontal&&(n==="left"||n==="right")||e.options.move.distance.vertical&&(n==="top"||n==="bottom"))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n==="bottom"||s.inverse&&c.y<-l&&n==="top")&&o.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=a.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=a.width+l||e.velocity.x<0&&e.position.x>=-l)return;Ny(e.position,o.canvas.size,tt.origin,l,n)||o.particles.remove(e)}}}class xL{constructor(e){this.container=e,this.modes=["out"]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case"inside":{const{x:o,y:a}=e.velocity,l=tt.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(tt.create(e.moveCenter));const{dx:c,dy:d}=Dt(e.position,l);if(o<=0&&c>=0||a<=0&&d>=0||o>=0&&c<=0||a>=0&&d<=0)return;e.position.x=Math.floor($t({min:0,max:s.canvas.size.width})),e.position.y=Math.floor($t({min:0,max:s.canvas.size.height}));const{dx:f,dy:p}=Dt(e.position,e.moveCenter);e.direction=Math.atan2(-p,-f),e.velocity.angle=e.direction;break}default:{if(Ny(e.position,s.canvas.size,tt.origin,e.getRadius(),n))return;switch(e.outType){case"outside":{e.position.x=Math.floor($t({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor($t({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=Dt(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case"normal":{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),d=Wl(e.position,c);n==="right"&&d.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Ee()*a.height,e.initialPosition.y=e.position.y)):n==="left"&&d.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Ee()*a.height,e.initialPosition.y=e.position.y)),n==="bottom"&&d.top>a.height+e.offset.y?(o||(e.position.x=Ee()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n==="top"&&d.bottom<-e.offset.y&&(o||(e.position.x=Ee()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class wL{constructor(e){this.container=e,this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters)o.update(n,s,i,r)},this.updaters=[new gL(e),new yL(e),new xL(e),new vL(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,"bottom"),this._updateOutMode(e,n,i.left??i.default,"left"),this._updateOutMode(e,n,i.right??i.default,"right"),this._updateOutMode(e,n,i.top??i.default,"top")}}async function _L(t,e=!0){await t.addParticleUpdater("outModes",n=>new wL(n),e)}function bL(t,e,n,i){switch(t.options.size.animation.destroy){case"max":e>=i&&t.destroy();break;case"min":e<=n&&t.destroy();break}}function EL(t,e){const n=t.size;if(t.destroyed||!n||!n.enable||(n.maxLoops??0)>0&&(n.loops??0)>(n.maxLoops??0))return;const i=(n.velocity??0)*e.factor,r=n.min,s=n.max,o=n.decay??1;if(n.time||(n.time=0),(n.delayTime??0)>0&&n.time<(n.delayTime??0)&&(n.time+=e.value),!((n.delayTime??0)>0&&n.time<(n.delayTime??0))){switch(n.status){case"increasing":n.value>=s?(n.status="decreasing",n.loops||(n.loops=0),n.loops++):n.value+=i;break;case"decreasing":n.value<=r?(n.status="increasing",n.loops||(n.loops=0),n.loops++):n.value-=i}n.velocity&&o!==1&&(n.velocity*=o),bL(t,n.value,r,s),t.destroyed||(n.value=On(n.value,r,s))}}class TL{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/100*n.retina.reduceFactor,r.sync||(e.size.velocity*=Ee()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??0)<=0||(e.size.maxLoops??0)>0&&(e.size.loops??0)<(e.size.maxLoops??0))}reset(e){e.size.loops=0}update(e,n){this.isEnabled(e)&&EL(e,n)}}async function SL(t,e=!0){await t.addParticleUpdater("size",()=>new TL,e)}async function CL(t,e=!0){await rL(t,!1),await oL(t,!1),await cL(t,!1),await fL(t,!1),await _L(t,!1),await SL(t,!1),await t.refresh(e)}async function IL(){Mf("ease-in-quad",t=>t**2),Mf("ease-out-quad",t=>1-(1-t)**2),Mf("ease-in-out-quad",t=>t<.5?2*t**2:1-(-2*t+2)**2/2)}class kL{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}let PL=class extends Zn{constructor(e,n){super(n),this._clickAttract=()=>{const i=this.container;i.attract||(i.attract={particles:[]});const{attract:r}=i;if(r.finish||(r.count||(r.count=0),r.count++,r.count===i.particles.count&&(r.finish=!0)),r.clicking){const s=i.interactivity.mouse.clickPosition,o=i.retina.attractModeDistance;if(!o||o<0||!s)return;this._processAttract(s,o,new St(s.x,s.y,o))}else r.clicking===!1&&(r.particles=[])},this._hoverAttract=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.attractModeDistance;!s||s<0||!r||this._processAttract(r,s,new St(r.x,r.y,s))},this._processAttract=(i,r,s)=>{const o=this.container,a=o.actualOptions.interactivity.modes.attract;if(!a)return;const l=o.particles.quadTree.query(s,c=>this.isEnabled(c));for(const c of l){const{dx:d,dy:f,distance:p}=Dt(c.position,i),m=a.speed*a.factor,v=On(pS(a.easing)(1-p/r)*m,0,a.maxSpeed),w=tt.create(p===0?m:d/p*v,p===0?m:f/p*v);c.position.subFrom(w)}},this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!=="attract")){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===hs,r=n.interactivity.events,s=r.onHover.enable,o=r.onHover.mode,a=r.onClick.enable,l=r.onClick.mode;i&&s&&Be("attract",o)?this._hoverAttract():a&&Be("attract",l)&&this._clickAttract()}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return Be("attract",o)||Be("attract",a)}loadModeOptions(e,...n){e.attract||(e.attract=new kL);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function AL(t,e=!0){await t.addInteractor("externalAttract",n=>new PL(t,n),e)}class RL{constructor(){this.distance=200}load(e){e&&e.distance!==void 0&&(this.distance=e.distance)}}class NL extends Zn{constructor(e){super(e),this._processBounce=(n,i,r)=>{const s=this.container.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of s)r instanceof St?vS(bm(o),{position:n,radius:i,mass:i**2*Math.PI/2,velocity:tt.origin,factor:tt.origin}):r instanceof Ln&&k3(o,Wl(n,i))},this._processMouseBounce=()=>{const n=this.container,i=n.retina.pixelRatio,r=10*i,s=n.interactivity.mouse.position,o=n.retina.bounceModeDistance;!o||o<0||!s||this._processBounce(s,o,new St(s.x,s.y,o+r))},this._singleSelectorBounce=(n,i)=>{const r=this.container,s=document.querySelectorAll(n);s.length&&s.forEach(o=>{const a=o,l=r.retina.pixelRatio,c={x:(a.offsetLeft+a.offsetWidth/2)*l,y:(a.offsetTop+a.offsetHeight/2)*l},d=a.offsetWidth/2*l,f=10*l,p=i.type==="circle"?new St(c.x,c.y,d+f):new Ln(a.offsetLeft*l-f,a.offsetTop*l-f,a.offsetWidth*l+f*2,a.offsetHeight*l+f*2);this._processBounce(c,d,p)})}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===hs,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&Be("bounce",o)?this._processMouseBounce():Dy("bounce",a,(l,c)=>this._singleSelectorBounce(l,c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return r.position&&s.onHover.enable&&Be("bounce",s.onHover.mode)||jy("bounce",o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new RL);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function jL(t,e=!0){await t.addInteractor("externalBounce",n=>new NL(n),e)}class VS{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=rn(this.color)?void 0:this.color;this.color=nt(e.color,i=>ht.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class DL extends VS{constructor(){super(),this.selectors=[]}get ids(){return nt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=nt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class ML extends VS{load(e){super.load(e),e&&(this.divs=nt(e.divs,n=>{const i=new DL;return i.load(n),i}))}}function P_(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return On(r,t,e)}else if(e<n){const r=t-(n-e)*i;return On(r,e,t)}}class OL extends Zn{constructor(e){super(e),this._clickBubble=()=>{var c;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.clickPosition,s=i.interactivity.modes.bubble;if(!s||!r)return;n.bubble||(n.bubble={});const o=n.retina.bubbleModeDistance;if(!o||o<0)return;const a=n.particles.quadTree.queryCircle(r,o,d=>this.isEnabled(d)),{bubble:l}=n;for(const d of a){if(!l.clicking)continue;d.bubble.inRange=!l.durationEnd;const f=d.getPosition(),p=nn(f,r),m=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;m>s.duration&&(l.durationEnd=!0),m>s.duration*2&&(l.clicking=!1,l.durationEnd=!1);const v={bubbleObj:{optValue:n.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Ji(d.options.size.value)*n.retina.pixelRatio,value:d.size.value},type:"size"};this._process(d,p,m,v);const w={bubbleObj:{optValue:s.opacity,value:d.bubble.opacity},particlesObj:{optValue:Ji(d.options.opacity.value),value:((c=d.opacity)==null?void 0:c.value)??1},type:"opacity"};this._process(d,p,m,w),!l.durationEnd&&p<=o?this._hoverBubbleColor(d,p):delete d.bubble.color}},this._hoverBubble=()=>{const n=this.container,i=n.interactivity.mouse.position,r=n.retina.bubbleModeDistance;if(!r||r<0||i===void 0)return;const s=n.particles.quadTree.queryCircle(i,r,o=>this.isEnabled(o));for(const o of s){o.bubble.inRange=!0;const a=o.getPosition(),l=nn(a,i),c=1-l/r;l<=r?c>=0&&n.interactivity.status===hs&&(this._hoverBubbleSize(o,c),this._hoverBubbleOpacity(o,c),this._hoverBubbleColor(o,c)):this.reset(o),n.interactivity.status===wm&&this.reset(o)}},this._hoverBubbleColor=(n,i,r)=>{const s=this.container.actualOptions,o=r??s.interactivity.modes.bubble;if(o){if(!n.bubble.finalColor){const a=o.color;if(!a)return;const l=yi(a);n.bubble.finalColor=Tl(l)}if(n.bubble.finalColor)if(o.mix){n.bubble.color=void 0;const a=n.getFillColor();n.bubble.color=a?TS(My(a,n.bubble.finalColor,1-i,i)):n.bubble.finalColor}else n.bubble.color=n.bubble.finalColor}},this._hoverBubbleOpacity=(n,i,r)=>{var f,p;const s=this.container,o=s.actualOptions,a=(r==null?void 0:r.opacity)??((f=o.interactivity.modes.bubble)==null?void 0:f.opacity);if(!a)return;const l=n.options.opacity.value,c=((p=n.opacity)==null?void 0:p.value)??1,d=P_(c,a,Ji(l),i);d!==void 0&&(n.bubble.opacity=d)},this._hoverBubbleSize=(n,i,r)=>{const s=this.container,o=r!=null&&r.size?r.size*s.retina.pixelRatio:s.retina.bubbleModeSize;if(o===void 0)return;const a=Ji(n.options.size.value)*s.retina.pixelRatio,l=n.size.value,c=P_(l,o,a,i);c!==void 0&&(n.bubble.radius=c)},this._process=(n,i,r,s)=>{const o=this.container,a=s.bubbleObj.optValue,l=o.actualOptions,c=l.interactivity.modes.bubble;if(!c||a===void 0)return;const d=c.duration,f=o.retina.bubbleModeDistance,p=s.particlesObj.optValue,m=s.bubbleObj.value,v=s.particlesObj.value||0,w=s.type;if(!(!f||f<0||a===p))if(o.bubble||(o.bubble={}),o.bubble.durationEnd)m&&(w==="size"&&delete n.bubble.radius,w==="opacity"&&delete n.bubble.opacity);else if(i<=f){if((m??v)!==a){const x=v-r*(v-a)/d;w==="size"&&(n.bubble.radius=x),w==="opacity"&&(n.bubble.opacity=x)}}else w==="size"&&delete n.bubble.radius,w==="opacity"&&delete n.bubble.opacity},this._singleSelectorHover=(n,i,r)=>{const s=this.container,o=document.querySelectorAll(i),a=s.actualOptions.interactivity.modes.bubble;!a||!o.length||o.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new St(f.x,f.y,p):new Ln(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=s.particles.quadTree.query(m,w=>this.isEnabled(w));for(const w of v){if(!m.contains(w.getPosition()))continue;w.bubble.inRange=!0;const T=a.divs,x=yS(T,c);(!w.bubble.div||w.bubble.div!==c)&&(this.clear(w,n,!0),w.bubble.div=c),this._hoverBubbleSize(w,1,x),this._hoverBubbleOpacity(w,1,x),this._hoverBubbleColor(w,1,x)}})},e.bubble||(e.bubble={}),this.handleClickMode=n=>{n==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}async interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,d=i.onDiv;o&&Be("bubble",a)?this._hoverBubble():l&&Be("bubble",c)?this._clickBubble():Dy("bubble",d,(f,p)=>this._singleSelectorHover(e,f,p))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=jy("bubble",a);return c||l.enable&&r.position||o.enable&&r.clickPosition?Be("bubble",l.mode)||Be("bubble",o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new ML);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function LL(t,e=!0){await t.addInteractor("externalBubble",n=>new OL(n),e)}class VL{constructor(){this.opacity=.5}load(e){e&&e.opacity!==void 0&&(this.opacity=e.opacity)}}class FL{constructor(){this.distance=80,this.links=new VL,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function UL(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=My(s,o,e.getRadius(),n.getRadius()),d=t.createLinearGradient(a.x,a.y,l.x,l.y);return d.addColorStop(0,Sl(s,i)),d.addColorStop(r>1?1:r,vi(c,i)),d.addColorStop(1,Sl(o,i)),d}function zL(t,e,n,i,r){Wa(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function BL(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return UL(e,n,i,s.links.opacity)}function $L(t,e,n){t.canvas.draw(i=>{const r=BL(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();zL(i,e.retina.linksWidth??0,r,s,o)})}class qL extends Zn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!i)return;const r=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(i,r,a=>this.isEnabled(a));let o=0;for(const a of s){const l=a.getPosition();for(const c of s.slice(o+1)){const d=c.getPosition(),f=Math.abs(e.retina.connectModeDistance),p=Math.abs(l.x-d.x),m=Math.abs(l.y-d.y);p<f&&m<f&&$L(e,a,c)}++o}}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?Be("connect",r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new FL);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function HL(t,e=!0){await t.addInteractor("externalConnect",n=>new qL(n),e)}class WL{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){e&&(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class GL{constructor(){this.distance=100,this.links=new WL}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links??e.lineLinked??e.line_linked))}}function KL(t,e,n,i,r,s){Wa(t,n,i),t.strokeStyle=vi(r,s),t.lineWidth=e,t.stroke()}function QL(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();KL(s,e.retina.linksWidth??0,o,r,n,i)})}class YL extends Zn{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}async interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==hs)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<0)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),d=nn(c,r);if(d>s)continue;const f=i.modes.grab.links,p=f.opacity,m=p-d*p/s;if(m<=0)continue;const v=f.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const T=i.modes.grab.links;e.particles.grabLineColor=CS(v,T.blink,T.consent)}const w=Em(l,void 0,e.particles.grabLineColor);w&&QL(e,l,w,m,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Be("grab",r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new GL);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function XL(t,e=!0){await t.addInteractor("externalGrab",n=>new YL(n),e)}class JL extends Zn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="pause")return;const i=this.container;i.getAnimationStatus()?i.pause():i.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}async function ZL(t,e=!0){await t.addInteractor("externalPause",n=>new JL(n),e)}class eV{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ie(e)}load(e){if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ie(n))}}class tV extends Zn{constructor(e){super(e),this.handleClickMode=n=>{if(n!=="push")return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=K(s.quantity);if(o<=0)return;const a=Yh([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0;i.particles.push(o,i.interactivity.mouse,l,a)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new eV);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function nV(t,e=!0){await t.addInteractor("externalPush",n=>new tV(n),e)}class iV{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=ie(e)}load(e){if(!e)return;const n=e.quantity??e.particles_nb;n!==void 0&&(this.quantity=ie(n))}}class rV extends Zn{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!=="remove")return;const s=K(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new iV);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function sV(t,e=!0){await t.addInteractor("externalRemove",n=>new rV(n),e)}class FS{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){e&&(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class oV extends FS{constructor(){super(),this.selectors=[]}get ids(){return nt(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=nt(e,n=>`#${n}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class aV extends FS{load(e){super.load(e),e&&(this.divs=nt(e.divs,n=>{const i=new oV;return i.load(n),i}))}}class lV extends Zn{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse||{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<0)return;const a=Math.pow(o/6,3),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new St(l.x,l.y,a),d=i.particles.quadTree.query(c,f=>this.isEnabled(f));for(const f of d){const{dx:p,dy:m,distance:v}=Dt(l,f.position),w=v**2,T=r.speed,x=-a*T/w;if(w<=a){s.particles.push(f);const _=tt.create(p,m);_.length=x,f.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<0||!r||this._processRepulse(r,s,new St(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,d=>this.isEnabled(d)),c=a.actualOptions.interactivity.modes.repulse;if(c)for(const d of l){const{dx:f,dy:p,distance:m}=Dt(d.position,i),v=((o==null?void 0:o.speed)??c.speed)*c.factor,w=On(pS(c.easing)(1-m/r)*v,0,c.maxSpeed),T=tt.create(m===0?v:f/m*w,m===0?v:p/m*w);d.position.addTo(T)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,d=s.retina.pixelRatio,f={x:(c.offsetLeft+c.offsetWidth/2)*d,y:(c.offsetTop+c.offsetHeight/2)*d},p=c.offsetWidth/2*d,m=r.type==="circle"?new St(f.x,f.y,p):new Ln(c.offsetLeft*d,c.offsetTop*d,c.offsetWidth*d,c.offsetHeight*d),v=o.divs,w=yS(v,c);this._processRepulse(f,p,m,w)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!=="repulse")return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*1e3)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}async interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===hs,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,d=l.mode,f=r.onDiv;i&&o&&Be("repulse",a)?this._hoverRepulse():c&&Be("repulse",d)?this._clickRepulse():Dy("repulse",f,(p,m)=>this._singleSelectorRepulse(p,m))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=jy("repulse",o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const d=a.mode,f=l.mode;return Be("repulse",d)||Be("repulse",f)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new aV);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function cV(t,e=!0){await t.addInteractor("externalRepulse",n=>new lV(t,n),e)}class uV{constructor(){this.factor=3,this.radius=200}load(e){e&&(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class hV extends Zn{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&Be("slow",r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new uV);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<0||!r)return;const a=e.getPosition(),l=nn(r,a),c=l/s,d=o.factor,{slow:f}=e;l>s||(f.inRange=!0,f.factor=c/d)}}async function dV(t,e=!0){await t.addInteractor("externalSlow",n=>new hV(n),e)}const Qf=[0,4,2,1],A_=[8,8,4,2];class fV{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;do{n=this.data[this.pos++];for(let i=n;--i>=0;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==0);return e}readSubBlocksBin(){let e=0,n=0;for(let r=0;(e=this.data[this.pos+r])!==0;r+=e+1)n+=e;const i=new Uint8Array(n);for(let r=0;(e=this.data[this.pos++])!==0;)for(let s=e;--s>=0;i[r++]=this.data[this.pos++]);return i}skipSubBlocks(){for(;this.data[this.pos]!==0;this.pos+=this.data[this.pos]+1);this.pos++}}function US(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}async function pV(t,e,n,i){switch(t.nextByte()){case 249:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case 255:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case 254:{e.comments.push([n(!1),t.readSubBlocks()]);break}case 1:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function mV(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const d=1<<(a&7)+1;l&&(o.localColorTable=US(t,d));const f=x=>{const{r:_,g:E,b:I}=(l?o.localColorTable:e.globalColorTable)[x];return{r:_,g:E,b:I,a:x===r(null)?n?~~((_+E+I)/3):0:255}},p=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(x){if(x instanceof DOMException&&x.name==="IndexSizeError")return null;throw x}})();if(p==null)throw new EvalError("GIF frame size is to large");const m=t.nextByte(),v=t.readSubBlocksBin(),w=1<<m,T=(x,_)=>{const E=x>>>3,I=x&7;return(v[E]+(v[E+1]<<8)+(v[E+2]<<16)&(1<<_)-1<<I)>>>I};if(c){for(let x=0,_=m+1,E=0,I=[[0]],P=0;P<4;P++)if(Qf[P]<o.height)for(let D=0,C=0;;){const b=x;if(x=T(E,_),E+=_+1,x===w){_=m+1,I.length=w+2;for(let k=0;k<I.length;k++)I[k]=k<w?[k]:[]}else{x>=I.length?I.push(I[b].concat(I[b][0])):b!==w&&I.push(I[b].concat(I[x][0]));for(let k=0;k<I[x].length;k++){const{r:A,g:j,b:M,a:R}=f(I[x][k]);p.data.set([A,j,M,R],Qf[P]*o.width+A_[P]*C+D%(o.width*4)),D+=4}I.length===1<<_&&_<12&&_++}if(D===o.width*4*(C+1)&&(C++,Qf[P]+A_[P]*C>=o.height))break}o.image=p,o.bitmap=await createImageBitmap(p)}else{for(let x=0,_=m+1,E=0,I=[[0]],P=-4;;){const D=x;if(x=T(E,_),E+=_,x===w){_=m+1,I.length=w+2;for(let C=0;C<I.length;C++)I[C]=C<w?[C]:[]}else{if(x===w+1)break;x>=I.length?I.push(I[D].concat(I[D][0])):D!==w&&I.push(I[D].concat(I[x][0]));for(let C=0;C<I[x].length;C++){const{r:b,g:k,b:A,a:j}=f(I[x][C]);p.data.set([b,k,A,j],P+=4)}I.length>=1<<_&&_<12&&_++}}o.image=p,o.bitmap=await createImageBitmap(p)}}async function gV(t,e,n,i,r,s){switch(t.nextByte()){case 59:return!0;case 44:await mV(t,e,n,i,r);break;case 33:await pV(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function yV(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function vV(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new fV(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,d=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=US(o,c));const f=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(I){if(I instanceof DOMException&&I.name==="IndexSizeError")return null;throw I}})();if(f==null)throw new Error("GIF frame size is to large");const{r:p,g:m,b:v}=s.globalColorTable[d];f.data.set(l?[p,m,v,255]:[0,0,0,0]);for(let I=4;I<f.data.length;I*=2)f.data.copyWithin(I,0,I);s.backgroundImage=f;let w=-1,T=!0,x=-1;const _=I=>(I&&(T=!0),w),E=I=>(I!=null&&(x=I),x);try{do T&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:0,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),w++,x=-1,T=!1);while(!await gV(o,s,n,_,E,e));s.frames.length--;for(const I of s.frames){if(I.userInputDelayFlag&&I.delayTime===0){s.totalTime=1/0;break}s.totalTime+=I.delayTime}return s}catch(I){throw I instanceof EvalError?new Error(`error while parsing frame ${w} "${I.message}"`):I}}const xV=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function wV(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Sl(e,n);if(i.includes("fill"))return i.replace(xV,()=>r);const s=i.indexOf(">");return`${i.substring(0,s)} fill="${r}"${i.substring(s)}`}async function Jh(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,fs().error(`${_n} loading image: ${t.source}`),e()}),n.src=t.source})}async function _V(t){if(t.type!=="gif"){await Jh(t);return}t.loading=!0;try{t.gifData=await vV(t.source),t.gifLoopCount=yV(t.gifData)??0,t.gifLoopCount===0&&(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}async function bV(t){if(t.type!=="svg"){await Jh(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(fs().error(`${_n} Image not found`),t.error=!0),t.loading=!1}function EV(t,e,n,i){var o;const r=wV(t,n,((o=i.opacity)==null?void 0:o.value)??1),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor??e.replace_color,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,d=c.createObjectURL(l),f=new Image;f.addEventListener("load",()=>{s.loaded=!0,s.element=f,a(s),c.revokeObjectURL(d)}),f.addEventListener("error",async()=>{c.revokeObjectURL(d);const p={...t,error:!1,loading:!0};await Jh(p),s.loaded=!0,s.element=p.element,a(s)}),f.src=d})}class TV{constructor(e){this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${_n} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??n.replace_color??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e,n,i,r,s){const o=n.image,a=o==null?void 0:o.element;if(o){if(e.globalAlpha=r,o.gif&&o.gifData){const l=new OffscreenCanvas(o.gifData.width,o.gifData.height),c=l.getContext("2d");if(!c)throw new Error("could not create offscreen canvas context");c.imageSmoothingQuality="low",c.imageSmoothingEnabled=!1,c.clearRect(0,0,l.width,l.height),n.gifLoopCount===void 0&&(n.gifLoopCount=o.gifLoopCount??0);let d=n.gifFrame??0;const f={x:-o.gifData.width*.5,y:-o.gifData.height*.5},p=o.gifData.frames[d];if(n.gifTime===void 0&&(n.gifTime=0),!p.bitmap)return;switch(e.scale(i/o.gifData.width,i/o.gifData.height),p.disposalMethod){case 4:case 5:case 6:case 7:case 0:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height);break;case 1:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y);break;case 2:c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),o.gifData.globalColorTable.length===0?c.putImageData(o.gifData.frames[0].image,f.x+p.left,f.y+p.top):c.putImageData(o.gifData.backgroundImage,f.x,f.y);break;case 3:{const m=c.getImageData(0,0,l.width,l.height);c.drawImage(p.bitmap,p.left,p.top),e.drawImage(l,f.x,f.y),c.clearRect(0,0,l.width,l.height),c.putImageData(m,0,0)}break}if(n.gifTime+=s.value,n.gifTime>p.delayTime){if(n.gifTime-=p.delayTime,++d>=o.gifData.frames.length){if(--n.gifLoopCount<=0)return;d=0,c.clearRect(0,0,l.width,l.height)}n.gifFrame=d}e.scale(o.gifData.width/i,o.gifData.height/i)}else if(a){const l=o.ratio,c={x:-i,y:-i};e.drawImage(a,c.x,c.y,i*2,i*2/l)}e.globalAlpha=1}}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData,s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??r.replace_color??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await EV(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??1,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.fill,d=r.close??n.close,f={image:l,fill:c,close:d};n.image=f.image,n.fill=f.fill,n.close=f.close})()}}class SV{constructor(){this.src="",this.gif=!1}load(e){e&&(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class CV{constructor(e){this.id="imagePreloader",this._engine=e}getPlugin(){return{}}loadOptions(e,n){if(!n||!n.preload)return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new SV;o.load(r),i.push(o)}}}needsPlugin(){return!0}}function IV(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${_n} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-3),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n),await(e.gif?_V:e.replaceColor?bV:Jh)(n)}catch{throw new Error(`${_n} ${e.name??e.src} not found`)}})}async function kV(t,e=!0){IV(t);const n=new CV(t);await t.addPlugin(n,e),await t.addShape(["image","images"],new TV(t),e)}class PV extends jr{constructor(){super(),this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class AV extends jr{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){e&&(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class RV{constructor(){this.count=0,this.delay=new PV,this.duration=new AV}load(e){e&&(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class NV{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?K(r.delay.value)*(r.delay.sync?1:Ee())/n.retina.reduceFactor*1e3:0,delayTime:0,duration:n.retina.reduceFactor?K(r.duration.value)*(r.duration.sync?1:Ee())/n.retina.reduceFactor*1e3:0,time:0,count:r.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new RV);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){if(!this.isEnabled(e)||!e.life)return;const i=e.life;let r=!1;if(e.spawning)if(i.delayTime+=n.value,i.delayTime>=e.life.delay)r=!0,e.spawning=!1,i.delayTime=0,i.time=0;else return;if(i.duration===-1||e.spawning||(r?i.time=0:i.time+=n.value,i.time<i.duration))return;if(i.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,o=ie(0,s.width),a=ie(0,s.width);e.position.x=$t(o),e.position.y=$t(a),e.spawning=!0,i.delayTime=0,i.time=0,e.reset();const l=e.options.life;l&&(i.delay=K(l.delay.value)*1e3,i.duration=K(l.duration.value)*1e3)}}async function jV(t,e=!0){await t.addParticleUpdater("life",n=>new NV(n),e)}class DV{draw(e,n,i){const r=n.shapeData;e.moveTo(-i/2,0),e.lineTo(i/2,0),e.lineCap=(r==null?void 0:r.cap)??"butt"}getSidesCount(){return 1}}async function MV(t,e=!0){await t.addShape("line",new DV,e)}class OV{init(){}isEnabled(e){return!Io()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Io()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width/2,y:a.height/2},c=r.smooth,d=e.getRadius()/s,f={x:(o.x-l.x)*d,y:(o.y-l.y)*d},{offset:p}=e;p.x+=(f.x-p.x)/c,p.y+=(f.y-p.y)/c}}async function LV(t,e=!0){await t.addMover("parallax",()=>new OV,e)}class VV extends Oy{constructor(e){super(e)}clear(){}init(){}async interact(e){const n=this.container,i=e.retina.attractDistance??n.retina.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=Dt(r,a),d=e.options.move.attract.rotate,f=l/(d.x*1e3),p=c/(d.y*1e3),m=o.size.value/e.size.value,v=1/m;e.velocity.x-=f*m,e.velocity.y-=p*m,o.velocity.x+=f*v,o.velocity.y+=p*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function FV(t,e=!0){await t.addInteractor("particlesAttract",n=>new VV(n),e)}function R_(t,e,n,i,r,s){const o=On(t.options.collisions.absorb.speed*r.factor/10,0,i);t.size.value+=o/2,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function UV(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?R_(t,r,e,s,n,i):R_(e,s,t,r,n,i))}const N_=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=K(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function zS(t,e){vS(bm(t),bm(e)),N_(t),N_(e)}function zV(t,e){!t.unbreakable&&!e.unbreakable&&zS(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function BV(t,e,n,i){switch(t.options.collisions.mode){case"absorb":{UV(t,e,n,i);break}case"bounce":{zS(t,e);break}case"destroy":{zV(t,e);break}}}class $V extends Oy{constructor(e){super(e)}clear(){}init(){}async interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*2);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const d=nn(r,l),f=s+c;d>f||BV(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function qV(t,e=!0){await t.addInteractor("particlesCollisions",n=>new $V(n),e)}class HV extends St{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new St(r.x,r.y,i.radius*2);return super.intersects(s)}else if(n.size!==void 0){const s=new Ln(r.x,r.y,n.size.width*2,n.size.height*2);return super.intersects(s)}return!1}}class WV{constructor(){this.blur=5,this.color=new ht,this.color.value="#000",this.enable=!1}load(e){e&&(e.blur!==void 0&&(this.blur=e.blur),this.color=ht.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class GV{constructor(){this.enable=!1,this.frequency=1}load(e){e&&(e.color!==void 0&&(this.color=ht.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class KV{constructor(){this.blink=!1,this.color=new ht,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new WV,this.triangles=new GV,this.width=1,this.warp=!1}load(e){e&&(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=ht.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function QV(t,e,n,i,r){const{dx:s,dy:o,distance:a}=Dt(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**2+c.y**2)}class YV extends Oy{constructor(e){super(e),this._setColor=n=>{if(!n.options.links)return;const i=this.linkContainer,r=n.options.links;let s=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(s)return;const o=r.color;s=CS(o,r.blink,r.consent),r.id===void 0?i.particles.linksColor=s:i.particles.linksColors.set(r.id,s)},this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<0||n.y<0||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??0,l=s.warp,c=l?new HV(n.x,n.y,a,r):new St(n.x,n.y,a),d=i.particles.quadTree.query(c);for(const f of d){const p=f.options.links;if(e===f||!(p!=null&&p.enable)||s.id!==p.id||f.spawning||f.destroyed||!f.links||e.links.some(T=>T.destination===f)||f.links.some(T=>T.destination===e))continue;const m=f.getPosition();if(m.x<0||m.y<0||m.x>r.width||m.y>r.height)continue;const v=QV(n,m,a,r,l&&p.warp);if(v>a)continue;const w=(1-v/a)*o;this._setColor(e),e.links.push({destination:f,opacity:w})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new KV);for(const i of n)e.links.load((i==null?void 0:i.links)??(i==null?void 0:i.lineLinked)??(i==null?void 0:i.line_linked))}reset(){}}async function XV(t,e=!0){await t.addInteractor("particlesLinks",n=>new YV(n),e)}function JV(t){let e=!1;const{begin:n,end:i,maxDistance:r,context:s,canvasSize:o,width:a,backgroundMask:l,colorLine:c,opacity:d,links:f}=t;if(nn(n,i)<=r)Wa(s,n,i),e=!0;else if(f.warp){let m,v;const w={x:i.x-o.width,y:i.y},T=Dt(n,w);if(T.distance<=r){const x=n.y-T.dy/T.dx*n.x;m={x:0,y:x},v={x:o.width,y:x}}else{const x={x:i.x,y:i.y-o.height},_=Dt(n,x);if(_.distance<=r){const I=-(n.y-_.dy/_.dx*n.x)/(_.dy/_.dx);m={x:I,y:0},v={x:I,y:o.height}}else{const E={x:i.x-o.width,y:i.y-o.height},I=Dt(n,E);if(I.distance<=r){const P=n.y-I.dy/I.dx*n.x;m={x:-P/(I.dy/I.dx),y:P},v={x:m.x+o.width,y:m.y+o.height}}}}m&&v&&(Wa(s,n,m),Wa(s,i,v),e=!0)}if(!e)return;s.lineWidth=a,l.enable&&(s.globalCompositeOperation=l.composite),s.strokeStyle=vi(c,d);const{shadow:p}=f;if(p.enable){const m=jn(p.color);m&&(s.shadowBlur=p.blur,s.shadowColor=vi(m))}s.stroke()}function ZV(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;j3(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=vi(o,a),e.fill()}function e5(t){return t.sort((e,n)=>e-n),t.join("_")}function j_(t,e){const n=e5(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Ee(),e.set(n,i)),i}class t5{constructor(e){this.container=e,this._drawLinkLine=(n,i)=>{const r=n.options.links;if(!(r!=null&&r.enable))return;const s=this.container,o=s.actualOptions,a=i.destination,l=n.getPosition(),c=a.getPosition();let d=i.opacity;s.canvas.draw(f=>{var x;let p;const m=(x=n.options.twinkle)==null?void 0:x.lines;if(m!=null&&m.enable){const _=m.frequency,E=jn(m.color);Ee()<_&&E&&(p=E,d=K(m.opacity))}if(!p){const _=r.id!==void 0?s.particles.linksColors.get(r.id):s.particles.linksColor;p=Em(n,a,_)}if(!p)return;const v=n.retina.linksWidth??0,w=n.retina.linksDistance??0,{backgroundMask:T}=o;JV({context:f,width:v,begin:l,end:c,maxDistance:w,canvasSize:s.canvas.size,links:r,backgroundMask:T,colorLine:p,opacity:d})})},this._drawLinkTriangle=(n,i,r)=>{const s=n.options.links;if(!(s!=null&&s.enable))return;const o=s.triangles;if(!o.enable)return;const a=this.container,l=a.actualOptions,c=i.destination,d=r.destination,f=o.opacity??(i.opacity+r.opacity)/2;f<=0||a.canvas.draw(p=>{const m=n.getPosition(),v=c.getPosition(),w=d.getPosition(),T=n.retina.linksDistance??0;if(nn(m,v)>T||nn(w,v)>T||nn(w,m)>T)return;let x=jn(o.color);if(!x){const _=s.id!==void 0?a.particles.linksColors.get(s.id):a.particles.linksColor;x=Em(n,c,_)}x&&ZV({context:p,pos1:m,pos2:v,pos3:w,backgroundMask:l.backgroundMask,colorTriangle:x,opacityTriangle:f})})},this._drawTriangles=(n,i,r,s)=>{var l,c,d;const o=r.destination;if(!((l=n.links)!=null&&l.triangles.enable&&((c=o.options.links)!=null&&c.triangles.enable)))return;const a=(d=o.links)==null?void 0:d.filter(f=>{const p=this._getLinkFrequency(o,f.destination);return o.options.links&&p<=o.options.links.frequency&&s.findIndex(m=>m.destination===f.destination)>=0});if(a!=null&&a.length)for(const f of a){const p=f.destination;this._getTriangleFrequency(i,o,p)>n.links.triangles.frequency||this._drawLinkTriangle(i,r,f)}},this._getLinkFrequency=(n,i)=>j_([n,i],this._freqs.links),this._getTriangleFrequency=(n,i,r)=>j_([n,i,r],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!i||i.length<=0)return;const s=i.filter(o=>r.links&&this._getLinkFrequency(n,o.destination)<=r.links.frequency);for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this.container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class n5{constructor(){this.id="links"}getPlugin(e){return new t5(e)}loadOptions(){}needsPlugin(){return!0}}async function i5(t,e=!0){const n=new n5;await t.addPlugin(n,e)}async function r5(t,e=!0){await XV(t,e),await i5(t,e)}class BS{draw(e,n,i){const r=this.getCenter(n,i),s=this.getSidesData(n,i),o=s.count.numerator*s.count.denominator,a=s.count.numerator/s.count.denominator,l=180*(a-2)/a,c=Math.PI-Math.PI*l/180;if(e){e.beginPath(),e.translate(r.x,r.y),e.moveTo(0,0);for(let d=0;d<o;d++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(c)}}getSidesCount(e){const n=e.shapeData;return Math.round(K((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}}class s5 extends BS{getCenter(e,n){return{x:-n/(e.sides/3.5),y:-n/(2.66/3.5)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*2.66/(i/3)}}}class o5 extends BS{getCenter(e,n){return{x:-n,y:n/1.66}}getSidesCount(){return 3}getSidesData(e,n){return{count:{denominator:2,numerator:3},length:n*2}}}async function a5(t,e=!0){await t.addShape("polygon",new s5,e)}async function l5(t,e=!0){await t.addShape("triangle",new o5,e)}async function c5(t,e=!0){await a5(t,e),await l5(t,e)}class u5{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){e&&(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=ie(e.speed)),e.decay!==void 0&&(this.decay=ie(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class h5 extends jr{constructor(){super(),this.animation=new u5,this.direction="clockwise",this.path=!1,this.value=0}load(e){e&&(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function d5(t,e){const n=t.rotate,i=t.options.rotate;if(!n||!i)return;const r=i.animation,s=(n.velocity??0)*e.factor,o=2*Math.PI,a=n.decay??1;if(r.enable){switch(n.status){case"increasing":n.value+=s,n.value>o&&(n.value-=o);break;case"decreasing":default:n.value-=s,n.value<0&&(n.value+=o);break}n.velocity&&a!==1&&(n.velocity*=a)}}class f5{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:K(n.value)*Math.PI/180},e.pathRotation=n.path;let i=n.direction;switch(i==="random"&&(i=Math.floor(Ee()*2)>0?"counter-clockwise":"clockwise"),i){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const r=n.animation;r.enable&&(e.rotate.decay=1-K(r.decay),e.rotate.velocity=K(r.speed)/360*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Ee())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&n.animation.enable&&!n.path:!1}loadOptions(e,...n){e.rotate||(e.rotate=new h5);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){var i;this.isEnabled(e)&&(d5(e,n),e.rotation=((i=e.rotate)==null?void 0:i.value)??0)}}async function p5(t,e=!0){await t.addParticleUpdater("rotate",n=>new f5(n),e)}const m5=Math.sqrt(2);class g5{draw(e,n,i){const r=i/m5,s=r*2;e.rect(-r,-r,s,s)}getSidesCount(){return 4}}async function y5(t,e=!0){await t.addShape(["edge","square"],new g5,e)}class v5{draw(e,n,i){const r=n.sides,s=n.starInset??2;e.moveTo(0,0-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(0,0-i*s),e.rotate(Math.PI/r),e.lineTo(0,0-i)}getSidesCount(e){const n=e.shapeData;return Math.round(K((n==null?void 0:n.sides)??(n==null?void 0:n.nb_sides)??5))}particleInit(e,n){const i=n.shapeData,r=K((i==null?void 0:i.inset)??2);n.starInset=r}}async function x5(t,e=!0){await t.addShape("star",new v5,e)}function Yf(t,e,n,i,r){if(!e||!n.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0)||(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=t.value),(e.delayTime??0)>0&&e.time<(e.delayTime??0)))return;const s=$t(n.offset),o=(e.velocity??0)*t.factor+s*3.6,a=e.decay??1;!r||e.status==="increasing"?(e.value+=o,e.value>i&&(e.loops||(e.loops=0),e.loops++,r&&(e.status="decreasing",e.value-=e.value%i))):(e.value-=o,e.value<0&&(e.loops||(e.loops=0),e.loops++,e.status="increasing",e.value+=e.value)),e.velocity&&a!==1&&(e.velocity*=a),e.value>i&&(e.value%=i)}function w5(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const{h:n,s:i,l:r}=t.strokeColor,{h:s,s:o,l:a}=t.strokeAnimation;n&&Yf(e,n,s,360,!1),i&&Yf(e,i,o,100,!0),r&&Yf(e,r,a,100,!0)}class _5{constructor(e){this.container=e}init(e){var o;const n=this.container,i=e.options,r=yi(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=K(r.width)*n.retina.pixelRatio,e.strokeOpacity=K(r.opacity??1),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Tl(r.color)??e.getFillColor();s&&(e.strokeColor=IS(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&w5(e,n)}}async function b5(t,e=!0){await t.addParticleUpdater("strokeColor",n=>new _5(n),e)}const du=["text","character","char"];class E5{draw(e,n,i,r){const s=n.shapeData;if(s===void 0)return;const o=s.value;if(o===void 0)return;n.text===void 0&&(n.text=yi(o,n.randomIndexData));const a=n.text,l=s.style??"",c=s.weight??"400",d=Math.round(i)*2,f=s.font??"Verdana",p=n.fill,m=a.length*i/2;e.font=`${l} ${c} ${d}px "${f}"`;const v={x:-m,y:i/2};e.globalAlpha=r,p?e.fillText(a,v.x,v.y):e.strokeText(a,v.x,v.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const n=e.actualOptions;if(du.find(i=>Be(i,n.particles.shape.type))){const i=du.map(s=>n.particles.shape.options[s]).find(s=>!!s),r=[];nt(i,s=>{r.push(T3(s.font,s.weight))}),await Promise.all(r)}}particleInit(e,n){if(!n.shape||!du.includes(n.shape))return;const i=n.shapeData;if(i===void 0)return;const r=i.value;r!==void 0&&(n.text=yi(r,n.randomIndexData))}}async function T5(t,e=!0){await t.addShape(du,new E5,e)}async function S5(t,e=!0){YO(t),await LV(t,!1),await AL(t,!1),await jL(t,!1),await LL(t,!1),await HL(t,!1),await XL(t,!1),await ZL(t,!1),await nV(t,!1),await sV(t,!1),await cV(t,!1),await dV(t,!1),await FV(t,!1),await qV(t,!1),await r5(t,!1),await IL(),await kV(t,!1),await MV(t,!1),await c5(t,!1),await y5(t,!1),await x5(t,!1),await T5(t,!1),await jV(t,!1),await p5(t,!1),await b5(t,!1),await CL(t,e)}const C5=()=>{const t=N.useCallback(async n=>{await S5(n)},[]),e=N.useCallback(async n=>{n?console.log("Particles container loaded successfully",n):console.log("Particles failed to load")},[]);return h.jsx(OS,{id:"tsparticles",init:t,loaded:e,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0},options:{background:{color:{value:"transparent"}},fullScreen:{enable:!1,zIndex:-1},particles:{color:{value:"#883AEA"},links:{color:"#E0CCFA",distance:150,enable:!0,opacity:.3,width:1},move:{enable:!0,speed:1.5},number:{density:{enable:!0,area:800},value:80},opacity:{value:.5},size:{value:{min:1,max:3}}},detectRetina:!0,interactivity:{events:{onHover:{enable:!0,mode:"grab"}},modes:{grab:{distance:140,links:{opacity:.5}}}}}})},I5=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},k5=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,c=l?t[r+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),i.push(n[d],n[f],n[p],n[m])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($S(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const c=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||c==null||f==null)throw new P5;const p=s<<2|a>>4;if(i.push(p),c!==64){const m=a<<4&240|c>>2;if(i.push(m),f!==64){const v=c<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A5=function(t){const e=$S(t);return qS.encodeByteArray(e,!0)},lh=function(t){return A5(t).replace(/\./g,"")},HS=function(t){try{return qS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=()=>R5().__FIREBASE_DEFAULTS__,j5=()=>{if(typeof process>"u"||typeof D_>"u")return;const t=D_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HS(t[1]);return e&&JSON.parse(e)},Zh=()=>{try{return I5()||N5()||j5()||D5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M5=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},GS=()=>{var t;return(t=Zh())===null||t===void 0?void 0:t.config},KS=t=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[lh(JSON.stringify(n)),lh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function F5(){var t;const e=(t=Zh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z5(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $5(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q5(){return!F5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H5(){try{return typeof indexedDB=="object"}catch{return!1}}function W5(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5="FirebaseError";class ji extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=G5,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?K5(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ji(r,a,i)}}function K5(t,e){return t.replace(Q5,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Q5=/\{\$([^}]+)}/g;function Y5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(M_(s)&&M_(o)){if(!ps(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function M_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Sa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ca(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function X5(t,e){const n=new J5(t,e);return n.subscribe.bind(n)}class J5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Z5(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Xf),r.error===void 0&&(r.error=Xf),r.complete===void 0&&(r.complete=Xf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z5(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t){return t&&t._delegate?t._delegate:t}class ms{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new O5;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(n6(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:t6(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function t6(t){return t===Gr?void 0:t}function n6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new e6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ae||(ae={}));const r6={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},s6=ae.INFO,o6={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},a6=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=o6[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ly{constructor(e){this.name=e,this._logLevel=s6,this._logHandler=a6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}}const l6=(t,e)=>e.some(n=>t instanceof n);let O_,L_;function c6(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u6(){return L_||(L_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,Tm=new WeakMap,YS=new WeakMap,Jf=new WeakMap,Vy=new WeakMap;function h6(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ur(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QS.set(n,t)}).catch(()=>{}),Vy.set(e,t),e}function d6(t){if(Tm.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tm.set(t,e)}let Sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function f6(t){Sm=t(Sm)}function p6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Zf(this),e,...n);return YS.set(i,e.sort?e.sort():[e]),ur(i)}:u6().includes(t)?function(...e){return t.apply(Zf(this),e),ur(QS.get(this))}:function(...e){return ur(t.apply(Zf(this),e))}}function m6(t){return typeof t=="function"?p6(t):(t instanceof IDBTransaction&&d6(t),l6(t,c6())?new Proxy(t,Sm):t)}function ur(t){if(t instanceof IDBRequest)return h6(t);if(Jf.has(t))return Jf.get(t);const e=m6(t);return e!==t&&(Jf.set(t,e),Vy.set(e,t)),e}const Zf=t=>Vy.get(t);function g6(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=ur(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ur(o.result),l.oldVersion,l.newVersion,ur(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const y6=["get","getKey","getAll","getAllKeys","count"],v6=["put","add","delete","clear"],ep=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=v6.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||y6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),r&&l.done]))[0]};return ep.set(e,s),s}f6(t=>({...t,get:(e,n,i)=>V_(e,n)||t.get(e,n,i),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(w6(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function w6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",F_="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Ly("@firebase/app"),_6="@firebase/app-compat",b6="@firebase/analytics-compat",E6="@firebase/analytics",T6="@firebase/app-check-compat",S6="@firebase/app-check",C6="@firebase/auth",I6="@firebase/auth-compat",k6="@firebase/database",P6="@firebase/data-connect",A6="@firebase/database-compat",R6="@firebase/functions",N6="@firebase/functions-compat",j6="@firebase/installations",D6="@firebase/installations-compat",M6="@firebase/messaging",O6="@firebase/messaging-compat",L6="@firebase/performance",V6="@firebase/performance-compat",F6="@firebase/remote-config",U6="@firebase/remote-config-compat",z6="@firebase/storage",B6="@firebase/storage-compat",$6="@firebase/firestore",q6="@firebase/vertexai",H6="@firebase/firestore-compat",W6="firebase",G6="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",K6={[Cm]:"fire-core",[_6]:"fire-core-compat",[E6]:"fire-analytics",[b6]:"fire-analytics-compat",[S6]:"fire-app-check",[T6]:"fire-app-check-compat",[C6]:"fire-auth",[I6]:"fire-auth-compat",[k6]:"fire-rtdb",[P6]:"fire-data-connect",[A6]:"fire-rtdb-compat",[R6]:"fire-fn",[N6]:"fire-fn-compat",[j6]:"fire-iid",[D6]:"fire-iid-compat",[M6]:"fire-fcm",[O6]:"fire-fcm-compat",[L6]:"fire-perf",[V6]:"fire-perf-compat",[F6]:"fire-rc",[U6]:"fire-rc-compat",[z6]:"fire-gcs",[B6]:"fire-gcs-compat",[$6]:"fire-fst",[H6]:"fire-fst-compat",[q6]:"fire-vertex","fire-js":"fire-js",[W6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,Q6=new Map,km=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Po(t){const e=t.name;if(km.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,t);for(const n of ch.values())U_(n,t);for(const n of Q6.values())U_(n,t);return!0}function Fy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Gl("app","Firebase",Y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=G6;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw hr.create("bad-app-name",{appName:String(r)});if(n||(n=GS()),!n)throw hr.create("no-options");const s=ch.get(r);if(s){if(ps(n,s.options)&&ps(i,s.config))return s;throw hr.create("duplicate-app",{appName:r})}const o=new i6(r);for(const l of km.values())o.addComponent(l);const a=new X6(n,i,o);return ch.set(r,a),a}function JS(t=Im){const e=ch.get(t);if(!e&&t===Im&&GS())return XS();if(!e)throw hr.create("no-app",{appName:t});return e}function dr(t,e,n){var i;let r=(i=K6[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}Po(new ms(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="firebase-heartbeat-database",Z6=1,Il="firebase-heartbeat-store";let tp=null;function ZS(){return tp||(tp=g6(J6,Z6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Il)}catch(n){console.warn(n)}}}}).catch(t=>{throw hr.create("idb-open",{originalErrorMessage:t.message})})),tp}async function eF(t){try{const n=(await ZS()).transaction(Il),i=await n.objectStore(Il).get(eC(t));return await n.done,i}catch(e){if(e instanceof ji)Ii.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function z_(t,e){try{const i=(await ZS()).transaction(Il,"readwrite");await i.objectStore(Il).put(e,eC(t)),await i.done}catch(n){if(n instanceof ji)Ii.warn(n.message);else{const i=hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(i.message)}}}function eC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=1024,nF=30;class iF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sF(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>nF){const o=oF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=B_(),{heartbeatsToSend:i,unsentEntries:r}=rF(this._heartbeatsCache.heartbeats),s=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ii.warn(n),""}}}function B_(){return new Date().toISOString().substring(0,10)}function rF(t,e=tF){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$_(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),$_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class sF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H5()?W5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await eF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $_(t){return lh(JSON.stringify({version:2,heartbeats:t})).length}function oF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(t){Po(new ms("platform-logger",e=>new x6(e),"PRIVATE")),Po(new ms("heartbeat",e=>new iF(e),"PRIVATE")),dr(Cm,F_,t),dr(Cm,F_,"esm2017"),dr("fire-js","")}aF("");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fr,tC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,b){function k(){}k.prototype=b.prototype,C.D=b.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(A,j,M){for(var R=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)R[kt-2]=arguments[kt];return b.prototype[j].apply(A,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(C,b,k){k||(k=0);var A=Array(16);if(typeof b=="string")for(var j=0;16>j;++j)A[j]=b.charCodeAt(k++)|b.charCodeAt(k++)<<8|b.charCodeAt(k++)<<16|b.charCodeAt(k++)<<24;else for(j=0;16>j;++j)A[j]=b[k++]|b[k++]<<8|b[k++]<<16|b[k++]<<24;b=C.g[0],k=C.g[1],j=C.g[2];var M=C.g[3],R=b+(M^k&(j^M))+A[0]+3614090360&4294967295;b=k+(R<<7&4294967295|R>>>25),R=M+(j^b&(k^j))+A[1]+3905402710&4294967295,M=b+(R<<12&4294967295|R>>>20),R=j+(k^M&(b^k))+A[2]+606105819&4294967295,j=M+(R<<17&4294967295|R>>>15),R=k+(b^j&(M^b))+A[3]+3250441966&4294967295,k=j+(R<<22&4294967295|R>>>10),R=b+(M^k&(j^M))+A[4]+4118548399&4294967295,b=k+(R<<7&4294967295|R>>>25),R=M+(j^b&(k^j))+A[5]+1200080426&4294967295,M=b+(R<<12&4294967295|R>>>20),R=j+(k^M&(b^k))+A[6]+2821735955&4294967295,j=M+(R<<17&4294967295|R>>>15),R=k+(b^j&(M^b))+A[7]+4249261313&4294967295,k=j+(R<<22&4294967295|R>>>10),R=b+(M^k&(j^M))+A[8]+1770035416&4294967295,b=k+(R<<7&4294967295|R>>>25),R=M+(j^b&(k^j))+A[9]+2336552879&4294967295,M=b+(R<<12&4294967295|R>>>20),R=j+(k^M&(b^k))+A[10]+4294925233&4294967295,j=M+(R<<17&4294967295|R>>>15),R=k+(b^j&(M^b))+A[11]+2304563134&4294967295,k=j+(R<<22&4294967295|R>>>10),R=b+(M^k&(j^M))+A[12]+1804603682&4294967295,b=k+(R<<7&4294967295|R>>>25),R=M+(j^b&(k^j))+A[13]+4254626195&4294967295,M=b+(R<<12&4294967295|R>>>20),R=j+(k^M&(b^k))+A[14]+2792965006&4294967295,j=M+(R<<17&4294967295|R>>>15),R=k+(b^j&(M^b))+A[15]+1236535329&4294967295,k=j+(R<<22&4294967295|R>>>10),R=b+(j^M&(k^j))+A[1]+4129170786&4294967295,b=k+(R<<5&4294967295|R>>>27),R=M+(k^j&(b^k))+A[6]+3225465664&4294967295,M=b+(R<<9&4294967295|R>>>23),R=j+(b^k&(M^b))+A[11]+643717713&4294967295,j=M+(R<<14&4294967295|R>>>18),R=k+(M^b&(j^M))+A[0]+3921069994&4294967295,k=j+(R<<20&4294967295|R>>>12),R=b+(j^M&(k^j))+A[5]+3593408605&4294967295,b=k+(R<<5&4294967295|R>>>27),R=M+(k^j&(b^k))+A[10]+38016083&4294967295,M=b+(R<<9&4294967295|R>>>23),R=j+(b^k&(M^b))+A[15]+3634488961&4294967295,j=M+(R<<14&4294967295|R>>>18),R=k+(M^b&(j^M))+A[4]+3889429448&4294967295,k=j+(R<<20&4294967295|R>>>12),R=b+(j^M&(k^j))+A[9]+568446438&4294967295,b=k+(R<<5&4294967295|R>>>27),R=M+(k^j&(b^k))+A[14]+3275163606&4294967295,M=b+(R<<9&4294967295|R>>>23),R=j+(b^k&(M^b))+A[3]+4107603335&4294967295,j=M+(R<<14&4294967295|R>>>18),R=k+(M^b&(j^M))+A[8]+1163531501&4294967295,k=j+(R<<20&4294967295|R>>>12),R=b+(j^M&(k^j))+A[13]+2850285829&4294967295,b=k+(R<<5&4294967295|R>>>27),R=M+(k^j&(b^k))+A[2]+4243563512&4294967295,M=b+(R<<9&4294967295|R>>>23),R=j+(b^k&(M^b))+A[7]+1735328473&4294967295,j=M+(R<<14&4294967295|R>>>18),R=k+(M^b&(j^M))+A[12]+2368359562&4294967295,k=j+(R<<20&4294967295|R>>>12),R=b+(k^j^M)+A[5]+4294588738&4294967295,b=k+(R<<4&4294967295|R>>>28),R=M+(b^k^j)+A[8]+2272392833&4294967295,M=b+(R<<11&4294967295|R>>>21),R=j+(M^b^k)+A[11]+1839030562&4294967295,j=M+(R<<16&4294967295|R>>>16),R=k+(j^M^b)+A[14]+4259657740&4294967295,k=j+(R<<23&4294967295|R>>>9),R=b+(k^j^M)+A[1]+2763975236&4294967295,b=k+(R<<4&4294967295|R>>>28),R=M+(b^k^j)+A[4]+1272893353&4294967295,M=b+(R<<11&4294967295|R>>>21),R=j+(M^b^k)+A[7]+4139469664&4294967295,j=M+(R<<16&4294967295|R>>>16),R=k+(j^M^b)+A[10]+3200236656&4294967295,k=j+(R<<23&4294967295|R>>>9),R=b+(k^j^M)+A[13]+681279174&4294967295,b=k+(R<<4&4294967295|R>>>28),R=M+(b^k^j)+A[0]+3936430074&4294967295,M=b+(R<<11&4294967295|R>>>21),R=j+(M^b^k)+A[3]+3572445317&4294967295,j=M+(R<<16&4294967295|R>>>16),R=k+(j^M^b)+A[6]+76029189&4294967295,k=j+(R<<23&4294967295|R>>>9),R=b+(k^j^M)+A[9]+3654602809&4294967295,b=k+(R<<4&4294967295|R>>>28),R=M+(b^k^j)+A[12]+3873151461&4294967295,M=b+(R<<11&4294967295|R>>>21),R=j+(M^b^k)+A[15]+530742520&4294967295,j=M+(R<<16&4294967295|R>>>16),R=k+(j^M^b)+A[2]+3299628645&4294967295,k=j+(R<<23&4294967295|R>>>9),R=b+(j^(k|~M))+A[0]+4096336452&4294967295,b=k+(R<<6&4294967295|R>>>26),R=M+(k^(b|~j))+A[7]+1126891415&4294967295,M=b+(R<<10&4294967295|R>>>22),R=j+(b^(M|~k))+A[14]+2878612391&4294967295,j=M+(R<<15&4294967295|R>>>17),R=k+(M^(j|~b))+A[5]+4237533241&4294967295,k=j+(R<<21&4294967295|R>>>11),R=b+(j^(k|~M))+A[12]+1700485571&4294967295,b=k+(R<<6&4294967295|R>>>26),R=M+(k^(b|~j))+A[3]+2399980690&4294967295,M=b+(R<<10&4294967295|R>>>22),R=j+(b^(M|~k))+A[10]+4293915773&4294967295,j=M+(R<<15&4294967295|R>>>17),R=k+(M^(j|~b))+A[1]+2240044497&4294967295,k=j+(R<<21&4294967295|R>>>11),R=b+(j^(k|~M))+A[8]+1873313359&4294967295,b=k+(R<<6&4294967295|R>>>26),R=M+(k^(b|~j))+A[15]+4264355552&4294967295,M=b+(R<<10&4294967295|R>>>22),R=j+(b^(M|~k))+A[6]+2734768916&4294967295,j=M+(R<<15&4294967295|R>>>17),R=k+(M^(j|~b))+A[13]+1309151649&4294967295,k=j+(R<<21&4294967295|R>>>11),R=b+(j^(k|~M))+A[4]+4149444226&4294967295,b=k+(R<<6&4294967295|R>>>26),R=M+(k^(b|~j))+A[11]+3174756917&4294967295,M=b+(R<<10&4294967295|R>>>22),R=j+(b^(M|~k))+A[2]+718787259&4294967295,j=M+(R<<15&4294967295|R>>>17),R=k+(M^(j|~b))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+j&4294967295,C.g[3]=C.g[3]+M&4294967295}i.prototype.u=function(C,b){b===void 0&&(b=C.length);for(var k=b-this.blockSize,A=this.B,j=this.h,M=0;M<b;){if(j==0)for(;M<=k;)r(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<b;)if(A[j++]=C.charCodeAt(M++),j==this.blockSize){r(this,A),j=0;break}}else for(;M<b;)if(A[j++]=C[M++],j==this.blockSize){r(this,A),j=0;break}}this.h=j,this.o+=b},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;var k=8*this.o;for(b=C.length-8;b<C.length;++b)C[b]=k&255,k/=256;for(this.u(C),C=Array(16),b=k=0;4>b;++b)for(var A=0;32>A;A+=8)C[k++]=this.g[b]>>>A&255;return C};function s(C,b){var k=a;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=b(C)}function o(C,b){this.h=b;for(var k=[],A=!0,j=C.length-1;0<=j;j--){var M=C[j]|0;A&&M==b||(k[j]=M,A=!1)}this.g=k}var a={};function l(C){return-128<=C&&128>C?s(C,function(b){return new o([b|0],0>b?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(c(-C));for(var b=[],k=1,A=0;C>=k;A++)b[A]=C/k|0,k*=4294967296;return new o(b,0)}function d(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return T(d(C.substring(1),b));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(b,8)),A=f,j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j),R=parseInt(C.substring(j,j+M),b);8>M?(M=c(Math.pow(b,M)),A=A.j(M).add(c(R))):(A=A.j(k),A=A.add(c(R)))}return A}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var C=0,b=1,k=0;k<this.g.length;k++){var A=this.i(k);C+=(0<=A?A:4294967296+A)*b,b*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(w(this))return"-"+T(this).toString(C);for(var b=c(Math.pow(C,6)),k=this,A="";;){var j=I(k,b).g;k=x(k,j.j(b));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=j,v(k))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=x(this,C),w(C)?-1:v(C)?0:1};function T(C){for(var b=C.g.length,k=[],A=0;A<b;A++)k[A]=~C.g[A];return new o(k,~C.h).add(p)}t.abs=function(){return w(this)?T(this):this},t.add=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],A=0,j=0;j<=b;j++){var M=A+(this.i(j)&65535)+(C.i(j)&65535),R=(M>>>16)+(this.i(j)>>>16)+(C.i(j)>>>16);A=R>>>16,M&=65535,R&=65535,k[j]=R<<16|M}return new o(k,k[k.length-1]&-2147483648?-1:0)};function x(C,b){return C.add(T(b))}t.j=function(C){if(v(this)||v(C))return f;if(w(this))return w(C)?T(this).j(T(C)):T(T(this).j(C));if(w(C))return T(this.j(T(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var b=this.g.length+C.g.length,k=[],A=0;A<2*b;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var j=0;j<C.g.length;j++){var M=this.i(A)>>>16,R=this.i(A)&65535,kt=C.i(j)>>>16,Mi=C.i(j)&65535;k[2*A+2*j]+=R*Mi,_(k,2*A+2*j),k[2*A+2*j+1]+=M*Mi,_(k,2*A+2*j+1),k[2*A+2*j+1]+=R*kt,_(k,2*A+2*j+1),k[2*A+2*j+2]+=M*kt,_(k,2*A+2*j+2)}for(A=0;A<b;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=b;A<2*b;A++)k[A]=0;return new o(k,0)};function _(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function E(C,b){this.g=C,this.h=b}function I(C,b){if(v(b))throw Error("division by zero");if(v(C))return new E(f,f);if(w(C))return b=I(T(C),b),new E(T(b.g),T(b.h));if(w(b))return b=I(C,T(b)),new E(T(b.g),b.h);if(30<C.g.length){if(w(C)||w(b))throw Error("slowDivide_ only works with positive integers.");for(var k=p,A=b;0>=A.l(C);)k=P(k),A=P(A);var j=D(k,1),M=D(A,1);for(A=D(A,2),k=D(k,2);!v(A);){var R=M.add(A);0>=R.l(C)&&(j=j.add(k),M=R),A=D(A,1),k=D(k,1)}return b=x(C,j.j(b)),new E(j,b)}for(j=f;0<=C.l(b);){for(k=Math.max(1,Math.floor(C.m()/b.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=c(k),R=M.j(b);w(R)||0<R.l(C);)k-=A,M=c(k),R=M.j(b);v(M)&&(M=p),j=j.add(M),C=x(C,R)}return new E(j,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],A=0;A<b;A++)k[A]=this.i(A)&C.i(A);return new o(k,this.h&C.h)},t.or=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],A=0;A<b;A++)k[A]=this.i(A)|C.i(A);return new o(k,this.h|C.h)},t.xor=function(C){for(var b=Math.max(this.g.length,C.g.length),k=[],A=0;A<b;A++)k[A]=this.i(A)^C.i(A);return new o(k,this.h^C.h)};function P(C){for(var b=C.g.length+1,k=[],A=0;A<b;A++)k[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(k,C.h)}function D(C,b){var k=b>>5;b%=32;for(var A=C.g.length-k,j=[],M=0;M<A;M++)j[M]=0<b?C.i(M+k)>>>b|C.i(M+k+1)<<32-b:C.i(M+k);return new o(j,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,tC=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,fr=o}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nC,Ia,iC,fu,Pm,rC,sC,oC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,y){return u==Array.prototype||u==Object.prototype||(u[g]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<u.length;++g){var y=u[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=n(this);function r(u,g){if(g)e:{var y=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var O=u[S];if(!(O in y))break e;y=y[O]}u=u[u.length-1],S=y[u],g=g(S),g!=S&&g!=null&&e(y,u,{configurable:!0,writable:!0,value:g})}}function s(u,g){u instanceof String&&(u+="");var y=0,S=!1,O={next:function(){if(!S&&y<u.length){var L=y++;return{value:g(L,u[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(u){return u||function(){return s(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function c(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function d(u,g,y){return u.call.apply(u.bind,arguments)}function f(u,g,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,S),u.apply(g,O)}}return function(){return u.apply(g,arguments)}}function p(u,g,y){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function m(u,g){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function v(u,g){function y(){}y.prototype=g.prototype,u.aa=g.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,O,L){for(var B=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)B[ge-2]=arguments[ge];return g.prototype[O].apply(S,B)}}function w(u){const g=u.length;if(0<g){const y=Array(g);for(let S=0;S<g;S++)y[S]=u[S];return y}return[]}function T(u,g){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(l(S)){const O=u.length||0,L=S.length||0;u.length=O+L;for(let B=0;B<L;B++)u[O+B]=S[B]}else u.push(S)}}class x{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function _(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var P=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(u,g,y){for(const S in u)g.call(y,u[S],S,u)}function C(u,g){for(const y in u)g.call(void 0,u[y],y,u)}function b(u){const g={};for(const y in u)g[y]=u[y];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,g){let y,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(y in S)u[y]=S[y];for(let L=0;L<k.length;L++)y=k[L],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function j(u){var g=1;u=u.split(":");const y=[];for(;0<g&&u.length;)y.push(u.shift()),g--;return u.length&&y.push(u.join(":")),y}function M(u){a.setTimeout(()=>{throw u},0)}function R(){var u=X;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class kt{constructor(){this.h=this.g=null}add(g,y){const S=Mi.get();S.set(g,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Mi=new x(()=>new As,u=>u.reset());class As{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,$=!1,X=new kt,ee=()=>{const u=a.Promise.resolve(void 0);xe=()=>{u.then(Ce)}};var Ce=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(y){M(y)}var g=Mi;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}$=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ve(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Ve.prototype.h=function(){this.defaultPrevented=!0};var ei=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,g),a.removeEventListener("test",y,g)}catch{}return u}();function ti(u,g){if(Ve.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(P){e:{try{I(g.nodeName);var O=!0;break e}catch{}O=!1}O||(g=null)}}else y=="mouseover"?g=u.fromElement:y=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ni[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&ti.aa.h.call(this)}}v(ti,Ve);var ni={2:"touch",3:"pen",4:"mouse"};ti.prototype.h=function(){ti.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ii="closure_listenable_"+(1e6*Math.random()|0),pk=0;function mk(u,g,y,S,O){this.listener=u,this.proxy=null,this.src=g,this.type=y,this.capture=!!S,this.ha=O,this.key=++pk,this.da=this.fa=!1}function rc(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function sc(u){this.src=u,this.g={},this.h=0}sc.prototype.add=function(u,g,y,S,O){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var B=Sd(u,g,S,O);return-1<B?(g=u[B],y||(g.fa=!1)):(g=new mk(g,this.src,L,!!S,O),g.fa=y,u.push(g)),g};function Td(u,g){var y=g.type;if(y in u.g){var S=u.g[y],O=Array.prototype.indexOf.call(S,g,void 0),L;(L=0<=O)&&Array.prototype.splice.call(S,O,1),L&&(rc(g),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Sd(u,g,y,S){for(var O=0;O<u.length;++O){var L=u[O];if(!L.da&&L.listener==g&&L.capture==!!y&&L.ha==S)return O}return-1}var Cd="closure_lm_"+(1e6*Math.random()|0),Id={};function Dv(u,g,y,S,O){if(Array.isArray(g)){for(var L=0;L<g.length;L++)Dv(u,g[L],y,S,O);return null}return y=Lv(y),u&&u[ii]?u.K(g,y,c(S)?!!S.capture:!!S,O):gk(u,g,y,!1,S,O)}function gk(u,g,y,S,O,L){if(!g)throw Error("Invalid event type");var B=c(O)?!!O.capture:!!O,ge=Pd(u);if(ge||(u[Cd]=ge=new sc(u)),y=ge.add(g,y,S,B,L),y.proxy)return y;if(S=yk(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)ei||(O=B),O===void 0&&(O=!1),u.addEventListener(g.toString(),S,O);else if(u.attachEvent)u.attachEvent(Ov(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function yk(){function u(y){return g.call(u.src,u.listener,y)}const g=vk;return u}function Mv(u,g,y,S,O){if(Array.isArray(g))for(var L=0;L<g.length;L++)Mv(u,g[L],y,S,O);else S=c(S)?!!S.capture:!!S,y=Lv(y),u&&u[ii]?(u=u.i,g=String(g).toString(),g in u.g&&(L=u.g[g],y=Sd(L,y,S,O),-1<y&&(rc(L[y]),Array.prototype.splice.call(L,y,1),L.length==0&&(delete u.g[g],u.h--)))):u&&(u=Pd(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Sd(g,y,S,O)),(y=-1<u?g[u]:null)&&kd(y))}function kd(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[ii])Td(g.i,u);else{var y=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(y,S,u.capture):g.detachEvent?g.detachEvent(Ov(y),S):g.addListener&&g.removeListener&&g.removeListener(S),(y=Pd(g))?(Td(y,u),y.h==0&&(y.src=null,g[Cd]=null)):rc(u)}}}function Ov(u){return u in Id?Id[u]:Id[u]="on"+u}function vk(u,g){if(u.da)u=!0;else{g=new ti(g,this);var y=u.listener,S=u.ha||u.src;u.fa&&kd(u),u=y.call(S,g)}return u}function Pd(u){return u=u[Cd],u instanceof sc?u:null}var Ad="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lv(u){return typeof u=="function"?u:(u[Ad]||(u[Ad]=function(g){return u.handleEvent(g)}),u[Ad])}function ft(){me.call(this),this.i=new sc(this),this.M=this,this.F=null}v(ft,me),ft.prototype[ii]=!0,ft.prototype.removeEventListener=function(u,g,y,S){Mv(this,u,g,y,S)};function Pt(u,g){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new Ve(g,u);else if(g instanceof Ve)g.target=g.target||u;else{var O=g;g=new Ve(S,u),A(g,O)}if(O=!0,y)for(var L=y.length-1;0<=L;L--){var B=g.g=y[L];O=oc(B,S,!0,g)&&O}if(B=g.g=u,O=oc(B,S,!0,g)&&O,O=oc(B,S,!1,g)&&O,y)for(L=0;L<y.length;L++)B=g.g=y[L],O=oc(B,S,!1,g)&&O}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var y=u.g[g],S=0;S<y.length;S++)rc(y[S]);delete u.g[g],u.h--}}this.F=null},ft.prototype.K=function(u,g,y,S){return this.i.add(String(u),g,!1,y,S)},ft.prototype.L=function(u,g,y,S){return this.i.add(String(u),g,!0,y,S)};function oc(u,g,y,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var O=!0,L=0;L<g.length;++L){var B=g[L];if(B&&!B.da&&B.capture==y){var ge=B.listener,rt=B.ha||B.src;B.fa&&Td(u.i,B),O=ge.call(rt,S)!==!1&&O}}return O&&!S.defaultPrevented}function Vv(u,g,y){if(typeof u=="function")y&&(u=p(u,y));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function Fv(u){u.g=Vv(()=>{u.g=null,u.i&&(u.i=!1,Fv(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class xk extends me{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Fv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(u){me.call(this),this.h=u,this.g={}}v(Yo,me);var Uv=[];function zv(u){D(u.g,function(g,y){this.g.hasOwnProperty(y)&&kd(g)},u),u.g={}}Yo.prototype.N=function(){Yo.aa.N.call(this),zv(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rd=a.JSON.stringify,wk=a.JSON.parse,_k=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Nd(){}Nd.prototype.h=null;function Bv(u){return u.h||(u.h=u.i())}function $v(){}var Xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jd(){Ve.call(this,"d")}v(jd,Ve);function Dd(){Ve.call(this,"c")}v(Dd,Ve);var Vr={},qv=null;function ac(){return qv=qv||new ft}Vr.La="serverreachability";function Hv(u){Ve.call(this,Vr.La,u)}v(Hv,Ve);function Jo(u){const g=ac();Pt(g,new Hv(g))}Vr.STAT_EVENT="statevent";function Wv(u,g){Ve.call(this,Vr.STAT_EVENT,u),this.stat=g}v(Wv,Ve);function At(u){const g=ac();Pt(g,new Wv(g,u))}Vr.Ma="timingevent";function Gv(u,g){Ve.call(this,Vr.Ma,u),this.size=g}v(Gv,Ve);function Zo(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function ea(){this.g=!0}ea.prototype.xa=function(){this.g=!1};function bk(u,g,y,S,O,L){u.info(function(){if(u.g)if(L)for(var B="",ge=L.split("&"),rt=0;rt<ge.length;rt++){var he=ge[rt].split("=");if(1<he.length){var pt=he[0];he=he[1];var mt=pt.split("_");B=2<=mt.length&&mt[1]=="type"?B+(pt+"="+he+"&"):B+(pt+"=redacted&")}}else B=null;else B=L;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+g+`
`+y+`
`+B})}function Ek(u,g,y,S,O,L,B){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+g+`
`+y+`
`+L+" "+B})}function Rs(u,g,y,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Sk(u,y)+(S?" "+S:"")})}function Tk(u,g){u.info(function(){return"TIMEOUT: "+g})}ea.prototype.info=function(){};function Sk(u,g){if(!u.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var O=S[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return Rd(y)}catch{return g}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Md;function cc(){}v(cc,Nd),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},Md=new cc;function Oi(u,g,y,S){this.j=u,this.i=g,this.l=y,this.R=S||1,this.U=new Yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qv}function Qv(){this.i=null,this.g="",this.h=!1}var Yv={},Od={};function Ld(u,g,y){u.L=1,u.v=fc(ri(g)),u.m=y,u.P=!0,Xv(u,null)}function Xv(u,g){u.F=Date.now(),uc(u),u.A=ri(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),h0(y.i,"t",S),u.C=0,y=u.j.J,u.h=new Qv,u.g=P0(u.j,y?g:null,!u.m),0<u.O&&(u.M=new xk(p(u.Y,u,u.g),u.O)),g=u.U,y=u.g,S=u.ca;var O="readystatechange";Array.isArray(O)||(O&&(Uv[0]=O.toString()),O=Uv);for(var L=0;L<O.length;L++){var B=Dv(y,O[L],S||g.handleEvent,!1,g.h||g);if(!B)break;g.g[B.key]=B}g=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Jo(),bk(u.i,u.u,u.A,u.l,u.R,u.m)}Oi.prototype.ca=function(u){u=u.target;const g=this.M;g&&si(u)==3?g.j():this.Y(u)},Oi.prototype.Y=function(u){try{if(u==this.g)e:{const mt=si(this.g);var g=this.g.Ba();const Ds=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||v0(this.g)))){this.J||mt!=4||g==7||(g==8||0>=Ds?Jo(3):Jo(2)),Vd(this);var y=this.g.Z();this.X=y;t:if(Jv(this)){var S=v0(this.g);u="";var O=S.length,L=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),ta(this);var B="";break t}this.h.i=new a.TextDecoder}for(g=0;g<O;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(L&&g==O-1)});S.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=y==200,Ek(this.i,this.u,this.A,this.l,this.R,mt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var ge,rt=this.g;if((ge=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(ge)){var he=ge;break t}}he=null}if(y=he)Rs(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fd(this,y);else{this.o=!1,this.s=3,At(12),Fr(this),ta(this);break e}}if(this.P){y=!0;let En;for(;!this.J&&this.C<B.length;)if(En=Ck(this,B),En==Od){mt==4&&(this.s=4,At(14),y=!1),Rs(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Yv){this.s=4,At(15),Rs(this.i,this.l,B,"[Invalid Chunk]"),y=!1;break}else Rs(this.i,this.l,En,null),Fd(this,En);if(Jv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||B.length!=0||this.h.h||(this.s=1,At(16),y=!1),this.o=this.o&&y,!y)Rs(this.i,this.l,B,"[Invalid Chunked Response]"),Fr(this),ta(this);else if(0<B.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Hd(pt),pt.M=!0,At(11))}}else Rs(this.i,this.l,B,null),Fd(this,B);mt==4&&Fr(this),this.o&&!this.J&&(mt==4?S0(this.j,this):(this.o=!1,uc(this)))}else $k(this.g),y==400&&0<B.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),Fr(this),ta(this)}}}catch{}finally{}};function Jv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ck(u,g){var y=u.C,S=g.indexOf(`
`,y);return S==-1?Od:(y=Number(g.substring(y,S)),isNaN(y)?Yv:(S+=1,S+y>g.length?Od:(g=g.slice(S,S+y),u.C=S+y,g)))}Oi.prototype.cancel=function(){this.J=!0,Fr(this)};function uc(u){u.S=Date.now()+u.I,Zv(u,u.I)}function Zv(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Zo(p(u.ba,u),g)}function Vd(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Oi.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Tk(this.i,this.A),this.L!=2&&(Jo(),At(17)),Fr(this),this.s=2,ta(this)):Zv(this,this.S-u)};function ta(u){u.j.G==0||u.J||S0(u.j,u)}function Fr(u){Vd(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,zv(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Fd(u,g){try{var y=u.j;if(y.G!=0&&(y.g==u||Ud(y.h,u))){if(!u.K&&Ud(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)xc(y),yc(y);else break e;qd(y),At(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=Zo(p(y.Za,y),6e3));if(1>=n0(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else zr(y,11)}else if((u.K||y.g==u)&&xc(y),!_(g))for(O=y.Da.g.parse(g),g=0;g<O.length;g++){let he=O[g];if(y.T=he[0],he=he[1],y.G==2)if(he[0]=="c"){y.K=he[1],y.ia=he[2];const pt=he[3];pt!=null&&(y.la=pt,y.j.info("VER="+y.la));const mt=he[4];mt!=null&&(y.Aa=mt,y.j.info("SVER="+y.Aa));const Ds=he[5];Ds!=null&&typeof Ds=="number"&&0<Ds&&(S=1.5*Ds,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const En=u.g;if(En){const _c=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_c){var L=S.h;L.g||_c.indexOf("spdy")==-1&&_c.indexOf("quic")==-1&&_c.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(zd(L,L.h),L.h=null))}if(S.D){const Wd=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Wd&&(S.ya=Wd,we(S.I,S.D,Wd))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var B=u;if(S.qa=k0(S,S.J?S.ia:null,S.W),B.K){i0(S.h,B);var ge=B,rt=S.L;rt&&(ge.I=rt),ge.B&&(Vd(ge),uc(ge)),S.g=B}else E0(S);0<y.i.length&&vc(y)}else he[0]!="stop"&&he[0]!="close"||zr(y,7);else y.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?zr(y,7):$d(y):he[0]!="noop"&&y.l&&y.l.ta(he),y.v=0)}}Jo(4)}catch{}}var Ik=class{constructor(u,g){this.g=u,this.map=g}};function e0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function n0(u){return u.h?1:u.g?u.g.size:0}function Ud(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function zd(u,g){u.g?u.g.add(g):u.h=g}function i0(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}e0.prototype.cancel=function(){if(this.i=r0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function r0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const y of u.g.values())g=g.concat(y.D);return g}return w(u.i)}function kk(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],y=u.length,S=0;S<y;S++)g.push(u[S]);return g}g=[],y=0;for(S in u)g[y++]=u[S];return g}function Pk(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var y=0;y<u;y++)g.push(y);return g}g=[],y=0;for(const S in u)g[y++]=S;return g}}}function s0(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var y=Pk(u),S=kk(u),O=S.length,L=0;L<O;L++)g.call(void 0,S[L],y&&y[L],u)}var o0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ak(u,g){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),O=null;if(0<=S){var L=u[y].substring(0,S);O=u[y].substring(S+1)}else L=u[y];g(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Ur(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ur){this.h=u.h,hc(this,u.j),this.o=u.o,this.g=u.g,dc(this,u.s),this.l=u.l;var g=u.i,y=new ra;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),a0(this,y),this.m=u.m}else u&&(g=String(u).match(o0))?(this.h=!1,hc(this,g[1]||"",!0),this.o=na(g[2]||""),this.g=na(g[3]||"",!0),dc(this,g[4]),this.l=na(g[5]||"",!0),a0(this,g[6]||"",!0),this.m=na(g[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}Ur.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ia(g,l0,!0),":");var y=this.g;return(y||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ia(g,l0,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ia(y,y.charAt(0)=="/"?jk:Nk,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ia(y,Mk)),u.join("")};function ri(u){return new Ur(u)}function hc(u,g,y){u.j=y?na(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function dc(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function a0(u,g,y){g instanceof ra?(u.i=g,Ok(u.i,u.h)):(y||(g=ia(g,Dk)),u.i=new ra(g,u.h))}function we(u,g,y){u.i.set(g,y)}function fc(u){return we(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function na(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ia(u,g,y){return typeof u=="string"?(u=encodeURI(u).replace(g,Rk),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rk(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var l0=/[#\/\?@]/g,Nk=/[#\?:]/g,jk=/[#\?]/g,Dk=/[#\?@]/g,Mk=/#/g;function ra(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Li(u){u.g||(u.g=new Map,u.h=0,u.i&&Ak(u.i,function(g,y){u.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}t=ra.prototype,t.add=function(u,g){Li(this),this.i=null,u=Ns(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(g),this.h+=1,this};function c0(u,g){Li(u),g=Ns(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function u0(u,g){return Li(u),g=Ns(u,g),u.g.has(g)}t.forEach=function(u,g){Li(this),this.g.forEach(function(y,S){y.forEach(function(O){u.call(g,O,S,this)},this)},this)},t.na=function(){Li(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let S=0;S<g.length;S++){const O=u[S];for(let L=0;L<O.length;L++)y.push(g[S])}return y},t.V=function(u){Li(this);let g=[];if(typeof u=="string")u0(this,u)&&(g=g.concat(this.g.get(Ns(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)g=g.concat(u[y])}return g},t.set=function(u,g){return Li(this),this.i=null,u=Ns(this,u),u0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function h0(u,g,y){c0(u,g),0<y.length&&(u.i=null,u.g.set(Ns(u,g),w(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var S=g[y];const L=encodeURIComponent(String(S)),B=this.V(S);for(S=0;S<B.length;S++){var O=L;B[S]!==""&&(O+="="+encodeURIComponent(String(B[S]))),u.push(O)}}return this.i=u.join("&")};function Ns(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function Ok(u,g){g&&!u.j&&(Li(u),u.i=null,u.g.forEach(function(y,S){var O=S.toLowerCase();S!=O&&(c0(this,S),h0(this,O,y))},u)),u.j=g}function Lk(u,g){const y=new ea;if(a.Image){const S=new Image;S.onload=m(Vi,y,"TestLoadImage: loaded",!0,g,S),S.onerror=m(Vi,y,"TestLoadImage: error",!1,g,S),S.onabort=m(Vi,y,"TestLoadImage: abort",!1,g,S),S.ontimeout=m(Vi,y,"TestLoadImage: timeout",!1,g,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function Vk(u,g){const y=new ea,S=new AbortController,O=setTimeout(()=>{S.abort(),Vi(y,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(L=>{clearTimeout(O),L.ok?Vi(y,"TestPingServer: ok",!0,g):Vi(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(O),Vi(y,"TestPingServer: error",!1,g)})}function Vi(u,g,y,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(y)}catch{}}function Fk(){this.g=new _k}function Uk(u,g,y){const S=y||"";try{s0(u,function(O,L){let B=O;c(O)&&(B=Rd(O)),g.push(S+L+"="+encodeURIComponent(B))})}catch(O){throw g.push(S+"type="+encodeURIComponent("_badmap")),O}}function pc(u){this.l=u.Ub||null,this.j=u.eb||!1}v(pc,Nd),pc.prototype.g=function(){return new mc(this.l,this.j)},pc.prototype.i=function(u){return function(){return u}}({});function mc(u,g){ft.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(mc,ft),t=mc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,oa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function d0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?sa(this):oa(this),this.readyState==3&&d0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,sa(this))},t.Qa=function(u){this.g&&(this.response=u,sa(this))},t.ga=function(){this.g&&sa(this)};function sa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,oa(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=g.next();return u.join(`\r
`)};function oa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function f0(u){let g="";return D(u,function(y,S){g+=S,g+=":",g+=y,g+=`\r
`}),g}function Bd(u,g,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=f0(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):we(u,g,y))}function je(u){ft.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(je,ft);var zk=/^https?$/i,Bk=["POST","PUT"];t=je.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Md.g(),this.v=this.o?Bv(this.o):Bv(Md),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(L){p0(this,L);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)y.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())y.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Bk,g,void 0))||S||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of y)this.g.setRequestHeader(L,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{y0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){p0(this,L)}};function p0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,m0(u),gc(u)}function m0(u){u.A||(u.A=!0,Pt(u,"complete"),Pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Pt(this,"complete"),Pt(this,"abort"),gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g0(this):this.bb())},t.bb=function(){g0(this)};function g0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||si(u)!=4||u.Z()!=2)){if(u.u&&si(u)==4)Vv(u.Ea,0,u);else if(Pt(u,"readystatechange"),si(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var S;if(S=B===0){var O=String(u.D).match(o0)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),S=!zk.test(O?O.toLowerCase():"")}y=S}if(y)Pt(u,"complete"),Pt(u,"success");else{u.m=6;try{var L=2<si(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",m0(u)}}finally{gc(u)}}}}function gc(u,g){if(u.g){y0(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Pt(u,"ready");try{y.onreadystatechange=S}catch{}}}function y0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),wk(g)}};function v0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $k(u){const g={};u=(u.g&&2<=si(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(_(u[S]))continue;var y=j(u[S]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const L=g[O]||[];g[O]=L,L.push(y)}C(g,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(u,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||g}function x0(u){this.Aa=0,this.i=[],this.j=new ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,u),this.cb=aa("retryDelaySeedMs",1e4,u),this.Wa=aa("forwardChannelMaxRetries",2,u),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new e0(u&&u.concurrentRequestLimit),this.Da=new Fk,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=x0.prototype,t.la=8,t.G=1,t.connect=function(u,g,y,S){At(0),this.W=u,this.H=g||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=k0(this,null,this.W),vc(this)};function $d(u){if(w0(u),u.G==3){var g=u.U++,y=ri(u.I);if(we(y,"SID",u.K),we(y,"RID",g),we(y,"TYPE","terminate"),la(u,y),g=new Oi(u,u.j,g),g.L=2,g.v=fc(ri(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=g.v,y=!0),y||(g.g=P0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),uc(g)}I0(u)}function yc(u){u.g&&(Hd(u),u.g.cancel(),u.g=null)}function w0(u){yc(u),u.u&&(a.clearTimeout(u.u),u.u=null),xc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function vc(u){if(!t0(u.h)&&!u.s){u.s=!0;var g=u.Ga;xe||ee(),$||(xe(),$=!0),X.add(g,u),u.B=0}}function qk(u,g){return n0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Zo(p(u.Ga,u,g),C0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const O=new Oi(this,this.j,u);let L=this.o;if(this.S&&(L?(L=b(L),A(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=b0(this,O,g),y=ri(this.I),we(y,"RID",u),we(y,"CVER",22),this.D&&we(y,"X-HTTP-Session-Id",this.D),la(this,y),L&&(this.O?g="headers="+encodeURIComponent(String(f0(L)))+"&"+g:this.m&&Bd(y,this.m,L)),zd(this.h,O),this.Ua&&we(y,"TYPE","init"),this.P?(we(y,"$req",g),we(y,"SID","null"),O.T=!0,Ld(O,y,null)):Ld(O,y,g),this.G=2}}else this.G==3&&(u?_0(this,u):this.i.length==0||t0(this.h)||_0(this))};function _0(u,g){var y;g?y=g.l:y=u.U++;const S=ri(u.I);we(S,"SID",u.K),we(S,"RID",y),we(S,"AID",u.T),la(u,S),u.m&&u.o&&Bd(S,u.m,u.o),y=new Oi(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),g&&(u.i=g.D.concat(u.i)),g=b0(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),zd(u.h,y),Ld(y,S,g)}function la(u,g){u.H&&D(u.H,function(y,S){we(g,S,y)}),u.l&&s0({},function(y,S){we(g,S,y)})}function b0(u,g,y){y=Math.min(u.i.length,y);var S=u.l?p(u.l.Na,u.l,u):null;e:{var O=u.i;let L=-1;for(;;){const B=["count="+y];L==-1?0<y?(L=O[0].g,B.push("ofs="+L)):L=0:B.push("ofs="+L);let ge=!0;for(let rt=0;rt<y;rt++){let he=O[rt].g;const pt=O[rt].map;if(he-=L,0>he)L=Math.max(0,O[rt].g-100),ge=!1;else try{Uk(pt,B,"req"+he+"_")}catch{S&&S(pt)}}if(ge){S=B.join("&");break e}}}return u=u.i.splice(0,y),g.D=u,S}function E0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;xe||ee(),$||(xe(),$=!0),X.add(g,u),u.v=0}}function qd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Zo(p(u.Fa,u),C0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,T0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Zo(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),yc(this),T0(this))};function Hd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function T0(u){u.g=new Oi(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=ri(u.qa);we(g,"RID","rpc"),we(g,"SID",u.K),we(g,"AID",u.T),we(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&we(g,"TO",u.ja),we(g,"TYPE","xmlhttp"),la(u,g),u.m&&u.o&&Bd(g,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=fc(ri(g)),y.m=null,y.P=!0,Xv(y,u)}t.Za=function(){this.C!=null&&(this.C=null,yc(this),qd(this),At(19))};function xc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function S0(u,g){var y=null;if(u.g==g){xc(u),Hd(u),u.g=null;var S=2}else if(Ud(u.h,g))y=g.D,i0(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var O=u.B;S=ac(),Pt(S,new Gv(S,y)),vc(u)}else E0(u);else if(O=g.s,O==3||O==0&&0<g.X||!(S==1&&qk(u,g)||S==2&&qd(u)))switch(y&&0<y.length&&(g=u.h,g.i=g.i.concat(y)),O){case 1:zr(u,5);break;case 4:zr(u,10);break;case 3:zr(u,6);break;default:zr(u,2)}}}function C0(u,g){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*g}function zr(u,g){if(u.j.info("Error code "+g),g==2){var y=p(u.fb,u),S=u.Xa;const O=!S;S=new Ur(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hc(S,"https"),fc(S),O?Lk(S.toString(),y):Vk(S.toString(),y)}else At(2);u.G=0,u.l&&u.l.sa(g),I0(u),w0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function I0(u){if(u.G=0,u.ka=[],u.l){const g=r0(u.h);(g.length!=0||u.i.length!=0)&&(T(u.ka,g),T(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function k0(u,g,y){var S=y instanceof Ur?ri(y):new Ur(y);if(S.g!="")g&&(S.g=g+"."+S.g),dc(S,S.s);else{var O=a.location;S=O.protocol,g=g?g+"."+O.hostname:O.hostname,O=+O.port;var L=new Ur(null);S&&hc(L,S),g&&(L.g=g),O&&dc(L,O),y&&(L.l=y),S=L}return y=u.D,g=u.ya,y&&g&&we(S,y,g),we(S,"VER",u.la),la(u,S),S}function P0(u,g,y){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new je(new pc({eb:y})):new je(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A0(){}t=A0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wc(){}wc.prototype.g=function(u,g){return new Kt(u,g)};function Kt(u,g){ft.call(this),this.g=new x0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!_(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!_(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new js(this)}v(Kt,ft),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){$d(this.g)},Kt.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Rd(u),u=y);g.i.push(new Ik(g.Ya++,u)),g.G==3&&vc(g)},Kt.prototype.N=function(){this.g.l=null,delete this.j,$d(this.g),delete this.g,Kt.aa.N.call(this)};function R0(u){jd.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const y in g){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}v(R0,jd);function N0(){Dd.call(this),this.status=1}v(N0,Dd);function js(u){this.g=u}v(js,A0),js.prototype.ua=function(){Pt(this.g,"a")},js.prototype.ta=function(u){Pt(this.g,new R0(u))},js.prototype.sa=function(u){Pt(this.g,new N0)},js.prototype.ra=function(){Pt(this.g,"b")},wc.prototype.createWebChannel=wc.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,oC=function(){return new wc},sC=function(){return ac()},rC=Vr,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,fu=lc,Kv.COMPLETE="complete",iC=Kv,$v.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Ia=$v,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,nC=je}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",W_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ly("@firebase/firestore");function Ls(){return gs.logLevel}function q(t,...e){if(gs.logLevel<=ae.DEBUG){const n=e.map(Uy);gs.debug(`Firestore (${Ho}): ${t}`,...n)}}function ki(t,...e){if(gs.logLevel<=ae.ERROR){const n=e.map(Uy);gs.error(`Firestore (${Ho}): ${t}`,...n)}}function Ao(t,...e){if(gs.logLevel<=ae.WARN){const n=e.map(Uy);gs.warn(`Firestore (${Ho}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Ho}) INTERNAL ASSERTION FAILED: `+t;throw ki(e),new Error(e)}function fe(t,e){t||Z()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wt.UNAUTHENTICATED))}shutdown(){}}class cF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uF{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xi,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fe(typeof i.accessToken=="string"),new aC(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new wt(e)}}class hF{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dF{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new hF(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fF{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){fe(this.o===void 0);const i=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new G_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=pF(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%62))}return i}}function re(t,e){return t<e?-1:t>e?1:0}function Am(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),r=e.codePointAt(n);if(i!==r){if(i<128&&r<128)return re(i,r);{const s=lC(),o=mF(s.encode(K_(t,n)),s.encode(K_(e,n)));return o!==0?o:re(i,r)}}n+=i>65535?2:1}return re(t.length,e.length)}function K_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function mF(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return re(t[n],e[n]);return re(t.length,e.length)}function Ro(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,Y_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*Y_);return new Ye(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Q_)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new Ye(0,0))}static max(){return new te(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="__name__";class zn{constructor(e,n,i){n===void 0?n=0:n>e.length&&Z(),i===void 0?i=e.length-n:i>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return zn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zn?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=zn.compareSegments(e.get(r),n.get(r));if(s!==0)return s}return re(e.length,n.length)}static compareSegments(e,n){const i=zn.isNumericId(e),r=zn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?zn.extractNumericId(e).compare(zn.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class Se extends zn{construct(e,n,i){return new Se(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new W(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const gF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends zn{construct(e,n,i){return new lt(e,n,i)}static isValidIdentifier(e){return gF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===X_}static keyField(){return new lt([X_])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new W(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new W(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new W(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new W(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Se.fromString(e))}static fromName(e){return new G(Se.fromString(e).popFirst(5))}static empty(){return new G(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function yF(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=te.fromTimestamp(i===1e9?new Ye(n+1,0):new Ye(n,i));return new _r(r,G.empty(),e)}function vF(t){return new _r(t.readTime,t.key,kl)}class _r{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new _r(te.min(),G.empty(),kl)}static max(){return new _r(te.max(),G.empty(),kl)}}function xF(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _F{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==wF)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,i)=>{n(e)})}static reject(e){return new V((n,i)=>{i(e)})}static waitFor(e){return new V((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=V.resolve(!1);for(const i of e)n=n.next(r=>r?V.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new V((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,n){return new V((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function bF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Go(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ed.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function td(t){return t==null}function uh(t){return t===0&&1/t==-1/0}function EF(t){return typeof t=="number"&&Number.isInteger(t)&&!uh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="";function TF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=J_(e)),e=SF(t.get(n),e);return J_(e)}function SF(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case uC:n+="";break;default:n+=s}}return n}function J_(t){return t+uC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Dr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??at.RED,this.left=r??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new at(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return at.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,i,r,s){return this}insert(e,n,i){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new eb(this.data.getIterator())}getIteratorFrom(e){return new eb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class eb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new Xe(lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dC("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const CF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(t){if(fe(!!t),typeof t=="string"){let e=0;const n=CF.exec(t);if(fe(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Er(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="server_timestamp",pC="__type__",mC="__previous_value__",gC="__local_write_time__";function By(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[pC])===null||n===void 0?void 0:n.stringValue)===fC}function nd(t){const e=t.mapValue.fields[mC];return By(e)?nd(e):e}function Pl(t){const e=br(t.mapValue.fields[gC].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,n,i,r,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const hh="(default)";class Al{constructor(e,n){this.projectId=e,this.database=n||hh}static empty(){return new Al("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="__type__",vC="__max__",Hc={mapValue:{fields:{__type__:{stringValue:vC}}}},xC="__vector__",dh="value";function Tr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?By(t)?4:PF(t)?9007199254740991:kF(t)?10:11:Z()}function Xn(t,e){if(t===e)return!0;const n=Tr(t);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=br(r.timestampValue),a=br(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Er(r.bytesValue).isEqual(Er(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ue(r.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(r.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ue(r.integerValue)===Ue(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ue(r.doubleValue),a=Ue(s.doubleValue);return o===a?uh(o)===uh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(Z_(o)!==Z_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Xn(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function Rl(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function No(t,e){if(t===e)return 0;const n=Tr(t),i=Tr(e);if(n!==i)return re(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ue(s.integerValue||s.doubleValue),l=Ue(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return tb(t.timestampValue,e.timestampValue);case 4:return tb(Pl(t),Pl(e));case 5:return Am(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Er(s),l=Er(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=re(a[c],l[c]);if(d!==0)return d}return re(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ue(s.latitude),Ue(o.latitude));return a!==0?a:re(Ue(s.longitude),Ue(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nb(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const f=s.fields||{},p=o.fields||{},m=(a=f[dh])===null||a===void 0?void 0:a.arrayValue,v=(l=p[dh])===null||l===void 0?void 0:l.arrayValue,w=re(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:nb(m,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hc.mapValue&&o===Hc.mapValue)return 0;if(s===Hc.mapValue)return 1;if(o===Hc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=Am(l[f],d[f]);if(p!==0)return p;const m=No(a[l[f]],c[d[f]]);if(m!==0)return m}return re(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function tb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=br(t),i=br(e),r=re(n.seconds,i.seconds);return r!==0?r:re(n.nanos,i.nanos)}function nb(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=No(n[r],i[r]);if(s)return s}return re(n.length,i.length)}function jo(t){return Rm(t)}function Rm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=br(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Er(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Rm(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Rm(n.fields[o])}`;return r+"}"}(t.mapValue):Z()}function pu(t){switch(Tr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(t);return e?16+pu(e):16;case 5:return 2*t.stringValue.length;case 6:return Er(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+pu(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return Dr(i.fields,(s,o)=>{r+=s.length+pu(o)}),r}(t.mapValue);default:throw Z()}}function Nm(t){return!!t&&"integerValue"in t}function $y(t){return!!t&&"arrayValue"in t}function ib(t){return!!t&&"nullValue"in t}function rb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mu(t){return!!t&&"mapValue"in t}function kF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yC])===null||n===void 0?void 0:n.stringValue)===xC}function Ga(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Dr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ga(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ga(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!mu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ga(n)}setAll(e){let n=lt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=Ga(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());mu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];mu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){Dr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new zt(Ga(this.value))}}function wC(t){const e=[];return Dr(t.fields,(n,i)=>{const r=new lt([n]);if(mu(i)){const s=wC(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new bt(e,0,te.min(),te.min(),te.min(),zt.empty(),0)}static newFoundDocument(e,n,i,r){return new bt(e,1,n,te.min(),i,r,0)}static newNoDocument(e,n){return new bt(e,2,n,te.min(),te.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new bt(e,3,n,te.min(),te.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.position=e,this.inclusive=n}}function sb(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(o.referenceValue),n.key):i=No(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function ob(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function AF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{}class Ke extends _C{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new NF(e,n,i):n==="array-contains"?new MF(e,i):n==="in"?new OF(e,i):n==="not-in"?new LF(e,i):n==="array-contains-any"?new VF(e,i):new Ke(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new jF(e,i):new DF(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(No(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(No(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends _C{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return bC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bC(t){return t.op==="and"}function EC(t){return RF(t)&&bC(t)}function RF(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function jm(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(EC(t))return t.filters.map(e=>jm(e)).join(",");{const e=t.filters.map(n=>jm(n)).join(",");return`${t.op}(${e})`}}function TC(t,e){return t instanceof Ke?function(i,r){return r instanceof Ke&&i.op===r.op&&i.field.isEqual(r.field)&&Xn(i.value,r.value)}(t,e):t instanceof Jn?function(i,r){return r instanceof Jn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&TC(o,r.filters[a]),!0):!1}(t,e):void Z()}function SC(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(SC).join(" ,")+"}"}(t):"Filter"}class NF extends Ke{constructor(e,n,i){super(e,n,i),this.key=G.fromName(i.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class jF extends Ke{constructor(e,n){super(e,"in",n),this.keys=CC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DF extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=CC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class MF extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $y(n)&&Rl(n.arrayValue,this.value)}}class OF extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class LF extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class VF extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$y(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}}function ab(t,e=null,n=[],i=[],r=null,s=null,o=null){return new FF(t,e,n,i,r,s,o)}function qy(t){const e=ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>jm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),td(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jo(i)).join(",")),e.le=n}return e.le}function Hy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ob(t.startAt,e.startAt)&&ob(t.endAt,e.endAt)}function Dm(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function UF(t,e,n,i,r,s,o,a){return new id(t,e,n,i,r,s,o,a)}function rd(t){return new id(t)}function lb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function zF(t){return t.collectionGroup!==null}function Ka(t){const e=ne(t);if(e.he===null){e.he=[];const n=new Set;for(const s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(lt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new ph(s,i))}),n.has(lt.keyField().canonicalString())||e.he.push(new ph(lt.keyField(),i))}return e.he}function Gn(t){const e=ne(t);return e.Pe||(e.Pe=BF(e,Ka(t))),e.Pe}function BF(t,e){if(t.limitType==="F")return ab(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new ph(r.field,s)});const n=t.endAt?new fh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new fh(t.startAt.position,t.startAt.inclusive):null;return ab(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Mm(t,e,n){return new id(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sd(t,e){return Hy(Gn(t),Gn(e))&&t.limitType===e.limitType}function IC(t){return`${qy(Gn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>SC(r)).join(", ")}]`),td(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>jo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>jo(r)).join(",")),`Target(${i})`}(Gn(t))}; limitType=${t.limitType})`}function od(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of Ka(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const c=sb(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Ka(i),r)||i.endAt&&!function(o,a,l){const c=sb(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Ka(i),r))}(t,e)}function $F(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kC(t){return(e,n)=>{let i=!1;for(const r of Ka(t)){const s=qF(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function qF(t,e,n){const i=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?No(l,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Dr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return hC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HF=new Ne(G.comparator);function Pi(){return HF}const PC=new Ne(G.comparator);function ka(...t){let e=PC;for(const n of t)e=e.insert(n.key,n);return e}function AC(t){let e=PC;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Jr(){return Qa()}function RC(){return Qa()}function Qa(){return new Ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const WF=new Ne(G.comparator),GF=new Xe(G.comparator);function le(...t){let e=GF;for(const n of t)e=e.add(n);return e}const KF=new Xe(re);function QF(){return KF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uh(e)?"-0":e}}function NC(t){return{integerValue:""+t}}function YF(t,e){return EF(e)?NC(e):Wy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this._=void 0}}function XF(t,e,n){return t instanceof Nl?function(r,s){const o={fields:{[pC]:{stringValue:fC},[gC]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&By(s)&&(s=nd(s)),s&&(o.fields[mC]=s),{mapValue:o}}(n,e):t instanceof jl?DC(t,e):t instanceof Dl?MC(t,e):function(r,s){const o=jC(r,s),a=cb(o)+cb(r.Ie);return Nm(o)&&Nm(r.Ie)?NC(a):Wy(r.serializer,a)}(t,e)}function JF(t,e,n){return t instanceof jl?DC(t,e):t instanceof Dl?MC(t,e):n}function jC(t,e){return t instanceof mh?function(i){return Nm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class Nl extends ad{}class jl extends ad{constructor(e){super(),this.elements=e}}function DC(t,e){const n=OC(e);for(const i of t.elements)n.some(r=>Xn(r,i))||n.push(i);return{arrayValue:{values:n}}}class Dl extends ad{constructor(e){super(),this.elements=e}}function MC(t,e){let n=OC(e);for(const i of t.elements)n=n.filter(r=>!Xn(r,i));return{arrayValue:{values:n}}}class mh extends ad{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function cb(t){return Ue(t.integerValue||t.doubleValue)}function OC(t){return $y(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{constructor(e,n){this.field=e,this.transform=n}}function eU(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof jl&&r instanceof jl||i instanceof Dl&&r instanceof Dl?Ro(i.elements,r.elements,Xn):i instanceof mh&&r instanceof mh?Xn(i.Ie,r.Ie):i instanceof Nl&&r instanceof Nl}(t.transform,e.transform)}class tU{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ld{}function LC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gy(t.key,vn.none()):new Ql(t.key,t.data,vn.none());{const n=t.data,i=zt.empty();let r=new Xe(lt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Mr(t.key,i,new Zt(r.toArray()),vn.none())}}function nU(t,e,n){t instanceof Ql?function(r,s,o){const a=r.value.clone(),l=hb(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(r,s,o){if(!gu(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=hb(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(VC(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ya(t,e,n,i){return t instanceof Ql?function(s,o,a,l){if(!gu(s.precondition,o))return a;const c=s.value.clone(),d=db(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,i):t instanceof Mr?function(s,o,a,l){if(!gu(s.precondition,o))return a;const c=db(s.fieldTransforms,l,o),d=o.data;return d.setAll(VC(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,i):function(s,o,a){return gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iU(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=jC(i.transform,r||null);s!=null&&(n===null&&(n=zt.empty()),n.set(i.field,s))}return n||null}function ub(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Ro(i,r,(s,o)=>eU(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ql extends ld{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Mr extends ld{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function hb(t,e,n){const i=new Map;fe(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,JF(o,a,n[r]))}return i}function db(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,XF(s,o,e))}return i}class Gy extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rU extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&nU(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Ya(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Ya(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=RC();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=LC(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(te.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,i)=>ub(n,i))&&Ro(this.baseMutations,e.baseMutations,(n,i)=>ub(n,i))}}class Ky{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){fe(e.mutations.length===i.length);let r=function(){return WF}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Ky(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,ce;function lU(t){switch(t){case F.OK:return Z();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return Z()}}function FC(t){if(t===void 0)return ki("GRPC error has no .code"),F.UNKNOWN;switch(t){case qe.OK:return F.OK;case qe.CANCELLED:return F.CANCELLED;case qe.UNKNOWN:return F.UNKNOWN;case qe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case qe.INTERNAL:return F.INTERNAL;case qe.UNAVAILABLE:return F.UNAVAILABLE;case qe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case qe.NOT_FOUND:return F.NOT_FOUND;case qe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case qe.ABORTED:return F.ABORTED;case qe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case qe.DATA_LOSS:return F.DATA_LOSS;default:return Z()}}(ce=qe||(qe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new fr([4294967295,4294967295],0);function fb(t){const e=lC().encode(t),n=new tC;return n.update(e),new Uint8Array(n.digest())}function pb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fr([n,i],0),new fr([r,s],0)]}class Qy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Pa(`Invalid padding: ${n}`);if(i<0)throw new Pa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Pa(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=fr.fromNumber(this.Ee)}Ae(e,n,i){let r=e.add(n.multiply(fr.fromNumber(i)));return r.compare(cU)===1&&(r=new fr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=fb(e),[i,r]=pb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);if(!this.Re(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Qy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=fb(e),[i,r]=pb(n);for(let s=0;s<this.hashCount;s++){const o=this.Ae(i,r,s);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Pa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new cd(te.min(),r,new Ne(re),Pi(),le())}}class Yl{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Yl(i,n,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n,i,r){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=r}}class UC{constructor(e,n){this.targetId=e,this.ge=n}}class zC{constructor(e,n,i=dt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class mb{constructor(){this.pe=0,this.ye=gb(),this.we=dt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=le(),n=le(),i=le();return this.ye.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Z()}}),new Yl(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=gb()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,fe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=Wc(),this.Ue=Wc(),this.Ke=new Ne(re)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,r)=>{this.Je(r)&&n(r)})}Ze(e){const n=e.targetId,i=e.ge.count,r=this.Xe(n);if(r){const s=r.target;if(Dm(s))if(i===0){const o=new G(s.path);this.ze(n,o,bt.newNoDocument(o,te.min()))}else fe(i===1);else{const o=this.et(n);if(o!==i){const a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Er(i).toUint8Array()}catch(l){if(l instanceof dC)return Ao("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Qy(o,r,s)}catch(l){return Ao(l instanceof Pa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),r++)}),r}ot(e){const n=new Map;this.qe.forEach((s,o)=>{const a=this.Xe(o);if(a){if(s.current&&Dm(a.target)){const l=new G(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,bt.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let i=le();this.Ue.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));const r=new cd(e,n,this.Ke,this.Qe,i);return this.Qe=Pi(),this.$e=Wc(),this.Ue=Wc(),this.Ke=new Ne(re),r}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const r=this.He(e);this.ut(e,n)?r.xe(n,1):r.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mb,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Xe(re),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xe(re),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mb),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Wc(){return new Ne(G.comparator)}function gb(){return new Ne(G.comparator)}const hU={asc:"ASCENDING",desc:"DESCENDING"},dU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fU={and:"AND",or:"OR"};class pU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(t,e){return t.useProto3Json||td(e)?e:{value:e}}function gh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mU(t,e){return gh(t,e.toTimestamp())}function Kn(t){return fe(!!t),te.fromTimestamp(function(n){const i=br(n);return new Ye(i.seconds,i.nanos)}(t))}function Yy(t,e){return Lm(t,e).canonicalString()}function Lm(t,e){const n=function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $C(t){const e=Se.fromString(t);return fe(KC(e)),e}function Vm(t,e){return Yy(t.databaseId,e.path)}function np(t,e){const n=$C(e);if(n.get(1)!==t.databaseId.projectId)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(HC(n))}function qC(t,e){return Yy(t.databaseId,e)}function gU(t){const e=$C(t);return e.length===4?Se.emptyPath():HC(e)}function Fm(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function HC(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yb(t,e,n){return{name:Vm(t,e),fields:n.value.mapValue.fields}}function yU(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(fe(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:FC(c.code);return new W(d,c.message||"")}(o);n=new zC(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=np(t,i.document.name),s=Kn(i.document.updateTime),o=i.document.createTime?Kn(i.document.createTime):te.min(),a=new zt({mapValue:{fields:i.document.fields}}),l=bt.newFoundDocument(r,s,o,a),c=i.targetIds||[],d=i.removedTargetIds||[];n=new yu(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=np(t,i.document),s=i.readTime?Kn(i.readTime):te.min(),o=bt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new yu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=np(t,i.document),s=i.removedTargetIds||[];n=new yu([],s,r,null)}else{if(!("filter"in e))return Z();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new aU(r,s),a=i.targetId;n=new UC(a,o)}}return n}function vU(t,e){let n;if(e instanceof Ql)n={update:yb(t,e.key,e.value)};else if(e instanceof Gy)n={delete:Vm(t,e.key)};else if(e instanceof Mr)n={update:yb(t,e.key,e.data),updateMask:IU(e.fieldMask)};else{if(!(e instanceof rU))return Z();n={verify:Vm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof Nl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Z()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:mU(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(t,e.precondition)),n}function xU(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?Kn(r.updateTime):Kn(s);return o.isEqual(te.min())&&(o=Kn(s)),new tU(o,r.transformResults||[])}(n,e))):[]}function wU(t,e){return{documents:[qC(t,e.path)]}}function _U(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=qC(t,r);const s=function(c){if(c.length!==0)return GC(Jn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Fs(p.field),direction:TU(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Om(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ht:n,parent:r}}function bU(t){let e=gU(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){fe(i===1);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=WC(f);return p instanceof Jn&&EC(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(v){return new ph(Us(v.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,td(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new fh(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new fh(m,p)}(n.endAt)),UF(e,r,o,s,a,"F",l,c)}function EU(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Us(n.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Us(n.unaryFilter.field);return Ke.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Us(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Us(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(i=>WC(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function TU(t){return hU[t]}function SU(t){return dU[t]}function CU(t){return fU[t]}function Fs(t){return{fieldPath:t.canonicalString()}}function Us(t){return lt.fromServerFormat(t.fieldPath)}function GC(t){return t instanceof Ke?function(n){if(n.op==="=="){if(rb(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(ib(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rb(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(ib(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:SU(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const i=n.getFilters().map(r=>GC(r));return i.length===1?i[0]:{compositeFilter:{op:CU(n.op),filters:i}}}(t):Z()}function IU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,i,r,s=te.min(),o=te.min(),a=dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.Tt=e}}function PU(t){const e=bU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this.Tn=new RU}addToCollectionParentIndex(e,n){return this.Tn.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(_r.min())}updateCollectionGroup(e,n,i){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class RU{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xe(Se.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xe(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QC=41943040;class Ft{static withCacheSize(e){return new Ft(e,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ft.DEFAULT_COLLECTION_PERCENTILE=10,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ft.DEFAULT=new Ft(QC,Ft.DEFAULT_COLLECTION_PERCENTILE,Ft.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ft.DISABLED=new Ft(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Do(0)}static Kn(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="LruGarbageCollector",NU=1048576;function wb([t,e],[n,i]){const r=re(t,n);return r===0?re(e,i):r}class jU{constructor(e){this.Hn=e,this.buffer=new Xe(wb),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();wb(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class DU{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){q(xb,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Go(n)?q(xb,"Ignoring IndexedDB error during garbage collection: ",n):await Wo(n)}await this.er(3e5)})}}class MU{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return V.resolve(ed.ae);const i=new jU(n);return this.tr.forEachTarget(e,r=>i.Zn(r.sequenceNumber)).next(()=>this.tr.rr(e,r=>i.Zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),V.resolve(vb)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vb):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,r,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,o=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(i=f,a=Date.now(),this.removeTargets(e,i,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(f=>(c=Date.now(),Ls()<=ae.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),V.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:f})))}}function OU(t,e){return new MU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.changes=new Ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?V.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&Ya(i.mutation,r,Zt.empty(),Ye.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,le()).next(()=>i))}getLocalViewOfDocuments(e,n,i=le()){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=ka();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,le()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=Pi();const o=Qa(),a=function(){return Qa()}();return n.forEach((l,c)=>{const d=i.get(c.key);r.has(c.key)&&(d===void 0||d.mutation instanceof Mr)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Ya(d.mutation,c,d.mutation.getFieldMask(),Ye.now())):o.set(c.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new VU(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const i=Qa();let r=new Ne((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=i.get(l)||Zt.empty();d=a.applyToLocalView(c,d),i.set(l,d);const f=(r.get(a.batchId)||le()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=RC();d.forEach(p=>{if(!s.has(p)){const m=LC(n.get(p),i.get(p));m!==null&&f.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return V.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):V.resolve(Jr());let a=kl,l=s;return o.next(c=>V.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?V.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,le())).next(d=>({batchId:a,changes:AC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(i=>{let r=ka();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=ka();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const c=function(f,p){return new id(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,bt.newInvalidDocument(d)))});let a=ka();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&Ya(d.mutation,c,Zt.empty(),Ye.now()),od(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return V.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Kn(r.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(r){return{name:r.name,query:PU(r.bundledQuery),readTime:Kn(r.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.overlays=new Ne(G.comparator),this.Rr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Jr();return V.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.Et(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Rr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(i)),V.resolve()}getOverlaysForCollection(e,n,i){const r=Jr(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Ne((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let d=s.get(c.largestBatchId);d===null&&(d=Jr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Jr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=r)););return V.resolve(a)}Et(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Rr.get(r.largestBatchId).delete(i.key);this.Rr.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new oU(n,i));let s=this.Rr.get(n);s===void 0&&(s=le(),this.Rr.set(n,s)),this.Rr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return V.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,V.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Vr=new Xe(Je.mr),this.gr=new Xe(Je.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Je(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Je(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new G(new Se([])),i=new Je(n,e),r=new Je(n,e+1),s=[];return this.gr.forEachInRange([i,r],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new G(new Se([])),i=new Je(n,e),r=new Je(n,e+1);let s=le();return this.gr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Je(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Je{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return G.comparator(e.key,n.key)||re(e.Cr,n.Cr)}static pr(e,n){return re(e.Cr,n.Cr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xe(Je.mr)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sU(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.Mr=this.Mr.add(new Je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.Nr(i),s=r<0?0:r;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?zy:this.Fr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Je(n,0),r=new Je(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([i,r],o=>{const a=this.Or(o.Cr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xe(re);return n.forEach(r=>{const s=new Je(r,0),o=new Je(r,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{i=i.add(a.Cr)})}),V.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const o=new Je(new G(s),0);let a=new Xe(re);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.Cr)),!0)},o),V.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(i=>{const r=this.Or(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){fe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return V.forEach(n.mutations,r=>{const s=new Je(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Je(n,0),r=this.Mr.firstAfterOrEqual(i);return V.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.kr=e,this.docs=function(){return new Ne(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return V.resolve(i?i.document.mutableCopy():bt.newInvalidDocument(n))}getEntries(e,n){let i=Pi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():bt.newInvalidDocument(r))}),V.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Pi();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||xF(vF(d),i)<=0||(r.has(d.key)||od(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,i,r){Z()}qr(e,n){return V.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new HU(this)}getSize(e){return V.resolve(this.size)}}class HU extends LU{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(i)}),V.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e){this.persistence=e,this.Qr=new Ts(n=>qy(n),Hy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xy,this.targetCount=0,this.Kr=Do.Un()}forEachTarget(e,n){return this.Qr.forEach((i,r)=>n(r)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),V.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.zn(n),V.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),V.waitFor(s).next(()=>r)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return V.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),V.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),V.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return V.resolve(i)}containsKey(e,n){return V.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ed(0),this.zr=!1,this.zr=!0,this.jr=new BU,this.referenceDelegate=e(this),this.Hr=new WU(this),this.indexManager=new AU,this.remoteDocumentCache=function(r){return new qU(r)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new kU(n),this.Yr=new UU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new $U(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);const r=new GU(this.Gr.next());return this.referenceDelegate.Zr(),i(r).next(s=>this.referenceDelegate.Xr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}ei(e,n){return V.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class GU extends _F{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.ti=new Xy,this.ni=null}static ri(e){return new Jy(e)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),V.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),V.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(r=>this.ii.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.ii.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.ii,i=>{const r=G.fromPath(i);return this.si(e,r).next(s=>{s||n.removeEntry(r,te.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return V.or([()=>V.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class yh{constructor(e,n){this.persistence=e,this.oi=new Ts(i=>TF(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=OU(this,n)}static ri(e,n){return new yh(e,n)}Zr(){}Xr(e){return V.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return V.forEach(this.oi,(i,r)=>this.ar(e,i,r).next(s=>s?V.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.qr(e,o=>this.ar(e,o,n).next(a=>{a||(i++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),V.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),V.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),V.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),V.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pu(e.data.value)),n}ar(e,n,i){return V.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.oi.get(n);return V.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=r}static Yi(e,n){let i=le(),r=le();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Zy(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return q5()?8:bF(It())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KU;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,i,r){return i.documentReadCount<this.es?(Ls()<=ae.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),V.resolve()):(Ls()<=ae.DEBUG&&q("QueryEngine","Query:",Vs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ts*r?(Ls()<=ae.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):V.resolve())}rs(e,n){if(lb(n))return V.resolve(null);let i=Gn(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Mm(n,null,"F"),i=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=le(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.cs(n,a);return this.ls(n,c,o,l.readTime)?this.rs(e,Mm(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,i,r){return lb(n)||r.isEqual(te.min())?V.resolve(null):this.ns.getDocuments(e,i).next(s=>{const o=this.cs(n,s);return this.ls(n,o,i,r)?V.resolve(null):(Ls()<=ae.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Vs(n)),this.hs(e,o,n,yF(r,kl)).next(a=>a))})}cs(e,n){let i=new Xe(kC(e));return n.forEach((r,s)=>{od(e,s)&&(i=i.add(s))}),i}ls(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}_s(e,n,i){return Ls()<=ae.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.ns.getDocumentsMatchingQuery(e,n,_r.min(),i)}hs(e,n,i,r){return this.ns.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LocalStore",YU=3e8;class XU{constructor(e,n,i,r){this.persistence=e,this.Ps=n,this.serializer=r,this.Ts=new Ne(re),this.Is=new Ts(s=>qy(s),Hy),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FU(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function JU(t,e,n,i){return new XU(t,e,n,i)}async function XC(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=le();for(const c of r){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(i,l).next(c=>({Rs:c,removedBatchIds:o,addedBatchIds:a}))})})}function ZU(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let m=V.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(l,v)).next(w=>{const T=c.docVersions.get(v);fe(T!==null),w.version.compareTo(T)<0&&(f.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function JC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function ez(t,e){const n=ne(t),i=e.snapshotVersion;let r=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});r=n.Ts;const a=[];e.targetChanges.forEach((d,f)=>{const p=r.get(f);if(!p)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,f)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,i)),r=r.insert(f,m),function(w,T,x){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=YU?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,d)&&a.push(n.Hr.updateTargetData(s,m))});let l=Pi(),c=le();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(tz(s,o,e.documentUpdates).next(d=>{l=d.Vs,c=d.fs})),!i.isEqual(te.min())){const d=n.Hr.getLastRemoteSnapshotVersion(s).next(f=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ts=r,s))}function tz(t,e,n){let i=le(),r=le();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=Pi();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q(ev,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Vs:o,fs:r}})}function nz(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function iz(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Hr.getTargetData(i,e).next(s=>s?(r=s,V.resolve(r)):n.Hr.allocateTargetId(i).next(o=>(r=new Zi(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ts.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function Um(t,e,n){const i=ne(t),r=i.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!Go(o))throw o;q(ev,`Failed to update sequence numbers for target ${e}: ${o}`)}i.Ts=i.Ts.remove(e),i.Is.delete(r.target)}function _b(t,e,n){const i=ne(t);let r=te.min(),s=le();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ne(l),p=f.Is.get(d);return p!==void 0?V.resolve(f.Ts.get(p)):f.Hr.getTargetData(c,d)}(i,o,Gn(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.Ps.getDocumentsMatchingQuery(o,e,n?r:te.min(),n?s:le())).next(a=>(rz(i,$F(e),a),{documents:a,gs:s})))}function rz(t,e,n){let i=t.Es.get(e)||te.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Es.set(e,i)}class bb{constructor(){this.activeTargetIds=QF()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sz{constructor(){this.ho=new bb,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new bb,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="ConnectivityMonitor";class Tb{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){q(Eb,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){q(Eb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function zm(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="RestConnection",az={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lz{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${r}`,this.wo=this.databaseId.database===hh?`project_id=${i}`:`project_id=${i}&database_id=${r}`}So(e,n,i,r,s){const o=zm(),a=this.bo(e,n.toUriEncodedString());q(ip,`Sending RPC '${e}' ${o}:`,a,i);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,r,s),this.vo(e,a,l,i).then(c=>(q(ip,`Received RPC '${e}' ${o}: `,c),c),c=>{throw Ao(ip,`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",i),c})}Co(e,n,i,r,s,o){return this.So(e,n,i,r,s)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ho}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}bo(e,n){const i=az[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vt="WebChannelConnection";class uz extends lz{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,r){const s=zm();return new Promise((o,a)=>{const l=new nC;l.setWithCredentials(!0),l.listenOnce(iC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case fu.NO_ERROR:const d=l.getResponseJson();q(vt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case fu.TIMEOUT:q(vt,`RPC '${e}' ${s} timed out`),a(new W(F.DEADLINE_EXCEEDED,"Request time out"));break;case fu.HTTP_ERROR:const f=l.getStatus();if(q(vt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(x)>=0?x:F.UNKNOWN}(m.status);a(new W(v,m.message))}else a(new W(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new W(F.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{q(vt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(r);q(vt,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",c,i,15)})}Wo(e,n,i){const r=zm(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oC(),a=sC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const d=s.join("");q(vt,`Creating RPC '${e}' stream ${r}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,m=!1;const v=new cz({Fo:T=>{m?q(vt,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(p||(q(vt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),p=!0),q(vt,`RPC '${e}' stream ${r} sending:`,T),f.send(T))},Mo:()=>f.close()}),w=(T,x,_)=>{T.listen(x,E=>{try{_(E)}catch(I){setTimeout(()=>{throw I},0)}})};return w(f,Ia.EventType.OPEN,()=>{m||(q(vt,`RPC '${e}' stream ${r} transport opened.`),v.Qo())}),w(f,Ia.EventType.CLOSE,()=>{m||(m=!0,q(vt,`RPC '${e}' stream ${r} transport closed`),v.Uo())}),w(f,Ia.EventType.ERROR,T=>{m||(m=!0,Ao(vt,`RPC '${e}' stream ${r} transport errored:`,T),v.Uo(new W(F.UNAVAILABLE,"The operation could not be completed")))}),w(f,Ia.EventType.MESSAGE,T=>{var x;if(!m){const _=T.data[0];fe(!!_);const E=_,I=(E==null?void 0:E.error)||((x=E[0])===null||x===void 0?void 0:x.error);if(I){q(vt,`RPC '${e}' stream ${r} received error:`,I);const P=I.status;let D=function(k){const A=qe[k];if(A!==void 0)return FC(A)}(P),C=I.message;D===void 0&&(D=F.INTERNAL,C="Unknown error status: "+P+" with message "+I.message),m=!0,v.Uo(new W(D,C)),f.close()}else q(vt,`RPC '${e}' stream ${r} received:`,_),v.Ko(_)}}),w(a,rC.STAT_EVENT,T=>{T.stat===Pm.PROXY?q(vt,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Pm.NOPROXY&&q(vt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.$o()},0),v}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){return new pU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n,i=1e3,r=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=r,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="PersistentStream";class eI{constructor(e,n,i,r,s,o,a,l){this.Ti=e,this.n_=i,this.r_=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ZC(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.i_===n&&this.V_(i,r)},i=>{e(()=>{const r=new W(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(r)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(r=>{i(()=>this.m_(r))}),this.stream.onMessage(r=>{i(()=>++this.__==1?this.g_(r):this.onNext(r))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return q(Sb,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(q(Sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hz extends eI{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=yU(this.serializer,e),i=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Kn(o.readTime):te.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=Fm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Dm(l)?{documents:wU(s,l)}:{query:_U(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=BC(s,o.resumeToken);const c=Om(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=gh(s,o.snapshotVersion.toTimestamp());const c=Om(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const i=EU(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=Fm(this.serializer),n.removeTarget=e,this.I_(n)}}class dz extends eI{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=xU(e.writeResults,e.commitTime),i=Kn(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=Fm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>vU(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fz{}class pz extends fz{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Lm(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(F.UNKNOWN,s.toString())})}Co(e,n,i,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Lm(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(F.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mz{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(n),this.N_=!1):q("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="RemoteStore";class gz{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{i.enqueueAndForget(async()=>{Ss(this)&&(q(ys,"Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.W_.add(4),await Xl(c),c.j_.set("Unknown"),c.W_.delete(4),await hd(c)}(this))})}),this.j_=new mz(i,r)}}async function hd(t){if(Ss(t))for(const e of t.G_)await e(!0)}async function Xl(t){for(const e of t.G_)await e(!1)}function tI(t,e){const n=ne(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),rv(n)?iv(n):Ko(n).c_()&&nv(n,e))}function tv(t,e){const n=ne(t),i=Ko(n);n.K_.delete(e),i.c_()&&nI(n,e),n.K_.size===0&&(i.c_()?i.P_():Ss(n)&&n.j_.set("Unknown"))}function nv(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ko(t).y_(e)}function nI(t,e){t.H_.Ne(e),Ko(t).w_(e)}function iv(t){t.H_=new uU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ko(t).start(),t.j_.B_()}function rv(t){return Ss(t)&&!Ko(t).u_()&&t.K_.size>0}function Ss(t){return ne(t).W_.size===0}function iI(t){t.H_=void 0}async function yz(t){t.j_.set("Online")}async function vz(t){t.K_.forEach((e,n)=>{nv(t,e)})}async function xz(t,e){iI(t),rv(t)?(t.j_.q_(e),iv(t)):t.j_.set("Unknown")}async function wz(t,e,n){if(t.j_.set("Online"),e instanceof zC&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.K_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.K_.delete(a),r.H_.removeTarget(a))}(t,e)}catch(i){q(ys,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await vh(t,i)}else if(e instanceof yu?t.H_.We(e):e instanceof UC?t.H_.Ze(e):t.H_.je(e),!n.isEqual(te.min()))try{const i=await JC(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.H_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.K_.get(c);d&&s.K_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.K_.get(l);if(!d)return;s.K_.set(l,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),nI(s,l);const f=new Zi(d.target,l,c,d.sequenceNumber);nv(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){q(ys,"Failed to raise snapshot:",i),await vh(t,i)}}async function vh(t,e,n){if(!Go(e))throw e;t.W_.add(1),await Xl(t),t.j_.set("Offline"),n||(n=()=>JC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(ys,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await hd(t)})}function rI(t,e){return e().catch(n=>vh(t,n,e))}async function dd(t){const e=ne(t),n=Sr(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:zy;for(;_z(e);)try{const r=await nz(e.localStore,i);if(r===null){e.U_.length===0&&n.P_();break}i=r.batchId,bz(e,r)}catch(r){await vh(e,r)}sI(e)&&oI(e)}function _z(t){return Ss(t)&&t.U_.length<10}function bz(t,e){t.U_.push(e);const n=Sr(t);n.c_()&&n.S_&&n.b_(e.mutations)}function sI(t){return Ss(t)&&!Sr(t).u_()&&t.U_.length>0}function oI(t){Sr(t).start()}async function Ez(t){Sr(t).C_()}async function Tz(t){const e=Sr(t);for(const n of t.U_)e.b_(n.mutations)}async function Sz(t,e,n){const i=t.U_.shift(),r=Ky.from(i,e,n);await rI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await dd(t)}async function Cz(t,e){e&&Sr(t).S_&&await async function(i,r){if(function(o){return lU(o)&&o!==F.ABORTED}(r.code)){const s=i.U_.shift();Sr(i).h_(),await rI(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await dd(i)}}(t,e),sI(t)&&oI(t)}async function Cb(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q(ys,"RemoteStore received new credentials");const i=Ss(n);n.W_.add(3),await Xl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await hd(n)}async function Iz(t,e){const n=ne(t);e?(n.W_.delete(2),await hd(n)):e||(n.W_.add(2),await Xl(n),n.j_.set("Unknown"))}function Ko(t){return t.J_||(t.J_=function(n,i,r){const s=ne(n);return s.M_(),new hz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:yz.bind(null,t),No:vz.bind(null,t),Lo:xz.bind(null,t),p_:wz.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),rv(t)?iv(t):t.j_.set("Unknown")):(await t.J_.stop(),iI(t))})),t.J_}function Sr(t){return t.Y_||(t.Y_=function(n,i,r){const s=ne(n);return s.M_(),new dz(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Ez.bind(null,t),Lo:Cz.bind(null,t),D_:Tz.bind(null,t),v_:Sz.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await dd(t)):(await t.Y_.stop(),t.U_.length>0&&(q(ys,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new sv(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(t,e){if(ki("AsyncQueue",`${e}: ${t}`),Go(t))return new W(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=ka(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new fo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(){this.Z_=new Ne(G.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Z():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Mo{constructor(e,n,i,r,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Mo(e,n,fo.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Pz{constructor(){this.queries=kb(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const r=ne(n),s=r.queries;r.queries=kb(),s.forEach((o,a)=>{for(const l of a.ta)l.onError(i)})})(this,new W(F.ABORTED,"Firestore shutting down"))}}function kb(){return new Ts(t=>IC(t),sd)}async function av(t,e){const n=ne(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.na()&&e.ra()&&(i=2):(s=new kz,i=e.ra()?0:1);try{switch(i){case 0:s.ea=await n.onListen(r,!0);break;case 1:s.ea=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=ov(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&cv(n)}async function lv(t,e){const n=ne(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?r=e.ra()?0:1:!s.na()&&e.ra()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Az(t,e){const n=ne(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.ta)a.oa(r)&&(i=!0);o.ea=r}}i&&cv(n)}function Rz(t,e,n){const i=ne(t),r=i.queries.get(e);if(r)for(const s of r.ta)s.onError(n);i.queries.delete(e)}function cv(t){t.ia.forEach(e=>{e.next()})}var Bm,Pb;(Pb=Bm||(Bm={}))._a="default",Pb.Cache="cache";class uv{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new Mo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.key=e}}class lI{constructor(e){this.key=e}}class Nz{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=le(),this.mutatedKeys=le(),this.ya=kC(e),this.wa=new fo(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new Ib,r=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,f)=>{const p=r.get(d),m=od(this.query,f)?f:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;p&&m?p.data.isEqual(m.data)?v!==w&&(i.track({type:3,doc:m}),T=!0):this.va(p,m)||(i.track({type:2,doc:m}),T=!0,(l&&this.ya(m,l)>0||c&&this.ya(m,c)<0)&&(a=!0)):!p&&m?(i.track({type:0,doc:m}),T=!0):p&&!m&&(i.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{wa:o,Da:i,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,f)=>function(m,v){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return w(m)-w(v)}(d.type,f.type)||this.ya(d.doc,f.doc)),this.Ca(i),r=r!=null&&r;const a=n&&!r?this.Fa():[],l=this.pa.size===0&&this.current&&!r?1:0,c=l!==this.ga;return this.ga=l,o.length!==0||c?{snapshot:new Mo(this.query,e.wa,s,o,e.mutatedKeys,l===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ib,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=le(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new lI(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new aI(i))}),n}Oa(e){this.fa=e.gs,this.pa=le();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hv="SyncEngine";class jz{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class Dz{constructor(e){this.key=e,this.Ba=!1}}class Mz{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Ts(a=>IC(a),sd),this.qa=new Map,this.Qa=new Set,this.$a=new Ne(G.comparator),this.Ua=new Map,this.Ka=new Xy,this.Wa={},this.Ga=new Map,this.za=Do.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Oz(t,e,n=!0){const i=pI(t);let r;const s=i.ka.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Na()):r=await cI(i,e,n,!0),r}async function Lz(t,e){const n=pI(t);await cI(n,e,!0,!1)}async function cI(t,e,n,i){const r=await iz(t.localStore,Gn(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await Vz(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&tI(t.remoteStore,r),a}async function Vz(t,e,n,i,r){t.Ha=(f,p,m)=>async function(w,T,x,_){let E=T.view.ba(x);E.ls&&(E=await _b(w.localStore,T.query,!1).then(({documents:C})=>T.view.ba(C,E)));const I=_&&_.targetChanges.get(T.targetId),P=_&&_.targetMismatches.get(T.targetId)!=null,D=T.view.applyChanges(E,w.isPrimaryClient,I,P);return Rb(w,T.targetId,D.Ma),D.snapshot}(t,f,p,m);const s=await _b(t.localStore,e,!0),o=new Nz(e,s.gs),a=o.ba(s.documents),l=Yl.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),c=o.applyChanges(a,t.isPrimaryClient,l);Rb(t,n,c.Ma);const d=new jz(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),c.snapshot}async function Fz(t,e,n){const i=ne(t),r=i.ka.get(e),s=i.qa.get(r.targetId);if(s.length>1)return i.qa.set(r.targetId,s.filter(o=>!sd(o,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Um(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&tv(i.remoteStore,r.targetId),$m(i,r.targetId)}).catch(Wo)):($m(i,r.targetId),await Um(i.localStore,r.targetId,!0))}async function Uz(t,e){const n=ne(t),i=n.ka.get(e),r=n.qa.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),tv(n.remoteStore,i.targetId))}async function zz(t,e,n){const i=Kz(t);try{const r=await function(o,a){const l=ne(o),c=Ye.now(),d=a.reduce((m,v)=>m.add(v.key),le());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=Pi(),w=le();return l.ds.getEntries(m,d).next(T=>{v=T,v.forEach((x,_)=>{_.isValidDocument()||(w=w.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(T=>{f=T;const x=[];for(const _ of a){const E=iU(_,f.get(_.key).overlayedDocument);E!=null&&x.push(new Mr(_.key,E,wC(E.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,x,a)}).next(T=>{p=T;const x=T.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(m,T.batchId,x)})}).then(()=>({batchId:p.batchId,changes:AC(f)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let c=o.Wa[o.currentUser.toKey()];c||(c=new Ne(re)),c=c.insert(a,l),o.Wa[o.currentUser.toKey()]=c}(i,r.batchId,n),await Jl(i,r.changes),await dd(i.remoteStore)}catch(r){const s=ov(r,"Failed to persist write");n.reject(s)}}async function uI(t,e){const n=ne(t);try{const i=await ez(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Ua.get(s);o&&(fe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.Ba=!0:r.modifiedDocuments.size>0?fe(o.Ba):r.removedDocuments.size>0&&(fe(o.Ba),o.Ba=!1))}),await Jl(n,i,e)}catch(i){await Wo(i)}}function Ab(t,e,n){const i=ne(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.ka.forEach((s,o)=>{const a=o.view.sa(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.ta)p.sa(a)&&(c=!0)}),c&&cv(l)}(i.eventManager,e),r.length&&i.La.p_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Bz(t,e,n){const i=ne(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Ua.get(e),s=r&&r.key;if(s){let o=new Ne(G.comparator);o=o.insert(s,bt.newNoDocument(s,te.min()));const a=le().add(s),l=new cd(te.min(),new Map,new Ne(re),o,a);await uI(i,l),i.$a=i.$a.remove(s),i.Ua.delete(e),dv(i)}else await Um(i.localStore,e,!1).then(()=>$m(i,e,n)).catch(Wo)}async function $z(t,e){const n=ne(t),i=e.batch.batchId;try{const r=await ZU(n.localStore,e);dI(n,i,null),hI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Jl(n,r)}catch(r){await Wo(r)}}async function qz(t,e,n){const i=ne(t);try{const r=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(fe(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(i.localStore,e);dI(i,e,n),hI(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Jl(i,r)}catch(r){await Wo(r)}}function hI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function dI(t,e,n){const i=ne(t);let r=i.Wa[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Wa[i.currentUser.toKey()]=r}}function $m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||fI(t,i)})}function fI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(tv(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),dv(t))}function Rb(t,e,n){for(const i of n)i instanceof aI?(t.Ka.addReference(i.key,e),Hz(t,i)):i instanceof lI?(q(hv,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||fI(t,i.key)):Z()}function Hz(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(q(hv,"New document in limbo: "+n),t.Qa.add(i),dv(t))}function dv(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new G(Se.fromString(e)),i=t.za.next();t.Ua.set(i,new Dz(n)),t.$a=t.$a.insert(n,i),tI(t.remoteStore,new Zi(Gn(rd(n.path)),i,"TargetPurposeLimboResolution",ed.ae))}}async function Jl(t,e,n){const i=ne(t),r=[],s=[],o=[];i.ka.isEmpty()||(i.ka.forEach((a,l)=>{o.push(i.Ha(l,e,n).then(c=>{var d;if((c||n)&&i.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){r.push(c);const f=Zy.Yi(l.targetId,c);s.push(f)}}))}),await Promise.all(o),i.La.p_(r),await async function(l,c){const d=ne(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>V.forEach(c,p=>V.forEach(p.Hi,m=>d.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>V.forEach(p.Ji,m=>d.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Go(f))throw f;q(ev,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=d.Ts.get(p),v=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(v);d.Ts=d.Ts.insert(p,w)}}}(i.localStore,s))}async function Wz(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q(hv,"User change. New user:",e.toKey());const i=await XC(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new W(F.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Jl(n,i.Rs)}}function Gz(t,e){const n=ne(t),i=n.Ua.get(e);if(i&&i.Ba)return le().add(i.key);{let r=le();const s=n.qa.get(e);if(!s)return r;for(const o of s){const a=n.ka.get(o);r=r.unionWith(a.view.Sa)}return r}}function pI(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bz.bind(null,e),e.La.p_=Az.bind(null,e.eventManager),e.La.Ja=Rz.bind(null,e.eventManager),e}function Kz(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$z.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qz.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return JU(this.persistence,new QU,e.initialUser,this.serializer)}Xa(e){return new YC(Jy.ri,this.serializer)}Za(e){return new sz}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class Qz extends xh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){fe(this.persistence.referenceDelegate instanceof yh);const i=this.persistence.referenceDelegate.garbageCollector;return new DU(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Ft.withCacheSize(this.cacheSizeBytes):Ft.DEFAULT;return new YC(i=>yh.ri(i,n),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ab(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wz.bind(null,this.syncEngine),await Iz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pz}()}createDatastore(e){const n=ud(e.databaseInfo.databaseId),i=function(s){return new uz(s)}(e.databaseInfo);return function(s,o,a,l){return new pz(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new gz(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Ab(this.syncEngine,n,0),function(){return Tb.D()?new Tb:new oz}())}createSyncEngine(e,n){return function(r,s,o,a,l,c,d){const f=new Mz(r,s,o,a,l,c);return d&&(f.ja=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=ne(r);q(ys,"RemoteStore shutting down."),s.W_.add(5),await Xl(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="FirestoreClient";class Yz{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=wt.UNAUTHENTICATED,this.clientId=cC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{q(Cr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>(q(Cr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=ov(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function sp(t,e){t.asyncQueue.verifyOperationInProgress(),q(Cr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await XC(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Xz(t);q(Cr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>Cb(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>Cb(e.remoteStore,r)),t._onlineComponents=e}async function Xz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Cr,"Using user provided OfflineComponentProvider");try{await sp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===F.FAILED_PRECONDITION||r.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Ao("Error using user provided cache. Falling back to memory cache: "+n),await sp(t,new xh)}}else q(Cr,"Using default OfflineComponentProvider"),await sp(t,new Qz(void 0));return t._offlineComponents}async function mI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Cr,"Using user provided OnlineComponentProvider"),await Nb(t,t._uninitializedComponentsProvider._online)):(q(Cr,"Using default OnlineComponentProvider"),await Nb(t,new qm))),t._onlineComponents}function Jz(t){return mI(t).then(e=>e.syncEngine)}async function wh(t){const e=await mI(t),n=e.eventManager;return n.onListen=Oz.bind(null,e.syncEngine),n.onUnlisten=Fz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Uz.bind(null,e.syncEngine),n}function Zz(t,e,n={}){const i=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new fv({next:p=>{d.su(),o.enqueueAndForget(()=>lv(s,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new W(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new uv(rd(a.path),d,{includeMetadataChanges:!0,Ta:!0});return av(s,f)}(await wh(t),t.asyncQueue,e,n,i)),i.promise}function eB(t,e,n={}){const i=new xi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new fv({next:p=>{d.su(),o.enqueueAndForget(()=>lv(s,f)),p.fromCache&&l.source==="server"?c.reject(new W(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new uv(a,d,{includeMetadataChanges:!0,Ta:!0});return av(s,f)}(await wh(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t,e,n){if(!n)throw new W(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function tB(t,e,n,i){if(e===!0&&i===!0)throw new W(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Db(t){if(!G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mb(t){if(G.isDocumentKey(t))throw new W(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Gt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=pv(t);throw new W(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="firestore.googleapis.com",Ob=!0;class Lb{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new W(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vI,this.ssl=Ob}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ob;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<NU)throw new W(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gI((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new lF;switch(i.type){case"firstParty":return new dF(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new W(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=jb.get(n);i&&(q("ComponentProvider","Removing Datastore"),jb.delete(n),i.terminate())}(this),Promise.resolve()}}function nB(t,e,n,i={}){var r;const s=(t=Gt(t,fd))._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;s.host!==vI&&s.host!==a&&Ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},s),{host:a,ssl:!1,emulatorOptions:i});if(!ps(l,o)&&(t._setSettings(l),i.mockUserToken)){let c,d;if(typeof i.mockUserToken=="string")c=i.mockUserToken,d=wt.MOCK_USER;else{c=L5(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new W(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new wt(f)}t._authCredentials=new cF(new aC(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zl(this.firestore,e,this._query)}}class Mt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class pr extends Zl{constructor(e,n,i){super(e,n,rd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new G(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function de(t,e,...n){if(t=it(t),yI("collection","path",e),t instanceof fd){const i=Se.fromString(e,...n);return Mb(i),new pr(t,null,i)}{if(!(t instanceof Mt||t instanceof pr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Se.fromString(e,...n));return Mb(i),new pr(t.firestore,null,i)}}function Le(t,e,...n){if(t=it(t),arguments.length===1&&(e=cC.newId()),yI("doc","path",e),t instanceof fd){const i=Se.fromString(e,...n);return Db(i),new Mt(t,null,new G(i))}{if(!(t instanceof Mt||t instanceof pr))throw new W(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Se.fromString(e,...n));return Db(i),new Mt(t.firestore,t instanceof pr?t.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="AsyncQueue";class Fb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ZC(this,"async_queue_retry"),this.Su=()=>{const i=rp();i&&q(Vb,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=rp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=rp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new xi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Go(e))throw e;q(Vb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ki("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const r=sv.createAndSchedule(this,e,n,i,s=>this.Fu(s));return this.fu.push(r),r}Du(){this.gu&&Z()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function Ub(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ai extends fd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Fb,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fb(e),this._firestoreClient=void 0,await e}}}function iB(t,e){const n=typeof t=="object"?t:JS(),i=typeof t=="string"?t:hh,r=Fy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=M5("firestore");s&&nB(r,...s)}return r}function pd(t){if(t._terminated)throw new W(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rB(t),t._firestoreClient}function rB(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,c,d){return new IF(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new Yz(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(dt.fromBase64String(e))}catch(n){throw new W(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oo(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=/^__.*__$/;class oB{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ql(e,this.data,n,this.fieldTransforms)}}class xI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class yv{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new yv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.$u(e),r}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ku({path:i,Qu:!1});return r.Bu(),r}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _h(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(wI(this.Lu)&&sB.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class aB{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||ud(e)}ju(e,n,i,r=!1){return new yv({Lu:e,methodName:n,zu:i,path:lt.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vv(t){const e=t._freezeSettings(),n=ud(t._databaseId);return new aB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _I(t,e,n,i,r,s={}){const o=t.ju(s.merge||s.mergeFields?2:0,e,n,r);wv("Data must be an object, but it was:",o,i);const a=bI(i,o);let l,c;if(s.merge)l=new Zt(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=Hm(e,f,n);if(!o.contains(p))throw new W(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);TI(d,p)||d.push(p)}l=new Zt(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new oB(new zt(a),l,c)}class yd extends gd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}class xv extends gd{_toFieldTransform(e){return new ZF(e.path,new Nl)}isEqual(e){return e instanceof xv}}function lB(t,e,n,i){const r=t.ju(1,e,n);wv("Data must be an object, but it was:",r,i);const s=[],o=zt.empty();Dr(i,(l,c)=>{const d=_v(e,l,n);c=it(c);const f=r.Uu(d);if(c instanceof yd)s.push(d);else{const p=vd(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Zt(s);return new xI(o,a,r.fieldTransforms)}function cB(t,e,n,i,r,s){const o=t.ju(1,e,n),a=[Hm(e,i,n)],l=[r];if(s.length%2!=0)throw new W(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(Hm(e,s[p])),l.push(s[p+1]);const c=[],d=zt.empty();for(let p=a.length-1;p>=0;--p)if(!TI(c,a[p])){const m=a[p];let v=l[p];v=it(v);const w=o.Uu(m);if(v instanceof yd)c.push(m);else{const T=vd(v,w);T!=null&&(c.push(m),d.set(m,T))}}const f=new Zt(c);return new xI(d,f,o.fieldTransforms)}function vd(t,e){if(EI(t=it(t)))return wv("Unsupported field value:",e,t),bI(t,e);if(t instanceof gd)return function(i,r){if(!wI(r.Lu))throw r.Wu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Wu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=vd(a,r.Ku(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=it(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YF(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=Ye.fromDate(i);return{timestampValue:gh(r.serializer,s)}}if(i instanceof Ye){const s=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:gh(r.serializer,s)}}if(i instanceof mv)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Oo)return{bytesValue:BC(r.serializer,i._byteString)};if(i instanceof Mt){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof gv)return function(o,a){return{mapValue:{fields:{[yC]:{stringValue:xC},[dh]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return Wy(a.serializer,c)})}}}}}}(i,r);throw r.Wu(`Unsupported field value: ${pv(i)}`)}(t,e)}function bI(t,e){const n={};return hC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dr(t,(i,r)=>{const s=vd(r,e.qu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function EI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof mv||t instanceof Oo||t instanceof Mt||t instanceof gd||t instanceof gv)}function wv(t,e,n){if(!EI(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=pv(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function Hm(t,e,n){if((e=it(e))instanceof md)return e._internalPath;if(typeof e=="string")return _v(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}const uB=new RegExp("[~\\*/\\[\\]]");function _v(t,e,n){if(e.search(uB)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new md(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new W(F.INVALID_ARGUMENT,a+t+l)}function TI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hB extends SI{data(){return super.data()}}function CI(t,e){return typeof e=="string"?_v(t,e):e instanceof md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dB{convertValue(e,n="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Dr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n[dh].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ue(o.doubleValue));return new gv(s)}convertGeoPoint(e){return new mv(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=nd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=br(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Se.fromString(e);fe(KC(i));const r=new Al(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||ki(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class PI extends SI{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(CI("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class vu extends PI{data(e={}){return super.data(e)}}class AI{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Aa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new vu(this._firestore,this._userDataWriter,i.key,i,new Aa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new vu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Aa(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new vu(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Aa(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:fB(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){t=Gt(t,Mt);const e=Gt(t.firestore,Ai);return Zz(pd(e),t._key).then(n=>RI(e,t,n))}class bv extends dB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function Oe(t){t=Gt(t,Zl);const e=Gt(t.firestore,Ai),n=pd(e),i=new bv(e);return II(t._query),eB(n,t._query).then(r=>new AI(e,i,t,r))}function zb(t,e,n){t=Gt(t,Mt);const i=Gt(t.firestore,Ai),r=kI(t.converter,e,n);return xd(i,[_I(vv(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,vn.none())])}function Cs(t,e,n,...i){t=Gt(t,Mt);const r=Gt(t.firestore,Ai),s=vv(r);let o;return o=typeof(e=it(e))=="string"||e instanceof md?cB(s,"updateDoc",t._key,e,n,i):lB(s,"updateDoc",t._key,e),xd(r,[o.toMutation(t._key,vn.exists(!0))])}function Or(t){return xd(Gt(t.firestore,Ai),[new Gy(t._key,vn.none())])}function Is(t,e){const n=Gt(t.firestore,Ai),i=Le(t),r=kI(t.converter,e);return xd(n,[_I(vv(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,vn.exists(!1))]).then(()=>i)}function pB(t,...e){var n,i,r;t=it(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Ub(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Ub(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(i=f.error)===null||i===void 0?void 0:i.bind(f),e[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,c,d;if(t instanceof Mt)c=Gt(t.firestore,Ai),d=rd(t._key.path),l={next:f=>{e[o]&&e[o](RI(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Gt(t,Zl);c=Gt(f.firestore,Ai),d=f._query;const p=new bv(c);l={next:m=>{e[o]&&e[o](new AI(c,p,f,m))},error:e[o+1],complete:e[o+2]},II(t._query)}return function(p,m,v,w){const T=new fv(w),x=new uv(m,T,v);return p.asyncQueue.enqueueAndForget(async()=>av(await wh(p),x)),()=>{T.su(),p.asyncQueue.enqueueAndForget(async()=>lv(await wh(p),x))}}(pd(c),d,a,l)}function xd(t,e){return function(i,r){const s=new xi;return i.asyncQueue.enqueueAndForget(async()=>zz(await Jz(i),r,s)),s.promise}(pd(t),e)}function RI(t,e,n){const i=n.docs.get(e._key),r=new bv(t);return new PI(t,r,e._key,i,new Aa(n.hasPendingWrites,n.fromCache),e.converter)}function Bb(){return new xv("serverTimestamp")}(function(e,n=!0){(function(r){Ho=r})(qo),Po(new ms("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new Ai(new uF(i.getProvider("auth-internal")),new fF(o,i.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Al(c.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),dr(H_,W_,e),dr(H_,W_,"esm2017")})();var mB="firebase",gB="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dr(mB,gB,"app");function Ev(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function NI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yB=NI,jI=new Gl("auth","Firebase",NI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Ly("@firebase/auth");function vB(t,...e){bh.logLevel<=ae.WARN&&bh.warn(`Auth (${qo}): ${t}`,...e)}function xu(t,...e){bh.logLevel<=ae.ERROR&&bh.error(`Auth (${qo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,...e){throw Sv(t,...e)}function Dn(t,...e){return Sv(t,...e)}function Tv(t,e,n){const i=Object.assign(Object.assign({},yB()),{[e]:n});return new Gl("auth","Firebase",i).create(e,{appName:t.name})}function mr(t){return Tv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xB(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&bn(t,"argument-error"),Tv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return jI.create(t,...e)}function J(t,e,...n){if(!t)throw Sv(e,...n)}function hi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function Ri(t,e){t||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wB(){return $b()==="http:"||$b()==="https:"}function $b(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wB()||z5()||"connection"in navigator)?navigator.onLine:!0}function bB(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=V5()||B5()}get(){return _B()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TB=new tc(3e4,6e4);function ks(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Lr(t,e,n,i,r={}){return MI(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=Kl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return U5()||(c.referrerPolicy="no-referrer"),DI.fetch()(OI(t,t.config.apiHost,n,a),c)})}async function MI(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},EB),e);try{const r=new CB(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Kc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Kc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Kc(t,"user-disabled",o);const d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Tv(t,d,c);bn(t,d)}}catch(r){if(r instanceof ji)throw r;bn(t,"network-request-failed",{message:String(r)})}}async function wd(t,e,n,i,r={}){const s=await Lr(t,e,n,i,r);return"mfaPendingCredential"in s&&bn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OI(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?Cv(t.config,r):`${t.config.apiScheme}://${r}`}function SB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CB{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Dn(this.auth,"network-request-failed")),TB.get())})}}function Kc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Dn(t,e,i);return r.customData._tokenResponse=n,r}function qb(t){return t!==void 0&&t.enterprise!==void 0}class IB{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return SB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kB(t,e){return Lr(t,"GET","/v2/recaptchaConfig",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PB(t,e){return Lr(t,"POST","/v1/accounts:delete",e)}async function LI(t,e){return Lr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AB(t,e=!1){const n=it(t),i=await n.getIdToken(e),r=Iv(i);J(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Xa(op(r.auth_time)),issuedAtTime:Xa(op(r.iat)),expirationTime:Xa(op(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function op(t){return Number(t)*1e3}function Iv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const r=HS(n);return r?JSON.parse(r):(xu("Failed to decode base64 JWT payload"),null)}catch(r){return xu("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function Hb(t){const e=Iv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof ji&&RB(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function RB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xa(this.lastLoginAt),this.creationTime=Xa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eh(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ml(t,LI(n,{idToken:i}));J(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?VI(s.providerUserInfo):[],a=DB(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gm(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function jB(t){const e=it(t);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DB(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function VI(t){return t.map(e=>{var{providerId:n}=e,i=Ev(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MB(t,e){const n=await MI(t,{},async()=>{const i=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=OI(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",DI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OB(t,e){return Lr(t,"POST","/v2/accounts:revokeToken",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=Hb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await MB(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new po;return i&&(J(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(J(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=Ev(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AB(this,e)}reload(){return jB(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await Ml(this,PB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,c,d;const f=(i=n.displayName)!==null&&i!==void 0?i:void 0,p=(r=n.email)!==null&&r!==void 0?r:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:E,emailVerified:I,isAnonymous:P,providerData:D,stsTokenManager:C}=n;J(E&&C,e,"internal-error");const b=po.fromJSON(this.name,C);J(typeof E=="string",e,"internal-error"),Ui(f,e.name),Ui(p,e.name),J(typeof I=="boolean",e,"internal-error"),J(typeof P=="boolean",e,"internal-error"),Ui(m,e.name),Ui(v,e.name),Ui(w,e.name),Ui(T,e.name),Ui(x,e.name),Ui(_,e.name);const k=new di({uid:E,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:P,photoURL:v,phoneNumber:m,tenantId:w,stsTokenManager:b,createdAt:x,lastLoginAt:_});return D&&Array.isArray(D)&&(k.providerData=D.map(A=>Object.assign({},A))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,n,i=!1){const r=new po;r.updateFromServerResponse(n);const s=new di({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await Eh(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];J(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?VI(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new po;a.updateFromIdToken(i);const l=new di({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Gm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;function fi(t){Ri(t instanceof Function,"Expected a class definition");let e=Wb.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FI.type="NONE";const Gb=FI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=wu(this.userKey,r.apiKey,s),this.fullPersistenceKey=wu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new mo(fi(Gb),e,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||fi(Gb);const o=wu(i,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=di._fromJSON(e,d);c!==s&&(a=f),s=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new mo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new mo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($I(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HI(e))return"Blackberry";if(WI(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||BI(e))&&!e.includes("edge/"))return"Chrome";if(qI(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function UI(t=It()){return/firefox\//i.test(t)}function zI(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BI(t=It()){return/crios\//i.test(t)}function $I(t=It()){return/iemobile/i.test(t)}function qI(t=It()){return/android/i.test(t)}function HI(t=It()){return/blackberry/i.test(t)}function WI(t=It()){return/webos/i.test(t)}function kv(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LB(t=It()){var e;return kv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VB(){return $5()&&document.documentMode===10}function GI(t=It()){return kv(t)||qI(t)||WI(t)||HI(t)||/windows phone/i.test(t)||$I(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t,e=[]){let n;switch(t){case"Browser":n=Kb(It());break;case"Worker":n=`${Kb(It())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(t,e={}){return Lr(t,"GET","/v2/passwordPolicy",ks(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=6;class BB{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:zB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qb(this),this.idTokenSubscription=new Qb(this),this.beforeStateQueue=new FB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LI(this,{idToken:e}),i=await di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bB()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(mr(this));const n=e?it(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UB(this),n=new BB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await OB(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fi(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vB(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ps(t){return it(t)}class Qb{constructor(e){this.auth=e,this.observer=null,this.addObserver=X5(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qB(t){_d=t}function QI(t){return _d.loadJS(t)}function HB(){return _d.recaptchaEnterpriseScript}function WB(){return _d.gapiScript}function GB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class KB{constructor(){this.enterprise=new QB}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QB{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const YB="recaptcha-enterprise",YI="NO_RECAPTCHA";class XB{constructor(e){this.type=YB,this.auth=Ps(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{kB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new IB(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;qb(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(YI)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KB().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&qb(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HB();l.length!==0&&(l+=a),QI(l).then(()=>{r(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Yb(t,e,n,i=!1,r=!1){const s=new XB(t);let o;if(r)o=YI;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Xb(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Yb(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Yb(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(t,e){const n=Fy(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(ps(s,e??{}))return r;bn(r,"already-initialized")}return n.initialize({options:e})}function ZB(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function e9(t,e,n){const i=Ps(t);J(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=XI(e),{host:o,port:a}=t9(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(ps(c,i.config.emulator)&&ps(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,n9()}function XI(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function t9(t){const e=XI(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:Jb(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:Jb(o)}}}function Jb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function n9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,n){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function i9(t,e){return Lr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,e){return wd(t,"POST","/v1/accounts:signInWithPassword",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(t,e){return wd(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}async function o9(t,e){return wd(t,"POST","/v1/accounts:signInWithEmailLink",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Pv{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Ol(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xb(e,n,"signInWithPassword",r9);case"emailLink":return s9(e,{email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xb(e,i,"signUpPassword",i9);case"emailLink":return o9(e,{idToken:n,email:this._email,oobCode:this._password});default:bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return wd(t,"POST","/v1/accounts:signInWithIdp",ks(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9="http://localhost";class vs extends Pv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=Ev(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new vs(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,go(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:a9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function c9(t){const e=Sa(Ca(t)).link,n=e?Sa(Ca(e)).deep_link_id:null,i=Sa(Ca(t)).deep_link_id;return(i?Sa(Ca(i)).link:null)||i||n||e||t}class Av{constructor(e){var n,i,r,s,o,a;const l=Sa(Ca(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(i=l.oobCode)!==null&&i!==void 0?i:null,f=l9((r=l.mode)!==null&&r!==void 0?r:null);J(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=c9(e);try{return new Av(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Av.parseLink(n);return J(i,"argument-error"),Ol._fromEmailAndCode(e,i.code,i.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Rv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends nc{constructor(){super("facebook.com")}static credential(e){return vs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vs._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return li.credential(n,i)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends nc{constructor(){super("github.com")}static credential(e){return vs._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends nc{constructor(){super("twitter.com")}static credential(e,n){return vs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ki.credential(n,i)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await di._fromIdTokenResponse(e,i,r),o=Zb(i);return new Lo({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=Zb(i);return new Lo({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function Zb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends ji{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new Th(e,n,i,r)}}function JI(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(t,s,e,i):s})}async function u9(t,e,n=!1){const i=await Ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lo._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h9(t,e,n=!1){const{auth:i}=t;if(mn(i.app))return Promise.reject(mr(i));const r="reauthenticate";try{const s=await Ml(t,JI(i,r,e,t),n);J(s.idToken,i,"internal-error");const o=Iv(s.idToken);J(o,i,"internal-error");const{sub:a}=o;return J(t.uid===a,i,"user-mismatch"),Lo._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(t,e,n=!1){if(mn(t.app))return Promise.reject(mr(t));const i="signIn",r=await JI(t,i,e),s=await Lo._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function d9(t,e){return ZI(Ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t){const e=Ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function p9(t,e,n){return mn(t.app)?Promise.reject(mr(t)):d9(it(t),Qo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&f9(t),i})}function m9(t,e,n,i){return it(t).onIdTokenChanged(e,n,i)}function g9(t,e,n){return it(t).beforeAuthStateChanged(e,n)}function ek(t,e,n,i){return it(t).onAuthStateChanged(e,n,i)}function Km(t){return it(t).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=1e3,v9=10;class nk extends tk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);VB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,v9):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},y9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nk.type="LOCAL";const x9=nk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik extends tk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ik.type="SESSION";const rk=ik;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new bd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await w9(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=Nv("",20);r.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(){return window}function b9(t){Qn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(){return typeof Qn().WorkerGlobalScope<"u"&&typeof Qn().importScripts=="function"}async function E9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function S9(){return sk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="firebaseLocalStorageDb",C9=1,Ch="firebaseLocalStorage",ak="fbase_key";class ic{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ed(t,e){return t.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function I9(){const t=indexedDB.deleteDatabase(ok);return new ic(t).toPromise()}function Qm(){const t=indexedDB.open(ok,C9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(Ch,{keyPath:ak})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(Ch)?e(i):(i.close(),await I9(),e(await Qm()))})})}async function e1(t,e,n){const i=Ed(t,!0).put({[ak]:e,value:n});return new ic(i).toPromise()}async function k9(t,e){const n=Ed(t,!1).get(e),i=await new ic(n).toPromise();return i===void 0?null:i.value}function t1(t,e){const n=Ed(t,!0).delete(e);return new ic(n).toPromise()}const P9=800,A9=3;class lk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>A9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bd._getInstance(S9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await E9(),!this.activeServiceWorker)return;this.sender=new _9(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qm();return await e1(e,Sh,"1"),await t1(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>e1(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>k9(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=Ed(r,!1).getAll();return new ic(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),P9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lk.type="LOCAL";const R9=lk;new tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){return e?fi(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Pv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function N9(t){return ZI(t.auth,new jv(t),t.bypassAuthState)}function j9(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),h9(n,new jv(t),t.bypassAuthState)}async function D9(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),u9(n,new jv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N9;case"linkViaPopup":case"linkViaRedirect":return D9;case"reauthViaPopup":case"reauthViaRedirect":return j9;default:bn(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=new tc(2e3,1e4);async function O9(t,e,n){if(mn(t.app))return Promise.reject(Dn(t,"operation-not-supported-in-this-environment"));const i=Ps(t);xB(t,e,Rv);const r=ck(i,n);return new Zr(i,"signInViaPopup",e,r).executeNotNull()}class Zr extends uk{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Zr.currentPopupAction&&Zr.currentPopupAction.cancel(),Zr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Nv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M9.get())};e()}}Zr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="pendingRedirect",_u=new Map;class V9 extends uk{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=_u.get(this.auth._key());if(!e){try{const i=await F9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}_u.set(this.auth._key(),e)}return this.bypassAuthState||_u.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function F9(t,e){const n=B9(e),i=z9(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function U9(t,e){_u.set(t._key(),e)}function z9(t){return fi(t._redirectPersistence)}function B9(t){return wu(L9,t.config.apiKey,t.name)}async function $9(t,e,n=!1){if(mn(t.app))return Promise.reject(mr(t));const i=Ps(t),r=ck(i,e),o=await new V9(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=10*60*1e3;class H9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!hk(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q9&&this.cachedEventUids.clear(),this.cachedEventUids.has(n1(e))}saveEventToCache(e){this.cachedEventUids.add(n1(e)),this.lastProcessedEventTime=Date.now()}}function n1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function W9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e={}){return Lr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q9=/^https?/;async function Y9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await G9(t);for(const n of e)try{if(X9(n))return}catch{}bn(t,"unauthorized-domain")}function X9(t){const e=Wm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!Q9.test(n))return!1;if(K9.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new tc(3e4,6e4);function i1(){const t=Qn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Z9(t){return new Promise((e,n)=>{var i,r,s;function o(){i1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i1(),n(Dn(t,"network-request-failed"))},timeout:J9.get()})}if(!((r=(i=Qn().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=Qn().gapi)===null||s===void 0)&&s.load)o();else{const a=GB("iframefcb");return Qn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},QI(`${WB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bu=null,e})}let bu=null;function e8(t){return bu=bu||Z9(t),bu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8=new tc(5e3,15e3),n8="__/auth/iframe",i8="emulator/auth/iframe",r8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o8(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,i8):`https://${t.config.authDomain}/${n8}`,i={apiKey:e.apiKey,appName:t.name,v:qo},r=s8.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Kl(i).slice(1)}`}async function a8(t){const e=await e8(t),n=Qn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:o8(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r8,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Qn().setTimeout(()=>{s(o)},t8.get());function l(){Qn().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c8=500,u8=600,h8="_blank",d8="http://localhost";class r1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function f8(t,e,n,i=c8,r=u8){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},l8),{width:i.toString(),height:r.toString(),top:s,left:o}),c=It().toLowerCase();n&&(a=BI(c)?h8:n),UI(c)&&(e=e||d8,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(LB(c)&&a!=="_self")return p8(e||"",a),new r1(null);const f=window.open(e||"",a,d);J(f,t,"popup-blocked");try{f.focus()}catch{}return new r1(f)}function p8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="__/auth/handler",g8="emulator/auth/handler",y8=encodeURIComponent("fac");async function s1(t,e,n,i,r,s){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:qo,eventId:r};if(e instanceof Rv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Y5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof nc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${y8}=${encodeURIComponent(l)}`:"";return`${v8(t)}?${Kl(a).slice(1)}${c}`}function v8({config:t}){return t.emulator?Cv(t,g8):`https://${t.authDomain}/${m8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="webStorageSupport";class x8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rk,this._completeRedirectFn=$9,this._overrideRedirectResult=U9}async _openPopup(e,n,i,r){var s;Ri((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await s1(e,n,i,Wm(),r);return f8(e,o,Nv())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await s1(e,n,i,Wm(),r);return b9(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Ri(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await a8(e),i=new H9(e);return n.register("authEvent",r=>(J(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ap,{type:ap},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[ap];o!==void 0&&n(!!o),bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GI()||zI()||kv()}}const w8=x8;var o1="@firebase/auth",a1="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E8(t){Po(new ms("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KI(t)},c=new $B(i,r,s,l);return ZB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Po(new ms("auth-internal",e=>{const n=Ps(e.getProvider("auth").getImmediate());return(i=>new _8(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(o1,a1,b8(t)),dr(o1,a1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T8=5*60,S8=KS("authIdTokenMaxAge")||T8;let l1=null;const C8=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>S8)return;const r=n==null?void 0:n.token;l1!==r&&(l1=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Ra(t=JS()){const e=Fy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=JB(t,{popupRedirectResolver:w8,persistence:[R9,x9,rk]}),i=KS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=C8(s.toString());g9(n,o,()=>o(n.currentUser)),m9(n,a=>o(a))}}const r=WS("auth");return r&&e9(n,`http://${r}`),n}function I8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qB({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=Dn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",I8().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E8("Browser");const k8={apiKey:"AIzaSyDyC18B907-b1H6dlgJNQHiLrsJN6g-k0Q",authDomain:"veilcode-labs.firebaseapp.com",projectId:"veilcode-labs",storageBucket:"veilcode-labs.firebasestorage.app",messagingSenderId:"875894459406",appId:"1:875894459406:web:fc712e6c33866e39fe005f"},dk=XS(k8),Ym=Ra(dk),Q=iB(dk),P8=[{name:"Course Information",description:"Access detailed course materials, syllabi, and learning objectives.",icon:ls,href:"/courses"},{name:"Resource Database",description:"Explore our curated collection of textbooks, papers, and tutorials.",icon:D2,href:"/resources"},{name:"Events",description:"Stay updated with upcoming conferences, seminars, and workshops.",icon:vr,href:"/events"},{name:"Members",description:"Connect with peers, discuss topics, and share knowledge.",icon:Yn,href:"/members"}];function A8(){var o,a;const[t,e]=N.useState(0),[n,i]=N.useState([]),[r,s]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const d=(await Oe(de(Q,"homeUpdates"))).docs.map(p=>p.data());i(d),s(!1);const f=pB(de(Q,"homeUpdates"),p=>{const m=p.docs.map(v=>v.data());i(m)});return()=>f()}catch(c){console.error("Error loading updates:",c),s(!1)}})()},[]),N.useEffect(()=>{if(n.length===0)return;const l=setInterval(()=>{e(c=>(c+1)%n.length)},5e3);return()=>clearInterval(l)},[n]),h.jsx(h.Fragment,{children:h.jsxs("div",{className:"relative min-h-screen bg-transparent",children:[h.jsx(C5,{}),h.jsxs("div",{className:"relative z-10 space-y-12",children:[h.jsxs(U.div,{className:"text-center",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.2},children:[h.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-6xl",children:"Welcome to VeilCode Labs"}),h.jsx("p",{className:"mt-6 text-lg leading-8 text-[rgb(224,204,250)]",children:"Your comprehensive resource for Applied Cryptography and Topics in Cryptanalysis at IIIT Delhi."}),h.jsxs(U.div,{className:"mt-10 flex items-center justify-center gap-x-6",whileHover:{scale:1.05},children:[h.jsx(Vt,{to:"/courses",className:"rounded-md bg-[rgb(136,58,234)] px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-[rgb(49,10,101)] transition-all duration-300",children:"Explore Courses"}),h.jsx(Vt,{to:"/about",className:"text-sm font-semibold leading-6 text-[rgb(224,204,250)] hover:text-white transition-colors duration-300",children:"Learn more →"})]})]}),h.jsxs(U.div,{className:"mx-auto max-w-7xl px-6 lg:px-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},children:[h.jsxs("div",{className:"mx-auto max-w-2xl lg:text-center",children:[h.jsx("h2",{className:"text-base font-semibold text-[rgb(224,204,250)]",children:"Everything you need"}),h.jsx("p",{className:"mt-2 text-3xl font-bold tracking-tight text-white sm:text-4xl",children:"Comprehensive Learning Resources"})]}),h.jsx("div",{className:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-none",children:h.jsx("dl",{className:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-16 lg:max-w-none lg:grid-cols-2",children:P8.map((l,c)=>h.jsxs(U.div,{className:"group relative flex flex-col rounded-lg border border-[rgb(136,58,234)] p-6 hover:bg-[rgba(136,58,234,0.1)] transition",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.2,delay:c*.1},whileHover:{scale:1.05},children:[h.jsxs("dt",{className:"flex items-center gap-x-3 text-base font-semibold leading-7 text-white",children:[h.jsx(l.icon,{className:"h-5 w-5 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"}),l.name]}),h.jsx("dd",{className:"mt-4 flex flex-auto flex-col text-base leading-7 text-[rgb(224,204,250)] group-hover:text-white transition-colors duration-300",children:h.jsx("p",{className:"flex-auto",children:l.description})})]},l.name))})})]}),r?h.jsx("div",{className:"text-center text-[rgb(224,204,250)]",children:"Loading updates..."}):n.length>0?h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Latest Updates"}),h.jsx("div",{className:"relative h-20 overflow-hidden flex items-center",children:h.jsx(z2,{mode:"wait",children:h.jsx(U.div,{className:"absolute w-full text-center",initial:{x:"100%",opacity:0},animate:{x:"0%",opacity:1},exit:{x:"-100%",opacity:0},transition:{duration:.7,ease:"easeInOut"},children:h.jsxs("div",{className:"border-l-4 border-[rgb(136,58,234)] pl-4 inline-block",children:[h.jsx("h3",{className:"font-semibold text-[rgb(224,204,250)]",children:((o=n[t])==null?void 0:o.title)||"No updates available"}),h.jsx("p",{className:"text-white",children:((a=n[t])==null?void 0:a.description)||""})]})},t)})})]}):h.jsx("div",{className:"text-center text-[rgb(224,204,250)]",children:"No updates available"})]})]})})}function R8(){var s,o,a,l;const[t,e]=N.useState([]),[n,i]=N.useState(null);ln(),N.useEffect(()=>{(async()=>{const f=(await Oe(de(Q,"courses"))).docs.map(p=>({id:p.id,...p.data()}));e(f)})()},[]);const r=async c=>{const d=Le(Q,"courses",c),f=await ec(d);f.exists()?i({id:f.id,...f.data()}):console.log("No such course!")};return n?h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[h.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:h.jsxs("button",{onClick:()=>i(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(cs,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Courses"]})}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"md:col-span-2 space-y-6",children:[h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[h.jsx("div",{className:"h-64",children:h.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx(U.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-2",children:n.title}),h.jsxs("div",{className:"text-[rgb(224,204,250)] space-y-1",children:[h.jsxs("p",{children:["Course Code: ",n.courseCode]}),h.jsxs("p",{children:["Credits: ",n.credits]}),h.jsxs("p",{children:["Offered to: ",n.offeredTo]})]})]}),h.jsx(U.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:n.description}),h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[n.students," Students"]})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(us,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:n.duration})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(ls,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:n.instructor})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(tw,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[n.rating,"/5.0"]})]})]})]})]}),((s=n.courseOutcomes)==null?void 0:s.length)>0&&h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Course Outcomes"}),h.jsx("div",{className:"grid gap-3",children:n.courseOutcomes.map((c,d)=>h.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},className:"flex items-start text-[rgb(224,204,250)] p-3 rounded-lg hover:bg-[rgba(49,10,101,0.2)] transition-colors duration-300",children:h.jsxs("span",{children:["CO",d+1,": ",c]})},d))})]})]}),h.jsxs("div",{className:"space-y-6",children:[n.prerequisites&&h.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prerequisites"}),Object.entries(n.prerequisites).map(([c,d])=>d.length>0&&h.jsxs("div",{className:"mb-4 last:mb-0",children:[h.jsxs("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2 capitalize",children:[c.replace(/([A-Z])/g," $1").trim(),":"]}),h.jsx("ul",{className:"space-y-2",children:d.map((f,p)=>h.jsx(U.li,{className:"flex items-center text-white",children:f},p))})]},c))]}),((o=n.assessment)==null?void 0:o.length)>0&&h.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Assessment Plan"}),h.jsx("div",{className:"space-y-3",children:n.assessment.map(({type:c,contribution:d})=>h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-[rgb(224,204,250)]",children:c}),h.jsxs("span",{className:"text-white",children:[d,"%"]})]},c))})]}),((l=(a=n.resources)==null?void 0:a.textbooks)==null?void 0:l.length)>0&&h.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Resource Material"}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{children:[h.jsx("h3",{className:"text-[rgb(224,204,250)] font-semibold mb-2",children:"Textbooks"}),h.jsx("ul",{className:"space-y-2",children:n.resources.textbooks.map((c,d)=>h.jsx(U.li,{className:"text-white",children:c},d))})]})})]}),h.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Enroll Now"})]})]})]}):h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"text-center",children:h.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Courses"})}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.length>0?t.map((c,d)=>h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:d*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:[h.jsx("div",{className:"h-48",children:h.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:c.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:c.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(Yn,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[c.students," Students"]})]}),h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(us,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:c.duration})]}),h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(ls,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:c.instructor})]}),h.jsxs("div",{className:"flex items-center text-white text-sm",children:[h.jsx(tw,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[c.rating,"/5.0"]})]})]}),h.jsxs("button",{onClick:()=>r(c.id),className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View Course Details",h.jsx(cs,{className:"ml-2 h-4 w-4"})]})]})]},c.id)):h.jsx("p",{className:"text-white text-center col-span-2",children:"No courses available"})})]})}function N8(){var p;const[t,e]=N.useState([]),[n,i]=N.useState(!0),[r,s]=N.useState(null),[o,a]=N.useState(null),l=N.useRef();N.useEffect(()=>{(async()=>{const w=(await Oe(de(Q,"events"))).docs.map(T=>({id:T.id,...T.data(),gallery:T.data().gallery||[]}));e(w),i(!1)})()},[]),N.useEffect(()=>{const m=v=>{o&&l.current&&!l.current.contains(v.target)&&f()};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[o]);const c=async m=>{const v=Le(Q,"events",m),w=await ec(v);w.exists()?s({id:w.id,...w.data(),gallery:w.data().gallery||[]}):console.log("No such event!")},d=m=>{a(m),document.body.style.overflow="hidden"},f=()=>{a(null),document.body.style.overflow="auto"};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading events..."})}):r?h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[h.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:h.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(cs,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Events"]})}),o&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:h.jsxs("div",{className:"relative max-w-4xl max-h-[90vh] w-full",ref:l,children:[h.jsx("button",{onClick:f,className:"absolute -top-10 right-0 text-white hover:text-[rgb(136,58,234)] transition-colors duration-300 z-10",children:h.jsx(yl,{className:"h-8 w-8"})}),h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx("img",{src:o,alt:"Enlarged gallery view",className:"max-w-full max-h-[80vh] object-contain rounded-lg"})})]})}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsx("div",{className:"md:col-span-2 space-y-6",children:h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[h.jsx("div",{className:"h-64",children:h.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsx(U.h1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2},className:"text-3xl font-bold text-white mb-4",children:r.title}),h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.4},className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(vr,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.date})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(us,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.time})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Zx,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.location})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[r.registered||0,"/",r.capacity||0," Registered"]})]})]}),h.jsx(U.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},className:"text-[rgb(224,204,250)] text-lg mb-6",children:r.description})]})]})}),h.jsxs("div",{className:"space-y-6",children:[r.eventLink&&h.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Link"}),h.jsxs(U.a,{href:r.eventLink,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-3 px-6 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["Visit Event Site",h.jsx(SN,{className:"ml-2 h-4 w-4"})]})]}),((p=r.gallery)==null?void 0:p.length)>0&&h.jsxs(U.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Event Gallery"}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:r.gallery.map((m,v)=>h.jsx(U.div,{whileHover:{scale:1.05},className:"h-48 cursor-pointer",onClick:()=>d(m),children:h.jsx("img",{src:m,alt:`Event gallery ${v+1}`,className:"w-full h-full object-cover rounded-md hover:ring-2 hover:ring-[rgb(136,58,234)] transition-all duration-300"})},v))})]})]})]})]}):h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Past Events"}),h.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Stay updated with the latest cryptography events, workshops, and conferences."})]}),h.jsx("div",{className:"grid gap-8",children:t.map((m,v)=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:v*.2},whileHover:{scale:1.05},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 shadow-lg",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(vr,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:m.date})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(us,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:m.time})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Zx,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:m.location})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[m.registered||0,"/",m.capacity||0," Registered"]})]})]}),h.jsxs(U.button,{onClick:()=>c(m.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center justify-center",children:["View More Details",h.jsx(cs,{className:"ml-2 h-4 w-4"})]})]})]})},m.id))})]})}const j8=({isOpen:t,onClose:e,videoUrl:n})=>{const i=r=>{if(!r)return"";const s=r.match(/[?&]v=([^&]+)/);return s?s[1]:""};return h.jsx(z2,{children:t&&h.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-75 p-4",children:h.jsxs(U.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative w-full max-w-4xl bg-[#23262d] rounded-lg overflow-hidden",children:[h.jsx("button",{onClick:e,className:"absolute top-4 right-4 z-10 text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(yl,{className:"h-6 w-6"})}),h.jsx("div",{className:"relative pt-[56.25%]",children:h.jsx("iframe",{src:`https://www.youtube.com/embed/${i(n)}?autoplay=1`,title:"YouTube video player",className:"absolute top-0 left-0 w-full h-full",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})})]})})})};function D8(){const[t,e]=N.useState("lectures"),[n,i]=N.useState(null),[r,s]=N.useState({lectures:{},books:{},videos:{},researchPapers:{}}),o=[{id:"lectures",label:"Lectures",icon:CN},{id:"books",label:"Books",icon:EN},{id:"videos",label:"Videos",icon:MN},{id:"researchPapers",label:"Research Papers",icon:Jx}],a=c=>{const d={};return c.forEach(f=>{const p=f.data().year||"Uncategorized";d[p]||(d[p]=[]),d[p].push({id:f.id,...f.data()})}),d};N.useEffect(()=>{(async()=>{const d=await Oe(de(Q,"lectures")),f=await Oe(de(Q,"books")),p=await Oe(de(Q,"videos")),m=await Oe(de(Q,"researchPapers"));s({lectures:a(d),books:a(f),videos:a(p),researchPapers:a(m)})})()},[]);const l=c=>Object.keys(c).sort((f,p)=>p.localeCompare(f)).map(f=>h.jsxs("div",{className:"mb-12",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-6 border-b border-[rgb(136,58,234)] pb-2",children:f==="Uncategorized"?"Other Resources":f}),t==="lectures"&&h.jsx("div",{className:"space-y-6",children:c[f].map((p,m)=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:p.title}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:p.description}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm text-white",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(us,{className:"h-4 w-4 mr-2 text-[rgb(136,58,234)]"}),p.duration]}),h.jsx("div",{children:p.instructor})]})]}),h.jsxs(U.a,{href:p.pdfUrl,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-[rgb(136,58,234)] text-white px-4 py-2 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:[h.jsx(TN,{className:"h-4 w-4"}),h.jsx("span",{children:"Download PDF"})]})]})},p.id))}),t==="books"&&h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:p.title}),h.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:["by ",p.authors]}),h.jsxs("div",{className:"flex justify-between items-center text-sm text-white",children:[h.jsxs("div",{children:[p.edition," • ",p.year]}),h.jsxs(U.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(Jx,{className:"h-4 w-4"}),h.jsx("span",{children:"Access Book"})]})]})]},p.id))}),t==="videos"&&h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:[h.jsxs("div",{className:"relative h-48",children:[h.jsx("img",{src:p.thumbnail,alt:p.title,className:"w-full h-full object-cover"}),h.jsx(U.button,{onClick:()=>i(p.videoUrl),className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 hover:bg-opacity-40 transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.jsx(jN,{className:"h-12 w-12 text-white"})})]}),h.jsxs("div",{className:"p-4",children:[h.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:p.title}),h.jsxs("div",{className:"flex justify-between items-center text-sm text-[rgb(224,204,250)]",children:[h.jsx("div",{children:p.instructor}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(us,{className:"h-4 w-4 mr-2"}),p.duration]})]})]})]},p.id))}),t==="researchPapers"&&h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:c[f].map((p,m)=>h.jsx(U.a,{href:p.url,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:m*.1},whileHover:{scale:1.02},className:"group bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:p.title}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:p.description})]}),h.jsx(cs,{className:"h-6 w-6 text-[rgb(136,58,234)] group-hover:text-[rgb(224,204,250)] transition-colors duration-300"})]})},p.id))})]},f));return h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Course Resources"}),h.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Access all course materials, recommended readings, and additional resources."})]}),h.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)] overflow-x-auto pb-2",children:o.map(c=>h.jsxs(U.button,{onClick:()=>e(c.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${t===c.id?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:[h.jsx(c.icon,{className:"h-5 w-5"}),h.jsx("span",{className:"hidden md:inline",children:c.label})]},c.id))}),h.jsx("div",{className:"min-h-[400px]",children:l(r[t])}),h.jsx(j8,{isOpen:!!n,onClose:()=>i(null),videoUrl:n})]})}const c1=({member:t,index:e,isHead:n})=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:e*.1},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${n?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:`flex ${n?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[h.jsx(U.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:e*.1+.2},src:t.image,alt:t.name,className:`${n?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),h.jsxs("div",{className:`${n?"text-center md:text-left mt-4 md:mt-0":""}`,children:[h.jsx("h3",{className:`${n?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:e*.1+.4},className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&h.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(V2,{className:"h-5 w-5"})}),t.github&&h.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(O2,{className:"h-5 w-5"})}),t.linkedin&&h.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(L2,{className:"h-5 w-5"})})]})]})});function M8(){const[t,e]=N.useState([]),[n,i]=N.useState(!0);if(N.useEffect(()=>{(async()=>{const l=(await Oe(de(Q,"members"))).docs.map(c=>({id:c.id,...c.data()}));e(l),i(!1)})()},[]),n)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading members..."})});const r=t.find(o=>o.isHead),s=t.filter(o=>!o.isHead);return h.jsx(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"space-y-8",children:h.jsxs("div",{className:"space-y-12",children:[h.jsxs(U.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2},className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Our Members"}),h.jsx("p",{className:"text-[rgb(224,204,250)] text-lg",children:"Meet our distinguished faculty members and researchers in cryptography."})]}),r&&h.jsx("div",{className:"px-4",children:h.jsx(c1,{member:r,index:0,isHead:!0})}),h.jsx("div",{className:"grid gap-8 md:grid-cols-2 px-4",children:s.map((o,a)=>h.jsx(c1,{member:o,index:a+1,isHead:!1},o.id))}),h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6 mt-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Join Our Community"}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:"Interested in joining our research group? We're always looking for passionate researchers and students."}),h.jsx(U.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"View Opportunities"})]})]})})}function O8(){const[t,e]=N.useState({stats:[],researchAreas:[],contact:{location:"",details:""},loading:!0});return N.useEffect(()=>{(async()=>{try{const i=Le(Q,"content","about"),r=await ec(i);r.exists()&&e({...r.data(),loading:!1})}catch(i){console.error("Error fetching about data:",i),e(r=>({...r,loading:!1}))}})()},[]),t.loading?h.jsx("div",{className:"min-h-screen flex items-center justify-center text-white",children:"Loading..."}):h.jsxs(U.div,{className:"space-y-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[h.jsxs(U.div,{className:"text-center",initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.2},children:[h.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"About VeilCode Labs"}),h.jsx("p",{className:"text-[rgb(224,204,250)] text-lg max-w-3xl mx-auto",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:t.stats.map((n,i)=>h.jsxs(U.div,{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 text-center",whileHover:{scale:1.05},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:i*.2},children:[n.icon==="Users"&&h.jsx(Yn,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="BookOpen"&&h.jsx(ls,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="Award"&&h.jsx(N2,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),n.icon==="Building"&&h.jsx(j2,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),h.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:n.value}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:n.name})]},n.name||i))}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:["Our Mission","Our Vision"].map((n,i)=>h.jsxs(U.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{x:i%2===0?-50:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.6,delay:i*.2},children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:n==="Our Mission"?"To enable education by maintaing an open-source platform where anyone can access, contribute to, and improve course materials, tools, and community driven learning.":"To empower learners worldwide with free, high-quality cryptography education—from basic ciphers to modern encryption."})]},n))}),h.jsxs(U.div,{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)]",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Research Areas"}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.researchAreas.map((n,i)=>h.jsxs(U.div,{initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,delay:i*.3},children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:n.title}),h.jsx("ul",{className:"list-disc list-inside text-white space-y-2",children:n.points.map((r,s)=>h.jsx("li",{children:r},s))})]},n.title||i))})]}),h.jsxs(U.div,{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Us"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[h.jsxs(U.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2},children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:"Location"}),h.jsx("p",{className:"text-white whitespace-pre-line",children:t.contact.location})]}),h.jsxs(U.div,{initial:{x:50,opacity:0},animate:{x:0,opacity:1},transition:{duration:.2,delay:.2},children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:"Get in Touch"}),h.jsx("p",{className:"text-white whitespace-pre-line",children:t.contact.details})]})]})]})]})}class L8 extends Eu.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){return this.state.hasError?h.jsx("div",{className:"bg-red-900/20 border border-red-500 text-red-200 p-4 rounded-lg",children:"Something went wrong. Please try again later."}):this.props.children}}function V8(){var I;const[t,e]=N.useState([]),[n,i]=N.useState(!0),[r,s]=N.useState(null),[o,a]=N.useState(!1),[l,c]=N.useState(null),[d,f]=N.useState(null),[p,m]=N.useState({title:"",content:"",tags:[],image:""}),v=P=>{if(!P)return"N/A";try{return typeof P.toDate=="function"?P.toDate().toLocaleDateString():typeof P=="string"?new Date(P).toLocaleDateString():"N/A"}catch{return"N/A"}};N.useEffect(()=>{const P=Ra(),D=async()=>{try{const k=(await Oe(de(Q,"blogs"))).docs.map(A=>({id:A.id,...A.data(),date:A.data().date||Bb()}));e(k)}catch(b){console.error("Error fetching blogs:",b)}finally{i(!1)}},C=ek(P,b=>{b&&b.email.endsWith("@iiitd.ac.in")?s(b):s(null)});return D(),C},[]);const w=async()=>{const P=new li;P.setCustomParameters({hd:"iiitd.ac.in"});try{(await O9(Ra(),P)).user.email.endsWith("@iiitd.ac.in")||(await Km(Ra()),alert("Only @iiitd.ac.in emails are allowed."))}catch(D){console.error("Login failed:",D)}},T=async()=>{try{d?(await Cs(Le(Q,"blogs",d.id),{...p,tags:p.tags.filter(D=>D.trim()!=="")}),f(null)):await Is(de(Q,"blogs"),{...p,author:r.displayName||r.email.split("@")[0],authorId:r.uid,date:Bb(),tags:p.tags.filter(D=>D.trim()!=="")}),a(!1),m({title:"",content:"",tags:[],image:""});const P=await Oe(de(Q,"blogs"));e(P.docs.map(D=>({id:D.id,...D.data()})))}catch(P){console.error("Error submitting blog:",P)}},x=async P=>{const D=Le(Q,"blogs",P),C=await ec(D);C.exists()&&c({id:C.id,...C.data()})},_=P=>{f(P),m({title:P.title,content:P.content,tags:P.tags||[],image:P.image||""}),a(!0)},E=async P=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await Or(Le(Q,"blogs",P));const D=await Oe(de(Q,"blogs"));e(D.docs.map(C=>({id:C.id,...C.data()}))),(l==null?void 0:l.id)===P&&c(null)}catch(D){console.error("Error deleting blog:",D)}};return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading blogs..."})}):l?h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8 pb-12",children:[h.jsx(U.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"flex items-center mb-8",children:h.jsxs("button",{onClick:()=>c(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:[h.jsx(cs,{className:"h-5 w-5 mr-2 transform rotate-180"}),"Back to Blogs"]})}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)]",children:[l.image&&h.jsx("div",{className:"h-64",children:h.jsx("img",{src:l.image,alt:l.title,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"flex justify-between items-start mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:l.title}),h.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)]",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yu,{className:"h-5 w-5 mr-2"}),l.author||"Anonymous"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(vr,{className:"h-5 w-5 mr-2"}),v(l.date)]})]})]}),(r==null?void 0:r.uid)===l.authorId&&h.jsxs("div",{className:"flex space-x-2",children:[h.jsxs("button",{onClick:()=>_(l),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors",children:[h.jsx(Si,{className:"h-5 w-5 mr-1"}),"Edit"]}),h.jsxs("button",{onClick:()=>E(l.id),className:"flex items-center text-red-500 hover:text-red-400 transition-colors",children:[h.jsx(yl,{className:"h-5 w-5 mr-1"}),"Delete"]})]})]}),h.jsx("div",{className:"prose prose-invert max-w-none",children:h.jsx("p",{className:"text-[rgb(224,204,250)] text-lg whitespace-pre-line",children:l.content})}),((I=l.tags)==null?void 0:I.length)>0&&h.jsxs("div",{className:"mt-8",children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:l.tags.map((P,D)=>h.jsx(U.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-3 py-1 rounded-md text-sm",children:P},D))})]})]})]})]}):h.jsx(L8,{children:h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Blog"}),h.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Latest insights, research, and developments in cryptography."})]}),h.jsx("div",{className:"flex justify-end mb-8 gap-4",children:r?h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:()=>{f(null),m({title:"",content:"",tags:[],image:""}),a(!0)},className:"bg-[rgb(136,58,234)] hover:bg-[rgb(49,10,101)] text-white px-6 py-3 rounded-lg transition-colors duration-300 flex items-center gap-2",children:[h.jsx(pn,{className:"h-5 w-5"}),h.jsx("span",{children:"Create Post"})]}),h.jsxs("button",{onClick:()=>Km(Ra()),className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors duration-300 flex items-center gap-2",children:[h.jsx(AN,{className:"h-5 w-5"}),h.jsx("span",{children:"Logout"})]})]}):h.jsxs("button",{onClick:w,className:"bg-[rgb(136,58,234)] hover:bg-[rgb(49,10,101)] text-white px-6 py-3 rounded-lg transition-colors duration-300 flex items-center gap-2",children:[h.jsx(PN,{className:"h-5 w-5"}),h.jsx("span",{children:"Sign In with IIITD Mail"})]})}),o&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl border border-[rgb(136,58,234)]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:d?"Edit Blog Post":"New Blog Post"}),h.jsx("button",{onClick:()=>{a(!1),f(null)},className:"text-gray-400 hover:text-white",children:h.jsx(yl,{className:"h-6 w-6"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("input",{type:"text",placeholder:"Title",value:p.title,onChange:P=>m({...p,title:P.target.value}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white",required:!0}),h.jsx("textarea",{placeholder:"Content",value:p.content,onChange:P=>m({...p,content:P.target.value}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white min-h-[200px]",required:!0}),h.jsx("input",{type:"text",placeholder:"Tags (comma-separated)",value:p.tags.join(","),onChange:P=>m({...p,tags:P.target.value.split(",")}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white"}),h.jsx("input",{type:"text",placeholder:"Thumbnail URL (optional)",value:p.image,onChange:P=>m({...p,image:P.target.value}),className:"w-full p-3 bg-[#2b2e36] border border-[rgb(136,58,234)] rounded text-white"}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>{a(!1),f(null)},className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:T,className:"px-4 py-2 bg-[rgb(136,58,234)] hover:bg-[rgb(49,10,101)] text-white rounded transition-colors",children:d?"Update":"Publish"}),d&&h.jsx("button",{onClick:()=>E(d.id),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",children:"Delete"})]})]})]})}),h.jsx("div",{className:"grid gap-8",children:t.map((P,D)=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:D*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 cursor-pointer",onClick:()=>x(P.id),children:h.jsxs("div",{className:"md:flex",children:[P.image&&h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:P.image,alt:P.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:`p-6 ${P.image?"md:w-2/3":"w-full"}`,children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:P.title}),(r==null?void 0:r.uid)===P.authorId&&h.jsx("button",{className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors",onClick:C=>{C.stopPropagation(),_(P)},children:h.jsx(Si,{className:"h-5 w-5"})})]}),h.jsxs("p",{className:"text-[rgb(224,204,250)] mb-4",children:[P.content.substring(0,200),P.content.length>200?"...":""]}),P.tags&&P.tags.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:P.tags.map((C,b)=>h.jsx(U.span,{whileHover:{scale:1.1},className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-2 py-1 rounded-md text-sm",children:C},b))}),h.jsx("div",{className:"flex items-center justify-between text-[rgb(224,204,250)]",children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yu,{className:"h-4 w-4 mr-2"}),P.author||"Anonymous"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(vr,{className:"h-4 w-4 mr-2"}),v(P.date)]})]})})]})]})},P.id))})]})})}function F8(){const[t,e]=N.useState([]),[n,i]=N.useState(!0);return N.useEffect(()=>{(async()=>{const o=(await Oe(de(Q,"labs"))).docs.map(a=>({id:a.id,...a.data()}));e(o),i(!1)})()},[]),n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-white",children:"Loading labs..."})}):h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsxs("div",{className:"text-center",children:[h.jsx(U.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.2,delay:.2},className:"text-4xl font-bold text-white mb-4",children:"Cryptography Labs"}),h.jsx(U.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2,delay:.3},className:"text-[rgb(224,204,250)] text-lg",children:"Hands-on laboratory sessions for practical cryptography implementation."})]}),h.jsx("div",{className:"grid gap-8",children:t.map((r,s)=>{var o;return h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:s*.2},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:r.image,alt:r.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:r.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:r.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(us,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.duration})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(Yn,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsxs("span",{children:[r.enrolled||0,"/",r.capacity||0," Enrolled"]})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(ls,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:r.instructor})]}),h.jsxs("div",{className:"flex items-center text-white",children:[h.jsx(M2,{className:"h-5 w-5 mr-2 text-[rgb(136,58,234)]"}),h.jsx("span",{children:((o=r.tools)==null?void 0:o.join(", "))||""})]})]}),r.prerequisites&&h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),h.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:r.prerequisites.map((a,l)=>h.jsx("li",{children:a},l))})]})]})]})},r.id)})})]})}const U8=()=>{const{pathname:t}=bs();return N.useEffect(()=>{window.scrollTo(0,0)},[t]),null},z8=()=>{const[t,e]=N.useState(""),[n,i]=N.useState(""),[r,s]=N.useState(""),o=ln(),a=async l=>{l.preventDefault(),s("");try{await p9(Ym,t,n),o("/admin")}catch(c){console.error("Login error:",c.code,c.message),s(c.message)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#13151a]",children:h.jsxs("div",{className:"bg-[#23262d] p-8 rounded-lg border border-[rgb(136,58,234)] w-96",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Admin Login"}),r&&h.jsx("p",{className:"text-red-500 mb-4",children:r}),h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:l=>e(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>i(l.target.value),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("button",{type:"submit",className:"w-full bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Login"})]})]})})},fk=N.createContext(),B8=({children:t})=>{const[e,n]=N.useState(null);N.useEffect(()=>{const r=ek(Ym,s=>{n(s)});return()=>r()},[]);const i=async()=>{try{return await Km(Ym),!0}catch(r){return console.error("Logout error:",r),!1}};return h.jsx(fk.Provider,{value:{user:e,logout:i},children:t})},Di=()=>N.useContext(fk),$8=()=>{const{user:t,logout:e}=Di(),[n,i]=N.useState(!1),[r,s]=N.useState(!1);if(!t)return h.jsx(Fn,{to:"/admin-login"});const o=async()=>{i(!0);try{await e()}catch(a){console.error("Logout failed:",a)}finally{i(!1),s(!1)}};return h.jsxs("div",{className:"p-8 relative",children:[r&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] max-w-md w-full",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Confirm Logout"}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-6",children:"Are you sure you want to log out of the admin panel?"}),h.jsxs("div",{className:"flex justify-end space-x-3",children:[h.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 rounded-md bg-gray-600 text-white hover:bg-gray-700 transition-colors duration-300",disabled:n,children:"Cancel"}),h.jsx("button",{onClick:o,className:`px-4 py-2 rounded-md ${n?"bg-red-700 cursor-not-allowed":"bg-red-500 hover:bg-red-600"} text-white transition-colors duration-300`,disabled:n,children:n?"Logging Out...":"Logout"})]})]})}),h.jsx("div",{className:"flex justify-between items-center",children:h.jsx("button",{onClick:()=>s(!0),className:`bg-red-500 text-white px-4 py-2 rounded-md ${n?"cursor-not-allowed opacity-75":"hover:bg-red-600"} transition-colors duration-300`,disabled:n,children:"Logout"})}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-8 text-center",children:"Admin Panel"}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[h.jsx(Vt,{to:"/admin/home",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Home"})}),h.jsx(Vt,{to:"/admin/courses",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Courses"})}),h.jsx(Vt,{to:"/admin/blogs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Blogs"})}),h.jsx(Vt,{to:"/admin/events",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Events"})}),h.jsx(Vt,{to:"/admin/labs",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Labs"})}),h.jsx(Vt,{to:"/admin/resources",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Resources"})}),h.jsx(Vt,{to:"/admin/members",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage Members"})}),h.jsx(Vt,{to:"/admin/about",className:"bg-[#23262d] p-6 rounded-lg border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 flex flex-col items-center hover:bg-[#2b2e36]",children:h.jsx("h2",{className:"text-xl font-bold text-white text-center",children:"Manage About"})})]})]})};function q8(){const[t,e]=N.useState([]),[n,i]=N.useState({title:"",description:""}),[r,s]=N.useState(null),[o,a]=N.useState(!0),[l,c]=N.useState(!1),{user:d}=Di(),f=ln();N.useEffect(()=>{(async()=>{try{const E=await Oe(de(Q,"homeUpdates")),I=[];E.forEach(P=>{I.push({id:P.id,...P.data()})}),e(I)}catch(E){console.error("Error fetching updates: ",E)}finally{a(!1)}})()},[]);const p=async()=>{if(!(!n.title||!n.description))try{const _=await Is(de(Q,"homeUpdates"),n);e([...t,{id:_.id,...n}]),i({title:"",description:""}),c(!1)}catch(_){console.error("Error adding update: ",_)}},m=async()=>{if(!(!r||!n.title||!n.description))try{await Cs(Le(Q,"homeUpdates",r),n),e(t.map(_=>_.id===r?{..._,...n}:_)),i({title:"",description:""}),c(!1)}catch(_){console.error("Error updating document: ",_)}},v=async _=>{try{await Or(Le(Q,"homeUpdates",_)),e(t.filter(E=>E.id!==_))}catch(E){console.error("Error deleting document: ",E)}},w=()=>{s(null),i({title:"",description:""}),c(!0)},T=_=>{s(_.id),i({title:_.title,description:_.description}),c(!0)},x=()=>{c(!1),s(null),i({title:"",description:""})};return o?h.jsx("div",{className:"min-h-screen bg-[#13151a] flex items-center justify-center text-white",children:"Loading..."}):h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"bg-[#13151a] min-h-screen p-8 text-white",children:[h.jsx("div",{className:"flex justify-between items-center mb-8",children:h.jsxs("button",{onClick:()=>f("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-[rgb(224,204,250)]",children:"Manage Homepage Updates"}),d&&h.jsxs("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center mb-8",children:[h.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add New Update"]}),h.jsx("div",{className:"space-y-6",children:t.length===0?h.jsx("div",{className:"text-center text-[rgb(224,204,250)] py-8",children:"No updates added yet"}):t.map(_=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg p-6 border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:_.title}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:_.description})]}),d&&h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>T(_),className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(au,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>v(_.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]})},_.id))}),l&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4 z-50",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:r?"Edit Update":"Add New Update"}),h.jsx("button",{onClick:x,className:"text-[rgb(224,204,250)] hover:text-white text-xl",children:"×"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-[rgb(224,204,250)]",children:"Title"}),h.jsx("input",{type:"text",value:n.title,onChange:_=>i({...n,title:_.target.value}),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Update title",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-1 text-[rgb(224,204,250)]",children:"Description"}),h.jsx("textarea",{value:n.description,onChange:_=>i({...n,description:_.target.value}),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Update description",rows:4,required:!0})]}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:x,className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{type:"button",onClick:r?m:p,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:r?"Update":"Add"})]})]})]})})]})}function H8(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""}),{user:o}=Di(),a=ln();N.useEffect(()=>{(async()=>{const w=(await Oe(de(Q,"courses"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;if(v.includes("resources.")){const[T,x]=v.split(".");s(_=>({..._,resources:{..._.resources,[x]:w.split(",").map(E=>E.trim()).filter(E=>E!=="")}}))}else if(v.includes("prerequisites.")){const[T,x]=v.split(".");s(_=>({..._,prerequisites:{..._.prerequisites,[x]:w.split(",").map(E=>E.trim())}}))}else s({...r,[v]:w})},c=(m,v)=>{const{value:w}=m.target;s(T=>({...T,[v]:w.split(",").map(x=>x.trim())}))},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Cs(Le(Q,"courses",n.id),r),e(v=>v.map(w=>w.id===n.id?{...w,...r}:w));else{const v=await Is(de(Q,"courses"),r);e(w=>[...w,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving course:",v)}},f=()=>{s({title:"",courseCode:"",credits:"",offeredTo:"",description:"",instructor:"",duration:"",students:"",rating:"",image:"",prerequisites:{mandatory:[],desirable:[],other:[]},courseOutcomes:[],weeklyPlan:[],assessment:[],resources:{textbooks:[]},nextStart:""})},p=async m=>{await Or(Le(Q,"courses",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Courses"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Course"]}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:t.map(m=>h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:m.description}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Course Code:"})," ",m.courseCode]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Instructor:"})," ",m.instructor]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Duration:"})," ",m.duration]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Students:"})," ",m.students]}),h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Rating:"})," ",m.rating]}),m.image&&h.jsx("img",{src:m.image,alt:m.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Si,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]},m.id))}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Course":"Add Course"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"courseCode",placeholder:"Course Code",value:r.courseCode,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"credits",placeholder:"Credits",type:"number",value:r.credits,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"offeredTo",placeholder:"Offered To",value:r.offeredTo,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"students",placeholder:"Number of Students",type:"number",value:r.students,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"rating",placeholder:"Rating (1-5)",type:"number",step:"0.1",min:"1",max:"5",value:r.rating,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"nextStart",placeholder:"Next Start Date (YYYY-MM-DD)",value:r.nextStart,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Prerequisites"}),h.jsx("input",{name:"prerequisites.mandatory",placeholder:"Mandatory (comma separated)",value:r.prerequisites.mandatory.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"prerequisites.desirable",placeholder:"Desirable (comma separated)",value:r.prerequisites.desirable.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"prerequisites.other",placeholder:"Other (comma separated)",value:r.prerequisites.other.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Course Outcomes (comma separated)"}),h.jsx("textarea",{name:"courseOutcomes",placeholder:"CO1: Outcome 1, CO2: Outcome 2, ...",value:r.courseOutcomes.join(", "),onChange:m=>c(m,"courseOutcomes"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"3"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Assessment Plan (format: Type:Contribution, ...)"}),h.jsx("textarea",{name:"assessment",placeholder:"Mid-sem:25, End-sem:35, ...",value:r.assessment.map(m=>`${m.type}:${m.contribution}`).join(", "),onChange:m=>{const w=m.target.value.split(",").map(T=>{const[x,_]=T.split(":").map(E=>E.trim());return{type:x,contribution:parseInt(_)||0}});s({...r,assessment:w})},className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-white font-semibold",children:"Resources"}),h.jsx("textarea",{name:"resources.textbooks",placeholder:"Textbooks (comma separated)",value:r.resources.textbooks.join(", "),onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function W8(){const[t,e]=N.useState({lectures:{},books:{},videos:{},researchPapers:{}}),[n,i]=N.useState(null),[r,s]=N.useState({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:""}),{user:o}=Di(),a=ln(),l=v=>{const w={};return v.forEach(T=>{const x=T.data().year||"Uncategorized";w[x]||(w[x]=[]),w[x].push({id:T.id,...T.data()})}),w};N.useEffect(()=>{(async()=>{const w=await Oe(de(Q,"lectures")),T=await Oe(de(Q,"books")),x=await Oe(de(Q,"videos")),_=await Oe(de(Q,"researchPapers"));e({lectures:l(w),books:l(T),videos:l(x),researchPapers:l(_)})})()},[]);const c=v=>{s({...r,[v.target.name]:v.target.value})},d=async v=>{v.preventDefault();try{const w={...r,year:r.year||new Date().getFullYear().toString()};if(n!=null&&n.id)await Cs(Le(Q,r.type,n.id),w),e(T=>{var _,E;const x={...T};return n.year&&n.year!==w.year&&(x[r.type][n.year]=((_=x[r.type][n.year])==null?void 0:_.filter(I=>I.id!==n.id))||[]),x[r.type][w.year]||(x[r.type][w.year]=[]),x[r.type][w.year]=[...((E=x[r.type][w.year])==null?void 0:E.filter(I=>I.id!==n.id))??[],{id:n.id,...w}],x});else{const T=await Is(de(Q,r.type),w);e(x=>{const _={...x},E=w.year;return _[r.type][E]||(_[r.type][E]=[]),_[r.type][E]=[..._[r.type][E],{id:T.id,...w}],_})}i(null),s({type:"lectures",title:"",description:"",instructor:"",duration:"",pdfUrl:"",authors:"",edition:"",year:new Date().getFullYear().toString(),url:"",thumbnail:"",videoUrl:""})}catch(w){console.error("Error saving resource:",w)}},f=async(v,w,T)=>{await Or(Le(Q,w,v)),e(x=>{const _={...x};return _[w][T]=_[w][T].filter(E=>E.id!==v),_[w][T].length===0&&delete _[w][T],_})},p=()=>{switch(r.type){case"lectures":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"pdfUrl",placeholder:"PDF URL",value:r.pdfUrl,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"books":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"authors",placeholder:"Authors",value:r.authors,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"edition",placeholder:"Edition",value:r.edition,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"url",placeholder:"Link",value:r.url,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"videos":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"thumbnail",placeholder:"Thumbnail URL",value:r.thumbnail,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"videoUrl",placeholder:"Video URL",value:r.videoUrl,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});case"researchPapers":return h.jsxs(h.Fragment,{children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"description",placeholder:"Description",value:r.description,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"url",placeholder:"URL",value:r.url,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"year",type:"number",placeholder:"Year",value:r.year,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]});default:return null}},m=v=>Object.keys(t[v]).sort((T,x)=>x.localeCompare(T)).map(T=>h.jsxs("div",{className:"mb-8",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-4 border-b border-[rgb(136,58,234)] pb-2",children:T==="Uncategorized"?"Uncategorized":`Year: ${T}`}),h.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t[v][T].map(x=>h.jsxs(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] transition-all duration-300 shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:x.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4 text-sm",children:x.description}),x.instructor&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Instructor:"})," ",x.instructor]}),x.duration&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Duration:"})," ",x.duration]}),x.authors&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Authors:"})," ",x.authors]}),x.edition&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Edition:"})," ",x.edition]}),x.year&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Year:"})," ",x.year]}),x.url&&h.jsxs("p",{className:"text-white",children:[h.jsx("strong",{children:"Link:"}),h.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] ml-2",children:x.url})]}),x.thumbnail&&h.jsx("img",{src:x.thumbnail,alt:x.title,className:"w-full h-32 object-cover rounded-lg mt-3"}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(x),s({...x,type:v})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Si,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>f(x.id,v,T),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]},x.id))})]},T));return h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Resources"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Resource"]}),h.jsx("div",{className:"flex space-x-2 border-b border-[rgb(49,10,101)]",children:["lectures","books","videos","researchPapers"].map(v=>h.jsx(U.button,{onClick:()=>s(w=>({...w,type:v})),whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center space-x-2 px-4 py-2 rounded-t-lg transition-all duration-300 ${r.type===v?"text-white bg-[rgb(49,10,101)] border-t border-l border-r border-[rgb(136,58,234)]":"text-[rgb(224,204,250)] hover:text-white"}`,children:h.jsx("span",{children:v.charAt(0).toUpperCase()+v.slice(1)})},v))}),h.jsx("div",{className:"space-y-8",children:m(r.type)}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Resource":"Add Resource"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("select",{name:"type",value:r.type,onChange:c,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",children:[h.jsx("option",{value:"lectures",children:"Lectures"}),h.jsx("option",{value:"books",children:"Books"}),h.jsx("option",{value:"videos",children:"Videos"}),h.jsx("option",{value:"researchPapers",children:"Research Papers"})]}),p(),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function G8(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]}),{user:o}=Di(),a=ln();N.useEffect(()=>{(async()=>{const w=(await Oe(de(Q,"labs"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;s({...r,[v]:w})},c=(m,v)=>{const{value:w}=m.target;s({...r,[v]:w.split(",").map(T=>T.trim())})},d=async m=>{m.preventDefault();try{if(n!=null&&n.id)await Cs(Le(Q,"labs",n.id),r),e(t.map(v=>v.id===n.id?{...v,...r}:v));else{const v=await Is(de(Q,"labs"),r);e([...t,{id:v.id,...r}])}i(null),f()}catch(v){console.error("Error saving lab:",v)}},f=()=>{s({title:"",description:"",duration:"",capacity:0,enrolled:0,prerequisites:[],image:"",instructor:"",tools:[]})},p=async m=>{await Or(Le(Q,"labs",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Labs"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Lab"]}),h.jsx("div",{className:"grid gap-8",children:t.map(m=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.duration})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsxs("span",{children:[m.enrolled,"/",m.capacity," Enrolled"]})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.instructor})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.tools.join(", ")})})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Prerequisites"}),h.jsx("ul",{className:"list-disc list-inside text-[rgb(224,204,250)]",children:m.prerequisites.map((v,w)=>h.jsx("li",{children:v},w))})]}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{i(m),s(m)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Si,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Lab":"Add Lab"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("input",{name:"duration",placeholder:"Duration",value:r.duration,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"instructor",placeholder:"Instructor",value:r.instructor,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsx("input",{name:"enrolled",type:"number",placeholder:"Enrolled",value:r.enrolled,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsx("input",{name:"prerequisites",placeholder:"Prerequisites (comma separated)",value:r.prerequisites.join(", "),onChange:m=>c(m,"prerequisites"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"tools",placeholder:"Tools (comma separated)",value:r.tools.join(", "),onChange:m=>c(m,"tools"),className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function K8(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]}),{user:o}=Di(),a=ln();N.useEffect(()=>{(async()=>{const w=(await Oe(de(Q,"events"))).docs.map(T=>({id:T.id,...T.data()}));e(w)})()},[]);const l=m=>{const{name:v,value:w}=m.target;s({...r,[v]:w})},c=m=>{const{value:v}=m.target;s({...r,gallery:v.split(",").map(w=>w.trim())})},d=async m=>{m.preventDefault();try{const v={...r,date:r.startDate===r.endDate||!r.endDate?r.startDate:`${r.startDate} to ${r.endDate}`};if(n!=null&&n.id)await Cs(Le(Q,"events",n.id),v),e(t.map(w=>w.id===n.id?{...w,...v}:w));else{const w=await Is(de(Q,"events"),v);e([...t,{id:w.id,...v}])}i(null),f()}catch(v){console.error("Error saving event:",v)}},f=()=>{s({title:"",startDate:"",endDate:"",time:"",location:"",description:"",image:"",capacity:0,registered:0,eventLink:"",gallery:[]})},p=async m=>{await Or(Le(Q,"events",m)),e(t.filter(v=>v.id!==m))};return h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Events"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Event"]}),h.jsx("div",{className:"grid gap-8",children:t.map(m=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300",children:h.jsxs("div",{className:"md:flex",children:[h.jsx("div",{className:"md:w-1/3",children:h.jsx("img",{src:m.image,alt:m.title,className:"h-full w-full object-cover"})}),h.jsxs("div",{className:"p-6 md:w-2/3",children:[h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:m.title}),h.jsx("p",{className:"text-[rgb(224,204,250)] mb-4",children:m.description}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.date})}),m.time&&h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.time})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsx("span",{children:m.location})}),h.jsx("div",{className:"flex items-center text-white",children:h.jsxs("span",{children:[m.registered,"/",m.capacity," Registered"]})})]}),o&&h.jsxs("div",{className:"flex space-x-2 mt-4",children:[h.jsx("button",{onClick:()=>{var w;i(m);const v=(w=m.date)!=null&&w.includes(" to ")?m.date.split(" to "):[m.date,m.date];s({...m,startDate:v[0],endDate:v[1]})},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Si,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>p(m.id),className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]})]})},m.id))}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Event":"Add Event"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("input",{name:"title",placeholder:"Title",value:r.title,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("textarea",{name:"description",placeholder:"Description",value:r.description,onChange:l,required:!0,rows:"4",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Start Date"}),h.jsx("input",{name:"startDate",type:"date",value:r.startDate,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"End Date (optional)"}),h.jsx("input",{name:"endDate",type:"date",value:r.endDate,onChange:l,min:r.startDate,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsx("input",{name:"time",placeholder:"Time (optional, e.g., 10:00 AM - 4:00 PM)",value:r.time,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"location",placeholder:"Location",value:r.location,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"image",placeholder:"Image URL",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsx("input",{name:"eventLink",placeholder:"Event Website URL",value:r.eventLink,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Capacity"}),h.jsx("input",{name:"capacity",type:"number",placeholder:"Capacity",value:r.capacity,onChange:l,required:!0,min:"0",className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Registered"}),h.jsx("input",{name:"registered",type:"number",placeholder:"Registered",value:r.registered,onChange:l,min:"0",max:r.capacity,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-white block mb-1",children:"Gallery Image URLs (comma separated)"}),h.jsx("textarea",{name:"gallery",placeholder:"https://example.com/image1.jpg, https://example.com/image2.jpg",value:(r.gallery||[]).join(", "),onChange:c,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]",rows:"2"})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),f()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}function Q8(){const[t,e]=N.useState([]),[n,i]=N.useState(null),[r,s]=N.useState({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1}),{user:o}=Di(),a=ln();N.useEffect(()=>{(async()=>{const v=(await Oe(de(Q,"members"))).docs.map(w=>({id:w.id,...w.data()}));e(v)})()},[]);const l=p=>{const{name:m,value:v,type:w,checked:T}=p.target;s({...r,[m]:w==="checkbox"?T:v})},c=async p=>{p.preventDefault();try{if(n!=null&&n.id)await Cs(Le(Q,"members",n.id),r),e(t.map(m=>m.id===n.id?{...m,...r}:m));else{const m=await Is(de(Q,"members"),r);e([...t,{id:m.id,...r}])}i(null),d()}catch(m){console.error("Error saving member:",m)}},d=()=>{s({name:"",role:"",specialization:"",image:"",email:"",github:"",linkedin:"",isHead:!1})},f=async p=>{await Or(Le(Q,"members",p)),e(t.filter(m=>m.id!==p))};return h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"space-y-8",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white text-center",children:"Manage Members"}),o&&h.jsxs("button",{onClick:()=>i({}),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-2"}),"Add Member"]}),h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Head Faculty"}),t.filter(p=>p.isHead).map(p=>h.jsx(u1,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!0},p.id))]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Team Members"}),h.jsx("div",{className:"grid gap-8 md:grid-cols-2",children:t.filter(p=>!p.isHead).map(p=>h.jsx(u1,{member:p,onEdit:()=>{i(p),s(p)},onDelete:()=>f(p.id),isAdmin:o,isHead:!1},p.id))})]})]}),n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 p-4",children:h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 w-full max-w-2xl max-h-screen overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:n.id?"Edit Member":"Add Member"}),h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Name"}),h.jsx("input",{name:"name",value:r.name,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Role"}),h.jsx("input",{name:"role",value:r.role,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Specialization"}),h.jsx("input",{name:"specialization",value:r.specialization,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Email"}),h.jsx("input",{name:"email",type:"email",value:r.email,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"GitHub Username"}),h.jsx("input",{name:"github",value:r.github,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"LinkedIn Username"}),h.jsx("input",{name:"linkedin",value:r.linkedin,onChange:l,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-[rgb(224,204,250)] mb-2",children:"Image URL"}),h.jsx("input",{name:"image",value:r.image,onChange:l,required:!0,className:"w-full bg-[#13151a] text-white rounded-md px-4 py-2 border border-[rgb(136,58,234)]"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{name:"isHead",type:"checkbox",checked:r.isHead,onChange:l,className:"h-4 w-4 text-[rgb(136,58,234)] rounded border-gray-300 focus:ring-[rgb(136,58,234)]"}),h.jsx("label",{className:"ml-2 text-[rgb(224,204,250)]",children:"Is Head Faculty Member"})]}),h.jsxs("div",{className:"mt-6 flex justify-end space-x-4",children:[h.jsx("button",{type:"button",onClick:()=>{i(null),d()},className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600",children:"Cancel"}),h.jsx("button",{type:"submit",className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)]",children:"Save"})]})]})]})})]})}const u1=({member:t,onEdit:e,onDelete:n,isAdmin:i,isHead:r})=>h.jsx(U.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:`bg-[#23262d] rounded-lg overflow-hidden border border-[rgb(136,58,234)] hover:border-[rgb(224,204,250)] transition-all duration-300 ${r?"md:max-w-2xl mx-auto":""}`,whileHover:{scale:1.02},children:h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:`flex ${r?"flex-col md:flex-row":"flex-row"} items-center space-x-4`,children:[h.jsx("img",{src:t.image,alt:t.name,className:`${r?"w-32 h-32 md:w-40 md:h-40":"w-24 h-24"} rounded-full object-cover border-2 border-[rgb(136,58,234)]`}),h.jsxs("div",{className:`${r?"text-center md:text-left mt-4 md:mt-0":""}`,children:[h.jsx("h3",{className:`${r?"text-2xl":"text-xl"} font-bold text-white`,children:t.name}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.role}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:t.specialization})]})]}),h.jsxs("div",{className:"mt-4 flex space-x-4 justify-center md:justify-start",children:[t.email&&h.jsx("a",{href:`mailto:${t.email}`,className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(V2,{className:"h-5 w-5"})}),t.github&&h.jsx("a",{href:`https://github.com/${t.github}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(O2,{className:"h-5 w-5"})}),t.linkedin&&h.jsx("a",{href:`https://linkedin.com/in/${t.linkedin}`,target:"_blank",rel:"noopener noreferrer",className:"text-white hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(L2,{className:"h-5 w-5"})})]}),i&&h.jsxs("div",{className:"flex space-x-2 mt-4 justify-center md:justify-start",children:[h.jsx("button",{onClick:e,className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(Si,{className:"h-5 w-5"})}),h.jsx("button",{onClick:n,className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]})});function Y8(){var c;const[t,e]=N.useState([]),[n,i]=N.useState(!0),[r,s]=N.useState(null),o=ln(),a=d=>{if(!d)return"N/A";try{return typeof d.toDate=="function"?d.toDate().toLocaleDateString():d.seconds?new Date(d.seconds*1e3).toLocaleDateString():typeof d=="string"?new Date(d).toLocaleDateString():"N/A"}catch{return"N/A"}};N.useEffect(()=>{(async()=>{try{const p=(await Oe(de(Q,"blogs"))).docs.map(m=>({id:m.id,...m.data()}));e(p)}catch(f){console.error("Error fetching blogs:",f)}finally{i(!1)}})()},[]);const l=async d=>{if(window.confirm("Are you sure you want to delete this blog post?"))try{await Or(Le(Q,"blogs",d)),e(t.filter(f=>f.id!==d)),(r==null?void 0:r.id)===d&&s(null)}catch(f){console.error("Error deleting blog:",f)}};return n?h.jsx("div",{className:"flex justify-center items-center h-64",children:h.jsx("div",{className:"text-white",children:"Loading blogs..."})}):r?h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("button",{onClick:()=>s(null),className:"flex items-center text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] mb-4",children:[h.jsx(cs,{className:"h-5 w-5 mr-1 transform rotate-180"}),"Back to all blogs"]}),h.jsxs("button",{onClick:()=>o("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300 mb-4",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})]}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] p-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:r.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:()=>console.log("Edit functionality to be implemented"),className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] p-1",children:h.jsx(Si,{className:"h-5 w-5"})}),h.jsx("button",{onClick:()=>l(r.id),className:"text-red-500 hover:text-red-400 p-1",children:h.jsx(Xt,{className:"h-5 w-5"})})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)] mb-4",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yu,{className:"h-4 w-4 mr-2"}),r.author||"Anonymous"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(vr,{className:"h-4 w-4 mr-2"}),a(r.date)]})]}),h.jsx("div",{className:"prose prose-invert max-w-none",children:h.jsx("p",{className:"text-[rgb(224,204,250)] whitespace-pre-line",children:r.content})}),((c=r.tags)==null?void 0:c.length)>0&&h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Tags"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:r.tags.map((d,f)=>h.jsx("span",{className:"bg-[rgb(49,10,101)] text-[rgb(224,204,250)] px-3 py-1 rounded-md text-sm",children:d},f))})]})]})]}):h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:[h.jsx("div",{className:"flex justify-between items-center",children:h.jsxs("button",{onClick:()=>o("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]})}),h.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Manage Blog Posts"}),h.jsx("div",{className:"grid gap-6",children:t.length>0?t.map(d=>h.jsxs(U.div,{whileHover:{scale:1.01},className:"bg-[#23262d] rounded-lg border border-[rgb(136,58,234)] p-4 cursor-pointer",onClick:()=>s(d),children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:d.title}),h.jsxs("div",{className:"flex space-x-2",children:[h.jsx("button",{onClick:f=>{f.stopPropagation(),console.log("Edit functionality to be implemented")},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] p-1",children:h.jsx(Si,{className:"h-4 w-4"})}),h.jsx("button",{onClick:f=>{f.stopPropagation(),l(d.id)},className:"text-red-500 hover:text-red-400 p-1",children:h.jsx(Xt,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"flex items-center space-x-4 text-[rgb(224,204,250)] text-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Yu,{className:"h-3 w-3 mr-1"}),d.author||"Anonymous"]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(vr,{className:"h-3 w-3 mr-1"}),a(d.date)]})]}),h.jsx("p",{className:"text-[rgb(224,204,250)] mt-2 line-clamp-2",children:d.content})]},d.id)):h.jsx("p",{className:"text-white text-center py-8",children:"No blog posts found"})})]})}const X8={Users:Yn,BookOpen:ls,Award:N2,Building:j2};function J8(){const[t,e]=N.useState({stats:[],researchAreas:[],contact:{location:"",details:""}}),[n,i]=N.useState(null),[r,s]=N.useState(null),[o,a]=N.useState(!0),[l,c]=N.useState({success:null,message:""}),{user:d}=Di(),f=ln();N.useEffect(()=>{(async()=>{try{const P=Le(Q,"content","about"),D=await ec(P);if(D.exists()){const C=D.data();e({stats:C.stats||[],researchAreas:C.researchAreas||[],contact:C.contact||{location:"",details:""}})}else{const C={stats:[{name:"Active Students",value:"500+",icon:"Users"},{name:"Research Papers",value:"150+",icon:"BookOpen"},{name:"Awards",value:"25+",icon:"Award"},{name:"Partner Institutions",value:"10+",icon:"Building"}],researchAreas:[{title:"Applied Cryptography",points:["Public Key Infrastructure","Secure Communication Protocols","Blockchain Technology","Zero-Knowledge Proofs"]},{title:"Cryptanalysis",points:["Side-Channel Attacks","Quantum Cryptanalysis","Mathematical Cryptanalysis","Hardware Security"]}],contact:{location:"Cryptography Research Lab, IIIT Delhi, Okhla Industrial Estate, Phase III, New Delhi, India",details:`Email: Under-Development
Phone: Under-Development
Office Hours: Under-Development`}};await zb(P,C),e(C)}}catch(P){console.error("Error fetching about data:",P),c({success:!1,message:"Failed to load data"})}finally{a(!1)}})()},[]);const p=async()=>{c({success:null,message:"Saving..."});try{const I=Le(Q,"content","about");await zb(I,t,{merge:!0}),c({success:!0,message:"Saved successfully!"}),setTimeout(()=>{c({success:null,message:""})},3e3)}catch(I){console.error("Error saving about data:",I),c({success:!1,message:`Error saving data: ${I.message}`})}},m=(I,P)=>{i(I),s(JSON.parse(JSON.stringify(P)))},v=(I,P,D)=>{if(Array.isArray(r)){const C=[...r];P?C[D]={...C[D],[P]:I.target.value}:C[D]=I.target.value,s(C)}else s(typeof r=="object"&&r!==null?{...r,[P]:I.target.value}:I.target.value)},w=()=>{let I={...t};switch(n){case"stats":case"researchAreas":I[n]=r;break;case"contactLocation":I.contact.location=r;break;case"contactDetails":I.contact.details=r;break}e(I),i(null)},T=()=>{const I=[...t.stats,{name:"",value:"",icon:"Users"}];e({...t,stats:I})},x=I=>{const P=t.stats.filter((D,C)=>C!==I);e({...t,stats:P})},_=()=>{const I=[...t.researchAreas,{title:"",points:[""]}];e({...t,researchAreas:I})},E=I=>{const P=t.researchAreas.filter((D,C)=>C!==I);e({...t,researchAreas:P})};return o?h.jsx("div",{className:"min-h-screen bg-[#13151a] flex items-center justify-center text-white",children:"Loading..."}):h.jsxs(U.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"bg-[#13151a] min-h-screen p-8 text-white",children:[l.message&&h.jsx("div",{className:`fixed bottom-4 right-4 p-4 rounded-md ${l.success===!0?"bg-green-600":l.success===!1?"bg-red-600":"bg-blue-600"} text-white z-50 transition-opacity duration-300`,children:l.message}),h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("button",{onClick:()=>f("/admin"),className:"flex items-center text-white hover:text-[rgb(136,58,234)] transition-colors duration-300",children:[h.jsx(Ti,{className:"h-5 w-5 mr-2"}),"Go Back to Dashboard"]}),d&&h.jsx("button",{onClick:p,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",disabled:l.message==="Saving...",children:l.message==="Saving..."?"Saving...":h.jsxs(h.Fragment,{children:[h.jsx(DN,{className:"h-4 w-4 mr-2"}),"Save All Changes"]})})]}),h.jsx("h1",{className:"text-3xl font-bold mb-8 text-center text-[rgb(224,204,250)]",children:"Manage About Page Content"}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 mb-8 border border-[rgb(136,58,234)]",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"About VeilCode Labs"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"VeilCode Labs is IIIT Delhi's premier platform for cryptography education and research, fostering collaboration and excellence in the field of cryptography and security."})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Our Mission"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"To provide world-class education and research opportunities in cryptography, fostering innovation and excellence in information security."})]}),h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Our Vision"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:"To be a leading center of excellence in cryptography research and education, contributing to secure communication technologies."})]})]}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-6 mb-8 border border-[rgb(136,58,234)]",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-bold text-white",children:"Statistics"}),d&&h.jsxs("div",{className:"flex gap-2",children:[n!=="stats"&&h.jsxs("button",{onClick:()=>m("stats",[...t.stats]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(au,{className:"h-4 w-4 mr-1"})," Edit"]}),h.jsxs("button",{onClick:T,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-1"})," Add"]})]})]}),n==="stats"?h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((I,P)=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"text",value:I.name,onChange:D=>v(D,"name",P),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Stat name"}),h.jsx("button",{onClick:()=>{const D=r.filter((C,b)=>b!==P);s(D)},className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]}),h.jsx("input",{type:"text",value:I.value,onChange:D=>v(D,"value",P),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",placeholder:"Stat value"}),h.jsxs("select",{value:I.icon,onChange:D=>v(D,"icon",P),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]",children:[h.jsx("option",{value:"Users",children:"Users Icon"}),h.jsx("option",{value:"BookOpen",children:"Book Icon"}),h.jsx("option",{value:"Award",children:"Award Icon"}),h.jsx("option",{value:"Building",children:"Building Icon"})]})]},P))}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("button",{onClick:()=>s([...r,{name:"",value:"",icon:"Users"}]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-1"})," Add Stat"]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]})]}):h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.stats.length>0?t.stats.map((I,P)=>{const D=X8[I.icon]||Yn;return h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] p-4 rounded-lg text-center relative",children:[h.jsx(D,{className:"h-8 w-8 mx-auto text-[rgb(136,58,234)]"}),h.jsx("p",{className:"mt-4 text-2xl font-semibold text-white",children:I.value||"Value"}),h.jsx("p",{className:"text-[rgb(224,204,250)]",children:I.name||"Stat Name"}),d&&h.jsx("button",{onClick:()=>x(P),className:"absolute top-1 right-1 text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-4 w-4"})})]},P)}):h.jsx("div",{className:"col-span-4 text-center text-[rgb(224,204,250)] py-4",children:"No statistics added yet"})})]}),h.jsxs("div",{className:"bg-[#23262d] rounded-lg p-8 border border-[rgb(136,58,234)] mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white",children:"Research Areas"}),d&&h.jsxs("div",{className:"flex gap-2",children:[n!=="researchAreas"&&h.jsxs("button",{onClick:()=>m("researchAreas",[...t.researchAreas]),className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(au,{className:"h-4 w-4 mr-1"})," Edit"]}),h.jsxs("button",{onClick:_,className:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-1"})," Add"]})]})]}),n==="researchAreas"?h.jsxs("div",{className:"space-y-8",children:[r.map((I,P)=>h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"text",value:I.title,onChange:D=>{const C=[...r];C[P].title=D.target.value,s(C)},className:"flex-1 bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)] text-xl font-semibold",placeholder:"Research Area Title"}),h.jsx("button",{onClick:()=>{const D=r.filter((C,b)=>b!==P);s(D)},className:"text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]}),h.jsxs("div",{className:"space-y-2 ml-6",children:[I.points.map((D,C)=>h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-[rgb(224,204,250)]",children:"•"}),h.jsx("input",{type:"text",value:D,onChange:b=>{const k=[...r];k[P].points[C]=b.target.value,s(k)},className:"flex-1 bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)]"}),h.jsx("button",{onClick:()=>{const b=[...r];b[P].points=b[P].points.filter((k,A)=>A!==C),s(b)},className:"text-red-500 hover:text-red-400 transition-colors duration-300",children:h.jsx(Xt,{className:"h-4 w-4"})})]},C)),h.jsxs("button",{onClick:()=>{const D=[...r];D[P].points.push(""),s(D)},className:"text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300 flex items-center text-sm mt-2",children:[h.jsx(pn,{className:"h-3 w-3 mr-1"})," Add Point"]})]})]},P)),h.jsxs("div",{className:"flex justify-between pt-4",children:[h.jsxs("button",{onClick:()=>{s([...r,{title:"",points:[""]}])},className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300 flex items-center",children:[h.jsx(pn,{className:"h-4 w-4 mr-1"})," Add Research Area"]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]})]}):h.jsx("div",{className:"space-y-8",children:t.researchAreas.length>0?t.researchAreas.map((I,P)=>h.jsxs("div",{className:"relative",children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title||"Research Area Title"}),h.jsx("ul",{className:"list-disc list-inside text-white space-y-2 ml-4",children:I.points.map((D,C)=>h.jsx("li",{children:D||"Research point..."},C))}),d&&h.jsx("button",{onClick:()=>E(P),className:"absolute top-0 right-0 text-red-500 hover:text-red-600 transition-colors duration-300",children:h.jsx(Xt,{className:"h-5 w-5"})})]},P)):h.jsx("div",{className:"text-center text-[rgb(224,204,250)] py-4",children:"No research areas added yet"})})]}),h.jsxs("div",{className:"bg-[rgba(49,10,101,0.2)] rounded-lg p-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Contact Information"}),h.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:[{section:"contactLocation",title:"Location",content:t.contact.location},{section:"contactDetails",title:"Get in Touch",content:t.contact.details}].map(I=>h.jsx("div",{className:"relative",children:n===I.section?h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title}),h.jsx("textarea",{value:r,onChange:P=>s(P.target.value),className:"w-full bg-[#13151a] rounded-md p-2 text-white border border-[rgb(136,58,234)] h-32"}),h.jsxs("div",{className:"flex justify-end space-x-4",children:[h.jsx("button",{onClick:()=>i(null),className:"bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 transition-colors duration-300",children:"Cancel"}),h.jsx("button",{onClick:w,className:"bg-[rgb(136,58,234)] text-white py-2 px-4 rounded-md hover:bg-[rgb(49,10,101)] transition-colors duration-300",children:"Save"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h3",{className:"text-xl font-semibold text-[rgb(224,204,250)] mb-2",children:I.title}),h.jsx("p",{className:"text-white whitespace-pre-line",children:I.content||`${I.title} information...`}),d&&h.jsx("button",{onClick:()=>m(I.section,I.content),className:"absolute top-0 right-0 text-[rgb(136,58,234)] hover:text-[rgb(224,204,250)] transition-colors duration-300",children:h.jsx(au,{className:"h-5 w-5"})})]})},I.section))})]})]})}function Z8(){const{user:t}=Di();return h.jsxs(gN,{children:[h.jsx(U8,{}),h.jsx(ON,{children:h.jsxs(cN,{children:[h.jsx(We,{path:"/",element:h.jsx(A8,{})}),h.jsx(We,{path:"/courses",element:h.jsx(R8,{})}),h.jsx(We,{path:"/resources",element:h.jsx(D8,{})}),h.jsx(We,{path:"/events",element:h.jsx(N8,{})}),h.jsx(We,{path:"/members",element:h.jsx(M8,{})}),h.jsx(We,{path:"/about",element:h.jsx(O8,{})}),h.jsx(We,{path:"/blog",element:h.jsx(V8,{})}),h.jsx(We,{path:"/labs",element:h.jsx(F8,{})}),h.jsx(We,{path:"/admin-login",element:h.jsx(z8,{})}),h.jsx(We,{path:"/admin",element:t?h.jsx($8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/home",element:t?h.jsx(q8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/courses",element:t?h.jsx(H8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/resources",element:t?h.jsx(W8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/labs",element:t?h.jsx(G8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/events",element:t?h.jsx(K8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/members",element:t?h.jsx(Q8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/blogs",element:t?h.jsx(Y8,{}):h.jsx(Fn,{to:"/admin-login"})}),h.jsx(We,{path:"/admin/about",element:t?h.jsx(J8,{}):h.jsx(Fn,{to:"/admin-login"})})]})})]})}E2(document.getElementById("root")).render(h.jsx(B8,{children:h.jsx(N.StrictMode,{children:h.jsx(Z8,{})})}));
